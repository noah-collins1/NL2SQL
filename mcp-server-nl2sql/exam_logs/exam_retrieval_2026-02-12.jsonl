{"timestamp":"2026-02-12T20:05:57.019Z","query_id":"d80b2465-6d7c-4f28-ab0e-a8c67f49f7bc","question":"List all employees in the Sales department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":132,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":14069,"validation_ms":0,"execution_ms":3,"total_ms":14210},"retriever_version":"V1","tables_retrieved":["departments","departments","departments","employees","employees","employees","positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","sales_regions","business_units","business_units"],"total_retrieval_latency_ms":132,"schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["employees","sales"],"top_linked":[{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"positions","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","employees","positions","employee_salaries","sales_regions","business_units"],"skeleton_sql":"departments\nJOIN employees ON employees.department_id = departments.department_id\nJOIN positions ON positions.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN business_units ON business_units.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":17,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3036,"completion_tokens":392,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, e.email, e.phone, e.hire_date, p.title FROM departments d JOIN employees e ON e.department_id = d.department_id JOIN positions p ON p.position_id = e.position_id WHERE d.name = 'Sales'","tables_used_in_sql":["departments","departments","departments","employees","employees","employees","positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","sales_regions","business_units","business_units"],"explain_result":"success","rows_returned":63,"total_latency_ms":14210}
{"timestamp":"2026-02-12T20:06:11.229Z","query_id":"76a71c7f-f7b8-40ba-9199-1081c336df37","question":"How many employees were hired in 2024?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":872,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":5239,"validation_ms":0,"execution_ms":1,"total_ms":7087},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","employment_history","employee_salaries","employee_salaries","employee_salaries","employee_certifications","employment_history","employment_history","timesheets","employee_certifications","employee_certifications","sales_regions","purchase_requisitions"],"total_retrieval_latency_ms":872,"schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","hired"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","employment_history","employee_salaries","employee_certifications","timesheets","sales_regions","purchase_requisitions"],"skeleton_sql":"employees\nJOIN employment_history ON employment_history.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN timesheets ON timesheets.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN purchase_requisitions ON purchase_requisitions.requested_by = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3124,"completion_tokens":179,"sql_generated":"SELECT COUNT(*) \nFROM employees \nWHERE hire_date BETWEEN '2024-01-01' AND '2024-12-31';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":7087}
{"timestamp":"2026-02-12T20:06:18.316Z","query_id":"bbcb075e-0e17-4784-b6e0-63f17563495c","question":"What is the average salary by department?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":40,"glosses_ms":1,"linker_ms":2,"planner_ms":1,"first_generation_ms":2754,"validation_ms":0,"execution_ms":0,"total_ms":2800},"retriever_version":"V1","tables_retrieved":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","departments","departments","departments","employees","employees","employees","cost_centers","budgets","cost_centers"],"total_retrieval_latency_ms":40,"schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":[],"top_linked":[{"table":"positions","column":"min_salary","concept":"salary","score":1},{"table":"positions","column":"max_salary","concept":"salary","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"cost_centers","column":"department_id","concept":"department","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["positions","departments","employees","employee_salaries","cost_centers","budgets"],"skeleton_sql":"positions\nJOIN departments ON positions.department_id = departments.department_id\nJOIN employees ON employees.position_id = positions.position_id\nJOIN cost_centers ON cost_centers.department_id = departments.department_id\nJOIN budgets ON budgets.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3134,"completion_tokens":78,"sql_generated":"SELECT d.name AS department_name, AVG(e.salary) AS average_salary FROM departments d JOIN employees e ON e.department_id = d.department_id GROUP BY d.name","tables_used_in_sql":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","departments","departments","departments","employees","employees","employees","cost_centers","budgets","cost_centers"],"explain_result":"success","rows_returned":19,"total_latency_ms":2800}
{"timestamp":"2026-02-12T20:06:21.116Z","query_id":"b284ad5e-7f1f-4997-992c-ce1279922d01","question":"List all customers with credit limit over $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":38,"glosses_ms":0,"linker_ms":3,"planner_ms":0,"first_generation_ms":5421,"validation_ms":0,"execution_ms":1,"total_ms":5464},"retriever_version":"V1","tables_retrieved":["customers","customers","customers","customer_contacts","sales_regions","customer_contacts","customer_contacts","certifications","sales_quotes","purchase_requisitions","purchase_requisitions","purchase_requisitions","budget_lines","sales_regions","sales_regions"],"total_retrieval_latency_ms":38,"schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["customers"],"top_linked":[{"table":"customers","column":"credit_limit","concept":"credit","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["customers","customer_contacts","sales_quotes"],"skeleton_sql":"customers\nJOIN customer_contacts ON customer_contacts.customer_id = customers.customer_id\nJOIN sales_quotes ON sales_quotes.customer_id = customers.customer_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2948,"completion_tokens":192,"sql_generated":"SELECT c.customer_id, c.name, c.credit_limit FROM customers c WHERE c.credit_limit > 100000","tables_used_in_sql":["customers","customers","customers","customer_contacts","sales_regions","customer_contacts","customer_contacts","certifications","sales_quotes","purchase_requisitions","purchase_requisitions","purchase_requisitions","budget_lines","sales_regions","sales_regions"],"explain_result":"success","rows_returned":206,"total_latency_ms":5464}
{"timestamp":"2026-02-12T20:06:26.580Z","query_id":"e324ff11-311d-4635-aebb-be4a7a1cd2b3","question":"How many sales orders are in pending status?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":23,"glosses_ms":0,"linker_ms":3,"planner_ms":0,"first_generation_ms":1822,"validation_ms":0,"execution_ms":2,"total_ms":1852},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_opportunities","sales_opportunities","vendor_invoices","goods_receipts","sales_opportunities","vendor_invoices"],"total_retrieval_latency_ms":23,"schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["orders","pending"],"top_linked":[{"table":"sales_orders","column":"status","concept":"status","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"purchase_orders","column":"status","concept":"status","score":1},{"table":"vendor_invoices","column":"status","concept":"status","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","vendor_invoices","order_lines","goods_receipts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3779,"completion_tokens":102,"sql_generated":"SELECT COUNT(*) FROM sales_orders WHERE status = 'Pending'","tables_used_in_sql":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_opportunities","sales_opportunities","vendor_invoices","goods_receipts","sales_opportunities","vendor_invoices"],"explain_result":"success","rows_returned":1,"total_latency_ms":1852}
{"timestamp":"2026-02-12T20:06:28.432Z","query_id":"085f08db-012d-4485-b02d-f718bfb1f952","question":"List all products in the Electronics category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":38,"glosses_ms":1,"linker_ms":0,"planner_ms":1,"first_generation_ms":9574,"validation_ms":0,"execution_ms":2,"total_ms":9617},"retriever_version":"V1","tables_retrieved":["product_categories","product_categories","product_categories","products","products","products","asset_categories","asset_categories","asset_categories","product_suppliers","product_suppliers","product_suppliers","inventory_levels","benefit_types","benefit_types"],"total_retrieval_latency_ms":38,"schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["products","electronics"],"top_linked":[{"table":"product_categories","column":"category_id","concept":"category","score":1},{"table":"product_categories","column":"parent_category_id","concept":"category","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["product_categories","products","product_suppliers","inventory_levels"],"skeleton_sql":"product_categories\nJOIN products ON products.category_id = product_categories.category_id\nJOIN product_suppliers ON product_suppliers.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2748,"completion_tokens":392,"sql_generated":"SELECT p.product_id, p.sku, p.name, p.description, p.category_id, p.uom_id, p.unit_cost, p.list_price, p.weight, p.is_active, p.created_at FROM products p JOIN product_categories pc ON p.category_id = pc.category_id WHERE pc.name = 'Electronics'","tables_used_in_sql":["product_categories","product_categories","product_categories","products","products","products","asset_categories","asset_categories","asset_categories","product_suppliers","product_suppliers","product_suppliers","inventory_levels","benefit_types","benefit_types"],"explain_result":"success","rows_returned":62,"total_latency_ms":9617}
{"timestamp":"2026-02-12T20:06:38.049Z","query_id":"c91863e9-4577-43b6-959e-37f8f728ee5f","question":"What are the names of all warehouses?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":29,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":2345,"validation_ms":0,"execution_ms":0,"total_ms":2377},"retriever_version":"V1","tables_retrieved":["warehouse_locations","warehouse_locations","warehouse_locations","warehouses","warehouses","warehouses","asset_locations","asset_locations","inventory_levels","stock_transfers","inventory_levels","inventory_levels","asset_locations","stock_transfers","stock_transfers"],"total_retrieval_latency_ms":29,"schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["names","warehouses"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["warehouse_locations","warehouses","inventory_levels","stock_transfers"],"skeleton_sql":"warehouse_locations\nJOIN warehouses ON warehouse_locations.warehouse_id = warehouses.warehouse_id\nJOIN inventory_levels ON inventory_levels.location_id = warehouse_locations.location_id\nJOIN stock_transfers ON stock_transfers.from_warehouse_id = warehouses.warehouse_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2736,"completion_tokens":48,"sql_generated":"SELECT name FROM warehouses","tables_used_in_sql":["warehouse_locations","warehouse_locations","warehouse_locations","warehouses","warehouses","warehouses","asset_locations","asset_locations","inventory_levels","stock_transfers","inventory_levels","inventory_levels","asset_locations","stock_transfers","stock_transfers"],"explain_result":"success","rows_returned":5,"total_latency_ms":2377}
{"timestamp":"2026-02-12T20:06:40.427Z","query_id":"3f16e213-8391-40d6-b85e-c4384eb9f445","question":"List all active vendors","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":31,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":7268,"validation_ms":0,"execution_ms":1,"total_ms":7304},"retriever_version":"V1","tables_retrieved":["vendors","vendors","vendors","vendor_contacts","vendor_contacts","vendor_invoices","vendor_contacts","vendor_invoices","vendor_invoices","product_suppliers","product_suppliers","product_suppliers","vendor_invoice_lines","vendor_invoice_lines","purchase_orders"],"total_retrieval_latency_ms":31,"schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["vendors"],"top_linked":[{"table":"vendors","column":"is_active","concept":"active","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendors","vendor_contacts","vendor_invoices","product_suppliers","vendor_invoice_lines","purchase_orders"],"skeleton_sql":"vendors\nJOIN vendor_contacts ON vendor_contacts.vendor_id = vendors.vendor_id\nJOIN vendor_invoices ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN product_suppliers ON product_suppliers.vendor_id = vendors.vendor_id\nJOIN purchase_orders ON purchase_orders.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3316,"completion_tokens":270,"sql_generated":"SELECT vendor_id, vendor_number, name, email, phone, website, address_id, payment_terms, currency_id, tax_id, is_active, created_at FROM vendors WHERE is_active = true","tables_used_in_sql":["vendors","vendors","vendors","vendor_contacts","vendor_contacts","vendor_invoices","vendor_contacts","vendor_invoices","vendor_invoices","product_suppliers","product_suppliers","product_suppliers","vendor_invoice_lines","vendor_invoice_lines","purchase_orders"],"explain_result":"success","rows_returned":200,"total_latency_ms":7304}
{"timestamp":"2026-02-12T20:06:47.731Z","query_id":"ddbcc333-a3ce-49b4-9cd9-cf55b8d94675","question":"What are the different account types in the chart of accounts?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":62,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":3979,"validation_ms":0,"execution_ms":0,"total_ms":4043},"retriever_version":"V1","tables_retrieved":["chart_of_accounts","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","bank_accounts","bank_accounts","bank_accounts","benefit_types","benefit_types","journal_lines","asset_categories","benefit_types","bank_transactions"],"total_retrieval_latency_ms":62,"schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":["different","types","chart","accounts"],"top_linked":[{"table":"chart_of_accounts","column":"account_id","concept":"account","score":1},{"table":"chart_of_accounts","column":"account_number","concept":"account","score":1},{"table":"chart_of_accounts","column":"account_type_id","concept":"account","score":1},{"table":"chart_of_accounts","column":"parent_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"journal_lines","column":"account_id","concept":"account","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["chart_of_accounts","bank_accounts","journal_lines","bank_transactions","account_types"],"skeleton_sql":"chart_of_accounts\nJOIN bank_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN journal_lines ON journal_lines.account_id = chart_of_accounts.account_id\nJOIN account_types ON chart_of_accounts.account_type_id = account_types.type_id\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":2,"selected_candidate_index":2,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"}]},"prompt_tokens":2795,"completion_tokens":125,"sql_generated":"SELECT DISTINCT name FROM account_types","tables_used_in_sql":["chart_of_accounts","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","bank_accounts","bank_accounts","bank_accounts","benefit_types","benefit_types","journal_lines","asset_categories","benefit_types","bank_transactions"],"explain_result":"success","rows_returned":25,"total_latency_ms":4043}
{"timestamp":"2026-02-12T20:06:51.775Z","query_id":"d997008d-c35c-419c-98bd-756612879d00","question":"List all bank accounts and their current balances","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":25,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":4402,"validation_ms":0,"execution_ms":1,"total_ms":4430},"retriever_version":"V1","tables_retrieved":["bank_accounts","bank_accounts","bank_accounts","bank_transactions","bank_transactions","bank_transactions","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","chart_of_accounts","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":25,"schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["accounts","balances"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_accounts","column":"bank_name","concept":"bank","score":1},{"table":"bank_accounts","column":"current_balance","concept":"current","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"bank","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","bank_transactions","account_types","chart_of_accounts","budget_lines"],"skeleton_sql":"bank_accounts\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id\nJOIN chart_of_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN account_types ON chart_of_accounts.account_type_id = account_types.type_id\nJOIN budget_lines ON budget_lines.account_id = chart_of_accounts.account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2838,"completion_tokens":143,"sql_generated":"SELECT ba.bank_account_id, ba.account_name, ba.current_balance FROM bank_accounts ba","tables_used_in_sql":["bank_accounts","bank_accounts","bank_accounts","bank_transactions","bank_transactions","bank_transactions","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","chart_of_accounts","budget_lines","budget_lines","budget_lines"],"explain_result":"success","rows_returned":5,"total_latency_ms":4430}
{"timestamp":"2026-02-12T20:06:56.205Z","query_id":"a3f26e35-9e52-4287-b522-26425a2ed307","question":"How many projects are currently active?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":55,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":1365,"validation_ms":0,"execution_ms":1,"total_ms":1424},"retriever_version":"V1","tables_retrieved":["project_tasks","project_tasks","project_tasks","project_phases","project_phases","projects","projects","project_milestones","project_phases","project_milestones","project_milestones","projects","project_resources","project_resources","project_resources"],"total_retrieval_latency_ms":55,"schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["projects","currently","active"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_tasks","project_phases","projects","project_milestones","project_resources"],"skeleton_sql":"project_tasks\nJOIN project_phases ON project_tasks.phase_id = project_phases.phase_id\nJOIN projects ON project_phases.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2989,"completion_tokens":96,"sql_generated":"SELECT COUNT(*) FROM projects WHERE status = 'Active'","tables_used_in_sql":["project_tasks","project_tasks","project_tasks","project_phases","project_phases","projects","projects","project_milestones","project_phases","project_milestones","project_milestones","projects","project_resources","project_resources","project_resources"],"explain_result":"success","rows_returned":1,"total_latency_ms":1424}
{"timestamp":"2026-02-12T20:06:57.629Z","query_id":"e122f83d-2167-408e-9664-69b70af33fd9","question":"List all fixed assets with their purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":25,"glosses_ms":0,"linker_ms":2,"planner_ms":1,"first_generation_ms":5918,"validation_ms":0,"execution_ms":1,"total_ms":5947},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_maintenance","asset_maintenance","asset_maintenance","asset_categories","asset_categories","asset_categories","depreciation_schedules","depreciation_schedules","depreciation_schedules","asset_transfers","asset_transfers","asset_transfers"],"total_retrieval_latency_ms":25,"schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["fixed","assets"],"top_linked":[{"table":"fixed_assets","column":"purchase_date","concept":"purchase","score":1},{"table":"fixed_assets","column":"purchase_cost","concept":"purchase","score":1},{"table":"asset_maintenance","column":"cost","concept":"cost","score":1},{"table":"fixed_assets","column":"po_id","concept":"purchase","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_maintenance","asset_categories","depreciation_schedules","asset_transfers"],"skeleton_sql":"fixed_assets\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3445,"completion_tokens":203,"sql_generated":"SELECT fa.asset_id, fa.name, fa.purchase_cost FROM fixed_assets fa","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_maintenance","asset_maintenance","asset_maintenance","asset_categories","asset_categories","asset_categories","depreciation_schedules","depreciation_schedules","depreciation_schedules","asset_transfers","asset_transfers","asset_transfers"],"explain_result":"success","rows_returned":500,"total_latency_ms":5947}
{"timestamp":"2026-02-12T20:07:03.577Z","query_id":"87ce1ca4-7f38-4aef-b0e9-9deecf946cce","question":"What are all the available leave types?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":32,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":2363,"validation_ms":0,"execution_ms":0,"total_ms":2397},"retriever_version":"V1","tables_retrieved":["leave_types","leave_types","leave_types","leave_requests","leave_requests","leave_requests","maintenance_types","maintenance_types","maintenance_types","benefit_types","benefit_types","benefit_types","account_types","account_types","account_types"],"total_retrieval_latency_ms":32,"schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["available","types"],"top_linked":[{"table":"leave_types","column":"leave_type_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_type_id","concept":"leave","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["leave_requests","leave_types"],"skeleton_sql":"leave_requests\nJOIN leave_types ON leave_requests.leave_type_id = leave_types.leave_type_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2375,"completion_tokens":55,"sql_generated":"SELECT name FROM leave_types","tables_used_in_sql":["leave_types","leave_types","leave_types","leave_requests","leave_requests","leave_requests","maintenance_types","maintenance_types","maintenance_types","benefit_types","benefit_types","benefit_types","account_types","account_types","account_types"],"explain_result":"success","rows_returned":8,"total_latency_ms":2397}
{"timestamp":"2026-02-12T20:07:05.974Z","query_id":"005cb4df-d04a-4688-8cc4-3ae856930ded","question":"List all training courses that are mandatory","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":52,"glosses_ms":1,"linker_ms":0,"planner_ms":0,"first_generation_ms":4242,"validation_ms":0,"execution_ms":0,"total_ms":4296},"retriever_version":"V1","tables_retrieved":["training_courses","training_courses","training_courses","employee_training","employee_training","employee_training","certifications","certifications","certifications","employee_certifications","employee_certifications","employee_certifications","maintenance_types","maintenance_types","maintenance_types"],"total_retrieval_latency_ms":52,"schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["courses"],"top_linked":[{"table":"training_courses","column":"is_mandatory","concept":"mandatory","score":1},{"table":"employee_training","column":"training_id","concept":"training","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["training_courses","employee_training","certifications","employee_certifications"],"skeleton_sql":"training_courses\nJOIN employee_training ON employee_training.course_id = training_courses.course_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2387,"completion_tokens":144,"sql_generated":"SELECT name, description, duration_hours, cost FROM training_courses WHERE is_mandatory = TRUE","tables_used_in_sql":["training_courses","training_courses","training_courses","employee_training","employee_training","employee_training","certifications","certifications","certifications","employee_certifications","employee_certifications","employee_certifications","maintenance_types","maintenance_types","maintenance_types"],"explain_result":"success","rows_returned":4,"total_latency_ms":4296}
{"timestamp":"2026-02-12T20:07:10.270Z","query_id":"dd62af8e-35a4-4d04-b4b3-53d3a0f3aac8","question":"What are the different opportunity stages?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":28,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":2896,"validation_ms":0,"execution_ms":1,"total_ms":2927},"retriever_version":"V1","tables_retrieved":["opportunity_stages","opportunity_stages","opportunity_stages","sales_opportunities","sales_opportunities","sales_opportunities","project_phases","project_tasks","project_phases","project_phases","project_tasks","project_tasks","positions","positions","positions"],"total_retrieval_latency_ms":28,"schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["different","stages"],"top_linked":[{"table":"sales_opportunities","column":"opportunity_id","concept":"opportunity","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","project_phases","project_tasks"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2810,"completion_tokens":71,"sql_generated":"SELECT DISTINCT name FROM opportunity_stages","tables_used_in_sql":["opportunity_stages","opportunity_stages","opportunity_stages","sales_opportunities","sales_opportunities","sales_opportunities","project_phases","project_tasks","project_phases","project_phases","project_tasks","project_tasks","positions","positions","positions"],"explain_result":"success","rows_returned":6,"total_latency_ms":2927}
{"timestamp":"2026-02-12T20:07:13.197Z","query_id":"49ec55ac-9e8a-4f31-a571-62adf45f911c","question":"List all countries in the system","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":35,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":2766,"validation_ms":0,"execution_ms":1,"total_ms":2803},"retriever_version":"V1","tables_retrieved":["countries","countries","countries","states_provinces","states_provinces","states_provinces","tax_rates","tax_rates","tax_rates","currencies","currencies","sales_territories","sales_territories","sales_territories","currencies"],"total_retrieval_latency_ms":35,"schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["countries","system"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["countries","states_provinces","tax_rates"],"skeleton_sql":"countries\nJOIN states_provinces ON states_provinces.country_id = countries.country_id\nJOIN tax_rates ON tax_rates.country_id = countries.country_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2185,"completion_tokens":78,"sql_generated":"SELECT name, iso_code, phone_code FROM countries","tables_used_in_sql":["countries","countries","countries","states_provinces","states_provinces","states_provinces","tax_rates","tax_rates","tax_rates","currencies","currencies","sales_territories","sales_territories","sales_territories","currencies"],"explain_result":"success","rows_returned":10,"total_latency_ms":2803}
{"timestamp":"2026-02-12T20:07:16.000Z","query_id":"1e837f0b-e38c-426c-99af-e2ce646ad047","question":"How many departments are there?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":49,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":3284,"validation_ms":0,"execution_ms":0,"total_ms":3335},"retriever_version":"V1","tables_retrieved":["departments","departments","departments","positions","positions","positions","cost_centers","inventory_levels","cost_centers","cost_centers","budgets","sales_territories","employees","sales_territories","sales_territories"],"total_retrieval_latency_ms":49,"schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["departments"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","positions","cost_centers","budgets","sales_territories","employees"],"skeleton_sql":"departments\nJOIN positions ON positions.department_id = departments.department_id\nJOIN cost_centers ON cost_centers.department_id = departments.department_id\nJOIN budgets ON budgets.department_id = departments.department_id\nJOIN employees ON employees.department_id = departments.department_id\nJOIN sales_territories ON sales_territories.assigned_rep_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2707,"completion_tokens":93,"sql_generated":"SELECT COUNT(department_id) AS total_departments FROM departments","tables_used_in_sql":["departments","departments","departments","positions","positions","positions","cost_centers","inventory_levels","cost_centers","cost_centers","budgets","sales_territories","employees","sales_territories","sales_territories"],"explain_result":"success","rows_returned":1,"total_latency_ms":3335}
{"timestamp":"2026-02-12T20:07:19.336Z","query_id":"928a3c22-04d0-4d80-8b5d-bf9aacffc9b7","question":"List all units of measure","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":59,"glosses_ms":1,"linker_ms":0,"planner_ms":0,"first_generation_ms":2980,"validation_ms":0,"execution_ms":1,"total_ms":3041},"retriever_version":"V1","tables_retrieved":["units_of_measure","units_of_measure","units_of_measure","products","business_units","products","products","business_units","business_units","currencies","currencies","currencies","sales_regions","sales_territories","countries"],"total_retrieval_latency_ms":59,"schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["units","measure"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["units_of_measure","products","business_units","sales_regions","sales_territories"],"skeleton_sql":"units_of_measure\nJOIN products ON products.uom_id = units_of_measure.uom_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2481,"completion_tokens":83,"sql_generated":"SELECT name, abbreviation FROM units_of_measure","tables_used_in_sql":["units_of_measure","units_of_measure","units_of_measure","products","business_units","products","products","business_units","business_units","currencies","currencies","currencies","sales_regions","sales_territories","countries"],"explain_result":"success","rows_returned":11,"total_latency_ms":3041}
{"timestamp":"2026-02-12T20:07:22.377Z","query_id":"48e3a4cc-c01a-46f5-98e6-2ca87a633c29","question":"What fiscal years exist in the system?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":45,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":2700,"validation_ms":0,"execution_ms":0,"total_ms":2748},"retriever_version":"V1","tables_retrieved":["fiscal_years","fiscal_years","fiscal_years","fiscal_periods","fiscal_periods","fiscal_periods","budgets","budgets","budgets","journal_entries","journal_entries","journal_entries","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":45,"schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["years","exist","system"],"top_linked":[{"table":"fiscal_years","column":"fiscal_year_id","concept":"fiscal","score":1},{"table":"fiscal_periods","column":"fiscal_year_id","concept":"fiscal","score":1},{"table":"budgets","column":"fiscal_year_id","concept":"fiscal","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fiscal_years","fiscal_periods","budgets","journal_entries","budget_lines"],"skeleton_sql":"fiscal_years\nJOIN fiscal_periods ON fiscal_periods.fiscal_year_id = fiscal_years.fiscal_year_id\nJOIN budgets ON budgets.fiscal_year_id = fiscal_years.fiscal_year_id\nJOIN journal_entries ON journal_entries.period_id = fiscal_periods.period_id\nJOIN budget_lines ON budget_lines.period_id = fiscal_periods.period_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2830,"completion_tokens":62,"sql_generated":"SELECT DISTINCT year FROM fiscal_years","tables_used_in_sql":["fiscal_years","fiscal_years","fiscal_years","fiscal_periods","fiscal_periods","fiscal_periods","budgets","budgets","budgets","journal_entries","journal_entries","journal_entries","budget_lines","budget_lines","budget_lines"],"explain_result":"success","rows_returned":4,"total_latency_ms":2748}
{"timestamp":"2026-02-12T20:07:25.125Z","query_id":"a50c4110-1cbd-42e6-ad89-c2b6cd0cd37a","question":"What are the different asset categories?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":19,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":2720,"validation_ms":0,"execution_ms":1,"total_ms":2742},"retriever_version":"V1","tables_retrieved":["asset_categories","asset_categories","asset_categories","fixed_assets","asset_locations","asset_locations","account_types","account_types","asset_locations","account_types","fixed_assets","fixed_assets","product_categories","asset_maintenance","product_categories"],"total_retrieval_latency_ms":19,"schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["different","categories"],"top_linked":[{"table":"fixed_assets","column":"asset_id","concept":"asset","score":1},{"table":"fixed_assets","column":"asset_tag","concept":"asset","score":1},{"table":"asset_maintenance","column":"asset_id","concept":"asset","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_maintenance","asset_categories","asset_locations","product_categories"],"skeleton_sql":"fixed_assets\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN asset_locations ON fixed_assets.location_id = asset_locations.location_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2788,"completion_tokens":64,"sql_generated":"SELECT DISTINCT name FROM asset_categories","tables_used_in_sql":["asset_categories","asset_categories","asset_categories","fixed_assets","asset_locations","asset_locations","account_types","account_types","asset_locations","account_types","fixed_assets","fixed_assets","product_categories","asset_maintenance","product_categories"],"explain_result":"success","rows_returned":7,"total_latency_ms":2742}
{"timestamp":"2026-02-12T20:07:27.867Z","query_id":"7cf5d40e-c97b-4cb5-a44f-d879e5c61311","question":"Find employees who have been with the company for more than 5 years and earn above $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":74,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":9187,"validation_ms":0,"execution_ms":1,"total_ms":9268},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_salaries","employees","employee_certifications","employees","employees","employment_history","employee_certifications","employee_certifications","employee_benefits","sales_quotes","employment_history","employment_history","project_expenses"],"total_retrieval_latency_ms":74,"schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["employees","years","earn"],"top_linked":[{"table":"employment_history","column":"company_name","concept":"company","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employment_history","employee_salaries","employees","employee_certifications","employee_benefits","sales_quotes","project_expenses"],"skeleton_sql":"employment_history\nJOIN employees ON employment_history.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN employee_benefits ON employee_benefits.employee_id = employees.employee_id\nJOIN sales_quotes ON sales_quotes.created_by = employees.employee_id\nJOIN project_expenses ON project_expenses.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":13,"timed_out":false,"candidate_scores":[{"index":1,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3216,"completion_tokens":460,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, e.email, e.phone, e.salary, eh.company_name, eh.start_date FROM employees e JOIN employment_history eh ON e.employee_id = eh.employee_id WHERE (CURRENT_DATE - eh.start_date) > INTERVAL '5 years' AND e.salary > 100000","tables_used_in_sql":["employee_salaries","employee_salaries","employee_salaries","employees","employee_certifications","employees","employees","employment_history","employee_certifications","employee_certifications","employee_benefits","sales_quotes","employment_history","employment_history","project_expenses"],"pg_normalize":{"applied":true,"transforms":["DATE_INTERVAL_COMPARISON_FIX"],"changed":true},"explain_result":"success","rows_returned":123,"total_latency_ms":9268}
{"timestamp":"2026-02-12T20:07:37.135Z","query_id":"c4da258f-c978-4a55-a569-2d5cc1a9cc1e","question":"List employees and their managers' names","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":30,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":8752,"validation_ms":0,"execution_ms":1,"total_ms":8785},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","departments","departments","departments","business_units","business_units","sales_regions","sales_regions","sales_regions","business_units","employee_salaries","employment_history","employee_salaries"],"total_retrieval_latency_ms":30,"schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","managers","names"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","business_units","sales_regions","employee_salaries","employment_history"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN business_units ON business_units.manager_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2906,"completion_tokens":347,"sql_generated":"SELECT e.employee_id, e.first_name || ' ' || e.last_name AS employee_name, m.first_name || ' ' || m.last_name AS manager_name FROM employees e JOIN employees m ON e.manager_id = m.employee_id","tables_used_in_sql":["employees","employees","employees","departments","departments","departments","business_units","business_units","sales_regions","sales_regions","sales_regions","business_units","employee_salaries","employment_history","employee_salaries"],"explain_result":"success","rows_returned":499,"total_latency_ms":8785}
{"timestamp":"2026-02-12T20:07:45.920Z","query_id":"790b0010-276a-417b-a2c1-ead59e6abd50","question":"Which employees have pending leave requests?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":21,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":6636,"validation_ms":0,"execution_ms":1,"total_ms":6662},"retriever_version":"V1","tables_retrieved":["leave_requests","leave_requests","leave_requests","leave_types","leave_types","employees","leave_types","employment_history","employees","employees","employment_history","employment_history","purchase_requisitions","purchase_requisitions","purchase_requisitions"],"total_retrieval_latency_ms":21,"schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["employees","pending","requests"],"top_linked":[{"table":"leave_requests","column":"leave_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_type_id","concept":"leave","score":1},{"table":"leave_types","column":"leave_type_id","concept":"leave","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["leave_requests","leave_types","employees","employment_history","purchase_requisitions"],"skeleton_sql":"leave_requests\nJOIN leave_types ON leave_requests.leave_type_id = leave_types.leave_type_id\nJOIN employees ON leave_requests.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id\nJOIN purchase_requisitions ON purchase_requisitions.requested_by = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3259,"completion_tokens":240,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name FROM employees e JOIN leave_requests lr ON e.employee_id = lr.employee_id WHERE lr.status = 'Pending'","tables_used_in_sql":["leave_requests","leave_requests","leave_requests","leave_types","leave_types","employees","leave_types","employment_history","employees","employees","employment_history","employment_history","purchase_requisitions","purchase_requisitions","purchase_requisitions"],"explain_result":"success","rows_returned":0,"total_latency_ms":6662}
{"timestamp":"2026-02-12T20:07:52.582Z","query_id":"b7c42e4a-87be-4548-853f-400d59559f6c","question":"Show the number of employees per position title","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":40,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":4098,"validation_ms":0,"execution_ms":1,"total_ms":4141},"retriever_version":"V1","tables_retrieved":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","employees","sales_territories","employees","employees","sales_territories","sales_territories","sales_regions","sales_regions","sales_regions"],"total_retrieval_latency_ms":40,"schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["employees"],"top_linked":[{"table":"positions","column":"position_id","concept":"position","score":1},{"table":"positions","column":"title","concept":"title","score":1},{"table":"employees","column":"position_id","concept":"position","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["positions","employees","employee_salaries","sales_territories","sales_regions"],"skeleton_sql":"positions\nJOIN employees ON employees.position_id = positions.position_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN sales_territories ON sales_territories.assigned_rep_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2918,"completion_tokens":223,"sql_generated":"SELECT p.title, COUNT(e.employee_id) AS employee_count FROM positions p JOIN employees e ON e.position_id = p.position_id GROUP BY p.title","tables_used_in_sql":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","employees","sales_territories","employees","employees","sales_territories","sales_territories","sales_regions","sales_regions","sales_regions"],"explain_result":"success","rows_returned":40,"total_latency_ms":4141}
{"timestamp":"2026-02-12T20:07:56.723Z","query_id":"b1d1d653-a400-48a2-a142-8dd2568c19dc","question":"Find employees with expiring certifications in the next 6 months","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":42,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":10821,"validation_ms":0,"execution_ms":0,"total_ms":10865},"retriever_version":"V1","tables_retrieved":["employee_certifications","employee_certifications","employee_certifications","certifications","certifications","certifications","employee_training","employee_training","employee_training","employees","employees","employee_salaries","employee_salaries","employment_history","employment_history"],"total_retrieval_latency_ms":42,"schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","expiring","certifications","next","months"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employee_certifications","certifications","employee_training","employees","employee_salaries","employment_history"],"skeleton_sql":"employee_certifications\nJOIN certifications ON employee_certifications.certification_id = certifications.certification_id\nJOIN employees ON employee_certifications.employee_id = employees.employee_id\nJOIN employee_training ON employee_training.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2815,"completion_tokens":450,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, c.name, ec.expiry_date FROM employee_certifications ec JOIN certifications c ON ec.certification_id = c.certification_id JOIN employees e ON ec.employee_id = e.employee_id WHERE ec.expiry_date BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '6 months'","tables_used_in_sql":["employee_certifications","employee_certifications","employee_certifications","certifications","certifications","certifications","employee_training","employee_training","employee_training","employees","employees","employee_salaries","employee_salaries","employment_history","employment_history"],"explain_result":"success","rows_returned":9,"total_latency_ms":10865}
{"timestamp":"2026-02-12T20:08:07.589Z","query_id":"072b4059-befb-4b39-b1fd-53e834a6c3fd","question":"What is the total sales amount by customer for 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":59,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":4057,"validation_ms":0,"total_ms":7257},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","sales_regions","purchase_orders","sales_regions","sales_regions","purchase_orders","purchase_orders","sales_quotes","sales_quotes","sales_quotes","customers","goods_receipts","sales_territories"],"total_retrieval_latency_ms":59,"schema_link":{"tables_linked":15,"columns_linked":17,"unsupported_concepts":[],"top_linked":[{"table":"sales_orders","column":"customer_id","concept":"customer","score":1},{"table":"sales_orders","column":"tax_amount","concept":"amount","score":1},{"table":"sales_orders","column":"total","concept":"total sales","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"purchase_orders","column":"tax_amount","concept":"amount","score":1},{"table":"purchase_orders","column":"total","concept":"total sales","score":1},{"table":"sales_quotes","column":"customer_id","concept":"customer","score":1},{"table":"sales_quotes","column":"tax_amount","concept":"amount","score":1},{"table":"sales_quotes","column":"total","concept":"total sales","score":1},{"table":"customers","column":"customer_id","concept":"customer","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","sales_quotes","customers","sales_regions","goods_receipts","sales_territories"],"skeleton_sql":"sales_orders\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN customers ON sales_orders.customer_id = customers.customer_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":0,"candidates_rejected":1,"selected_candidate_index":null,"evaluation_time_ms":0,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias"}]},"prompt_tokens":3692,"completion_tokens":128,"sql_generated":"SELECT \n    c.customer_id,\n    SUM(so.total) AS total_sales\nFROM \n    sales_orders so\nJOIN \n    customers c ON so.customer_id = c.customer_id\nWHERE \n    EXTRACT(YEAR FROM so.order_date) = 2024\nGROUP BY \n    c.customer_id;","tables_used_in_sql":[],"total_latency_ms":7257,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:08:14.846Z","query_id":"e27fbfc1-4cbb-424c-b434-160cc075d940","question":"List the top 10 customers by total order value","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":29,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":10539,"validation_ms":0,"execution_ms":2,"total_ms":10573},"retriever_version":"V1","tables_retrieved":["sales_orders","order_lines","purchase_orders","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","purchase_orders","customers","customers","customers","product_suppliers","vendor_invoices","customer_contacts"],"total_retrieval_latency_ms":29,"schema_link":{"tables_linked":15,"columns_linked":16,"unsupported_concepts":["customers","value"],"top_linked":[{"table":"sales_orders","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_number","concept":"order","score":1},{"table":"sales_orders","column":"order_date","concept":"order","score":1},{"table":"sales_orders","column":"total","concept":"total order","score":1},{"table":"order_lines","column":"order_id","concept":"order","score":1},{"table":"order_lines","column":"line_total","concept":"total order","score":1},{"table":"purchase_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"total","concept":"total order","score":1},{"table":"product_suppliers","column":"minimum_order_qty","concept":"order","score":1},{"table":"vendor_invoices","column":"total","concept":"total order","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","vendor_invoices","order_lines","customers","customer_contacts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id\nJOIN customers ON sales_orders.customer_id = customers.customer_id\nJOIN customer_contacts ON customer_contacts.customer_id = customers.customer_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":120,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3943,"completion_tokens":410,"sql_generated":"SELECT c.customer_id, c.name, SUM(so.total) AS total_order_value FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.name ORDER BY total_order_value DESC LIMIT 10","tables_used_in_sql":["sales_orders","order_lines","purchase_orders","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","purchase_orders","customers","customers","customers","product_suppliers","vendor_invoices","customer_contacts"],"explain_result":"success","rows_returned":10,"total_latency_ms":10573}
{"timestamp":"2026-02-12T20:08:25.420Z","query_id":"de60cf34-fff3-4040-b1a1-ed2adbd8b595","question":"Show sales opportunities in the Negotiation stage worth over $50,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":40,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":8717,"validation_ms":0,"execution_ms":2,"total_ms":8761},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","opportunity_stages","opportunity_stages","sales_quotes","sales_quotes","sales_quotes","sales_orders","sales_orders","sales_regions","sales_regions","sales_orders","sales_regions"],"total_retrieval_latency_ms":40,"schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["opportunities","negotiation","worth"],"top_linked":[{"table":"sales_opportunities","column":"stage_id","concept":"stage","score":1},{"table":"opportunity_stages","column":"stage_id","concept":"stage","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","sales_orders","sales_quotes"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id\nJOIN sales_quotes ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3247,"completion_tokens":437,"sql_generated":"SELECT so.opportunity_id, so.name, so.customer_id, so.owner_id, so.stage_id, so.amount, so.probability, so.expected_close_date, so.actual_close_date, so.source, so.created_at FROM sales_opportunities so JOIN opportunity_stages os ON so.stage_id = os.stage_id WHERE os.name = 'Negotiation' AND so.amount > 50000","tables_used_in_sql":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","opportunity_stages","opportunity_stages","sales_quotes","sales_quotes","sales_quotes","sales_orders","sales_orders","sales_regions","sales_regions","sales_orders","sales_regions"],"explain_result":"success","rows_returned":69,"total_latency_ms":8761}
{"timestamp":"2026-02-12T20:08:34.181Z","query_id":"7dae9b99-80c5-4587-8194-fca17ec9c966","question":"What is the conversion rate from quotes to orders?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":41,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":4714,"validation_ms":0,"execution_ms":1,"total_ms":8491},"retriever_version":"V1","tables_retrieved":["quote_lines","sales_orders","quote_lines","quote_lines","sales_quotes","sales_quotes","sales_quotes","order_lines","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","po_lines","purchase_orders"],"total_retrieval_latency_ms":41,"schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["conversion","rate","quotes","orders"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["quote_lines","sales_orders","sales_quotes","order_lines","purchase_orders","po_lines"],"skeleton_sql":"quote_lines\nJOIN sales_quotes ON quote_lines.quote_id = sales_quotes.quote_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":0,"candidates_rejected":1,"selected_candidate_index":null,"evaluation_time_ms":0,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias"}]},"prompt_tokens":3535,"completion_tokens":162,"sql_generated":"SELECT \n    (COUNT(DISTINCT sales_orders.order_id) * 100.0 / NULLIF(COUNT(DISTINCT quote_lines.quote_id), 0)) AS conversion_rate\nFROM \n    quote_lines\nJOIN \n    sales_quotes ON quote_lines.quote_id = sales_quotes.quote_id\nLEFT JOIN \n    sales_orders ON sales_orders.quote_id = sales_quotes.quote_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":8491}
{"timestamp":"2026-02-12T20:08:42.673Z","query_id":"d37a6119-82f2-4532-a217-b66f643fb6c8","question":"List sales orders by sales representative with their totals","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":22,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":11930,"validation_ms":0,"total_ms":15395},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_quotes","sales_quotes","goods_receipts","sales_quotes","sales_territories","sales_territories"],"total_retrieval_latency_ms":22,"schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["orders","representative","totals"],"top_linked":[{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","order_lines","sales_quotes","goods_receipts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3569,"completion_tokens":484,"sql_generated":"SELECT \n    s.sales_rep_id,\n    e.first_name || ' ' || e.last_name AS sales_rep_name,\n    SUM(s.total) AS total_sales\nFROM \n    sales_orders s\nJOIN \n    employees e ON s.sales_rep_id = e.employee_id\nGROUP BY \n    s.sales_rep_id, e.first_name, e.last_name;","tables_used_in_sql":[],"total_latency_ms":15395,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:08:58.068Z","query_id":"4fb4d336-3474-4c3e-8f33-11ee3a669f2f","question":"Which products have inventory below their reorder point?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":23,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":6799,"validation_ms":0,"execution_ms":2,"total_ms":6828},"retriever_version":"V1","tables_retrieved":["inventory_levels","reorder_rules","inventory_levels","inventory_levels","reorder_rules","reorder_rules","order_lines","order_lines","order_lines","purchase_orders","inventory_transactions","purchase_orders","purchase_orders","products","sales_orders"],"total_retrieval_latency_ms":23,"schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["products","inventory","point"],"top_linked":[{"table":"reorder_rules","column":"reorder_quantity","concept":"reorder","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["reorder_rules","inventory_levels","order_lines","inventory_transactions","products","sales_orders"],"skeleton_sql":"reorder_rules\nJOIN products ON reorder_rules.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id\nJOIN order_lines ON order_lines.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id\nJOIN sales_orders ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3457,"completion_tokens":342,"sql_generated":"SELECT p.product_id, p.name, i.quantity_on_hand, r.reorder_quantity FROM products p JOIN reorder_rules r ON p.product_id = r.product_id JOIN inventory_levels i ON p.product_id = i.product_id WHERE i.quantity_on_hand < r.reorder_quantity","tables_used_in_sql":["inventory_levels","reorder_rules","inventory_levels","inventory_levels","reorder_rules","reorder_rules","order_lines","order_lines","order_lines","purchase_orders","inventory_transactions","purchase_orders","purchase_orders","products","sales_orders"],"explain_result":"success","rows_returned":145,"total_latency_ms":6828}
{"timestamp":"2026-02-12T20:09:04.896Z","query_id":"a0b53126-360f-4502-b3d9-b6351c51a029","question":"Show total inventory value by warehouse","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":35,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":11370,"validation_ms":0,"total_ms":15099},"retriever_version":"V1","tables_retrieved":["inventory_levels","inventory_levels","inventory_levels","inventory_transactions","inventory_transactions","inventory_transactions","warehouse_locations","warehouse_locations","warehouse_locations","inventory_adjustments","warehouses","warehouses","warehouses","goods_receipts","inventory_adjustments"],"total_retrieval_latency_ms":35,"schema_link":{"tables_linked":15,"columns_linked":6,"unsupported_concepts":["inventory","value"],"top_linked":[{"table":"inventory_levels","column":"warehouse_id","concept":"warehouse","score":1},{"table":"inventory_transactions","column":"warehouse_id","concept":"warehouse","score":1},{"table":"warehouse_locations","column":"warehouse_id","concept":"warehouse","score":1},{"table":"inventory_adjustments","column":"warehouse_id","concept":"warehouse","score":1},{"table":"warehouses","column":"warehouse_id","concept":"warehouse","score":1},{"table":"goods_receipts","column":"warehouse_id","concept":"warehouse","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_levels","inventory_transactions","warehouse_locations","inventory_adjustments","warehouses","goods_receipts"],"skeleton_sql":"inventory_levels\nJOIN warehouses ON inventory_levels.warehouse_id = warehouses.warehouse_id\nJOIN warehouse_locations ON inventory_levels.location_id = warehouse_locations.location_id\nJOIN inventory_transactions ON inventory_transactions.warehouse_id = warehouses.warehouse_id\nJOIN inventory_adjustments ON inventory_adjustments.warehouse_id = warehouses.warehouse_id\nJOIN goods_receipts ON goods_receipts.warehouse_id = warehouses.warehouse_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3077,"completion_tokens":467,"sql_generated":"SELECT \n    w.warehouse_id,\n    w.name AS warehouse_name,\n    SUM(il.quantity_on_hand * p.price) AS total_inventory_value\nFROM \n    warehouses w\nJOIN \n    inventory_levels il ON w.warehouse_id = il.warehouse_id\nJOIN \n    products p ON il.product_id = p.product_id\nGROUP BY \n    w.warehouse_id, w.name;","tables_used_in_sql":[],"total_latency_ms":15099,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:09:19.996Z","query_id":"265cf95b-573b-46cc-a3d4-cca4208d964a","question":"List products that had stock transfers in the last 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":32,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":7274,"validation_ms":0,"execution_ms":1,"total_ms":7311},"retriever_version":"V1","tables_retrieved":["stock_transfers","stock_transfers","stock_transfers","transfer_lines","transfer_lines","transfer_lines","asset_transfers","asset_transfers","asset_transfers","product_suppliers","product_suppliers","product_suppliers","goods_receipts","products","goods_receipts"],"total_retrieval_latency_ms":32,"schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["products","stock","transfers","last"],"top_linked":[{"table":"product_suppliers","column":"lead_time_days","concept":"days","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["product_suppliers","stock_transfers","transfer_lines","products"],"skeleton_sql":"product_suppliers\nJOIN products ON product_suppliers.product_id = products.product_id\nJOIN transfer_lines ON transfer_lines.product_id = products.product_id\nJOIN stock_transfers ON transfer_lines.transfer_id = stock_transfers.transfer_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":2,"candidates_rejected":2,"selected_candidate_index":2,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":4,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3139,"completion_tokens":368,"sql_generated":"SELECT DISTINCT p.product_id, p.name FROM transfer_lines tl JOIN stock_transfers st ON tl.transfer_id = st.transfer_id JOIN products p ON tl.product_id = p.product_id WHERE st.transfer_date >= CURRENT_DATE - INTERVAL '30 days'","tables_used_in_sql":["stock_transfers","stock_transfers","stock_transfers","transfer_lines","transfer_lines","transfer_lines","asset_transfers","asset_transfers","asset_transfers","product_suppliers","product_suppliers","product_suppliers","goods_receipts","products","goods_receipts"],"explain_result":"success","rows_returned":0,"total_latency_ms":7311}
{"timestamp":"2026-02-12T20:09:27.307Z","query_id":"88e5e846-a2b8-4321-bd3f-29909c1d7390","question":"What is the total spend by vendor this year?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":31,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":4122,"validation_ms":0,"execution_ms":0,"total_ms":4156},"retriever_version":"V1","tables_retrieved":["vendor_invoices","vendor_invoices","vendor_invoices","vendors","purchase_orders","purchase_orders","vendors","vendors","purchase_orders","product_suppliers","fiscal_years","project_expenses","project_expenses","project_expenses","product_suppliers"],"total_retrieval_latency_ms":31,"schema_link":{"tables_linked":15,"columns_linked":12,"unsupported_concepts":["spend"],"top_linked":[{"table":"vendor_invoices","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"total","concept":"total spend","score":1},{"table":"vendors","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_number","concept":"vendor","score":1},{"table":"purchase_orders","column":"vendor_id","concept":"vendor","score":1},{"table":"purchase_orders","column":"total","concept":"total spend","score":1},{"table":"product_suppliers","column":"vendor_id","concept":"vendor","score":1},{"table":"product_suppliers","column":"vendor_sku","concept":"vendor","score":1},{"table":"fiscal_years","column":"fiscal_year_id","concept":"year","score":1},{"table":"fiscal_years","column":"year","concept":"year","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendor_invoices","purchase_orders","vendors","product_suppliers"],"skeleton_sql":"vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN product_suppliers ON product_suppliers.vendor_id = vendors.vendor_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":1,"candidates_rejected":1,"selected_candidate_index":2,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3662,"completion_tokens":135,"sql_generated":"SELECT v.vendor_id, SUM(vi.total) AS total_spend FROM vendors v JOIN vendor_invoices vi ON v.vendor_id = vi.vendor_id WHERE date_trunc('year', vi.invoice_date) = date_trunc('year', CURRENT_DATE) GROUP BY v.vendor_id","tables_used_in_sql":["vendor_invoices","vendor_invoices","vendor_invoices","vendors","purchase_orders","purchase_orders","vendors","vendors","purchase_orders","product_suppliers","fiscal_years","project_expenses","project_expenses","project_expenses","product_suppliers"],"explain_result":"success","rows_returned":0,"total_latency_ms":4156}
{"timestamp":"2026-02-12T20:09:31.464Z","query_id":"b434ab33-ba68-4964-8f1b-35b792099be3","question":"List purchase orders that are overdue (expected date passed but not received)","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":20,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":9786,"validation_ms":0,"execution_ms":2,"total_ms":9810},"retriever_version":"V1","tables_retrieved":["purchase_orders","purchase_orders","purchase_orders","sales_orders","goods_receipts","sales_orders","sales_orders","purchase_requisitions","purchase_requisitions","purchase_requisitions","order_lines","order_lines","order_lines","goods_receipts","goods_receipts"],"total_retrieval_latency_ms":20,"schema_link":{"tables_linked":15,"columns_linked":17,"unsupported_concepts":["orders","overdue","passed"],"top_linked":[{"table":"purchase_orders","column":"order_date","concept":"date","score":1},{"table":"purchase_orders","column":"expected_date","concept":"expected","score":1},{"table":"sales_orders","column":"order_date","concept":"date","score":1},{"table":"sales_orders","column":"required_date","concept":"date","score":1},{"table":"sales_orders","column":"ship_date","concept":"date","score":1},{"table":"goods_receipts","column":"receipt_date","concept":"date","score":1},{"table":"goods_receipts","column":"received_by","concept":"received","score":1},{"table":"purchase_requisitions","column":"request_date","concept":"date","score":1},{"table":"purchase_requisitions","column":"required_date","concept":"date","score":1},{"table":"purchase_requisitions","column":"approved_date","concept":"date","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["purchase_orders","sales_orders","goods_receipts","purchase_requisitions","order_lines"],"skeleton_sql":"purchase_orders\nJOIN goods_receipts ON goods_receipts.po_id = purchase_orders.po_id\nJOIN purchase_requisitions ON purchase_orders.requisition_id = purchase_requisitions.requisition_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3958,"completion_tokens":375,"sql_generated":"SELECT po.po_id, po.po_number, po.expected_date, gr.receipt_date FROM purchase_orders po LEFT JOIN goods_receipts gr ON gr.po_id = po.po_id AND gr.receipt_date IS NULL WHERE po.expected_date < CURRENT_DATE","tables_used_in_sql":["purchase_orders","purchase_orders","purchase_orders","sales_orders","goods_receipts","sales_orders","sales_orders","purchase_requisitions","purchase_requisitions","purchase_requisitions","order_lines","order_lines","order_lines","goods_receipts","goods_receipts"],"explain_result":"success","rows_returned":1000,"total_latency_ms":9810}
{"timestamp":"2026-02-12T20:09:41.275Z","query_id":"a55c436a-a3a2-4e29-896d-b47124d100b8","question":"Show the approval rate for purchase requisitions","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":52,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":9829,"validation_ms":1,"execution_ms":1,"total_ms":9887},"retriever_version":"V1","tables_retrieved":["purchase_requisitions","purchase_requisitions","purchase_requisitions","purchase_orders","purchase_orders","purchase_orders","requisition_lines","requisition_lines","requisition_lines","performance_reviews","sales_orders","sales_orders","vendor_invoices","vendor_invoices","performance_reviews"],"total_retrieval_latency_ms":52,"schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["approval","rate","requisitions"],"top_linked":[{"table":"purchase_orders","column":"po_id","concept":"purchase","score":0.8},{"table":"purchase_orders","column":"po_number","concept":"purchase","score":0.8},{"table":"vendor_invoices","column":"po_id","concept":"purchase","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["purchase_orders","vendor_invoices","purchase_requisitions","requisition_lines"],"skeleton_sql":"purchase_orders\nJOIN vendor_invoices ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN purchase_requisitions ON purchase_orders.requisition_id = purchase_requisitions.requisition_id\nJOIN requisition_lines ON requisition_lines.requisition_id = purchase_requisitions.requisition_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3672,"completion_tokens":380,"sql_generated":"SELECT approved_by, COUNT(*) AS total_requisitions, SUM(CASE WHEN status = 'Approved' THEN 1 ELSE 0 END) AS approved_requisitions, (SUM(CASE WHEN status = 'Approved' THEN 1 ELSE 0 END) * 100.0 / NULLIF(COUNT(*), 0)) AS approval_rate FROM purchase_requisitions GROUP BY approved_by","tables_used_in_sql":["purchase_requisitions","purchase_requisitions","purchase_requisitions","purchase_orders","purchase_orders","purchase_orders","requisition_lines","requisition_lines","requisition_lines","performance_reviews","sales_orders","sales_orders","vendor_invoices","vendor_invoices","performance_reviews"],"explain_result":"success","rows_returned":51,"total_latency_ms":9887}
{"timestamp":"2026-02-12T20:09:51.162Z","query_id":"aa72210b-3191-4d65-8ff2-feae5d709a3b","question":"What is the total debit and credit for each account in the current period?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":23,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":6804,"validation_ms":0,"execution_ms":1,"total_ms":6831},"retriever_version":"V1","tables_retrieved":["bank_accounts","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","depreciation_entries","depreciation_schedules","bank_transactions","bank_transactions","bank_transactions","fiscal_periods","chart_of_accounts","customers"],"total_retrieval_latency_ms":23,"schema_link":{"tables_linked":15,"columns_linked":14,"unsupported_concepts":["debit"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"current_balance","concept":"current","score":1},{"table":"depreciation_entries","column":"period_id","concept":"period","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1},{"table":"fiscal_periods","column":"period_id","concept":"period","score":1},{"table":"fiscal_periods","column":"period_number","concept":"period","score":1},{"table":"chart_of_accounts","column":"account_id","concept":"account","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","chart_of_accounts","fiscal_periods","depreciation_entries","bank_transactions"],"skeleton_sql":"bank_accounts\nJOIN chart_of_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3228,"completion_tokens":266,"sql_generated":"SELECT ba.account_number, SUM(CASE WHEN bt.transaction_type = 'Debit' THEN bt.amount ELSE 0 END) AS total_debit, SUM(CASE WHEN bt.transaction_type = 'Credit' THEN bt.amount ELSE 0 END) AS total_credit FROM bank_transactions bt JOIN bank_accounts ba ON bt.bank_account_id = ba.bank_account_id WHERE bt.transaction_date BETWEEN (SELECT start_date FROM fiscal_periods WHERE is_closed IS FALSE LIMIT 1) AND (SELECT end_date FROM fiscal_periods WHERE is_closed IS FALSE LIMIT 1) GROUP BY ba.account_number","tables_used_in_sql":["bank_accounts","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","depreciation_entries","depreciation_schedules","bank_transactions","bank_transactions","bank_transactions","fiscal_periods","chart_of_accounts","customers"],"explain_result":"success","rows_returned":5,"total_latency_ms":6831}
{"timestamp":"2026-02-12T20:09:57.992Z","query_id":"f8f23823-220f-4e3d-a19d-9a65a3b315f8","question":"List all posted journal entries for the current month","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":43,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":7639,"validation_ms":0,"execution_ms":4,"total_ms":7689},"retriever_version":"V1","tables_retrieved":["journal_entries","journal_entries","journal_entries","depreciation_entries","journal_lines","journal_lines","journal_lines","depreciation_entries","depreciation_entries","timesheet_entries","timesheet_entries","timesheet_entries","goods_receipts","goods_receipts","depreciation_schedules"],"total_retrieval_latency_ms":43,"schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["entries","current"],"top_linked":[{"table":"journal_entries","column":"posted_by","concept":"posted","score":1},{"table":"depreciation_entries","column":"journal_entry_id","concept":"journal","score":1},{"table":"depreciation_schedules","column":"useful_life_months","concept":"month","score":0.8},{"table":"depreciation_schedules","column":"monthly_amount","concept":"month","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["journal_entries","depreciation_entries","journal_lines"],"skeleton_sql":"journal_entries\nJOIN depreciation_entries ON depreciation_entries.journal_entry_id = journal_entries.entry_id\nJOIN journal_lines ON journal_lines.entry_id = journal_entries.entry_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":3,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3062,"completion_tokens":390,"sql_generated":"SELECT je.entry_id, je.entry_number, je.entry_date, je.description, je.reference, je.posted_by, je.status FROM journal_entries je WHERE date_trunc('month', je.entry_date) = date_trunc('month', CURRENT_DATE) AND je.status = 'Posted'","tables_used_in_sql":["journal_entries","journal_entries","journal_entries","depreciation_entries","journal_lines","journal_lines","journal_lines","depreciation_entries","depreciation_entries","timesheet_entries","timesheet_entries","timesheet_entries","goods_receipts","goods_receipts","depreciation_schedules"],"explain_result":"success","rows_returned":0,"total_latency_ms":7689}
{"timestamp":"2026-02-12T20:10:05.681Z","query_id":"ffff3fab-2b06-4770-aba7-5aa87eb4c601","question":"Show budget vs actual spending by department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":29,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":13193,"validation_ms":0,"execution_ms":0,"total_ms":13227},"retriever_version":"V1","tables_retrieved":["budgets","budgets","budgets","project_budgets","project_budgets","project_budgets","budget_lines","departments","budget_lines","budget_lines","cost_centers","project_expenses","departments","departments","cost_centers"],"total_retrieval_latency_ms":29,"schema_link":{"tables_linked":15,"columns_linked":9,"unsupported_concepts":["vs","spending"],"top_linked":[{"table":"budgets","column":"budget_id","concept":"budget","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_budgets","column":"actual_amount","concept":"actual","score":1},{"table":"budget_lines","column":"budget_id","concept":"budget","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"departments","column":"budget","concept":"budget","score":1},{"table":"cost_centers","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","budgets","budget_lines","cost_centers"],"skeleton_sql":"departments\nJOIN budgets ON budgets.department_id = departments.department_id\nJOIN cost_centers ON cost_centers.department_id = departments.department_id\nJOIN budget_lines ON budget_lines.budget_id = budgets.budget_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2813,"completion_tokens":559,"sql_generated":"SELECT d.department_id, d.name AS department_name, SUM(b.total_amount) AS total_budget, SUM(pb.actual_amount) AS total_actual_spending FROM departments d JOIN budgets b ON b.department_id = d.department_id LEFT JOIN project_budgets pb ON pb.budget_id = b.budget_id GROUP BY d.department_id, d.name","tables_used_in_sql":["budgets","budgets","budgets","project_budgets","project_budgets","project_budgets","budget_lines","departments","budget_lines","budget_lines","cost_centers","project_expenses","departments","departments","cost_centers"],"explain_result":"success","rows_returned":23,"total_latency_ms":13227}
{"timestamp":"2026-02-12T20:10:18.909Z","query_id":"1c05a18d-659c-4d6e-b4f2-eb5e68ac6229","question":"What is the total expense amount per project?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":44,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":2954,"validation_ms":0,"execution_ms":1,"total_ms":3002},"retriever_version":"V1","tables_retrieved":["project_expenses","project_expenses","project_expenses","project_budgets","project_budgets","project_budgets","project_milestones","project_milestones","project_milestones","projects","projects","project_resources","project_resources","project_resources","projects"],"total_retrieval_latency_ms":44,"schema_link":{"tables_linked":15,"columns_linked":16,"unsupported_concepts":[],"top_linked":[{"table":"project_expenses","column":"expense_id","concept":"expense","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"project_expenses","column":"expense_date","concept":"expense","score":1},{"table":"project_expenses","column":"amount","concept":"amount","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_budgets","column":"planned_amount","concept":"amount","score":1},{"table":"project_budgets","column":"actual_amount","concept":"amount","score":1},{"table":"project_milestones","column":"project_id","concept":"project","score":1},{"table":"project_milestones","column":"amount","concept":"amount","score":1},{"table":"projects","column":"project_id","concept":"project","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_expenses","projects","project_budgets","project_resources","project_milestones"],"skeleton_sql":"project_expenses\nJOIN projects ON project_expenses.project_id = projects.project_id\nJOIN project_budgets ON project_budgets.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3218,"completion_tokens":84,"sql_generated":"SELECT p.project_id, SUM(pe.amount) AS total_expense_amount FROM projects p JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id","tables_used_in_sql":["project_expenses","project_expenses","project_expenses","project_budgets","project_budgets","project_budgets","project_milestones","project_milestones","project_milestones","projects","projects","project_resources","project_resources","project_resources","projects"],"explain_result":"success","rows_returned":100,"total_latency_ms":3002}
{"timestamp":"2026-02-12T20:10:21.911Z","query_id":"42ad9793-e2c5-4179-8e39-ad9f6be6c891","question":"List projects that are over budget","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":23,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":10147,"validation_ms":0,"execution_ms":1,"total_ms":10173},"retriever_version":"V1","tables_retrieved":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","project_milestones","projects","projects","projects","project_resources","project_milestones","project_milestones","budgets","budgets"],"total_retrieval_latency_ms":23,"schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["projects"],"top_linked":[{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"projects","column":"budget","concept":"budget","score":1},{"table":"budgets","column":"budget_id","concept":"budget","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_budgets","projects","project_expenses","project_milestones","project_resources"],"skeleton_sql":"project_budgets\nJOIN projects ON project_budgets.project_id = projects.project_id\nJOIN project_expenses ON project_expenses.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3072,"completion_tokens":509,"sql_generated":"SELECT p.project_id, p.name, pb.planned_amount, SUM(pe.amount) AS actual_amount FROM projects p JOIN project_budgets pb ON p.project_id = pb.project_id LEFT JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id, p.name, pb.planned_amount HAVING SUM(pe.amount) > pb.planned_amount","tables_used_in_sql":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","project_milestones","projects","projects","projects","project_resources","project_milestones","project_milestones","budgets","budgets"],"explain_result":"success","rows_returned":14,"total_latency_ms":10173}
{"timestamp":"2026-02-12T20:10:32.084Z","query_id":"a629faa1-9f21-4f01-a4bd-559252e71718","question":"Show project resources and their allocation percentages","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":28,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":6174,"validation_ms":1,"execution_ms":1,"total_ms":6206},"retriever_version":"V1","tables_retrieved":["project_resources","project_resources","project_resources","project_budgets","project_budgets","project_budgets","project_expenses","projects","project_expenses","project_expenses","task_assignments","project_tasks","project_milestones","projects","projects"],"total_retrieval_latency_ms":28,"schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["resources","percentages"],"top_linked":[{"table":"project_resources","column":"project_id","concept":"project","score":1},{"table":"project_resources","column":"allocation_percent","concept":"allocation","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"projects","column":"project_id","concept":"project","score":1},{"table":"projects","column":"project_number","concept":"project","score":1},{"table":"projects","column":"project_manager_id","concept":"project","score":1},{"table":"project_milestones","column":"project_id","concept":"project","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["projects","project_resources","project_budgets","project_expenses","project_milestones","task_assignments","project_tasks"],"skeleton_sql":"projects\nJOIN project_resources ON project_resources.project_id = projects.project_id\nJOIN project_budgets ON project_budgets.project_id = projects.project_id\nJOIN project_expenses ON project_expenses.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3145,"completion_tokens":225,"sql_generated":"SELECT p.project_id, p.name, pr.employee_id, pr.role, pr.allocation_percent FROM projects p JOIN project_resources pr ON pr.project_id = p.project_id","tables_used_in_sql":["project_resources","project_resources","project_resources","project_budgets","project_budgets","project_budgets","project_expenses","projects","project_expenses","project_expenses","task_assignments","project_tasks","project_milestones","projects","projects"],"explain_result":"success","rows_returned":300,"total_latency_ms":6206}
{"timestamp":"2026-02-12T20:10:38.290Z","query_id":"cdc276cb-222d-49c3-ba43-85749266d283","question":"List fixed assets by category with their total purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":32,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":8395,"validation_ms":0,"execution_ms":0,"total_ms":8430},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_categories","asset_categories","asset_categories","asset_maintenance","asset_maintenance","asset_maintenance","products","products","depreciation_schedules","depreciation_schedules","products","depreciation_schedules"],"total_retrieval_latency_ms":32,"schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["fixed","assets"],"top_linked":[{"table":"fixed_assets","column":"category_id","concept":"category","score":1},{"table":"fixed_assets","column":"purchase_date","concept":"purchase","score":1},{"table":"fixed_assets","column":"purchase_cost","concept":"purchase","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"asset_maintenance","column":"cost","concept":"cost","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"products","column":"unit_cost","concept":"cost","score":1},{"table":"fixed_assets","column":"po_id","concept":"purchase","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_categories","asset_maintenance","depreciation_schedules"],"skeleton_sql":"fixed_assets\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3426,"completion_tokens":320,"sql_generated":"SELECT ac.name AS category_name, SUM(fa.purchase_cost) AS total_purchase_cost FROM fixed_assets fa JOIN asset_categories ac ON fa.category_id = ac.category_id GROUP BY ac.name","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_categories","asset_categories","asset_categories","asset_maintenance","asset_maintenance","asset_maintenance","products","products","depreciation_schedules","depreciation_schedules","products","depreciation_schedules"],"explain_result":"success","rows_returned":7,"total_latency_ms":8430}
{"timestamp":"2026-02-12T20:10:46.720Z","query_id":"851a84b8-12bf-4263-b98c-ad2892431180","question":"List assets due for maintenance in the next 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":24,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":11290,"validation_ms":0,"execution_ms":0,"total_ms":11317},"retriever_version":"V1","tables_retrieved":["asset_maintenance","asset_maintenance","asset_maintenance","fixed_assets","fixed_assets","fixed_assets","depreciation_schedules","depreciation_schedules","depreciation_schedules","maintenance_types","maintenance_types","asset_transfers","maintenance_types","asset_transfers","asset_transfers"],"total_retrieval_latency_ms":24,"schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["assets","due","next","days"],"top_linked":[{"table":"asset_maintenance","column":"maintenance_id","concept":"maintenance","score":1},{"table":"asset_maintenance","column":"maintenance_type_id","concept":"maintenance","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["asset_maintenance","fixed_assets","depreciation_schedules","maintenance_types","asset_transfers"],"skeleton_sql":"asset_maintenance\nJOIN fixed_assets ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN maintenance_types ON asset_maintenance.maintenance_type_id = maintenance_types.type_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":4,"candidates_rejected":2,"selected_candidate_index":2,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"},{"index":6,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3419,"completion_tokens":456,"sql_generated":"SELECT fa.asset_id, fa.name, am.scheduled_date FROM fixed_assets fa JOIN asset_maintenance am ON fa.asset_id = am.asset_id WHERE am.scheduled_date BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '30 days'","tables_used_in_sql":["asset_maintenance","asset_maintenance","asset_maintenance","fixed_assets","fixed_assets","fixed_assets","depreciation_schedules","depreciation_schedules","depreciation_schedules","maintenance_types","maintenance_types","asset_transfers","maintenance_types","asset_transfers","asset_transfers"],"explain_result":"success","rows_returned":0,"total_latency_ms":11317}
{"timestamp":"2026-02-12T20:10:58.038Z","query_id":"b4859a4a-752d-442c-bf55-ae836d56f69e","question":"How many documents are attached to each entity type?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":25,"glosses_ms":1,"linker_ms":0,"planner_ms":0,"first_generation_ms":1933,"validation_ms":0,"execution_ms":1,"total_ms":1962},"retriever_version":"V1","tables_retrieved":["document_attachments","document_attachments","document_attachments","account_types","account_types","maintenance_types","maintenance_types","benefit_types","benefit_types","asset_categories","asset_categories","asset_categories","certifications","certifications","account_types"],"total_retrieval_latency_ms":25,"schema_link":{"tables_linked":15,"columns_linked":7,"unsupported_concepts":["documents","attached"],"top_linked":[{"table":"document_attachments","column":"entity_type","concept":"entity","score":1},{"table":"document_attachments","column":"entity_id","concept":"entity","score":1},{"table":"document_attachments","column":"mime_type","concept":"type","score":1},{"table":"account_types","column":"type_id","concept":"type","score":1},{"table":"maintenance_types","column":"type_id","concept":"type","score":1},{"table":"benefit_types","column":"benefit_type_id","concept":"type","score":1},{"table":"account_types","column":"category","concept":"type","score":0.5}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":[],"skeleton_sql":null},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2344,"completion_tokens":132,"sql_generated":"SELECT entity_type, COUNT(*) AS document_count FROM document_attachments GROUP BY entity_type","tables_used_in_sql":["document_attachments","document_attachments","document_attachments","account_types","account_types","maintenance_types","maintenance_types","benefit_types","benefit_types","asset_categories","asset_categories","asset_categories","certifications","certifications","account_types"],"explain_result":"success","rows_returned":7,"total_latency_ms":1962}
{"timestamp":"2026-02-12T20:10:59.999Z","query_id":"9867a388-732f-43b2-ab9f-f3c14928ae99","question":"Calculate employee turnover rate by department for 2024","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":37,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":25165,"validation_ms":0,"execution_ms":0,"total_ms":25205},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","employee_salaries","employee_salaries","employee_salaries","departments","positions","positions","positions","sales_territories","departments","departments","sales_regions","budgets"],"total_retrieval_latency_ms":37,"schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["calculate","turnover","rate"],"top_linked":[{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","employee_salaries","positions","budgets","sales_territories","sales_regions"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN positions ON employees.position_id = positions.position_id\nJOIN budgets ON budgets.approved_by = employees.employee_id\nJOIN sales_territories ON sales_territories.assigned_rep_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":3,"candidates_rejected":1,"selected_candidate_index":2,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens, unbalanced_parens, trailing_comma_select, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3182,"completion_tokens":918,"sql_generated":"SELECT d.department_id, d.name AS department_name, COUNT(CASE WHEN e.termination_date BETWEEN '2024-01-01' AND '2024-12-31' THEN 1 END) AS terminated_count, COUNT(e.employee_id) AS total_employees, (COUNT(CASE WHEN e.termination_date BETWEEN '2024-01-01' AND '2024-12-31' THEN 1 END) * 100.0 / NULLIF(COUNT(e.employee_id), 0)) AS turnover_rate FROM employees e JOIN departments d ON e.department_id = d.department_id WHERE e.termination_date BETWEEN '2024-01-01' AND '2024-12-31' GROUP BY d.department_id, d.name","tables_used_in_sql":["employees","employees","employees","employee_salaries","employee_salaries","employee_salaries","departments","positions","positions","positions","sales_territories","departments","departments","sales_regions","budgets"],"explain_result":"success","rows_returned":0,"total_latency_ms":25205}
{"timestamp":"2026-02-12T20:11:25.204Z","query_id":"157db975-8c05-4268-8ed1-2d6d58e05eef","question":"Find the salary percentile ranking for each employee within their department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":28,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":10465,"validation_ms":0,"execution_ms":3,"total_ms":10498},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_salaries","positions","positions","positions","employees","departments","employees","employees","departments","departments","sales_regions","performance_reviews","performance_reviews"],"total_retrieval_latency_ms":28,"schema_link":{"tables_linked":15,"columns_linked":12,"unsupported_concepts":["percentile","ranking","within"],"top_linked":[{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"positions","column":"min_salary","concept":"salary","score":1},{"table":"positions","column":"max_salary","concept":"salary","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"departments","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","positions","employee_salaries","departments","performance_reviews","sales_regions"],"skeleton_sql":"employees\nJOIN positions ON employees.position_id = positions.position_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN departments ON employees.department_id = departments.department_id\nJOIN performance_reviews ON performance_reviews.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3232,"completion_tokens":520,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, d.department_id, d.name AS department_name, es.amount AS salary, NTILE(100) OVER (PARTITION BY e.department_id ORDER BY es.amount) AS salary_percentile FROM employees e JOIN employee_salaries es ON e.employee_id = es.employee_id JOIN departments d ON e.department_id = d.department_id","tables_used_in_sql":["employee_salaries","employee_salaries","employee_salaries","positions","positions","positions","employees","departments","employees","employees","departments","departments","sales_regions","performance_reviews","performance_reviews"],"explain_result":"success","rows_returned":900,"total_latency_ms":10498}
{"timestamp":"2026-02-12T20:11:35.702Z","query_id":"88c53335-00fd-4665-a2b6-bac40f347dcb","question":"Identify employees who have not completed mandatory training","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":42,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":10177,"validation_ms":0,"execution_ms":1,"total_ms":10222},"retriever_version":"V1","tables_retrieved":["employee_training","employee_training","employee_training","training_courses","training_courses","training_courses","employee_certifications","employee_certifications","employee_certifications","employees","employees","employees","leave_requests","employee_salaries","employee_salaries"],"total_retrieval_latency_ms":42,"schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["identify","employees","completed"],"top_linked":[{"table":"employee_training","column":"training_id","concept":"training","score":1},{"table":"training_courses","column":"is_mandatory","concept":"mandatory","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employee_training","training_courses","employee_certifications","employees","leave_requests","employee_salaries"],"skeleton_sql":"employee_training\nJOIN training_courses ON employee_training.course_id = training_courses.course_id\nJOIN employees ON employee_training.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN leave_requests ON leave_requests.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3090,"completion_tokens":412,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name FROM employees e WHERE NOT EXISTS ( SELECT 1 FROM employee_training et JOIN training_courses tc ON et.course_id = tc.course_id WHERE et.employee_id = e.employee_id AND tc.is_mandatory = TRUE AND et.status != 'Completed' )","tables_used_in_sql":["employee_training","employee_training","employee_training","training_courses","training_courses","training_courses","employee_certifications","employee_certifications","employee_certifications","employees","employees","employees","leave_requests","employee_salaries","employee_salaries"],"explain_result":"success","rows_returned":227,"total_latency_ms":10222}
{"timestamp":"2026-02-12T20:11:45.924Z","query_id":"98b0137e-7f6e-4143-b1eb-7471d7c37ff5","question":"Calculate month-over-month sales growth rate for the past 12 months","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":39,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":15146,"validation_ms":0,"total_ms":20589},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","sales_orders","sales_orders","sales_orders","sales_regions","sales_quotes","sales_regions","sales_regions","project_milestones","sales_quotes","sales_quotes","purchase_orders","performance_reviews"],"total_retrieval_latency_ms":39,"schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["calculate","month","month","growth","rate","past","months"],"top_linked":[{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","sales_opportunities","sales_quotes"],"skeleton_sql":"sales_orders\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN sales_opportunities ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":0,"candidates_rejected":4,"selected_candidate_index":null,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":4,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"}]},"prompt_tokens":3401,"completion_tokens":736,"sql_generated":"SELECT \n        date_trunc('month', order_date) AS month,\n        SUM(total) AS sales\n    FROM \n        sales_orders\n    GROUP BY \n        1\n)\nSELECT \n    month, \n    sales, \n    (sales - LAG(sales) OVER (ORDER BY month)) * 100.0 / NULLIF(LAG(sales) OVER (ORDER BY month), 0) AS growth_pct \nFROM \n    monthly_sales\nWHERE \n    month >= CURRENT_DATE - INTERVAL '12 months';","tables_used_in_sql":[],"total_latency_ms":20589,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:12:06.513Z","query_id":"80b4c9d6-b927-483f-a3ef-6237e09c9cc6","question":"Find the average order value and order frequency for each customer segment based on credit limit","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":30,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":10917,"validation_ms":0,"execution_ms":6,"total_ms":10956},"retriever_version":"V1","tables_retrieved":["customers","customers","customers","order_lines","sales_orders","order_lines","order_lines","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","po_lines","po_lines","po_lines"],"total_retrieval_latency_ms":30,"schema_link":{"tables_linked":15,"columns_linked":12,"unsupported_concepts":["value","frequency","segment","based"],"top_linked":[{"table":"customers","column":"customer_id","concept":"customer","score":1},{"table":"customers","column":"customer_number","concept":"customer","score":1},{"table":"customers","column":"credit_limit","concept":"credit","score":1},{"table":"order_lines","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_number","concept":"order","score":1},{"table":"sales_orders","column":"customer_id","concept":"customer","score":1},{"table":"sales_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"po_id","concept":"order","score":0.7}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","customers","purchase_orders","order_lines","po_lines"],"skeleton_sql":"sales_orders\nJOIN customers ON sales_orders.customer_id = customers.customer_id\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":2,"selected_candidate_index":3,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":3,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3870,"completion_tokens":429,"sql_generated":"SELECT c.customer_id, AVG(so.total) AS avg_order_value, COUNT(so.order_id) AS order_frequency, CASE WHEN c.credit_limit <= 1000 THEN 'Low' WHEN c.credit_limit > 1000 AND c.credit_limit <= 5000 THEN 'Medium' ELSE 'High' END AS credit_segment FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, credit_segment","tables_used_in_sql":["customers","customers","customers","order_lines","sales_orders","order_lines","order_lines","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","po_lines","po_lines","po_lines"],"explain_result":"success","rows_returned":993,"total_latency_ms":10956}
{"timestamp":"2026-02-12T20:12:17.469Z","query_id":"07d4b008-53ef-4a4a-b97a-460be4a38478","question":"What is the sales pipeline weighted value by stage and expected close month?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":34,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":6083,"validation_ms":0,"execution_ms":1,"total_ms":6122},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","purchase_orders","opportunity_stages","opportunity_stages","sales_orders","vendor_invoices","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoice_lines","sales_quotes"],"total_retrieval_latency_ms":34,"schema_link":{"tables_linked":15,"columns_linked":7,"unsupported_concepts":["pipeline","weighted","value","month"],"top_linked":[{"table":"sales_opportunities","column":"stage_id","concept":"stage","score":1},{"table":"sales_opportunities","column":"expected_close_date","concept":"expected","score":1},{"table":"sales_opportunities","column":"actual_close_date","concept":"close","score":1},{"table":"opportunity_stages","column":"stage_id","concept":"stage","score":1},{"table":"purchase_orders","column":"expected_date","concept":"expected","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"opportunity_stages","column":"is_closed","concept":"close","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","purchase_orders","sales_orders","vendor_invoices","vendor_invoice_lines","sales_quotes"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id\nJOIN sales_quotes ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":1,"candidates_rejected":1,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3642,"completion_tokens":224,"sql_generated":"SELECT os.stage_id, os.name AS stage_name, date_trunc('month', os.expected_close_date) AS expected_month, SUM(os.amount * os.probability) AS weighted_value FROM sales_opportunities os JOIN opportunity_stages op ON os.stage_id = op.stage_id GROUP BY os.stage_id, os.name, date_trunc('month', os.expected_close_date) ORDER BY expected_month, stage_name","tables_used_in_sql":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","purchase_orders","opportunity_stages","opportunity_stages","sales_orders","vendor_invoices","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoice_lines","sales_quotes"],"explain_result":"success","rows_returned":500,"total_latency_ms":6122}
{"timestamp":"2026-02-12T20:12:23.592Z","query_id":"b848be18-0cb5-4cc2-b74a-2716062f28fb","question":"Calculate inventory turnover ratio by product category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":46,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":13266,"validation_ms":0,"execution_ms":5,"total_ms":13320},"retriever_version":"V1","tables_retrieved":["inventory_levels","inventory_levels","inventory_levels","products","asset_categories","inventory_transactions","products","products","product_categories","asset_categories","asset_categories","inventory_transactions","inventory_transactions","product_categories","product_categories"],"total_retrieval_latency_ms":46,"schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":["calculate","inventory","turnover"],"top_linked":[{"table":"inventory_levels","column":"product_id","concept":"product","score":1},{"table":"products","column":"product_id","concept":"product","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"inventory_transactions","column":"product_id","concept":"product","score":1},{"table":"product_categories","column":"category_id","concept":"category","score":1},{"table":"product_categories","column":"parent_category_id","concept":"category","score":1},{"table":"asset_categories","column":"salvage_value_percent","concept":"ratio","score":0.5},{"table":"inventory_transactions","column":"transaction_type","concept":"category","score":0.5},{"table":"inventory_transactions","column":"reference_type","concept":"category","score":0.5}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_transactions","products","product_categories","inventory_levels"],"skeleton_sql":"inventory_transactions\nJOIN products ON inventory_transactions.product_id = products.product_id\nJOIN product_categories ON products.category_id = product_categories.category_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":2,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3035,"completion_tokens":657,"sql_generated":"SELECT pc.category_id, pc.name AS category_name, SUM(il.quantity_on_hand * p.unit_cost) / NULLIF(SUM(it.quantity), 0) AS inventory_turnover_ratio FROM inventory_transactions it JOIN products p ON it.product_id = p.product_id JOIN product_categories pc ON p.category_id = pc.category_id JOIN inventory_levels il ON il.product_id = p.product_id GROUP BY pc.category_id, pc.name","tables_used_in_sql":["inventory_levels","inventory_levels","inventory_levels","products","asset_categories","inventory_transactions","products","products","product_categories","asset_categories","asset_categories","inventory_transactions","inventory_transactions","product_categories","product_categories"],"explain_result":"success","rows_returned":30,"total_latency_ms":13320}
{"timestamp":"2026-02-12T20:12:36.912Z","query_id":"56666789-6443-4b9e-88b0-f3ae23a3594f","question":"Identify products with significant inventory discrepancies (adjustment > 10% of stock)","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":36,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":21036,"validation_ms":0,"execution_ms":0,"total_ms":21075},"retriever_version":"V1","tables_retrieved":["inventory_adjustments","inventory_adjustments","inventory_adjustments","adjustment_lines","adjustment_lines","adjustment_lines","fixed_assets","inventory_levels","inventory_levels","inventory_levels","products","stock_transfers","inventory_transactions","fixed_assets","fixed_assets"],"total_retrieval_latency_ms":36,"schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["identify","products","significant","inventory","discrepancies","stock"],"top_linked":[{"table":"inventory_adjustments","column":"adjustment_id","concept":"adjustment","score":1},{"table":"inventory_adjustments","column":"adjustment_number","concept":"adjustment","score":1},{"table":"inventory_adjustments","column":"adjustment_date","concept":"adjustment","score":1},{"table":"adjustment_lines","column":"adjustment_id","concept":"adjustment","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_adjustments","adjustment_lines","inventory_levels","products","inventory_transactions"],"skeleton_sql":"inventory_adjustments\nJOIN adjustment_lines ON adjustment_lines.adjustment_id = inventory_adjustments.adjustment_id\nJOIN products ON adjustment_lines.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":11,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3508,"completion_tokens":912,"sql_generated":"SELECT p.product_id, p.name, SUM(al.quantity_change) AS total_adjustment, il.quantity_on_hand AS current_stock FROM adjustment_lines al JOIN inventory_levels il ON il.level_id = al.location_id AND il.product_id = al.product_id JOIN products p ON p.product_id = al.product_id GROUP BY p.product_id, p.name, il.quantity_on_hand HAVING ABS(SUM(al.quantity_change) / NULLIF(il.quantity_on_hand, 0)) > 0.1","tables_used_in_sql":["inventory_adjustments","inventory_adjustments","inventory_adjustments","adjustment_lines","adjustment_lines","adjustment_lines","fixed_assets","inventory_levels","inventory_levels","inventory_levels","products","stock_transfers","inventory_transactions","fixed_assets","fixed_assets"],"explain_result":"success","rows_returned":0,"total_latency_ms":21075}
{"timestamp":"2026-02-12T20:12:57.987Z","query_id":"fa3b77d5-cba4-4d84-9f59-38ac87376848","question":"Calculate vendor performance score based on on-time delivery and invoice accuracy","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":40,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":14093,"validation_ms":0,"total_ms":19282},"retriever_version":"V1","tables_retrieved":["vendor_invoices","vendor_invoices","vendor_invoices","performance_reviews","performance_reviews","performance_reviews","purchase_orders","vendors","purchase_orders","purchase_orders","vendor_invoice_lines","vendor_invoice_lines","product_suppliers","vendors","vendors"],"total_retrieval_latency_ms":40,"schema_link":{"tables_linked":15,"columns_linked":21,"unsupported_concepts":["calculate","performance","score","based","delivery","accuracy"],"top_linked":[{"table":"vendor_invoices","column":"invoice_id","concept":"invoice","score":1},{"table":"vendor_invoices","column":"invoice_number","concept":"invoice","score":1},{"table":"vendor_invoices","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"invoice_date","concept":"invoice","score":1},{"table":"purchase_orders","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_number","concept":"vendor","score":1},{"table":"vendor_invoice_lines","column":"invoice_id","concept":"invoice","score":1},{"table":"product_suppliers","column":"vendor_id","concept":"vendor","score":1},{"table":"product_suppliers","column":"vendor_sku","concept":"vendor","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendor_invoices","purchase_orders","vendors","product_suppliers","vendor_invoice_lines"],"skeleton_sql":"vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id\nJOIN product_suppliers ON product_suppliers.vendor_id = vendors.vendor_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":0,"candidates_rejected":2,"selected_candidate_index":null,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias"}]},"prompt_tokens":3910,"completion_tokens":675,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":19282,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-12T20:13:17.269Z","query_id":"c01917b4-5ee4-4e6c-861a-89561d98a44e","question":"Generate a trial balance for the current period showing debits and credits by account category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":52,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":12644,"validation_ms":0,"execution_ms":1,"total_ms":12701},"retriever_version":"V1","tables_retrieved":["bank_accounts","asset_categories","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","account_types","depreciation_entries","account_types","account_types","depreciation_schedules","bank_transactions","asset_categories"],"total_retrieval_latency_ms":52,"schema_link":{"tables_linked":15,"columns_linked":11,"unsupported_concepts":["generate","trial","showing","debits","credits"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"current_balance","concept":"balance","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"depreciation_entries","column":"period_id","concept":"period","score":1},{"table":"account_types","column":"category","concept":"category","score":1},{"table":"account_types","column":"normal_balance","concept":"balance","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","bank_transactions"],"skeleton_sql":"bank_accounts\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":5,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":5,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2861,"completion_tokens":630,"sql_generated":"SELECT at.category, SUM(CASE WHEN bt.amount > 0 THEN bt.amount ELSE 0 END) AS total_debits, SUM(CASE WHEN bt.amount < 0 THEN -bt.amount ELSE 0 END) AS total_credits FROM bank_transactions bt JOIN account_types at ON bt.transaction_type = at.category WHERE date_trunc('month', bt.transaction_date) = date_trunc('month', CURRENT_DATE) GROUP BY at.category","tables_used_in_sql":["bank_accounts","asset_categories","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","account_types","depreciation_entries","account_types","account_types","depreciation_schedules","bank_transactions","asset_categories"],"explain_result":"success","rows_returned":0,"total_latency_ms":12701}
{"timestamp":"2026-02-12T20:13:29.971Z","query_id":"393f0bad-457f-4271-9d70-4fe0e5178359","question":"Calculate cash flow from bank transactions grouped by transaction type and month","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":20,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":7692,"validation_ms":0,"execution_ms":1,"total_ms":7716},"retriever_version":"V1","tables_retrieved":["bank_transactions","bank_transactions","bank_transactions","bank_accounts","bank_accounts","bank_accounts","inventory_transactions","inventory_transactions","inventory_transactions","account_types","account_types","account_types","depreciation_entries","depreciation_entries","project_budgets"],"total_retrieval_latency_ms":20,"schema_link":{"tables_linked":15,"columns_linked":13,"unsupported_concepts":["calculate","cash","flow","transactions","grouped","month"],"top_linked":[{"table":"bank_transactions","column":"transaction_id","concept":"transaction","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_transactions","column":"transaction_date","concept":"transaction","score":1},{"table":"bank_transactions","column":"transaction_type","concept":"transaction","score":1},{"table":"bank_accounts","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_accounts","column":"bank_name","concept":"bank","score":1},{"table":"inventory_transactions","column":"transaction_id","concept":"transaction","score":1},{"table":"inventory_transactions","column":"transaction_type","concept":"transaction","score":1},{"table":"inventory_transactions","column":"reference_type","concept":"type","score":1},{"table":"inventory_transactions","column":"transaction_date","concept":"transaction","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_transactions","bank_accounts"],"skeleton_sql":"bank_transactions\nJOIN bank_accounts ON bank_transactions.bank_account_id = bank_accounts.bank_account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3072,"completion_tokens":296,"sql_generated":"SELECT date_trunc('month', transaction_date) AS month, transaction_type, SUM(amount) AS cash_flow FROM bank_transactions GROUP BY month, transaction_type","tables_used_in_sql":["bank_transactions","bank_transactions","bank_transactions","bank_accounts","bank_accounts","bank_accounts","inventory_transactions","inventory_transactions","inventory_transactions","account_types","account_types","account_types","depreciation_entries","depreciation_entries","project_budgets"],"explain_result":"success","rows_returned":120,"total_latency_ms":7716}
{"timestamp":"2026-02-12T20:13:37.687Z","query_id":"29c0cbfd-6a01-4568-ac5f-dca49c560ce7","question":"Calculate project profitability comparing budget vs actual expenses","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":53,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":13193,"validation_ms":0,"total_ms":17337},"retriever_version":"V1","tables_retrieved":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","budgets","budgets","budgets","project_resources","project_resources","project_resources","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":53,"schema_link":{"tables_linked":15,"columns_linked":7,"unsupported_concepts":["calculate","profitability","comparing","vs","expenses"],"top_linked":[{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_budgets","column":"actual_amount","concept":"actual","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_resources","column":"project_id","concept":"project","score":1},{"table":"budget_lines","column":"budget_id","concept":"budget","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["budgets","budget_lines"],"skeleton_sql":"budgets\nJOIN budget_lines ON budget_lines.budget_id = budgets.budget_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":0,"candidates_rejected":4,"selected_candidate_index":5,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":5,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":4,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"}]},"prompt_tokens":2932,"completion_tokens":558,"sql_generated":"SELECT \n    p.project_id,\n    b.budget_id,\n    SUM(b.planned_amount) AS planned_budget,\n    SUM(be.amount) AS actual_expenses,\n    (SUM(be.amount) - SUM(b.planned_amount)) AS profitability\nFROM \n    project_budgets b\nJOIN \n    project_expenses be ON be.project_id = b.project_id\nGROUP BY \n    p.project_id, b.budget_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"p\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Alias 'p' not defined. Possible table: project_budgets. Define alias in FROM/JOIN clause.","total_latency_ms":17337,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"p\"","error_class":"sql_error"}
{"timestamp":"2026-02-12T20:13:55.025Z","query_id":"92f30b5c-cd16-437a-a138-bb4acd1e565f","question":"Find resource allocation by employee across all active projects","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":30,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":14546,"validation_ms":0,"execution_ms":2,"total_ms":14582},"retriever_version":"V1","tables_retrieved":["project_resources","project_resources","project_resources","task_assignments","project_expenses","task_assignments","task_assignments","projects","projects","projects","project_expenses","project_expenses","employee_salaries","employees","employee_salaries"],"total_retrieval_latency_ms":30,"schema_link":{"tables_linked":15,"columns_linked":9,"unsupported_concepts":["across","projects"],"top_linked":[{"table":"project_resources","column":"resource_id","concept":"resource","score":1},{"table":"project_resources","column":"employee_id","concept":"employee","score":1},{"table":"project_resources","column":"allocation_percent","concept":"allocation","score":1},{"table":"task_assignments","column":"employee_id","concept":"employee","score":1},{"table":"project_expenses","column":"employee_id","concept":"employee","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"is_active","concept":"active","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_resources","employees","task_assignments","project_expenses","employee_salaries","projects"],"skeleton_sql":"project_resources\nJOIN employees ON project_resources.employee_id = employees.employee_id\nJOIN projects ON project_resources.project_id = projects.project_id\nJOIN task_assignments ON task_assignments.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN project_expenses ON project_expenses.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3299,"completion_tokens":708,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, pr.project_id, pr.project_number, pr.name AS project_name, pr.start_date, pr.planned_end_date, pr.budget, pr.status AS project_status, pr.priority, pr.created_at AS project_created_at, prp.role AS resource_role, prp.allocation_percent FROM employees e JOIN project_resources prp ON e.employee_id = prp.employee_id JOIN projects pr ON prp.project_id = pr.project_id WHERE e.is_active = true","tables_used_in_sql":["project_resources","project_resources","project_resources","task_assignments","project_expenses","task_assignments","task_assignments","projects","projects","projects","project_expenses","project_expenses","employee_salaries","employees","employee_salaries"],"explain_result":"success","rows_returned":300,"total_latency_ms":14582}
{"timestamp":"2026-02-12T20:14:09.607Z","query_id":"7db428d7-a985-40b3-8b4e-5fed204d78f1","question":"List all fixed assets with their assigned employees and current locations","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":42,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":21281,"validation_ms":0,"execution_ms":1,"total_ms":21327},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_locations","asset_locations","asset_locations","asset_transfers","asset_maintenance","asset_transfers","asset_transfers","asset_maintenance","asset_maintenance","sales_territories","employees","sales_territories"],"total_retrieval_latency_ms":42,"schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["fixed","assets","employees","current","locations"],"top_linked":[{"table":"fixed_assets","column":"assigned_to","concept":"assigned","score":1},{"table":"sales_territories","column":"assigned_rep_id","concept":"assigned","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","sales_territories","asset_locations","asset_transfers","asset_maintenance","employees"],"skeleton_sql":"fixed_assets\nJOIN employees ON fixed_assets.assigned_to = employees.employee_id\nJOIN asset_locations ON fixed_assets.location_id = asset_locations.location_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN sales_territories ON sales_territories.assigned_rep_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":105,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3534,"completion_tokens":924,"sql_generated":"SELECT fa.asset_id, fa.name, fa.description, fa.asset_tag, fa.purchase_date, fa.purchase_cost, fa.warranty_expiry, fa.status, fa.disposal_date, fa.disposal_amount, fa.serial_number, fa.vendor_id, fa.po_id, fa.created_at, e.first_name AS assigned_to_first_name, e.last_name AS assigned_to_last_name, al.name AS current_location FROM fixed_assets fa JOIN employees e ON fa.assigned_to = e.employee_id JOIN asset_locations al ON fa.location_id = al.location_id","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_locations","asset_locations","asset_locations","asset_transfers","asset_maintenance","asset_transfers","asset_transfers","asset_maintenance","asset_maintenance","sales_territories","employees","sales_territories"],"explain_result":"success","rows_returned":0,"total_latency_ms":21327}
{"timestamp":"2026-02-12T20:14:30.935Z","query_id":"4294f213-0b26-4d08-bdf8-ddd27119b1ed","question":"Create a comprehensive employee cost report including salary and benefits by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":50,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":13087,"validation_ms":0,"total_ms":17740},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_benefits","employee_benefits","employee_benefits","employee_salaries","project_expenses","project_expenses","project_expenses","employees","employees","employees","budgets","budgets","departments"],"total_retrieval_latency_ms":50,"schema_link":{"tables_linked":15,"columns_linked":14,"unsupported_concepts":["comprehensive","cost","report","including","benefits"],"top_linked":[{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"employee_benefits","column":"employee_id","concept":"employee","score":1},{"table":"project_expenses","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"departments","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","employee_salaries","budgets","employee_benefits","project_expenses"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN budgets ON budgets.approved_by = employees.employee_id\nJOIN employee_benefits ON employee_benefits.employee_id = employees.employee_id\nJOIN project_expenses ON project_expenses.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":4,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":4,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3476,"completion_tokens":639,"sql_generated":"SELECT d.department_id, d.name AS department_name, SUM(es.amount) AS total_salary, SUM(COALESCE(eb.coverage_level::numeric, 0)) AS total_benefits \nFROM departments d \nJOIN employees e ON e.department_id = d.department_id \nLEFT JOIN employee_salaries es ON es.employee_id = e.employee_id \nLEFT JOIN employee_benefits eb ON eb.employee_id = e.employee_id \nGROUP BY d.department_id, d.name;","tables_used_in_sql":[],"explain_result":"success","total_latency_ms":17740,"failure_type":"execution_error","failure_details":"Database error: invalid input syntax for type numeric: \"Family\"","error_class":"sql_error"}
{"timestamp":"2026-02-12T20:40:25.327Z","query_id":"4a9b5038-e052-459d-95fa-a26edded9c62","question":"List all employees in the Sales department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":1252,"glosses_ms":1,"linker_ms":1,"pruning_ms":2,"planner_ms":0,"first_generation_ms":17195,"validation_ms":0,"execution_ms":2,"total_ms":18456},"retriever_version":"V1","tables_retrieved":["departments","departments","departments","employees","employees","employees","positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","sales_regions","business_units","business_units"],"total_retrieval_latency_ms":1252,"module_route":{"modules":["HR","Sales","Common"],"confidences":[0.6836505057040997,0.6189563166228701,0.6142683747593146],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["employees","sales"],"top_linked":[{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"positions","column":"department_id","concept":"department","score":1}]},"columns_pruned":7,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","employees","positions","employee_salaries","sales_regions","business_units"],"skeleton_sql":"departments\nJOIN employees ON employees.department_id = departments.department_id\nJOIN positions ON positions.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN business_units ON business_units.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":13,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2946,"completion_tokens":379,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, e.email, e.phone, p.title, d.name AS department_name FROM employees e JOIN departments d ON e.department_id = d.department_id JOIN positions p ON e.position_id = p.position_id WHERE d.name = 'Sales'","tables_used_in_sql":["departments","departments","departments","employees","employees","employees","positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","sales_regions","business_units","business_units"],"explain_result":"success","rows_returned":63,"total_latency_ms":18456}
{"timestamp":"2026-02-12T20:40:43.782Z","query_id":"8cc4959d-6099-4ad8-885a-df230ac58d74","question":"How many employees were hired in 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":79,"glosses_ms":1,"linker_ms":2,"pruning_ms":0,"planner_ms":1,"first_generation_ms":5325,"validation_ms":0,"total_ms":6744},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","employment_history","employee_salaries","employee_salaries","employee_salaries","employee_certifications","employment_history","employment_history","employee_certifications","employee_certifications","sales_regions","purchase_requisitions","positions"],"total_retrieval_latency_ms":79,"module_route":{"modules":["HR","Sales","Procurement"],"confidences":[0.8,0.5739893400217244,0.5519139323870511],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","hired"],"top_linked":[]},"columns_pruned":9,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","employment_history","employee_salaries","employee_certifications","sales_regions","purchase_requisitions","positions"],"skeleton_sql":"employees\nJOIN employment_history ON employment_history.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN purchase_requisitions ON purchase_requisitions.requested_by = employees.employee_id\nJOIN positions ON employees.position_id = positions.position_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2981,"completion_tokens":186,"sql_generated":"SELECT COUNT(*) \nFROM employees \nWHERE EXTRACT(YEAR FROM hire_date) = 2024;","tables_used_in_sql":[],"total_latency_ms":6744,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:40:50.526Z","query_id":"7b74681f-9e4a-4bbf-b509-2a4432205513","question":"What is the average salary by department?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":84,"glosses_ms":0,"linker_ms":1,"pruning_ms":1,"planner_ms":1,"first_generation_ms":2748,"validation_ms":1,"execution_ms":1,"total_ms":2837},"retriever_version":"V1","tables_retrieved":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","departments","departments","departments","employees","employees","employees","cost_centers","budgets","cost_centers"],"total_retrieval_latency_ms":84,"module_route":{"modules":["HR","Finance","Common"],"confidences":[0.5858891600228157,0.547224536106618,0.5350682604432176],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":[],"top_linked":[{"table":"positions","column":"min_salary","concept":"salary","score":1},{"table":"positions","column":"max_salary","concept":"salary","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"cost_centers","column":"department_id","concept":"department","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1}]},"columns_pruned":7,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["positions","departments","employees","employee_salaries","cost_centers","budgets"],"skeleton_sql":"positions\nJOIN departments ON positions.department_id = departments.department_id\nJOIN employees ON employees.position_id = positions.position_id\nJOIN cost_centers ON cost_centers.department_id = departments.department_id\nJOIN budgets ON budgets.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3041,"completion_tokens":78,"sql_generated":"SELECT d.name AS department_name, AVG(e.salary) AS average_salary FROM departments d JOIN employees e ON e.department_id = d.department_id GROUP BY d.name","tables_used_in_sql":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","departments","departments","departments","employees","employees","employees","cost_centers","budgets","cost_centers"],"explain_result":"success","rows_returned":19,"total_latency_ms":2837}
{"timestamp":"2026-02-12T20:40:53.363Z","query_id":"3161a625-124b-48b7-b03c-d7f9c950647e","question":"List all customers with credit limit over $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":76,"glosses_ms":2,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":5391,"validation_ms":0,"execution_ms":1,"total_ms":5472},"retriever_version":"V1","tables_retrieved":["customers","customers","customers","customer_contacts","sales_regions","customer_contacts","customer_contacts","sales_quotes","purchase_requisitions","purchase_requisitions","purchase_requisitions","budget_lines","sales_regions","sales_regions","bank_accounts"],"total_retrieval_latency_ms":76,"module_route":{"modules":["Sales","Finance","Procurement"],"confidences":[0.6091106696115061,0.5805838475734647,0.5719049873148473],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["customers"],"top_linked":[{"table":"customers","column":"credit_limit","concept":"credit","score":1}]},"columns_pruned":8,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["customers","customer_contacts","sales_quotes"],"skeleton_sql":"customers\nJOIN customer_contacts ON customer_contacts.customer_id = customers.customer_id\nJOIN sales_quotes ON sales_quotes.customer_id = customers.customer_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2914,"completion_tokens":192,"sql_generated":"SELECT c.customer_id, c.name, c.credit_limit FROM customers c WHERE c.credit_limit > 100000","tables_used_in_sql":["customers","customers","customers","customer_contacts","sales_regions","customer_contacts","customer_contacts","sales_quotes","purchase_requisitions","purchase_requisitions","purchase_requisitions","budget_lines","sales_regions","sales_regions","bank_accounts"],"explain_result":"success","rows_returned":206,"total_latency_ms":5472}
{"timestamp":"2026-02-12T20:40:58.835Z","query_id":"ba24aff0-0447-4874-9da0-798d0b630ea2","question":"How many sales orders are in pending status?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":41,"glosses_ms":1,"linker_ms":2,"pruning_ms":1,"planner_ms":0,"first_generation_ms":3801,"validation_ms":0,"execution_ms":2,"total_ms":3849},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_opportunities","sales_opportunities","vendor_invoices","goods_receipts","sales_opportunities","vendor_invoices"],"total_retrieval_latency_ms":41,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.8,0.6488953558494387,0.5959801219551273],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["orders","pending"],"top_linked":[{"table":"sales_orders","column":"status","concept":"status","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"purchase_orders","column":"status","concept":"status","score":1},{"table":"vendor_invoices","column":"status","concept":"status","score":1}]},"columns_pruned":16,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","vendor_invoices","order_lines","goods_receipts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3578,"completion_tokens":102,"sql_generated":"SELECT COUNT(*) FROM sales_orders WHERE status = 'Pending'","tables_used_in_sql":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_opportunities","sales_opportunities","vendor_invoices","goods_receipts","sales_opportunities","vendor_invoices"],"explain_result":"success","rows_returned":1,"total_latency_ms":3849}
{"timestamp":"2026-02-12T20:41:02.684Z","query_id":"b36086db-b111-4939-ad32-9d2f84fe8ae1","question":"List all products in the Electronics category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":37,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":9220,"validation_ms":0,"execution_ms":1,"total_ms":9262},"retriever_version":"V1","tables_retrieved":["product_categories","product_categories","product_categories","products","products","products","asset_categories","asset_categories","asset_categories","product_suppliers","product_suppliers","product_suppliers","inventory_levels","inventory_levels","inventory_levels"],"total_retrieval_latency_ms":37,"module_route":{"modules":["Inventory","Assets","Procurement"],"confidences":[0.6618931992288043,0.6230141120645055,0.6161951309789027],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["products","electronics"],"top_linked":[{"table":"product_categories","column":"category_id","concept":"category","score":1},{"table":"product_categories","column":"parent_category_id","concept":"category","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1}]},"columns_pruned":3,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["product_categories","products","product_suppliers","inventory_levels"],"skeleton_sql":"product_categories\nJOIN products ON products.category_id = product_categories.category_id\nJOIN product_suppliers ON product_suppliers.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2813,"completion_tokens":372,"sql_generated":"SELECT p.product_id, p.sku, p.name, p.description, p.category_id, p.uom_id, p.unit_cost, p.list_price, p.weight, p.is_active, p.created_at FROM products p JOIN product_categories pc ON p.category_id = pc.category_id WHERE pc.name = 'Electronics'","tables_used_in_sql":["product_categories","product_categories","product_categories","products","products","products","asset_categories","asset_categories","asset_categories","product_suppliers","product_suppliers","product_suppliers","inventory_levels","inventory_levels","inventory_levels"],"explain_result":"success","rows_returned":62,"total_latency_ms":9262}
{"timestamp":"2026-02-12T20:41:11.946Z","query_id":"c59195f6-daf3-47e8-9c38-c7732f73c49a","question":"What are the names of all warehouses?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":57,"glosses_ms":0,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":190,"validation_ms":0,"execution_ms":0,"total_ms":250},"retriever_version":"V1","tables_retrieved":["warehouses","warehouse_locations","inventory_levels","asset_locations","stock_transfers","adjustment_lines","inventory_transactions","receipt_lines","reorder_rules","inventory_adjustments"],"total_retrieval_latency_ms":57,"module_route":{"modules":["Inventory","Common","Assets"],"confidences":[0.6455304804143982,0.576846056153424,0.5574548719967585],"method":"hybrid"},"bm25_tables":["warehouses"],"fusion_method":"rrf","schema_link":{"tables_linked":10,"columns_linked":0,"unsupported_concepts":["names","warehouses"],"top_linked":[]},"columns_pruned":0,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["warehouse_locations","warehouses","inventory_levels","adjustment_lines","inventory_transactions","receipt_lines","stock_transfers","reorder_rules","inventory_adjustments"],"skeleton_sql":"warehouse_locations\nJOIN warehouses ON warehouse_locations.warehouse_id = warehouses.warehouse_id\nJOIN inventory_levels ON inventory_levels.location_id = warehouse_locations.location_id\nJOIN adjustment_lines ON adjustment_lines.location_id = warehouse_locations.location_id\nJOIN inventory_transactions ON inventory_transactions.location_id = warehouse_locations.location_id\nJOIN receipt_lines ON receipt_lines.location_id = warehouse_locations.location_id\nJOIN stock_transfers ON stock_transfers.from_warehouse_id = warehouses.warehouse_id\nJOIN reorder_rules ON reorder_rules.warehouse_id = warehouses.warehouse_id\nJOIN inventory_adjustments ON inventory_adjustments.warehouse_id = warehouses.warehouse_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2391,"completion_tokens":48,"sql_generated":"SELECT name FROM warehouses","tables_used_in_sql":["warehouses","warehouse_locations","inventory_levels","asset_locations","stock_transfers","adjustment_lines","inventory_transactions","receipt_lines","reorder_rules","inventory_adjustments"],"explain_result":"success","rows_returned":5,"total_latency_ms":250}
{"timestamp":"2026-02-12T20:41:12.196Z","query_id":"d3b4cd64-4e37-47f1-9ddb-f1eccc9ab35e","question":"List all active vendors","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":106,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":7210,"validation_ms":0,"execution_ms":2,"total_ms":7322},"retriever_version":"V1","tables_retrieved":["vendors","vendors","vendors","vendor_contacts","vendor_contacts","vendor_invoices","vendor_contacts","vendor_invoices","vendor_invoices","product_suppliers","product_suppliers","product_suppliers","vendor_invoice_lines","vendor_invoice_lines","purchase_orders"],"total_retrieval_latency_ms":106,"module_route":{"modules":["Procurement","Inventory","Sales"],"confidences":[0.6352787681252292,0.5936996959092321,0.5857097218430255],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["vendors"],"top_linked":[{"table":"vendors","column":"is_active","concept":"active","score":1}]},"columns_pruned":12,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendors","vendor_contacts","vendor_invoices","product_suppliers","vendor_invoice_lines","purchase_orders"],"skeleton_sql":"vendors\nJOIN vendor_contacts ON vendor_contacts.vendor_id = vendors.vendor_id\nJOIN vendor_invoices ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN product_suppliers ON product_suppliers.vendor_id = vendors.vendor_id\nJOIN purchase_orders ON purchase_orders.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3184,"completion_tokens":270,"sql_generated":"SELECT vendor_id, vendor_number, name, email, phone, website, address_id, payment_terms, currency_id, tax_id, is_active, created_at FROM vendors WHERE is_active = true","tables_used_in_sql":["vendors","vendors","vendors","vendor_contacts","vendor_contacts","vendor_invoices","vendor_contacts","vendor_invoices","vendor_invoices","product_suppliers","product_suppliers","product_suppliers","vendor_invoice_lines","vendor_invoice_lines","purchase_orders"],"explain_result":"success","rows_returned":200,"total_latency_ms":7322}
{"timestamp":"2026-02-12T20:41:19.518Z","query_id":"a9f47227-2e02-4655-ad73-839e5c7d3df8","question":"What are the different account types in the chart of accounts?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":80,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":4589,"validation_ms":0,"execution_ms":1,"total_ms":4674},"retriever_version":"V1","tables_retrieved":["chart_of_accounts","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","bank_accounts","bank_accounts","bank_accounts","benefit_types","benefit_types","journal_lines","benefit_types","bank_transactions","budget_lines"],"total_retrieval_latency_ms":80,"module_route":{"modules":["Finance","HR","Common"],"confidences":[0.7007770277042978,0.6192260674732437,0.6186713324233991],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":11,"unsupported_concepts":["different","types","chart","accounts"],"top_linked":[{"table":"chart_of_accounts","column":"account_id","concept":"account","score":1},{"table":"chart_of_accounts","column":"account_number","concept":"account","score":1},{"table":"chart_of_accounts","column":"account_type_id","concept":"account","score":1},{"table":"chart_of_accounts","column":"parent_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"journal_lines","column":"account_id","concept":"account","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1}]},"columns_pruned":2,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["chart_of_accounts","bank_accounts","journal_lines","bank_transactions","budget_lines","account_types"],"skeleton_sql":"chart_of_accounts\nJOIN bank_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN journal_lines ON journal_lines.account_id = chart_of_accounts.account_id\nJOIN budget_lines ON budget_lines.account_id = chart_of_accounts.account_id\nJOIN account_types ON chart_of_accounts.account_type_id = account_types.type_id\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":2,"selected_candidate_index":2,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"}]},"prompt_tokens":2843,"completion_tokens":152,"sql_generated":"SELECT DISTINCT name FROM account_types","tables_used_in_sql":["chart_of_accounts","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","bank_accounts","bank_accounts","bank_accounts","benefit_types","benefit_types","journal_lines","benefit_types","bank_transactions","budget_lines"],"explain_result":"success","rows_returned":25,"total_latency_ms":4674}
{"timestamp":"2026-02-12T20:41:24.192Z","query_id":"bde7b9a0-2631-4ee1-bc1f-d31e03be3f12","question":"List all bank accounts and their current balances","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":54,"glosses_ms":0,"linker_ms":2,"pruning_ms":0,"planner_ms":0,"first_generation_ms":4470,"validation_ms":0,"execution_ms":1,"total_ms":4527},"retriever_version":"V1","tables_retrieved":["bank_accounts","bank_accounts","bank_accounts","bank_transactions","bank_transactions","bank_transactions","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","chart_of_accounts","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":54,"module_route":{"modules":["Finance","Assets","Common"],"confidences":[0.652699430027985,0.6000955055799017,0.5681510128630949],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["accounts","balances"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_accounts","column":"bank_name","concept":"bank","score":1},{"table":"bank_accounts","column":"current_balance","concept":"current","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"bank","score":1}]},"columns_pruned":2,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","bank_transactions","account_types","chart_of_accounts","budget_lines"],"skeleton_sql":"bank_accounts\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id\nJOIN chart_of_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN account_types ON chart_of_accounts.account_type_id = account_types.type_id\nJOIN budget_lines ON budget_lines.account_id = chart_of_accounts.account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2805,"completion_tokens":143,"sql_generated":"SELECT ba.bank_account_id, ba.account_name, ba.current_balance FROM bank_accounts ba","tables_used_in_sql":["bank_accounts","bank_accounts","bank_accounts","bank_transactions","bank_transactions","bank_transactions","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","chart_of_accounts","budget_lines","budget_lines","budget_lines"],"explain_result":"success","rows_returned":5,"total_latency_ms":4527}
{"timestamp":"2026-02-12T20:41:28.719Z","query_id":"057813ba-e1ed-462e-831d-21f9465baa9e","question":"How many projects are currently active?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":93,"glosses_ms":0,"linker_ms":2,"pruning_ms":0,"planner_ms":1,"first_generation_ms":3470,"validation_ms":0,"execution_ms":0,"total_ms":3567},"retriever_version":"V1","tables_retrieved":["project_tasks","project_tasks","project_tasks","project_phases","project_phases","projects","projects","project_milestones","project_phases","project_milestones","project_milestones","projects","project_resources","project_resources","project_resources"],"total_retrieval_latency_ms":93,"module_route":{"modules":["Projects","Assets","HR"],"confidences":[0.6454363444201591,0.5590233193471685,0.55286211092598],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["projects","currently","active"],"top_linked":[]},"columns_pruned":9,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_tasks","project_phases","projects","project_milestones","project_resources"],"skeleton_sql":"project_tasks\nJOIN project_phases ON project_tasks.phase_id = project_phases.phase_id\nJOIN projects ON project_phases.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2872,"completion_tokens":96,"sql_generated":"SELECT COUNT(*) FROM projects WHERE status = 'Active'","tables_used_in_sql":["project_tasks","project_tasks","project_tasks","project_phases","project_phases","projects","projects","project_milestones","project_phases","project_milestones","project_milestones","projects","project_resources","project_resources","project_resources"],"explain_result":"success","rows_returned":1,"total_latency_ms":3567}
{"timestamp":"2026-02-12T20:41:32.286Z","query_id":"cdfd2ad8-6cc5-48b6-82f9-95642b0d67b7","question":"List all fixed assets with their purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":51,"glosses_ms":0,"linker_ms":2,"pruning_ms":1,"planner_ms":0,"first_generation_ms":5793,"validation_ms":0,"execution_ms":3,"total_ms":5851},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_maintenance","asset_maintenance","asset_maintenance","asset_categories","asset_categories","asset_categories","depreciation_schedules","depreciation_schedules","depreciation_schedules","asset_transfers","asset_transfers","asset_transfers"],"total_retrieval_latency_ms":51,"module_route":{"modules":["Assets","Procurement","Finance"],"confidences":[0.6704217224005129,0.5558598188107611,0.5415197035972978],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["fixed","assets"],"top_linked":[{"table":"fixed_assets","column":"purchase_date","concept":"purchase","score":1},{"table":"fixed_assets","column":"purchase_cost","concept":"purchase","score":1},{"table":"asset_maintenance","column":"cost","concept":"cost","score":1},{"table":"fixed_assets","column":"po_id","concept":"purchase","score":0.8}]},"columns_pruned":6,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_maintenance","asset_categories","depreciation_schedules","asset_transfers"],"skeleton_sql":"fixed_assets\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3361,"completion_tokens":189,"sql_generated":"SELECT asset_id, name, description, category_id, location_id, assigned_to, purchase_date, purchase_cost, vendor_id, po_id, serial_number, warranty_expiry, status, disposal_date, disposal_amount, created_at FROM fixed_assets","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_maintenance","asset_maintenance","asset_maintenance","asset_categories","asset_categories","asset_categories","depreciation_schedules","depreciation_schedules","depreciation_schedules","asset_transfers","asset_transfers","asset_transfers"],"explain_result":"success","rows_returned":500,"total_latency_ms":5851}
{"timestamp":"2026-02-12T20:41:38.137Z","query_id":"1e5017ed-cc4f-4114-98db-e793fa3a8cfe","question":"What are all the available leave types?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":56,"glosses_ms":1,"linker_ms":1,"pruning_ms":0,"planner_ms":0,"first_generation_ms":2574,"validation_ms":0,"execution_ms":0,"total_ms":2633},"retriever_version":"V1","tables_retrieved":["leave_types","leave_types","leave_types","leave_requests","leave_requests","leave_requests","maintenance_types","maintenance_types","maintenance_types","benefit_types","benefit_types","benefit_types","positions","employee_benefits","employment_history"],"total_retrieval_latency_ms":56,"module_route":{"modules":["HR","Assets","Sales"],"confidences":[0.6473746828949357,0.5910002382401803,0.5740161383365922],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["available","types"],"top_linked":[{"table":"leave_types","column":"leave_type_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_type_id","concept":"leave","score":1}]},"columns_pruned":1,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["leave_requests","leave_types","benefit_types","employee_benefits"],"skeleton_sql":"leave_requests\nJOIN leave_types ON leave_requests.leave_type_id = leave_types.leave_type_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2477,"completion_tokens":57,"sql_generated":"SELECT name FROM leave_types","tables_used_in_sql":["leave_types","leave_types","leave_types","leave_requests","leave_requests","leave_requests","maintenance_types","maintenance_types","maintenance_types","benefit_types","benefit_types","benefit_types","positions","employee_benefits","employment_history"],"explain_result":"success","rows_returned":8,"total_latency_ms":2633}
{"timestamp":"2026-02-12T20:41:40.770Z","query_id":"1f4b5a23-3e61-418f-b38d-fe564752504e","question":"List all training courses that are mandatory","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":47,"glosses_ms":0,"linker_ms":1,"pruning_ms":0,"planner_ms":0,"first_generation_ms":2501,"validation_ms":0,"execution_ms":0,"total_ms":2550},"retriever_version":"V1","tables_retrieved":["training_courses","training_courses","training_courses","employee_training","employee_training","employee_training","certifications","certifications","certifications","employee_certifications","employee_certifications","employee_certifications","maintenance_types","maintenance_types","maintenance_types"],"total_retrieval_latency_ms":47,"module_route":{"modules":["HR","Common","Assets"],"confidences":[0.5865910952266036,0.5079936168687108,0.49648796513127813],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["courses"],"top_linked":[{"table":"training_courses","column":"is_mandatory","concept":"mandatory","score":1},{"table":"employee_training","column":"training_id","concept":"training","score":1}]},"columns_pruned":0,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["training_courses","employee_training","certifications","employee_certifications"],"skeleton_sql":"training_courses\nJOIN employee_training ON employee_training.course_id = training_courses.course_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2387,"completion_tokens":144,"sql_generated":"SELECT name, description, duration_hours, cost FROM training_courses WHERE is_mandatory = TRUE","tables_used_in_sql":["training_courses","training_courses","training_courses","employee_training","employee_training","employee_training","certifications","certifications","certifications","employee_certifications","employee_certifications","employee_certifications","maintenance_types","maintenance_types","maintenance_types"],"explain_result":"success","rows_returned":4,"total_latency_ms":2550}
{"timestamp":"2026-02-12T20:41:43.320Z","query_id":"35f06095-e288-43c2-add4-bdc6ee4c41d3","question":"What are the different opportunity stages?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":91,"glosses_ms":0,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":2993,"validation_ms":1,"execution_ms":0,"total_ms":3087},"retriever_version":"V1","tables_retrieved":["opportunity_stages","opportunity_stages","opportunity_stages","sales_opportunities","sales_opportunities","sales_opportunities","project_phases","project_tasks","project_phases","project_phases","project_tasks","project_tasks","positions","positions","positions"],"total_retrieval_latency_ms":91,"module_route":{"modules":["Sales","HR","Projects"],"confidences":[0.6028909984792304,0.5663067184830348,0.5615426782310475],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["different","stages"],"top_linked":[{"table":"sales_opportunities","column":"opportunity_id","concept":"opportunity","score":1}]},"columns_pruned":6,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","project_phases","project_tasks"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2729,"completion_tokens":71,"sql_generated":"SELECT DISTINCT name FROM opportunity_stages","tables_used_in_sql":["opportunity_stages","opportunity_stages","opportunity_stages","sales_opportunities","sales_opportunities","sales_opportunities","project_phases","project_tasks","project_phases","project_phases","project_tasks","project_tasks","positions","positions","positions"],"explain_result":"success","rows_returned":6,"total_latency_ms":3087}
{"timestamp":"2026-02-12T20:41:46.408Z","query_id":"cbea9783-e8d6-418c-9d15-5c3e1228098f","question":"List all countries in the system","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":102,"glosses_ms":0,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":2922,"validation_ms":0,"execution_ms":0,"total_ms":3028},"retriever_version":"V1","tables_retrieved":["countries","countries","countries","states_provinces","states_provinces","states_provinces","tax_rates","tax_rates","tax_rates","currencies","currencies","sales_territories","sales_territories","sales_territories","currencies"],"total_retrieval_latency_ms":102,"module_route":{"modules":["Common","Finance","Sales"],"confidences":[0.6391320166754724,0.5998203282680619,0.5724228859823769],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["countries","system"],"top_linked":[]},"columns_pruned":0,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["countries","states_provinces","tax_rates"],"skeleton_sql":"countries\nJOIN states_provinces ON states_provinces.country_id = countries.country_id\nJOIN tax_rates ON tax_rates.country_id = countries.country_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2185,"completion_tokens":78,"sql_generated":"SELECT name, iso_code, phone_code FROM countries","tables_used_in_sql":["countries","countries","countries","states_provinces","states_provinces","states_provinces","tax_rates","tax_rates","tax_rates","currencies","currencies","sales_territories","sales_territories","sales_territories","currencies"],"explain_result":"success","rows_returned":10,"total_latency_ms":3028}
{"timestamp":"2026-02-12T20:41:49.436Z","query_id":"08fee30b-5ad0-4352-95c9-b0f61edede99","question":"How many departments are there?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":59,"glosses_ms":0,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":3469,"validation_ms":0,"execution_ms":1,"total_ms":3532},"retriever_version":"V1","tables_retrieved":["departments","departments","departments","positions","positions","positions","cost_centers","inventory_levels","cost_centers","cost_centers","employees","business_units","business_units","business_units","employees"],"total_retrieval_latency_ms":59,"module_route":{"modules":["HR","Common","Inventory"],"confidences":[0.5795934267103653,0.586927663520706,0.5818884580603176],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["departments"],"top_linked":[]},"columns_pruned":7,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","positions","cost_centers","employees","business_units"],"skeleton_sql":"departments\nJOIN positions ON positions.department_id = departments.department_id\nJOIN cost_centers ON cost_centers.department_id = departments.department_id\nJOIN employees ON employees.department_id = departments.department_id\nJOIN business_units ON business_units.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2704,"completion_tokens":92,"sql_generated":"SELECT COUNT(department_id) AS department_count FROM departments","tables_used_in_sql":["departments","departments","departments","positions","positions","positions","cost_centers","inventory_levels","cost_centers","cost_centers","employees","business_units","business_units","business_units","employees"],"explain_result":"success","rows_returned":1,"total_latency_ms":3532}
{"timestamp":"2026-02-12T20:41:52.968Z","query_id":"2345790b-249b-4dad-b2e6-1dbae6362af5","question":"List all units of measure","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":93,"glosses_ms":0,"linker_ms":1,"pruning_ms":0,"planner_ms":0,"first_generation_ms":2789,"validation_ms":0,"execution_ms":0,"total_ms":2884},"retriever_version":"V1","tables_retrieved":["products","units_of_measure","business_units","currencies","sales_regions","sales_territories","countries","reorder_rules","product_suppliers","requisition_lines"],"total_retrieval_latency_ms":93,"module_route":{"modules":["Common","Inventory","Sales"],"confidences":[0.6074344471797812,0.6067570207161089,0.579741575887427],"method":"embedding"},"bm25_tables":["products"],"fusion_method":"rrf","schema_link":{"tables_linked":10,"columns_linked":0,"unsupported_concepts":["units","measure"],"top_linked":[]},"columns_pruned":3,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["units_of_measure","products","business_units","sales_regions","sales_territories","reorder_rules","product_suppliers","requisition_lines"],"skeleton_sql":"units_of_measure\nJOIN products ON products.uom_id = units_of_measure.uom_id\nJOIN reorder_rules ON reorder_rules.product_id = products.product_id\nJOIN product_suppliers ON product_suppliers.product_id = products.product_id\nJOIN requisition_lines ON requisition_lines.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2051,"completion_tokens":75,"sql_generated":"SELECT name, abbreviation FROM units_of_measure","tables_used_in_sql":["products","units_of_measure","business_units","currencies","sales_regions","sales_territories","countries","reorder_rules","product_suppliers","requisition_lines"],"explain_result":"success","rows_returned":11,"total_latency_ms":2884}
{"timestamp":"2026-02-12T20:41:55.852Z","query_id":"633418a0-3938-416f-bf56-d741e8a11436","question":"What fiscal years exist in the system?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":48,"glosses_ms":0,"linker_ms":1,"pruning_ms":0,"planner_ms":1,"first_generation_ms":2807,"validation_ms":0,"execution_ms":0,"total_ms":2858},"retriever_version":"V1","tables_retrieved":["fiscal_years","fiscal_years","fiscal_years","fiscal_periods","fiscal_periods","fiscal_periods","budgets","budgets","budgets","journal_entries","journal_entries","journal_entries","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":48,"module_route":{"modules":["Finance","Assets","Projects"],"confidences":[0.6900165968291754,0.5876625129270986,0.5788635119215922],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["years","exist","system"],"top_linked":[{"table":"fiscal_years","column":"fiscal_year_id","concept":"fiscal","score":1},{"table":"fiscal_periods","column":"fiscal_year_id","concept":"fiscal","score":1},{"table":"budgets","column":"fiscal_year_id","concept":"fiscal","score":1}]},"columns_pruned":1,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fiscal_years","fiscal_periods","budgets","journal_entries","budget_lines"],"skeleton_sql":"fiscal_years\nJOIN fiscal_periods ON fiscal_periods.fiscal_year_id = fiscal_years.fiscal_year_id\nJOIN budgets ON budgets.fiscal_year_id = fiscal_years.fiscal_year_id\nJOIN journal_entries ON journal_entries.period_id = fiscal_periods.period_id\nJOIN budget_lines ON budget_lines.period_id = fiscal_periods.period_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2809,"completion_tokens":62,"sql_generated":"SELECT DISTINCT year FROM fiscal_years","tables_used_in_sql":["fiscal_years","fiscal_years","fiscal_years","fiscal_periods","fiscal_periods","fiscal_periods","budgets","budgets","budgets","journal_entries","journal_entries","journal_entries","budget_lines","budget_lines","budget_lines"],"explain_result":"success","rows_returned":4,"total_latency_ms":2858}
{"timestamp":"2026-02-12T20:41:58.711Z","query_id":"4297861f-d414-4222-a26f-7505f09d47b6","question":"What are the different asset categories?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":49,"glosses_ms":1,"linker_ms":1,"pruning_ms":0,"planner_ms":1,"first_generation_ms":2806,"validation_ms":0,"execution_ms":0,"total_ms":2859},"retriever_version":"V1","tables_retrieved":["asset_categories","asset_categories","asset_categories","fixed_assets","asset_locations","asset_locations","account_types","account_types","asset_locations","account_types","fixed_assets","fixed_assets","product_categories","asset_maintenance","product_categories"],"total_retrieval_latency_ms":49,"module_route":{"modules":["Assets","Finance","Inventory"],"confidences":[0.7061559517668716,0.5743948922060627,0.5713145214229208],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["different","categories"],"top_linked":[{"table":"fixed_assets","column":"asset_id","concept":"asset","score":1},{"table":"fixed_assets","column":"asset_tag","concept":"asset","score":1},{"table":"asset_maintenance","column":"asset_id","concept":"asset","score":1}]},"columns_pruned":6,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_maintenance","asset_categories","asset_locations","product_categories"],"skeleton_sql":"fixed_assets\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN asset_locations ON fixed_assets.location_id = asset_locations.location_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2704,"completion_tokens":63,"sql_generated":"SELECT DISTINCT name FROM asset_categories","tables_used_in_sql":["asset_categories","asset_categories","asset_categories","fixed_assets","asset_locations","asset_locations","account_types","account_types","asset_locations","account_types","fixed_assets","fixed_assets","product_categories","asset_maintenance","product_categories"],"explain_result":"success","rows_returned":7,"total_latency_ms":2859}
{"timestamp":"2026-02-12T20:42:01.571Z","query_id":"92b20e14-ba0c-4552-9d59-c270b25d3a54","question":"Find employees who have been with the company for more than 5 years and earn above $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":93,"glosses_ms":0,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":12340,"validation_ms":0,"execution_ms":1,"total_ms":12438},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_salaries","employees","employee_certifications","employees","employees","employment_history","employee_certifications","employee_certifications","employee_benefits","sales_quotes","employment_history","employment_history","project_expenses"],"total_retrieval_latency_ms":93,"module_route":{"modules":["HR","Sales","Projects"],"confidences":[0.6354260409757457,0.5907829043761632,0.5652934554495189],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["employees","years","earn"],"top_linked":[{"table":"employment_history","column":"company_name","concept":"company","score":1}]},"columns_pruned":10,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employment_history","employee_salaries","employees","employee_certifications","employee_benefits","sales_quotes","project_expenses"],"skeleton_sql":"employment_history\nJOIN employees ON employment_history.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN employee_benefits ON employee_benefits.employee_id = employees.employee_id\nJOIN sales_quotes ON sales_quotes.created_by = employees.employee_id\nJOIN project_expenses ON project_expenses.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3115,"completion_tokens":477,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, e.email, e.phone, e.salary, eh.company_name, eh.start_date FROM employees e JOIN employment_history eh ON e.employee_id = eh.employee_id WHERE (CURRENT_DATE - eh.start_date) > INTERVAL '5 years' AND e.salary > 100000","tables_used_in_sql":["employee_salaries","employee_salaries","employee_salaries","employees","employee_certifications","employees","employees","employment_history","employee_certifications","employee_certifications","employee_benefits","sales_quotes","employment_history","employment_history","project_expenses"],"pg_normalize":{"applied":true,"transforms":["DATE_INTERVAL_COMPARISON_FIX"],"changed":true},"explain_result":"success","rows_returned":123,"total_latency_ms":12438}
{"timestamp":"2026-02-12T20:42:14.010Z","query_id":"92a3acee-51d8-4ff1-b092-af42265fb1a9","question":"List employees and their managers' names","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":39,"glosses_ms":1,"linker_ms":1,"pruning_ms":0,"planner_ms":0,"first_generation_ms":7108,"validation_ms":0,"execution_ms":1,"total_ms":7151},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","departments","departments","departments","business_units","business_units","sales_regions","sales_regions","sales_regions","business_units","employee_salaries","employment_history","employee_salaries"],"total_retrieval_latency_ms":39,"module_route":{"modules":["HR","Common","Sales"],"confidences":[0.6680739651644825,0.6166903495185039,0.6121400974006294],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","managers","names"],"top_linked":[]},"columns_pruned":7,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","business_units","sales_regions","employee_salaries","employment_history"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN business_units ON business_units.manager_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2816,"completion_tokens":341,"sql_generated":"SELECT e.employee_id, e.first_name || ' ' || e.last_name AS employee_name, m.first_name || ' ' || m.last_name AS manager_name FROM employees e JOIN employees m ON e.manager_id = m.employee_id","tables_used_in_sql":["employees","employees","employees","departments","departments","departments","business_units","business_units","sales_regions","sales_regions","sales_regions","business_units","employee_salaries","employment_history","employee_salaries"],"explain_result":"success","rows_returned":499,"total_latency_ms":7151}
{"timestamp":"2026-02-12T20:42:21.161Z","query_id":"4fb1e094-7bdb-4f01-89bd-07319563d5d5","question":"Which employees have pending leave requests?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":53,"glosses_ms":0,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":6602,"validation_ms":0,"execution_ms":1,"total_ms":6659},"retriever_version":"V1","tables_retrieved":["leave_requests","leave_types","employees","employment_history","purchase_requisitions","document_attachments","emergency_contacts","project_resources","sales_regions"],"total_retrieval_latency_ms":53,"module_route":{"modules":["HR","Sales","Procurement"],"confidences":[0.646551871476994,0.5746654506294601,0.5721123641176491],"method":"hybrid"},"bm25_tables":["leave_requests"],"fusion_method":"rrf","schema_link":{"tables_linked":9,"columns_linked":3,"unsupported_concepts":["employees","pending","requests"],"top_linked":[{"table":"leave_requests","column":"leave_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_type_id","concept":"leave","score":1},{"table":"leave_types","column":"leave_type_id","concept":"leave","score":1}]},"columns_pruned":12,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["leave_requests","leave_types","employees","employment_history","purchase_requisitions","document_attachments","emergency_contacts","project_resources","sales_regions"],"skeleton_sql":"leave_requests\nJOIN leave_types ON leave_requests.leave_type_id = leave_types.leave_type_id\nJOIN employees ON leave_requests.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id\nJOIN purchase_requisitions ON purchase_requisitions.requested_by = employees.employee_id\nJOIN document_attachments ON document_attachments.uploaded_by = employees.employee_id\nJOIN emergency_contacts ON emergency_contacts.employee_id = employees.employee_id\nJOIN project_resources ON project_resources.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2215,"completion_tokens":241,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name FROM employees e JOIN leave_requests lr ON e.employee_id = lr.employee_id WHERE lr.status = 'Pending'","tables_used_in_sql":["leave_requests","leave_types","employees","employment_history","purchase_requisitions","document_attachments","emergency_contacts","project_resources","sales_regions"],"explain_result":"success","rows_returned":0,"total_latency_ms":6659}
{"timestamp":"2026-02-12T20:42:27.821Z","query_id":"a91d0c4c-7c40-4c75-a945-c123bb16cf39","question":"Show the number of employees per position title","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":65,"glosses_ms":0,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":6401,"validation_ms":0,"execution_ms":0,"total_ms":6469},"retriever_version":"V1","tables_retrieved":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","employees","sales_territories","employees","employees","sales_territories","sales_territories","sales_regions","sales_regions","sales_regions"],"total_retrieval_latency_ms":65,"module_route":{"modules":["HR","Sales","Common"],"confidences":[0.6796940956517356,0.6351760244095727,0.6034941504618659],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["employees"],"top_linked":[{"table":"positions","column":"position_id","concept":"position","score":1},{"table":"positions","column":"title","concept":"title","score":1},{"table":"employees","column":"position_id","concept":"position","score":1}]},"columns_pruned":7,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["positions","employees","employee_salaries","sales_territories","sales_regions"],"skeleton_sql":"positions\nJOIN employees ON employees.position_id = positions.position_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN sales_territories ON sales_territories.assigned_rep_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2828,"completion_tokens":223,"sql_generated":"SELECT p.title, COUNT(e.employee_id) AS employee_count FROM positions p JOIN employees e ON e.position_id = p.position_id GROUP BY p.title","tables_used_in_sql":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","employees","sales_territories","employees","employees","sales_territories","sales_territories","sales_regions","sales_regions","sales_regions"],"explain_result":"success","rows_returned":40,"total_latency_ms":6469}
{"timestamp":"2026-02-12T20:42:34.291Z","query_id":"7455047e-aeec-4aa2-9831-bd20a8bd8b77","question":"Find employees with expiring certifications in the next 6 months","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":63,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":9531,"validation_ms":0,"execution_ms":1,"total_ms":9599},"retriever_version":"V1","tables_retrieved":["employee_certifications","employee_certifications","employee_certifications","certifications","certifications","certifications","employee_training","employee_training","employee_training","employees","employees","employee_salaries","employee_salaries","employment_history","employment_history"],"total_retrieval_latency_ms":63,"module_route":{"modules":["HR","Sales","Common"],"confidences":[0.6943376671821135,0.6080024978070456,0.5792742480019953],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","expiring","certifications","next","months"],"top_linked":[]},"columns_pruned":7,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employee_certifications","certifications","employee_training","employees","employee_salaries","employment_history"],"skeleton_sql":"employee_certifications\nJOIN certifications ON employee_certifications.certification_id = certifications.certification_id\nJOIN employees ON employee_certifications.employee_id = employees.employee_id\nJOIN employee_training ON employee_training.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":12,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2755,"completion_tokens":478,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, c.name AS certification_name, ec.expiry_date FROM employee_certifications ec JOIN certifications c ON ec.certification_id = c.certification_id JOIN employees e ON ec.employee_id = e.employee_id WHERE ec.expiry_date BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '6 months'","tables_used_in_sql":["employee_certifications","employee_certifications","employee_certifications","certifications","certifications","certifications","employee_training","employee_training","employee_training","employees","employees","employee_salaries","employee_salaries","employment_history","employment_history"],"explain_result":"success","rows_returned":9,"total_latency_ms":9599}
{"timestamp":"2026-02-12T20:42:43.890Z","query_id":"0a4b635f-d996-45fe-afcb-c4225a7495a0","question":"What is the total sales amount by customer for 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":40,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":4018,"validation_ms":0,"total_ms":7204},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","sales_regions","purchase_orders","sales_regions","sales_regions","purchase_orders","purchase_orders","sales_quotes","sales_quotes","sales_quotes","customers","goods_receipts","sales_territories"],"total_retrieval_latency_ms":40,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.6841518111894954,0.6557133040181619,0.6220199448581752],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":17,"unsupported_concepts":[],"top_linked":[{"table":"sales_orders","column":"customer_id","concept":"customer","score":1},{"table":"sales_orders","column":"tax_amount","concept":"amount","score":1},{"table":"sales_orders","column":"total","concept":"total sales","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"purchase_orders","column":"tax_amount","concept":"amount","score":1},{"table":"purchase_orders","column":"total","concept":"total sales","score":1},{"table":"sales_quotes","column":"customer_id","concept":"customer","score":1},{"table":"sales_quotes","column":"tax_amount","concept":"amount","score":1},{"table":"sales_quotes","column":"total","concept":"total sales","score":1},{"table":"customers","column":"customer_id","concept":"customer","score":1}]},"columns_pruned":15,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","sales_quotes","customers","sales_regions","goods_receipts","sales_territories"],"skeleton_sql":"sales_orders\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN customers ON sales_orders.customer_id = customers.customer_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":0,"candidates_rejected":1,"selected_candidate_index":null,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias"}]},"prompt_tokens":3523,"completion_tokens":128,"sql_generated":"SELECT \n    c.customer_id,\n    SUM(so.total) AS total_sales\nFROM \n    sales_orders so\nJOIN \n    customers c ON so.customer_id = c.customer_id\nWHERE \n    EXTRACT(YEAR FROM so.order_date) = 2024\nGROUP BY \n    c.customer_id;","tables_used_in_sql":[],"total_latency_ms":7204,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:42:51.094Z","query_id":"25b1908a-84f2-483f-93d5-5b1a41ce8e5e","question":"List the top 10 customers by total order value","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":75,"glosses_ms":0,"linker_ms":2,"pruning_ms":1,"planner_ms":0,"first_generation_ms":10629,"validation_ms":0,"execution_ms":2,"total_ms":10710},"retriever_version":"V1","tables_retrieved":["sales_orders","order_lines","purchase_orders","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","purchase_orders","customers","customers","customers","product_suppliers","vendor_invoices","customer_contacts"],"total_retrieval_latency_ms":75,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.645139182385332,0.6274557373477856,0.5802502629078188],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":16,"unsupported_concepts":["customers","value"],"top_linked":[{"table":"sales_orders","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_number","concept":"order","score":1},{"table":"sales_orders","column":"order_date","concept":"order","score":1},{"table":"sales_orders","column":"total","concept":"total order","score":1},{"table":"order_lines","column":"order_id","concept":"order","score":1},{"table":"order_lines","column":"line_total","concept":"total order","score":1},{"table":"purchase_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"total","concept":"total order","score":1},{"table":"product_suppliers","column":"minimum_order_qty","concept":"order","score":1},{"table":"vendor_invoices","column":"total","concept":"total order","score":1}]},"columns_pruned":18,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","vendor_invoices","order_lines","customers","customer_contacts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id\nJOIN customers ON sales_orders.customer_id = customers.customer_id\nJOIN customer_contacts ON customer_contacts.customer_id = customers.customer_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":120,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3726,"completion_tokens":410,"sql_generated":"SELECT c.customer_id, c.name, SUM(so.total) AS total_order_value FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.name ORDER BY total_order_value DESC LIMIT 10","tables_used_in_sql":["sales_orders","order_lines","purchase_orders","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","purchase_orders","customers","customers","customers","product_suppliers","vendor_invoices","customer_contacts"],"explain_result":"success","rows_returned":10,"total_latency_ms":10710}
{"timestamp":"2026-02-12T20:43:01.804Z","query_id":"029f51d5-6b38-4623-9c35-1b5e622a166d","question":"Show sales opportunities in the Negotiation stage worth over $50,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":66,"glosses_ms":0,"linker_ms":2,"pruning_ms":0,"planner_ms":1,"first_generation_ms":10669,"validation_ms":0,"execution_ms":1,"total_ms":10740},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","opportunity_stages","opportunity_stages","sales_quotes","sales_quotes","sales_quotes","sales_orders","sales_orders","sales_regions","sales_regions","sales_orders","sales_regions"],"total_retrieval_latency_ms":66,"module_route":{"modules":["Sales","Procurement","Assets"],"confidences":[0.6377953940739141,0.5637102261302828,0.5543527682693786],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["opportunities","negotiation","worth"],"top_linked":[{"table":"sales_opportunities","column":"stage_id","concept":"stage","score":1},{"table":"opportunity_stages","column":"stage_id","concept":"stage","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"columns_pruned":9,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","sales_orders","sales_quotes"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id\nJOIN sales_quotes ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3127,"completion_tokens":425,"sql_generated":"SELECT so.opportunity_id, so.name, so.amount, os.name AS stage_name FROM sales_opportunities so JOIN opportunity_stages os ON so.stage_id = os.stage_id WHERE os.name = 'Negotiation' AND so.amount > 50000","tables_used_in_sql":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","opportunity_stages","opportunity_stages","sales_quotes","sales_quotes","sales_quotes","sales_orders","sales_orders","sales_regions","sales_regions","sales_orders","sales_regions"],"explain_result":"success","rows_returned":69,"total_latency_ms":10740}
{"timestamp":"2026-02-12T20:43:12.544Z","query_id":"c8719621-e995-4af2-b00c-cb12c1583407","question":"What is the conversion rate from quotes to orders?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":100,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":2626,"validation_ms":0,"execution_ms":1,"total_ms":6446},"retriever_version":"V1","tables_retrieved":["quote_lines","sales_orders","quote_lines","quote_lines","sales_quotes","sales_quotes","sales_quotes","order_lines","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","po_lines","purchase_orders"],"total_retrieval_latency_ms":100,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.8,0.6198683257466822,0.5837606035907529],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["conversion","rate","quotes","orders"],"top_linked":[]},"columns_pruned":12,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["quote_lines","sales_orders","sales_quotes","order_lines","purchase_orders","po_lines"],"skeleton_sql":"quote_lines\nJOIN sales_quotes ON quote_lines.quote_id = sales_quotes.quote_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":0,"candidates_rejected":2,"selected_candidate_index":null,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias"}]},"prompt_tokens":3397,"completion_tokens":162,"sql_generated":"SELECT \n    (COUNT(DISTINCT sales_orders.order_id) * 100.0 / NULLIF(COUNT(DISTINCT quote_lines.quote_id), 0)) AS conversion_rate\nFROM \n    quote_lines\nJOIN \n    sales_quotes ON quote_lines.quote_id = sales_quotes.quote_id\nLEFT JOIN \n    sales_orders ON sales_orders.quote_id = sales_quotes.quote_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":6446}
{"timestamp":"2026-02-12T20:43:18.990Z","query_id":"0c4f1f43-da5f-4780-b9f7-42fcb8ed13cb","question":"List sales orders by sales representative with their totals","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":43,"glosses_ms":0,"linker_ms":2,"pruning_ms":0,"planner_ms":0,"first_generation_ms":11757,"validation_ms":0,"total_ms":15277},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_quotes","sales_quotes","goods_receipts","sales_quotes","sales_territories","sales_territories"],"total_retrieval_latency_ms":43,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[1,0.6720940421527194,0.6206833337658386],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["orders","representative","totals"],"top_linked":[{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"columns_pruned":12,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","order_lines","sales_quotes","goods_receipts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3413,"completion_tokens":482,"sql_generated":"SELECT \n    s.sales_rep_id,\n    e.first_name || ' ' || e.last_name AS sales_rep_name,\n    SUM(s.total) AS total_sales\nFROM \n    sales_orders s\nJOIN \n    employees e ON s.sales_rep_id = e.employee_id\nGROUP BY \n    s.sales_rep_id, e.first_name, e.last_name;","tables_used_in_sql":[],"total_latency_ms":15277,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:43:34.268Z","query_id":"9e61c7e1-0343-4dd2-aa50-c174a65bae8f","question":"Which products have inventory below their reorder point?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":64,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":8921,"validation_ms":1,"execution_ms":1,"total_ms":8992},"retriever_version":"V1","tables_retrieved":["inventory_levels","reorder_rules","inventory_levels","inventory_levels","reorder_rules","reorder_rules","order_lines","order_lines","order_lines","purchase_orders","inventory_transactions","purchase_orders","purchase_orders","products","sales_orders"],"total_retrieval_latency_ms":64,"module_route":{"modules":["Inventory","Sales","Procurement"],"confidences":[0.8,0.6204194737759183,0.6487660016145484],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["products","inventory","point"],"top_linked":[{"table":"reorder_rules","column":"reorder_quantity","concept":"reorder","score":1}]},"columns_pruned":13,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["reorder_rules","inventory_levels","order_lines","inventory_transactions","products","sales_orders"],"skeleton_sql":"reorder_rules\nJOIN products ON reorder_rules.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id\nJOIN order_lines ON order_lines.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id\nJOIN sales_orders ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3352,"completion_tokens":342,"sql_generated":"SELECT p.product_id, p.name, i.quantity_on_hand, r.reorder_quantity FROM products p JOIN reorder_rules r ON p.product_id = r.product_id JOIN inventory_levels i ON p.product_id = i.product_id WHERE i.quantity_on_hand < r.reorder_quantity","tables_used_in_sql":["inventory_levels","reorder_rules","inventory_levels","inventory_levels","reorder_rules","reorder_rules","order_lines","order_lines","order_lines","purchase_orders","inventory_transactions","purchase_orders","purchase_orders","products","sales_orders"],"explain_result":"success","rows_returned":145,"total_latency_ms":8992}
{"timestamp":"2026-02-12T20:43:43.259Z","query_id":"82d38a83-823c-4188-bea0-c6c7577ff246","question":"Show total inventory value by warehouse","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":90,"glosses_ms":1,"linker_ms":1,"pruning_ms":0,"planner_ms":0,"first_generation_ms":9220,"validation_ms":1,"total_ms":12988},"retriever_version":"V1","tables_retrieved":["inventory_levels","inventory_levels","inventory_levels","inventory_transactions","inventory_transactions","inventory_transactions","warehouse_locations","warehouse_locations","warehouse_locations","inventory_adjustments","warehouses","warehouses","warehouses","goods_receipts","inventory_adjustments"],"total_retrieval_latency_ms":90,"module_route":{"modules":["Inventory","Assets","Procurement"],"confidences":[0.6881528236449067,0.610494178679997,0.6096661444350719],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":6,"unsupported_concepts":["inventory","value"],"top_linked":[{"table":"inventory_levels","column":"warehouse_id","concept":"warehouse","score":1},{"table":"inventory_transactions","column":"warehouse_id","concept":"warehouse","score":1},{"table":"warehouse_locations","column":"warehouse_id","concept":"warehouse","score":1},{"table":"inventory_adjustments","column":"warehouse_id","concept":"warehouse","score":1},{"table":"warehouses","column":"warehouse_id","concept":"warehouse","score":1},{"table":"goods_receipts","column":"warehouse_id","concept":"warehouse","score":1}]},"columns_pruned":0,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_levels","inventory_transactions","warehouse_locations","inventory_adjustments","warehouses","goods_receipts"],"skeleton_sql":"inventory_levels\nJOIN warehouses ON inventory_levels.warehouse_id = warehouses.warehouse_id\nJOIN warehouse_locations ON inventory_levels.location_id = warehouse_locations.location_id\nJOIN inventory_transactions ON inventory_transactions.warehouse_id = warehouses.warehouse_id\nJOIN inventory_adjustments ON inventory_adjustments.warehouse_id = warehouses.warehouse_id\nJOIN goods_receipts ON goods_receipts.warehouse_id = warehouses.warehouse_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3077,"completion_tokens":467,"sql_generated":"SELECT \n    w.warehouse_id,\n    w.name AS warehouse_name,\n    SUM(il.quantity_on_hand * p.price) AS total_inventory_value\nFROM \n    warehouses w\nJOIN \n    inventory_levels il ON w.warehouse_id = il.warehouse_id\nJOIN \n    products p ON il.product_id = p.product_id\nGROUP BY \n    w.warehouse_id, w.name;","tables_used_in_sql":[],"total_latency_ms":12988,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:43:56.247Z","query_id":"b140bd00-b17e-493d-bbc4-93cff664d3e2","question":"List products that had stock transfers in the last 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":87,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":10238,"validation_ms":0,"execution_ms":1,"total_ms":10330},"retriever_version":"V1","tables_retrieved":["stock_transfers","stock_transfers","stock_transfers","transfer_lines","transfer_lines","transfer_lines","asset_transfers","asset_transfers","asset_transfers","product_suppliers","product_suppliers","product_suppliers","products","inventory_transactions","fixed_assets"],"total_retrieval_latency_ms":87,"module_route":{"modules":["Inventory","Assets","Sales"],"confidences":[1,0.5998748781261968,0.5802825151986847],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["products","stock","transfers","last"],"top_linked":[{"table":"product_suppliers","column":"lead_time_days","concept":"days","score":1}]},"columns_pruned":9,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["product_suppliers","stock_transfers","transfer_lines","asset_transfers","products","inventory_transactions","fixed_assets"],"skeleton_sql":"product_suppliers\nJOIN products ON product_suppliers.product_id = products.product_id\nJOIN transfer_lines ON transfer_lines.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id\nJOIN stock_transfers ON transfer_lines.transfer_id = stock_transfers.transfer_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":11,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3255,"completion_tokens":412,"sql_generated":"SELECT DISTINCT p.product_id, p.name FROM product_suppliers ps JOIN transfer_lines tl ON ps.product_id = tl.product_id JOIN stock_transfers st ON tl.transfer_id = st.transfer_id JOIN products p ON ps.product_id = p.product_id WHERE st.transfer_date >= CURRENT_DATE - INTERVAL '30 days'","tables_used_in_sql":["stock_transfers","stock_transfers","stock_transfers","transfer_lines","transfer_lines","transfer_lines","asset_transfers","asset_transfers","asset_transfers","product_suppliers","product_suppliers","product_suppliers","products","inventory_transactions","fixed_assets"],"explain_result":"success","rows_returned":0,"total_latency_ms":10330}
{"timestamp":"2026-02-12T20:44:06.577Z","query_id":"9c75524b-4e77-4288-a151-5ef79cf7c476","question":"What is the total spend by vendor this year?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":43,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":3980,"validation_ms":0,"total_ms":7158},"retriever_version":"V1","tables_retrieved":["vendor_invoices","vendor_invoices","vendor_invoices","vendors","purchase_orders","purchase_orders","vendors","vendors","purchase_orders","project_expenses","project_expenses","project_expenses","vendor_invoice_lines","vendor_invoice_lines","vendor_contacts"],"total_retrieval_latency_ms":43,"module_route":{"modules":["Procurement","Sales","Projects"],"confidences":[0.6315132350172751,0.5716276998761761,0.5712407846026563],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":9,"unsupported_concepts":["spend","year"],"top_linked":[{"table":"vendor_invoices","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"total","concept":"total spend","score":1},{"table":"vendors","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_number","concept":"vendor","score":1},{"table":"purchase_orders","column":"vendor_id","concept":"vendor","score":1},{"table":"purchase_orders","column":"total","concept":"total spend","score":1},{"table":"vendor_contacts","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"subtotal","concept":"total spend","score":0.7},{"table":"purchase_orders","column":"subtotal","concept":"total spend","score":0.7}]},"columns_pruned":13,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendor_invoices","purchase_orders","vendors","vendor_contacts","vendor_invoice_lines"],"skeleton_sql":"vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id\nJOIN vendor_contacts ON vendor_contacts.vendor_id = vendors.vendor_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":0,"candidates_rejected":2,"selected_candidate_index":null,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3517,"completion_tokens":129,"sql_generated":"SELECT SUM(vendor_invoices.total) AS total_spend\nFROM vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nWHERE EXTRACT(YEAR FROM vendor_invoices.invoice_date) = EXTRACT(YEAR FROM CURRENT_DATE);","tables_used_in_sql":[],"total_latency_ms":7158,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:44:13.736Z","query_id":"81153699-eb02-4bf5-9e47-5cb3307fc150","question":"List purchase orders that are overdue (expected date passed but not received)","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":49,"glosses_ms":0,"linker_ms":3,"pruning_ms":0,"planner_ms":0,"first_generation_ms":7763,"validation_ms":0,"execution_ms":3,"total_ms":7818},"retriever_version":"V1","tables_retrieved":["purchase_orders","purchase_orders","purchase_orders","sales_orders","goods_receipts","sales_orders","sales_orders","purchase_requisitions","purchase_requisitions","purchase_requisitions","order_lines","order_lines","order_lines","goods_receipts","goods_receipts"],"total_retrieval_latency_ms":49,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.5967878432654143,0.6506355764441156,0.5717976391409214],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":17,"unsupported_concepts":["orders","overdue","passed"],"top_linked":[{"table":"purchase_orders","column":"order_date","concept":"date","score":1},{"table":"purchase_orders","column":"expected_date","concept":"expected","score":1},{"table":"sales_orders","column":"order_date","concept":"date","score":1},{"table":"sales_orders","column":"required_date","concept":"date","score":1},{"table":"sales_orders","column":"ship_date","concept":"date","score":1},{"table":"goods_receipts","column":"receipt_date","concept":"date","score":1},{"table":"goods_receipts","column":"received_by","concept":"received","score":1},{"table":"purchase_requisitions","column":"request_date","concept":"date","score":1},{"table":"purchase_requisitions","column":"required_date","concept":"date","score":1},{"table":"purchase_requisitions","column":"approved_date","concept":"date","score":1}]},"columns_pruned":12,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["purchase_orders","sales_orders","goods_receipts","purchase_requisitions","order_lines"],"skeleton_sql":"purchase_orders\nJOIN goods_receipts ON goods_receipts.po_id = purchase_orders.po_id\nJOIN purchase_requisitions ON purchase_orders.requisition_id = purchase_requisitions.requisition_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3823,"completion_tokens":374,"sql_generated":"SELECT po.po_id, po.po_number, po.expected_date, gr.receipt_date FROM purchase_orders po LEFT JOIN goods_receipts gr ON gr.po_id = po.po_id AND gr.receipt_date IS NOT NULL WHERE po.expected_date < CURRENT_DATE AND gr.receipt_date IS NULL","tables_used_in_sql":["purchase_orders","purchase_orders","purchase_orders","sales_orders","goods_receipts","sales_orders","sales_orders","purchase_requisitions","purchase_requisitions","purchase_requisitions","order_lines","order_lines","order_lines","goods_receipts","goods_receipts"],"explain_result":"success","rows_returned":1000,"total_latency_ms":7818}
{"timestamp":"2026-02-12T20:44:21.555Z","query_id":"15a87401-6d96-4d23-8fad-dc7de81ba0b5","question":"Show the approval rate for purchase requisitions","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":50,"glosses_ms":0,"linker_ms":2,"pruning_ms":0,"planner_ms":0,"first_generation_ms":10805,"validation_ms":0,"execution_ms":0,"total_ms":10859},"retriever_version":"V1","tables_retrieved":["purchase_requisitions","purchase_requisitions","purchase_requisitions","purchase_orders","purchase_orders","purchase_orders","requisition_lines","requisition_lines","requisition_lines","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoices","sales_orders"],"total_retrieval_latency_ms":50,"module_route":{"modules":["Procurement","Sales","Inventory"],"confidences":[0.6427500726788755,0.5960400617040607,0.5852234941282601],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["approval","rate","requisitions"],"top_linked":[{"table":"purchase_orders","column":"po_id","concept":"purchase","score":0.8},{"table":"purchase_orders","column":"po_number","concept":"purchase","score":0.8},{"table":"vendor_invoices","column":"po_id","concept":"purchase","score":0.8}]},"columns_pruned":15,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["purchase_orders","vendor_invoices","purchase_requisitions","requisition_lines"],"skeleton_sql":"purchase_orders\nJOIN vendor_invoices ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN purchase_requisitions ON purchase_orders.requisition_id = purchase_requisitions.requisition_id\nJOIN requisition_lines ON requisition_lines.requisition_id = purchase_requisitions.requisition_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":1,"selected_candidate_index":1,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias"}]},"prompt_tokens":3571,"completion_tokens":430,"sql_generated":"SELECT approved_by, COUNT(*) FILTER (WHERE status = 'Approved') * 100.0 / COUNT(*) AS approval_rate FROM purchase_requisitions GROUP BY approved_by","tables_used_in_sql":["purchase_requisitions","purchase_requisitions","purchase_requisitions","purchase_orders","purchase_orders","purchase_orders","requisition_lines","requisition_lines","requisition_lines","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoices","sales_orders"],"pg_normalize":{"applied":true,"transforms":["DIVISION_SAFETY_NULLIF"],"changed":true},"explain_result":"success","rows_returned":51,"total_latency_ms":10859}
{"timestamp":"2026-02-12T20:44:32.413Z","query_id":"bb6fa612-a30d-46d0-bc10-a9b71bb14f06","question":"What is the total debit and credit for each account in the current period?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":50,"glosses_ms":0,"linker_ms":2,"pruning_ms":0,"planner_ms":0,"first_generation_ms":6798,"validation_ms":0,"execution_ms":2,"total_ms":6852},"retriever_version":"V1","tables_retrieved":["bank_accounts","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","depreciation_entries","depreciation_schedules","bank_transactions","bank_transactions","bank_transactions","fiscal_periods","chart_of_accounts","budget_lines"],"total_retrieval_latency_ms":50,"module_route":{"modules":["Finance","Assets","Projects"],"confidences":[0.6820847512994077,0.6316146260622317,0.6029159033276472],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":15,"unsupported_concepts":["debit","credit"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"current_balance","concept":"current","score":1},{"table":"depreciation_entries","column":"period_id","concept":"period","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1},{"table":"fiscal_periods","column":"period_id","concept":"period","score":1},{"table":"fiscal_periods","column":"period_number","concept":"period","score":1},{"table":"chart_of_accounts","column":"account_id","concept":"account","score":1}]},"columns_pruned":2,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","chart_of_accounts","fiscal_periods","budget_lines","depreciation_entries","bank_transactions"],"skeleton_sql":"bank_accounts\nJOIN chart_of_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id\nJOIN budget_lines ON budget_lines.account_id = chart_of_accounts.account_id\nJOIN fiscal_periods ON budget_lines.period_id = fiscal_periods.period_id\nJOIN depreciation_entries ON depreciation_entries.period_id = fiscal_periods.period_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3192,"completion_tokens":266,"sql_generated":"SELECT ba.account_number, SUM(CASE WHEN bt.transaction_type = 'Debit' THEN bt.amount ELSE 0 END) AS total_debit, SUM(CASE WHEN bt.transaction_type = 'Credit' THEN bt.amount ELSE 0 END) AS total_credit FROM bank_transactions bt JOIN bank_accounts ba ON bt.bank_account_id = ba.bank_account_id WHERE bt.transaction_date BETWEEN (SELECT start_date FROM fiscal_periods WHERE is_closed IS FALSE LIMIT 1) AND (SELECT end_date FROM fiscal_periods WHERE is_closed IS FALSE LIMIT 1) GROUP BY ba.account_number","tables_used_in_sql":["bank_accounts","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","depreciation_entries","depreciation_schedules","bank_transactions","bank_transactions","bank_transactions","fiscal_periods","chart_of_accounts","budget_lines"],"explain_result":"success","rows_returned":5,"total_latency_ms":6852}
{"timestamp":"2026-02-12T20:44:39.265Z","query_id":"11f0bb1b-3712-425f-95d8-656ef2c61bae","question":"List all posted journal entries for the current month","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":47,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":7514,"validation_ms":0,"execution_ms":3,"total_ms":7569},"retriever_version":"V1","tables_retrieved":["journal_entries","journal_entries","journal_entries","depreciation_entries","journal_lines","journal_lines","journal_lines","depreciation_entries","depreciation_entries","timesheet_entries","timesheet_entries","timesheet_entries","depreciation_schedules","depreciation_schedules","fiscal_years"],"total_retrieval_latency_ms":47,"module_route":{"modules":["Finance","Assets","Projects"],"confidences":[0.621986778545572,0.5716830050727633,0.5519832117436305],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["entries","current"],"top_linked":[{"table":"journal_entries","column":"posted_by","concept":"posted","score":1},{"table":"depreciation_entries","column":"journal_entry_id","concept":"journal","score":1},{"table":"depreciation_schedules","column":"useful_life_months","concept":"month","score":0.8},{"table":"depreciation_schedules","column":"monthly_amount","concept":"month","score":0.8}]},"columns_pruned":1,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["journal_entries","depreciation_entries","journal_lines"],"skeleton_sql":"journal_entries\nJOIN depreciation_entries ON depreciation_entries.journal_entry_id = journal_entries.entry_id\nJOIN journal_lines ON journal_lines.entry_id = journal_entries.entry_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2985,"completion_tokens":388,"sql_generated":"SELECT je.entry_id, je.entry_number, je.entry_date, je.description, je.reference, je.posted_by, je.status, je.created_at FROM journal_entries je WHERE date_trunc('month', je.entry_date) = date_trunc('month', CURRENT_DATE) AND je.status = 'Posted'","tables_used_in_sql":["journal_entries","journal_entries","journal_entries","depreciation_entries","journal_lines","journal_lines","journal_lines","depreciation_entries","depreciation_entries","timesheet_entries","timesheet_entries","timesheet_entries","depreciation_schedules","depreciation_schedules","fiscal_years"],"explain_result":"success","rows_returned":0,"total_latency_ms":7569}
{"timestamp":"2026-02-12T20:44:46.834Z","query_id":"61f9114b-586a-46c2-aa1b-167dd4f07d40","question":"Show budget vs actual spending by department","attempt_count":3,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":77,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":12956,"validation_ms":0,"execution_ms":2,"total_ms":16564},"retriever_version":"V1","tables_retrieved":["budgets","budgets","budgets","project_budgets","project_budgets","project_budgets","budget_lines","departments","budget_lines","budget_lines","project_expenses","departments","departments","project_expenses","project_expenses"],"total_retrieval_latency_ms":77,"module_route":{"modules":["Finance","HR","Projects"],"confidences":[0.5677103664959317,0.5005047374118523,0.5213199542872742],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["vs","spending"],"top_linked":[{"table":"budgets","column":"budget_id","concept":"budget","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_budgets","column":"actual_amount","concept":"actual","score":1},{"table":"budget_lines","column":"budget_id","concept":"budget","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"departments","column":"budget","concept":"budget","score":1}]},"columns_pruned":1,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","budgets","budget_lines"],"skeleton_sql":"departments\nJOIN budgets ON budgets.department_id = departments.department_id\nJOIN budget_lines ON budget_lines.budget_id = budgets.budget_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2890,"completion_tokens":539,"sql_generated":"SELECT d.department_id, d.name AS department_name, SUM(b.total_amount) AS planned_budget, SUM(pb.actual_amount) AS actual_spending \nFROM departments d \nJOIN budgets b ON b.department_id = d.department_id \nJOIN project_budgets pb ON pb.budget_id = b.budget_id \nGROUP BY d.department_id, d.name;","tables_used_in_sql":[],"explain_result":"success","sqlstate":"42703","error_message":"column b.planned_amount does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","rows_returned":23,"total_latency_ms":16564,"shadow_whitelist_observations":[{"attempt":1,"failing_reference":"b.planned_amount","alias_resolved":"budgets","alias_ambiguous":false,"would_rewrite":false,"rewrite_to_column":"total_amount","rewrite_confidence":0.3,"rewrite_rejection_reason":"best_candidate_score_0.30_below_threshold_0.75","candidate_count":1,"strict_gating_passed":false,"strict_gating_failures":["score_0.30_below_floor_0.55","no_containment"],"autocorrect_attempted":true,"autocorrect_succeeded":false,"lexical_score":0.3,"containment_bonus":0,"has_containment":false,"dominance_delta":0.3,"is_keyword":false,"top_candidates":[{"column":"total_amount","score":0.3,"containment_bonus":0}],"active_gating_passed":false,"active_gating_failures":["score_0.30_below_floor_0.8","no_containment_or_exact"],"rewrite_would_fire_in_active_mode":false,"top1_score":0.3,"top2_score":null,"score_delta":null,"score_ratio":null,"risk_blacklist_action":"none","raw_candidate_count":1,"eligible_candidate_count":1,"pipeline_outcome":"success","would_have_helped":false,"would_have_been_redundant":false,"would_have_acted_on_success":false},{"attempt":2,"failing_reference":"b.planned_amount","alias_resolved":"budgets","alias_ambiguous":false,"would_rewrite":false,"rewrite_to_column":"total_amount","rewrite_confidence":0.3,"rewrite_rejection_reason":"best_candidate_score_0.30_below_threshold_0.75","candidate_count":1,"strict_gating_passed":false,"strict_gating_failures":["score_0.30_below_floor_0.55","no_containment"],"autocorrect_attempted":true,"autocorrect_succeeded":false,"lexical_score":0.3,"containment_bonus":0,"has_containment":false,"dominance_delta":0.3,"is_keyword":false,"top_candidates":[{"column":"total_amount","score":0.3,"containment_bonus":0}],"active_gating_passed":false,"active_gating_failures":["score_0.30_below_floor_0.8","no_containment_or_exact"],"rewrite_would_fire_in_active_mode":false,"top1_score":0.3,"top2_score":null,"score_delta":null,"score_ratio":null,"risk_blacklist_action":"none","raw_candidate_count":1,"eligible_candidate_count":1,"pipeline_outcome":"success","would_have_helped":false,"would_have_been_redundant":false,"would_have_acted_on_success":false}]}
{"timestamp":"2026-02-12T20:45:03.398Z","query_id":"e274154b-f95e-4610-ad27-3232eb437cac","question":"What is the total expense amount per project?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":54,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":2882,"validation_ms":0,"execution_ms":1,"total_ms":2940},"retriever_version":"V1","tables_retrieved":["project_expenses","project_expenses","project_expenses","project_budgets","project_budgets","project_budgets","project_milestones","project_milestones","project_milestones","projects","projects","project_resources","project_resources","project_resources","projects"],"total_retrieval_latency_ms":54,"module_route":{"modules":["Projects","Finance","Assets"],"confidences":[0.676157984147777,0.5752672839977457,0.5892418783729241],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":16,"unsupported_concepts":[],"top_linked":[{"table":"project_expenses","column":"expense_id","concept":"expense","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"project_expenses","column":"expense_date","concept":"expense","score":1},{"table":"project_expenses","column":"amount","concept":"amount","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_budgets","column":"planned_amount","concept":"amount","score":1},{"table":"project_budgets","column":"actual_amount","concept":"amount","score":1},{"table":"project_milestones","column":"project_id","concept":"project","score":1},{"table":"project_milestones","column":"amount","concept":"amount","score":1},{"table":"projects","column":"project_id","concept":"project","score":1}]},"columns_pruned":6,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_expenses","projects","project_budgets","project_resources","project_milestones"],"skeleton_sql":"project_expenses\nJOIN projects ON project_expenses.project_id = projects.project_id\nJOIN project_budgets ON project_budgets.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3131,"completion_tokens":84,"sql_generated":"SELECT p.project_id, SUM(pe.amount) AS total_expense_amount FROM projects p JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id","tables_used_in_sql":["project_expenses","project_expenses","project_expenses","project_budgets","project_budgets","project_budgets","project_milestones","project_milestones","project_milestones","projects","projects","project_resources","project_resources","project_resources","projects"],"explain_result":"success","rows_returned":100,"total_latency_ms":2940}
{"timestamp":"2026-02-12T20:45:06.338Z","query_id":"baa5fce9-c670-4675-ba4f-694598afb0ed","question":"List projects that are over budget","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":45,"glosses_ms":0,"linker_ms":1,"pruning_ms":0,"planner_ms":0,"first_generation_ms":10863,"validation_ms":0,"execution_ms":1,"total_ms":10911},"retriever_version":"V1","tables_retrieved":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","project_milestones","projects","projects","projects","project_resources","project_milestones","project_milestones","budgets","budgets"],"total_retrieval_latency_ms":45,"module_route":{"modules":["Projects","Finance","Assets"],"confidences":[0.6467013339330956,0.5471531435198711,0.549415898809859],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["projects"],"top_linked":[{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"projects","column":"budget","concept":"budget","score":1},{"table":"budgets","column":"budget_id","concept":"budget","score":1}]},"columns_pruned":6,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_budgets","projects","project_expenses","project_milestones","project_resources"],"skeleton_sql":"project_budgets\nJOIN projects ON project_budgets.project_id = projects.project_id\nJOIN project_expenses ON project_expenses.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2985,"completion_tokens":524,"sql_generated":"SELECT p.project_id, p.name, pb.planned_amount, SUM(pe.amount) AS actual_amount FROM projects p JOIN project_budgets pb ON p.project_id = pb.project_id LEFT JOIN project_expenses pe ON p.project_id = pe.project_id AND pe.status = 'Approved' GROUP BY p.project_id, p.name, pb.planned_amount HAVING SUM(pe.amount) > pb.planned_amount","tables_used_in_sql":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","project_milestones","projects","projects","projects","project_resources","project_milestones","project_milestones","budgets","budgets"],"explain_result":"success","rows_returned":0,"total_latency_ms":10911}
{"timestamp":"2026-02-12T20:45:17.249Z","query_id":"bc8dca3d-acc3-4ae8-a4ab-4c834bc6d658","question":"Show project resources and their allocation percentages","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":43,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":5501,"validation_ms":0,"execution_ms":1,"total_ms":5548},"retriever_version":"V1","tables_retrieved":["project_resources","project_resources","project_resources","project_budgets","project_budgets","project_budgets","project_expenses","projects","project_expenses","project_expenses","task_assignments","project_tasks","project_milestones","projects","projects"],"total_retrieval_latency_ms":43,"module_route":{"modules":["Projects","Assets","HR"],"confidences":[0.6718958463243488,0.6107490024847629,0.5614614033173991],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["resources","percentages"],"top_linked":[{"table":"project_resources","column":"project_id","concept":"project","score":1},{"table":"project_resources","column":"allocation_percent","concept":"allocation","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"projects","column":"project_id","concept":"project","score":1},{"table":"projects","column":"project_number","concept":"project","score":1},{"table":"projects","column":"project_manager_id","concept":"project","score":1},{"table":"project_milestones","column":"project_id","concept":"project","score":1}]},"columns_pruned":10,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["projects","project_resources","project_budgets","project_expenses","project_milestones","task_assignments","project_tasks"],"skeleton_sql":"projects\nJOIN project_resources ON project_resources.project_id = projects.project_id\nJOIN project_budgets ON project_budgets.project_id = projects.project_id\nJOIN project_expenses ON project_expenses.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":2,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3048,"completion_tokens":189,"sql_generated":"SELECT pr.project_id, pr.employee_id, pr.role, pr.allocation_percent FROM projects p JOIN project_resources pr ON pr.project_id = p.project_id","tables_used_in_sql":["project_resources","project_resources","project_resources","project_budgets","project_budgets","project_budgets","project_expenses","projects","project_expenses","project_expenses","task_assignments","project_tasks","project_milestones","projects","projects"],"explain_result":"success","rows_returned":300,"total_latency_ms":5548}
{"timestamp":"2026-02-12T20:45:22.797Z","query_id":"9dab141c-8a1a-49ef-9b99-d87f2a4e1319","question":"List fixed assets by category with their total purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":70,"glosses_ms":0,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":8731,"validation_ms":0,"execution_ms":1,"total_ms":8804},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_categories","asset_categories","asset_categories","asset_maintenance","asset_maintenance","asset_maintenance","products","products","depreciation_schedules","depreciation_schedules","products","depreciation_schedules"],"total_retrieval_latency_ms":70,"module_route":{"modules":["Assets","Procurement","Inventory"],"confidences":[0.7257433212682611,0.6070729014973074,0.6141358644138465],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["fixed","assets"],"top_linked":[{"table":"fixed_assets","column":"category_id","concept":"category","score":1},{"table":"fixed_assets","column":"purchase_date","concept":"purchase","score":1},{"table":"fixed_assets","column":"purchase_cost","concept":"purchase","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"asset_maintenance","column":"cost","concept":"cost","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"products","column":"unit_cost","concept":"cost","score":1},{"table":"fixed_assets","column":"po_id","concept":"purchase","score":0.8}]},"columns_pruned":9,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_categories","asset_maintenance","depreciation_schedules"],"skeleton_sql":"fixed_assets\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3300,"completion_tokens":333,"sql_generated":"SELECT ac.name AS category_name, SUM(fa.purchase_cost) AS total_purchase_cost FROM fixed_assets fa JOIN asset_categories ac ON fa.category_id = ac.category_id GROUP BY ac.name","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_categories","asset_categories","asset_categories","asset_maintenance","asset_maintenance","asset_maintenance","products","products","depreciation_schedules","depreciation_schedules","products","depreciation_schedules"],"explain_result":"success","rows_returned":7,"total_latency_ms":8804}
{"timestamp":"2026-02-12T20:45:31.602Z","query_id":"98bc1844-c303-436b-b005-3ff03053caab","question":"List assets due for maintenance in the next 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":98,"glosses_ms":2,"linker_ms":1,"pruning_ms":0,"planner_ms":1,"first_generation_ms":12936,"validation_ms":0,"execution_ms":1,"total_ms":13039},"retriever_version":"V1","tables_retrieved":["asset_maintenance","asset_maintenance","asset_maintenance","fixed_assets","fixed_assets","fixed_assets","depreciation_schedules","depreciation_schedules","depreciation_schedules","maintenance_types","maintenance_types","asset_transfers","maintenance_types","asset_transfers","asset_transfers"],"total_retrieval_latency_ms":98,"module_route":{"modules":["Assets","Finance","Projects"],"confidences":[0.700821310891108,0.575682266101458,0.5712385710619057],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["assets","due","next","days"],"top_linked":[{"table":"asset_maintenance","column":"maintenance_id","concept":"maintenance","score":1},{"table":"asset_maintenance","column":"maintenance_type_id","concept":"maintenance","score":1}]},"columns_pruned":6,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["asset_maintenance","fixed_assets","depreciation_schedules","maintenance_types","asset_transfers"],"skeleton_sql":"asset_maintenance\nJOIN fixed_assets ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN maintenance_types ON asset_maintenance.maintenance_type_id = maintenance_types.type_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3335,"completion_tokens":520,"sql_generated":"SELECT fa.asset_id, fa.name, am.scheduled_date, mt.name AS maintenance_type FROM fixed_assets fa JOIN asset_maintenance am ON fa.asset_id = am.asset_id JOIN maintenance_types mt ON am.maintenance_type_id = mt.type_id WHERE am.scheduled_date BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '30 days'","tables_used_in_sql":["asset_maintenance","asset_maintenance","asset_maintenance","fixed_assets","fixed_assets","fixed_assets","depreciation_schedules","depreciation_schedules","depreciation_schedules","maintenance_types","maintenance_types","asset_transfers","maintenance_types","asset_transfers","asset_transfers"],"explain_result":"success","rows_returned":0,"total_latency_ms":13039}
{"timestamp":"2026-02-12T20:45:44.641Z","query_id":"dad93ade-1ebb-4b25-b516-44f1b002b7d6","question":"How many documents are attached to each entity type?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":83,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":1910,"validation_ms":0,"execution_ms":0,"total_ms":1997},"retriever_version":"V1","tables_retrieved":["document_attachments","document_attachments","document_attachments","maintenance_types","maintenance_types","benefit_types","benefit_types","asset_categories","asset_categories","asset_categories","certifications","certifications","departments","departments","maintenance_types"],"total_retrieval_latency_ms":83,"module_route":{"modules":["Common","Assets","HR"],"confidences":[0.6099410037842294,0.6071622744741,0.6001465631223495],"method":"embedding"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":5,"unsupported_concepts":["documents","attached"],"top_linked":[{"table":"document_attachments","column":"entity_type","concept":"entity","score":1},{"table":"document_attachments","column":"entity_id","concept":"entity","score":1},{"table":"document_attachments","column":"mime_type","concept":"type","score":1},{"table":"maintenance_types","column":"type_id","concept":"type","score":1},{"table":"benefit_types","column":"benefit_type_id","concept":"type","score":1}]},"columns_pruned":2,"join_plan":{"used":false,"candidate_count":0,"selected_tables":[],"skeleton_sql":null},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2350,"completion_tokens":132,"sql_generated":"SELECT entity_type, COUNT(*) AS document_count FROM document_attachments GROUP BY entity_type","tables_used_in_sql":["document_attachments","document_attachments","document_attachments","maintenance_types","maintenance_types","benefit_types","benefit_types","asset_categories","asset_categories","asset_categories","certifications","certifications","departments","departments","maintenance_types"],"explain_result":"success","rows_returned":7,"total_latency_ms":1997}
{"timestamp":"2026-02-12T20:45:46.638Z","query_id":"81d04051-81db-4f21-87d9-a68ac524f431","question":"Calculate employee turnover rate by department for 2024","attempt_count":2,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":93,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":24674,"validation_ms":1,"total_ms":28802},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","employee_salaries","employee_salaries","employee_salaries","departments","positions","positions","positions","departments","departments","budgets","employee_training","employment_history"],"total_retrieval_latency_ms":93,"module_route":{"modules":["HR","Assets","Finance"],"confidences":[0.6353268662455963,0.5849812909990083,0.5784689335665294],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":["calculate","turnover","rate"],"top_linked":[{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"employee_training","column":"employee_id","concept":"employee","score":1},{"table":"employment_history","column":"employee_id","concept":"employee","score":1}]},"columns_pruned":7,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","employee_salaries","positions","budgets","employee_training","employment_history"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN positions ON employees.position_id = positions.position_id\nJOIN budgets ON budgets.approved_by = employees.employee_id\nJOIN employee_training ON employee_training.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":2,"candidates_rejected":2,"selected_candidate_index":2,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":4,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens, join_without_condition, join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3126,"completion_tokens":715,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":28802,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-12T20:46:15.440Z","query_id":"adaf6321-11cb-4201-a62c-42643b4cbc0f","question":"Find the salary percentile ranking for each employee within their department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":105,"glosses_ms":2,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":9968,"validation_ms":0,"execution_ms":3,"total_ms":10081},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_salaries","positions","positions","positions","employees","departments","employees","employees","departments","departments","sales_regions","performance_reviews","performance_reviews"],"total_retrieval_latency_ms":105,"module_route":{"modules":["HR","Sales","Finance"],"confidences":[0.6677084289922868,0.6117316238421459,0.5982580642330567],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":12,"unsupported_concepts":["percentile","ranking","within"],"top_linked":[{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"positions","column":"min_salary","concept":"salary","score":1},{"table":"positions","column":"max_salary","concept":"salary","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"departments","column":"department_id","concept":"department","score":1}]},"columns_pruned":9,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","positions","employee_salaries","departments","performance_reviews","sales_regions"],"skeleton_sql":"employees\nJOIN positions ON employees.position_id = positions.position_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN departments ON employees.department_id = departments.department_id\nJOIN performance_reviews ON performance_reviews.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":105,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3119,"completion_tokens":497,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, e.department_id, es.amount AS salary, PERCENT_RANK() OVER (PARTITION BY e.department_id ORDER BY es.amount) AS salary_percentile_rank FROM employees e JOIN employee_salaries es ON es.employee_id = e.employee_id","tables_used_in_sql":["employee_salaries","employee_salaries","employee_salaries","positions","positions","positions","employees","departments","employees","employees","departments","departments","sales_regions","performance_reviews","performance_reviews"],"explain_result":"success","rows_returned":900,"total_latency_ms":10081}
{"timestamp":"2026-02-12T20:46:25.521Z","query_id":"45dae18d-ec8c-4a33-be18-b27c98e898ff","question":"Identify employees who have not completed mandatory training","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":53,"glosses_ms":0,"linker_ms":2,"pruning_ms":1,"planner_ms":0,"first_generation_ms":9595,"validation_ms":0,"execution_ms":1,"total_ms":9654},"retriever_version":"V1","tables_retrieved":["employee_training","employee_training","employee_training","training_courses","training_courses","training_courses","employee_certifications","employee_certifications","employee_certifications","employees","employees","employees","leave_requests","employee_salaries","employee_salaries"],"total_retrieval_latency_ms":53,"module_route":{"modules":["HR","Sales","Procurement"],"confidences":[0.64640606633454,0.540978426940899,0.5245556051736402],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["identify","employees","completed"],"top_linked":[{"table":"employee_training","column":"training_id","concept":"training","score":1},{"table":"training_courses","column":"is_mandatory","concept":"mandatory","score":1}]},"columns_pruned":8,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employee_training","training_courses","employee_certifications","employees","leave_requests","employee_salaries"],"skeleton_sql":"employee_training\nJOIN training_courses ON employee_training.course_id = training_courses.course_id\nJOIN employees ON employee_training.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN leave_requests ON leave_requests.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2993,"completion_tokens":387,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name FROM employees e JOIN employee_training et ON e.employee_id = et.employee_id JOIN training_courses tc ON et.course_id = tc.course_id WHERE tc.is_mandatory AND et.status != 'Completed'","tables_used_in_sql":["employee_training","employee_training","employee_training","training_courses","training_courses","training_courses","employee_certifications","employee_certifications","employee_certifications","employees","employees","employees","leave_requests","employee_salaries","employee_salaries"],"explain_result":"success","rows_returned":408,"total_latency_ms":9654}
{"timestamp":"2026-02-12T20:46:35.175Z","query_id":"b1a55718-d1f1-4733-9bc9-48b1b226fcec","question":"Calculate month-over-month sales growth rate for the past 12 months","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":71,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":15023,"validation_ms":0,"total_ms":20433},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","sales_orders","sales_orders","sales_orders","sales_regions","sales_quotes","sales_regions","sales_regions","sales_quotes","sales_quotes","sales_territories","stock_transfers","fiscal_periods"],"total_retrieval_latency_ms":71,"module_route":{"modules":["Sales","Finance","Inventory"],"confidences":[0.6114578940600388,0.5781428462288493,0.5635061495748314],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["calculate","month","month","growth","rate","past","months"],"top_linked":[{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"columns_pruned":9,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","sales_opportunities","sales_regions","sales_quotes","sales_territories"],"skeleton_sql":"sales_orders\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN sales_opportunities ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":0,"candidates_rejected":3,"selected_candidate_index":null,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"}]},"prompt_tokens":3156,"completion_tokens":734,"sql_generated":"SELECT \n        date_trunc('month', order_date) AS month,\n        SUM(total) AS sales\n    FROM \n        sales_orders\n    GROUP BY \n        1\n)\nSELECT \n    month, \n    sales, \n    (sales - LAG(sales) OVER (ORDER BY month)) * 100.0 / NULLIF(LAG(sales) OVER (ORDER BY month), 0) AS growth_pct \nFROM \n    monthly_sales\nWHERE \n    month >= CURRENT_DATE - INTERVAL '12 months';","tables_used_in_sql":[],"total_latency_ms":20433,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:46:55.608Z","query_id":"6eb8069f-0e48-4cc9-a4df-99c124816f86","question":"Find the average order value and order frequency for each customer segment based on credit limit","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":66,"glosses_ms":0,"linker_ms":2,"pruning_ms":0,"planner_ms":0,"first_generation_ms":9531,"validation_ms":0,"total_ms":12418},"retriever_version":"V1","tables_retrieved":["customers","customers","customers","order_lines","sales_orders","order_lines","order_lines","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","po_lines","po_lines","po_lines"],"total_retrieval_latency_ms":66,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.6727687453502137,0.6421562011203431,0.6251572452931817],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":12,"unsupported_concepts":["value","frequency","segment","based"],"top_linked":[{"table":"customers","column":"customer_id","concept":"customer","score":1},{"table":"customers","column":"customer_number","concept":"customer","score":1},{"table":"customers","column":"credit_limit","concept":"credit","score":1},{"table":"order_lines","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_number","concept":"order","score":1},{"table":"sales_orders","column":"customer_id","concept":"customer","score":1},{"table":"sales_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"po_id","concept":"order","score":0.7}]},"columns_pruned":14,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","customers","purchase_orders","order_lines","po_lines"],"skeleton_sql":"sales_orders\nJOIN customers ON sales_orders.customer_id = customers.customer_id\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":0,"candidates_rejected":3,"selected_candidate_index":null,"evaluation_time_ms":0,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"}]},"prompt_tokens":3678,"completion_tokens":366,"sql_generated":"SELECT \n    c.credit_limit,\n    AVG(s.total) AS average_order_value,\n    COUNT(o.order_id) AS order_frequency\nFROM \n    customers c\nJOIN \n    sales_orders o ON c.customer_id = o.customer_id\nGROUP BY \n    c.credit_limit;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"s\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Alias 's' not defined. Possible table: sales_orders. Define alias in FROM/JOIN clause.","total_latency_ms":12418,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"s\"","error_class":"sql_error"}
{"timestamp":"2026-02-12T20:47:08.026Z","query_id":"90c77680-9a96-49f1-bcee-e245a43c664c","question":"What is the sales pipeline weighted value by stage and expected close month?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":100,"glosses_ms":1,"linker_ms":2,"pruning_ms":0,"planner_ms":0,"first_generation_ms":6039,"validation_ms":0,"execution_ms":2,"total_ms":6144},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","purchase_orders","opportunity_stages","opportunity_stages","sales_orders","vendor_invoices","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoice_lines","sales_quotes"],"total_retrieval_latency_ms":100,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.5961601378459042,0.5706488433510485,0.5544655885968259],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":7,"unsupported_concepts":["pipeline","weighted","value","month"],"top_linked":[{"table":"sales_opportunities","column":"stage_id","concept":"stage","score":1},{"table":"sales_opportunities","column":"expected_close_date","concept":"expected","score":1},{"table":"sales_opportunities","column":"actual_close_date","concept":"close","score":1},{"table":"opportunity_stages","column":"stage_id","concept":"stage","score":1},{"table":"purchase_orders","column":"expected_date","concept":"expected","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"opportunity_stages","column":"is_closed","concept":"close","score":0.8}]},"columns_pruned":17,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","purchase_orders","sales_orders","vendor_invoices","vendor_invoice_lines","sales_quotes"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id\nJOIN sales_quotes ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":1,"candidates_rejected":1,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3464,"completion_tokens":227,"sql_generated":"SELECT os.stage_id, os.name AS stage_name, date_trunc('month', os.expected_close_date) AS expected_month, SUM(os.amount * os.probability) AS weighted_value FROM sales_opportunities os JOIN opportunity_stages osa ON os.stage_id = osa.stage_id GROUP BY os.stage_id, os.name, date_trunc('month', os.expected_close_date) ORDER BY expected_month","tables_used_in_sql":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","purchase_orders","opportunity_stages","opportunity_stages","sales_orders","vendor_invoices","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoice_lines","sales_quotes"],"explain_result":"success","rows_returned":500,"total_latency_ms":6144}
{"timestamp":"2026-02-12T20:47:14.170Z","query_id":"5516488b-d035-4da2-9261-6190f1224c62","question":"Calculate inventory turnover ratio by product category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":42,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":13603,"validation_ms":0,"execution_ms":4,"total_ms":13654},"retriever_version":"V1","tables_retrieved":["inventory_levels","inventory_levels","inventory_levels","products","asset_categories","inventory_transactions","products","products","product_categories","asset_categories","asset_categories","inventory_transactions","inventory_transactions","product_categories","product_categories"],"total_retrieval_latency_ms":42,"module_route":{"modules":["Inventory","Assets","Procurement"],"confidences":[0.6884960092342306,0.647766271827726,0.6119881430513051],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":["calculate","inventory","turnover"],"top_linked":[{"table":"inventory_levels","column":"product_id","concept":"product","score":1},{"table":"products","column":"product_id","concept":"product","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"inventory_transactions","column":"product_id","concept":"product","score":1},{"table":"product_categories","column":"category_id","concept":"category","score":1},{"table":"product_categories","column":"parent_category_id","concept":"category","score":1},{"table":"asset_categories","column":"salvage_value_percent","concept":"ratio","score":0.5},{"table":"inventory_transactions","column":"transaction_type","concept":"category","score":0.5},{"table":"inventory_transactions","column":"reference_type","concept":"category","score":0.5}]},"columns_pruned":3,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_transactions","products","product_categories","inventory_levels"],"skeleton_sql":"inventory_transactions\nJOIN products ON inventory_transactions.product_id = products.product_id\nJOIN product_categories ON products.category_id = product_categories.category_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":5,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":5,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2993,"completion_tokens":674,"sql_generated":"SELECT pc.category_id, pc.name AS category_name, SUM(il.quantity_on_hand) / NULLIF(SUM(it.quantity), 0) AS inventory_turnover_ratio FROM inventory_transactions it JOIN products p ON it.product_id = p.product_id JOIN product_categories pc ON p.category_id = pc.category_id JOIN inventory_levels il ON il.product_id = p.product_id GROUP BY pc.category_id, pc.name","tables_used_in_sql":["inventory_levels","inventory_levels","inventory_levels","products","asset_categories","inventory_transactions","products","products","product_categories","asset_categories","asset_categories","inventory_transactions","inventory_transactions","product_categories","product_categories"],"explain_result":"success","rows_returned":30,"total_latency_ms":13654}
{"timestamp":"2026-02-12T20:47:27.824Z","query_id":"788e9dba-5d4f-4c17-8799-677abaf62b70","question":"Identify products with significant inventory discrepancies (adjustment > 10% of stock)","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":41,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":18618,"validation_ms":0,"execution_ms":1,"total_ms":18664},"retriever_version":"V1","tables_retrieved":["inventory_adjustments","inventory_adjustments","inventory_adjustments","adjustment_lines","adjustment_lines","adjustment_lines","fixed_assets","inventory_levels","inventory_levels","inventory_levels","products","stock_transfers","inventory_transactions","fixed_assets","fixed_assets"],"total_retrieval_latency_ms":41,"module_route":{"modules":["Inventory","Assets","Sales"],"confidences":[0.8,0.5884144045800249,0.5640648464817372],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["identify","products","significant","inventory","discrepancies","stock"],"top_linked":[{"table":"inventory_adjustments","column":"adjustment_id","concept":"adjustment","score":1},{"table":"inventory_adjustments","column":"adjustment_number","concept":"adjustment","score":1},{"table":"inventory_adjustments","column":"adjustment_date","concept":"adjustment","score":1},{"table":"adjustment_lines","column":"adjustment_id","concept":"adjustment","score":1}]},"columns_pruned":9,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_adjustments","adjustment_lines","inventory_levels","products","inventory_transactions"],"skeleton_sql":"inventory_adjustments\nJOIN adjustment_lines ON adjustment_lines.adjustment_id = inventory_adjustments.adjustment_id\nJOIN products ON adjustment_lines.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3410,"completion_tokens":877,"sql_generated":"SELECT p.product_id, p.name, SUM(al.quantity_change) AS total_adjustment, il.quantity_on_hand AS current_stock FROM adjustment_lines al JOIN inventory_levels il ON il.level_id = al.location_id AND il.product_id = al.product_id JOIN products p ON p.product_id = al.product_id GROUP BY p.product_id, p.name, il.quantity_on_hand HAVING ABS(SUM(al.quantity_change) / NULLIF(il.quantity_on_hand, 0)) > 0.1","tables_used_in_sql":["inventory_adjustments","inventory_adjustments","inventory_adjustments","adjustment_lines","adjustment_lines","adjustment_lines","fixed_assets","inventory_levels","inventory_levels","inventory_levels","products","stock_transfers","inventory_transactions","fixed_assets","fixed_assets"],"explain_result":"success","rows_returned":0,"total_latency_ms":18664}
{"timestamp":"2026-02-12T20:47:46.488Z","query_id":"b805152d-8bec-4798-9553-2ddca55f83fc","question":"Calculate vendor performance score based on on-time delivery and invoice accuracy","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":50,"glosses_ms":0,"linker_ms":2,"pruning_ms":1,"planner_ms":0,"first_generation_ms":16092,"validation_ms":0,"total_ms":22101},"retriever_version":"V1","tables_retrieved":["vendor_invoices","vendor_invoices","vendor_invoices","purchase_orders","vendors","purchase_orders","purchase_orders","vendor_invoice_lines","vendor_invoice_lines","product_suppliers","vendors","vendors","vendor_invoice_lines","vendor_contacts","product_suppliers"],"total_retrieval_latency_ms":50,"module_route":{"modules":["Procurement","Sales","Inventory"],"confidences":[0.6345052373741285,0.5742019406582648,0.556210253518098],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":18,"unsupported_concepts":["calculate","performance","score","based","delivery","accuracy"],"top_linked":[{"table":"vendor_invoices","column":"invoice_id","concept":"invoice","score":1},{"table":"vendor_invoices","column":"invoice_number","concept":"invoice","score":1},{"table":"vendor_invoices","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"invoice_date","concept":"invoice","score":1},{"table":"purchase_orders","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_number","concept":"vendor","score":1},{"table":"vendor_invoice_lines","column":"invoice_id","concept":"invoice","score":1},{"table":"product_suppliers","column":"vendor_id","concept":"vendor","score":1},{"table":"product_suppliers","column":"vendor_sku","concept":"vendor","score":1}]},"columns_pruned":12,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendor_invoices","purchase_orders","vendors","product_suppliers","vendor_invoice_lines","vendor_contacts"],"skeleton_sql":"vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id\nJOIN product_suppliers ON product_suppliers.vendor_id = vendors.vendor_id\nJOIN vendor_contacts ON vendor_contacts.vendor_id = vendors.vendor_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":0,"candidates_rejected":3,"selected_candidate_index":null,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias"}]},"prompt_tokens":3702,"completion_tokens":676,"sql_generated":"SELECT \n    v.vendor_id,\n    v.name AS vendor_name,\n    AVG(CASE WHEN oi.due_date <= CURRENT_DATE THEN 1 ELSE 0 END) AS on_time_delivery_rate,\n    AVG(CASE WHEN vi.amount_paid = vi.total THEN 1 ELSE 0 END) AS invoice_accuracy_rate\nFROM \n    vendors v\nJOIN \n    purchase_orders po ON v.vendor_id = po.vendor_id\nJOIN \n    vendor_invoices vi ON po.po_id = vi.po_id\nLEFT JOIN \n    vendor_invoice_lines oi ON vi.invoice_id = oi.invoice_id\nGROUP BY \n    v.vendor_id, v.name;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column oi.due_date does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":3,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":22101,"shadow_whitelist_observations":[{"attempt":3,"failing_reference":"oi.due_date","alias_resolved":"vendor_invoice_lines","alias_ambiguous":false,"would_rewrite":false,"candidate_count":0,"strict_gating_passed":false,"strict_gating_failures":["score_0.00_below_floor_0.55","no_containment","no_candidates"],"autocorrect_attempted":true,"autocorrect_succeeded":false,"lexical_score":0,"containment_bonus":0,"has_containment":false,"dominance_delta":0,"is_keyword":false,"top_candidates":[],"active_gating_passed":false,"active_gating_failures":["no_candidates"],"rewrite_would_fire_in_active_mode":false,"top1_score":0,"top2_score":null,"score_delta":null,"score_ratio":null,"raw_candidate_count":0,"eligible_candidate_count":0,"pipeline_outcome":"failure","would_have_helped":false,"would_have_been_redundant":false,"would_have_acted_on_success":false}],"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column oi.due_date does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-12T20:48:08.589Z","query_id":"22f14527-4bbf-45ee-a50e-1817a22ad6ff","question":"Generate a trial balance for the current period showing debits and credits by account category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":55,"glosses_ms":1,"linker_ms":1,"pruning_ms":0,"planner_ms":0,"first_generation_ms":12861,"validation_ms":0,"execution_ms":1,"total_ms":12919},"retriever_version":"V1","tables_retrieved":["bank_accounts","asset_categories","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","account_types","depreciation_entries","account_types","account_types","depreciation_schedules","bank_transactions","asset_categories"],"total_retrieval_latency_ms":55,"module_route":{"modules":["Finance","Assets","HR"],"confidences":[0.6802230754587459,0.6372078008277233,0.6074915218918672],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":11,"unsupported_concepts":["generate","trial","showing","debits","credits"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"current_balance","concept":"balance","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"depreciation_entries","column":"period_id","concept":"period","score":1},{"table":"account_types","column":"category","concept":"category","score":1},{"table":"account_types","column":"normal_balance","concept":"balance","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1}]},"columns_pruned":2,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","bank_transactions"],"skeleton_sql":"bank_accounts\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2850,"completion_tokens":642,"sql_generated":"SELECT at.category, SUM(CASE WHEN bt.transaction_type = 'Debit' THEN bt.amount ELSE 0 END) AS debits, SUM(CASE WHEN bt.transaction_type = 'Credit' THEN bt.amount ELSE 0 END) AS credits FROM bank_transactions bt JOIN account_types at ON bt.transaction_type = at.category WHERE bt.transaction_date >= CURRENT_DATE - INTERVAL '1 month' GROUP BY at.category","tables_used_in_sql":["bank_accounts","asset_categories","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","account_types","depreciation_entries","account_types","account_types","depreciation_schedules","bank_transactions","asset_categories"],"explain_result":"success","rows_returned":0,"total_latency_ms":12919}
{"timestamp":"2026-02-12T20:48:21.508Z","query_id":"7d10712b-0022-4fb8-a937-d7c11b79ec97","question":"Calculate cash flow from bank transactions grouped by transaction type and month","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":62,"glosses_ms":1,"linker_ms":1,"pruning_ms":0,"planner_ms":0,"first_generation_ms":7383,"validation_ms":0,"execution_ms":1,"total_ms":7448},"retriever_version":"V1","tables_retrieved":["bank_transactions","bank_transactions","bank_transactions","bank_accounts","bank_accounts","bank_accounts","account_types","account_types","account_types","depreciation_entries","depreciation_entries","depreciation_entries","asset_categories","budget_lines","budget_lines"],"total_retrieval_latency_ms":62,"module_route":{"modules":["Finance","Assets","Sales"],"confidences":[0.642574540631586,0.6089956872005541,0.5743928571500148],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["calculate","cash","flow","transactions","grouped","month"],"top_linked":[{"table":"bank_transactions","column":"transaction_id","concept":"transaction","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_transactions","column":"transaction_date","concept":"transaction","score":1},{"table":"bank_transactions","column":"transaction_type","concept":"transaction","score":1},{"table":"bank_accounts","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_accounts","column":"bank_name","concept":"bank","score":1},{"table":"account_types","column":"type_id","concept":"type","score":1},{"table":"account_types","column":"category","concept":"type","score":0.5}]},"columns_pruned":2,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_transactions","bank_accounts"],"skeleton_sql":"bank_transactions\nJOIN bank_accounts ON bank_transactions.bank_account_id = bank_accounts.bank_account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2822,"completion_tokens":286,"sql_generated":"SELECT date_trunc('month', transaction_date) AS month, transaction_type, SUM(amount) AS cash_flow FROM bank_transactions GROUP BY month, transaction_type","tables_used_in_sql":["bank_transactions","bank_transactions","bank_transactions","bank_accounts","bank_accounts","bank_accounts","account_types","account_types","account_types","depreciation_entries","depreciation_entries","depreciation_entries","asset_categories","budget_lines","budget_lines"],"explain_result":"success","rows_returned":120,"total_latency_ms":7448}
{"timestamp":"2026-02-12T20:48:28.956Z","query_id":"93ca3914-8bca-4a16-9c80-5c3694e62f67","question":"Calculate project profitability comparing budget vs actual expenses","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":38,"glosses_ms":0,"linker_ms":2,"pruning_ms":0,"planner_ms":0,"first_generation_ms":13127,"validation_ms":0,"total_ms":17595},"retriever_version":"V1","tables_retrieved":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","budgets","budgets","budgets","project_resources","project_resources","project_resources","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":38,"module_route":{"modules":["Finance","Projects","Assets"],"confidences":[0.6000000000000001,0.6233102250745617,0.5365109349902923],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":7,"unsupported_concepts":["calculate","profitability","comparing","vs","expenses"],"top_linked":[{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_budgets","column":"actual_amount","concept":"actual","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_resources","column":"project_id","concept":"project","score":1},{"table":"budget_lines","column":"budget_id","concept":"budget","score":1}]},"columns_pruned":1,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["budgets","budget_lines"],"skeleton_sql":"budgets\nJOIN budget_lines ON budget_lines.budget_id = budgets.budget_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":0,"candidates_rejected":4,"selected_candidate_index":5,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":5,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":4,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"}]},"prompt_tokens":2920,"completion_tokens":557,"sql_generated":"SELECT \n    p.project_id,\n    b.budget_id,\n    SUM(b.planned_amount) AS planned_budget,\n    SUM(e.amount) AS actual_expenses,\n    (SUM(b.planned_amount) - SUM(e.amount)) AS profitability\nFROM \n    project_budgets p\nJOIN \n    budgets b ON p.budget_id = b.budget_id\nJOIN \n    project_expenses e ON p.project_id = e.project_id\nGROUP BY \n    p.project_id, b.budget_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column b.planned_amount does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":17595,"shadow_whitelist_observations":[{"attempt":3,"failing_reference":"b.planned_amount","alias_resolved":"budgets","alias_ambiguous":false,"would_rewrite":false,"rewrite_to_column":"total_amount","rewrite_confidence":0.3,"rewrite_rejection_reason":"best_candidate_score_0.30_below_threshold_0.75","candidate_count":1,"strict_gating_passed":false,"strict_gating_failures":["score_0.30_below_floor_0.55","no_containment"],"autocorrect_attempted":true,"autocorrect_succeeded":false,"lexical_score":0.3,"containment_bonus":0,"has_containment":false,"dominance_delta":0.3,"is_keyword":false,"top_candidates":[{"column":"total_amount","score":0.3,"containment_bonus":0}],"active_gating_passed":false,"active_gating_failures":["score_0.30_below_floor_0.8","no_containment_or_exact"],"rewrite_would_fire_in_active_mode":false,"top1_score":0.3,"top2_score":null,"score_delta":null,"score_ratio":null,"risk_blacklist_action":"none","raw_candidate_count":1,"eligible_candidate_count":1,"pipeline_outcome":"failure","would_have_helped":false,"would_have_been_redundant":false,"would_have_acted_on_success":false}],"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column b.planned_amount does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-12T20:48:46.551Z","query_id":"7ef89a49-7fec-45d6-804e-738d086166c7","question":"Find resource allocation by employee across all active projects","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":56,"glosses_ms":0,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":14344,"validation_ms":0,"execution_ms":1,"total_ms":14404},"retriever_version":"V1","tables_retrieved":["project_resources","project_resources","project_resources","task_assignments","project_expenses","task_assignments","task_assignments","projects","projects","projects","project_expenses","project_expenses","employee_salaries","employees","employee_salaries"],"total_retrieval_latency_ms":56,"module_route":{"modules":["Projects","HR","Assets"],"confidences":[0.6923034029971835,0.6523632686411246,0.6174819243766987],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":9,"unsupported_concepts":["across","projects"],"top_linked":[{"table":"project_resources","column":"resource_id","concept":"resource","score":1},{"table":"project_resources","column":"employee_id","concept":"employee","score":1},{"table":"project_resources","column":"allocation_percent","concept":"allocation","score":1},{"table":"task_assignments","column":"employee_id","concept":"employee","score":1},{"table":"project_expenses","column":"employee_id","concept":"employee","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"is_active","concept":"active","score":1}]},"columns_pruned":13,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_resources","employees","task_assignments","project_expenses","employee_salaries","projects"],"skeleton_sql":"project_resources\nJOIN employees ON project_resources.employee_id = employees.employee_id\nJOIN projects ON project_resources.project_id = projects.project_id\nJOIN task_assignments ON task_assignments.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN project_expenses ON project_expenses.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":2,"candidates_rejected":1,"selected_candidate_index":2,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias"}]},"prompt_tokens":3188,"completion_tokens":710,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, pr.project_id, pr.start_date, pr.end_date, pr.role, pr.allocation_percent FROM project_resources pr JOIN employees e ON pr.employee_id = e.employee_id WHERE e.is_active = TRUE","tables_used_in_sql":["project_resources","project_resources","project_resources","task_assignments","project_expenses","task_assignments","task_assignments","projects","projects","projects","project_expenses","project_expenses","employee_salaries","employees","employee_salaries"],"explain_result":"success","rows_returned":300,"total_latency_ms":14404}
{"timestamp":"2026-02-12T20:49:00.956Z","query_id":"6be4920f-5263-4c7e-9ea6-785d713f155e","question":"List all fixed assets with their assigned employees and current locations","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":49,"glosses_ms":0,"linker_ms":2,"pruning_ms":0,"planner_ms":0,"first_generation_ms":20223,"validation_ms":0,"execution_ms":1,"total_ms":20276},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_locations","asset_locations","asset_locations","asset_transfers","asset_maintenance","asset_transfers","asset_transfers","asset_maintenance","asset_maintenance","employees","employee_salaries","employee_salaries"],"total_retrieval_latency_ms":49,"module_route":{"modules":["Assets","HR","Common"],"confidences":[0.6939944621974288,0.6200063614784673,0.5945517541130166],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["fixed","assets","employees","current","locations"],"top_linked":[{"table":"fixed_assets","column":"assigned_to","concept":"assigned","score":1}]},"columns_pruned":13,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_locations","asset_transfers","asset_maintenance","employees","employee_salaries"],"skeleton_sql":"fixed_assets\nJOIN asset_locations ON fixed_assets.location_id = asset_locations.location_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN employees ON fixed_assets.assigned_to = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3454,"completion_tokens":979,"sql_generated":"SELECT fa.asset_id, fa.asset_tag, fa.name, fa.description, fa.category_id, fa.location_id, fa.assigned_to, fa.purchase_date, fa.purchase_cost, fa.vendor_id, fa.po_id, fa.serial_number, fa.warranty_expiry, fa.status, fa.disposal_date, fa.disposal_amount, fa.created_at, el.first_name AS assigned_employee_first_name, el.last_name AS assigned_employee_last_name, al.name AS current_location_name FROM fixed_assets fa JOIN asset_locations al ON fa.location_id = al.location_id JOIN employees el ON fa.assigned_to = el.employee_id","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_locations","asset_locations","asset_locations","asset_transfers","asset_maintenance","asset_transfers","asset_transfers","asset_maintenance","asset_maintenance","employees","employee_salaries","employee_salaries"],"explain_result":"success","rows_returned":0,"total_latency_ms":20276}
{"timestamp":"2026-02-12T20:49:21.233Z","query_id":"07f7aab1-e17c-4b8d-bf00-d65a70cb3eb6","question":"Create a comprehensive employee cost report including salary and benefits by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":52,"glosses_ms":1,"linker_ms":1,"pruning_ms":1,"planner_ms":0,"first_generation_ms":15721,"validation_ms":0,"total_ms":19939},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_benefits","employee_benefits","employee_benefits","employee_salaries","employees","employees","employees","budgets","budgets","departments","budgets","departments","departments"],"total_retrieval_latency_ms":52,"module_route":{"modules":["HR","Procurement","Finance"],"confidences":[1,0.6356363505209316,0.6328453447747361],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":13,"unsupported_concepts":["comprehensive","cost","report","including","benefits"],"top_linked":[{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"employee_benefits","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1}]},"columns_pruned":7,"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","employee_salaries","budgets","employee_benefits"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN budgets ON budgets.approved_by = employees.employee_id\nJOIN employee_benefits ON employee_benefits.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3273,"completion_tokens":671,"sql_generated":"SELECT d.department_id, d.name AS department_name, SUM(es.amount) AS total_salary, SUM(eb.coverage_level::numeric) AS total_benefits \nFROM departments d \nJOIN employees e ON e.department_id = d.department_id \nJOIN employee_salaries es ON es.employee_id = e.employee_id \nJOIN employee_benefits eb ON eb.employee_id = e.employee_id \nGROUP BY d.department_id, d.name;","tables_used_in_sql":[],"explain_result":"success","total_latency_ms":19939,"failure_type":"execution_error","failure_details":"Database error: invalid input syntax for type numeric: \"Family\"","error_class":"sql_error"}
{"timestamp":"2026-02-12T20:54:33.649Z","query_id":"bcdc05b8-2d39-40a2-b2eb-a35c9177f2ee","question":"List all employees in the Sales department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":1012,"glosses_ms":1,"linker_ms":2,"planner_ms":1,"first_generation_ms":12144,"validation_ms":0,"execution_ms":2,"total_ms":13164},"retriever_version":"V1","tables_retrieved":["departments","departments","departments","employees","employees","employees","positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","sales_regions","business_units","business_units"],"total_retrieval_latency_ms":1012,"module_route":{"modules":["HR","Sales","Common"],"confidences":[0.6836505057040997,0.6189563166228701,0.6142683747593146],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["employees","sales"],"top_linked":[{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"positions","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","employees","positions","employee_salaries","sales_regions","business_units"],"skeleton_sql":"departments\nJOIN employees ON employees.department_id = departments.department_id\nJOIN positions ON positions.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN business_units ON business_units.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":16,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3036,"completion_tokens":392,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, e.email, e.phone, e.hire_date, p.title FROM departments d JOIN employees e ON e.department_id = d.department_id JOIN positions p ON p.position_id = e.position_id WHERE d.name = 'Sales'","tables_used_in_sql":["departments","departments","departments","employees","employees","employees","positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","sales_regions","business_units","business_units"],"explain_result":"success","rows_returned":63,"total_latency_ms":13164}
{"timestamp":"2026-02-12T20:54:46.813Z","query_id":"39a727d0-0369-4b10-9351-ebfaead77ab1","question":"How many employees were hired in 2024?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":77,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":3369,"validation_ms":0,"execution_ms":0,"total_ms":4414},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","employment_history","employee_salaries","employee_salaries","employee_salaries","employee_certifications","employment_history","employment_history","employee_certifications","employee_certifications","sales_regions","purchase_requisitions","positions"],"total_retrieval_latency_ms":77,"module_route":{"modules":["HR","Sales","Procurement"],"confidences":[0.8,0.5739893400217244,0.5519139323870511],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","hired"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","employment_history","employee_salaries","employee_certifications","sales_regions","purchase_requisitions","positions"],"skeleton_sql":"employees\nJOIN employment_history ON employment_history.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN purchase_requisitions ON purchase_requisitions.requested_by = employees.employee_id\nJOIN positions ON employees.position_id = positions.position_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3081,"completion_tokens":188,"sql_generated":"SELECT COUNT(*) \nFROM employees \nWHERE hire_date BETWEEN '2024-01-01' AND '2024-12-31';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":4414}
{"timestamp":"2026-02-12T20:54:51.227Z","query_id":"58c8ad8f-10e4-4831-91ba-183ad43eeaa5","question":"What is the average salary by department?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":55,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":2736,"validation_ms":0,"execution_ms":1,"total_ms":2796},"retriever_version":"V1","tables_retrieved":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","departments","departments","departments","employees","employees","employees","cost_centers","budgets","cost_centers"],"total_retrieval_latency_ms":55,"module_route":{"modules":["HR","Finance","Common"],"confidences":[0.5858891600228157,0.547224536106618,0.5350682604432176],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":[],"top_linked":[{"table":"positions","column":"min_salary","concept":"salary","score":1},{"table":"positions","column":"max_salary","concept":"salary","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"cost_centers","column":"department_id","concept":"department","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["positions","departments","employees","employee_salaries","cost_centers","budgets"],"skeleton_sql":"positions\nJOIN departments ON positions.department_id = departments.department_id\nJOIN employees ON employees.position_id = positions.position_id\nJOIN cost_centers ON cost_centers.department_id = departments.department_id\nJOIN budgets ON budgets.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3134,"completion_tokens":78,"sql_generated":"SELECT d.name AS department_name, AVG(e.salary) AS average_salary FROM departments d JOIN employees e ON e.department_id = d.department_id GROUP BY d.name","tables_used_in_sql":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","departments","departments","departments","employees","employees","employees","cost_centers","budgets","cost_centers"],"explain_result":"success","rows_returned":19,"total_latency_ms":2796}
{"timestamp":"2026-02-12T20:54:54.023Z","query_id":"dc6e3c31-6141-454d-98b5-87a0db0b70e6","question":"List all customers with credit limit over $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":50,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":5466,"validation_ms":0,"execution_ms":1,"total_ms":5521},"retriever_version":"V1","tables_retrieved":["customers","customers","customers","customer_contacts","sales_regions","customer_contacts","customer_contacts","sales_quotes","purchase_requisitions","purchase_requisitions","purchase_requisitions","budget_lines","sales_regions","sales_regions","bank_accounts"],"total_retrieval_latency_ms":50,"module_route":{"modules":["Sales","Finance","Procurement"],"confidences":[0.6091106696115061,0.5805838475734647,0.5719049873148473],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["customers"],"top_linked":[{"table":"customers","column":"credit_limit","concept":"credit","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["customers","customer_contacts","sales_quotes"],"skeleton_sql":"customers\nJOIN customer_contacts ON customer_contacts.customer_id = customers.customer_id\nJOIN sales_quotes ON sales_quotes.customer_id = customers.customer_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3008,"completion_tokens":192,"sql_generated":"SELECT c.customer_id, c.name, c.credit_limit FROM customers c WHERE c.credit_limit > 100000","tables_used_in_sql":["customers","customers","customers","customer_contacts","sales_regions","customer_contacts","customer_contacts","sales_quotes","purchase_requisitions","purchase_requisitions","purchase_requisitions","budget_lines","sales_regions","sales_regions","bank_accounts"],"explain_result":"success","rows_returned":206,"total_latency_ms":5521}
{"timestamp":"2026-02-12T20:54:59.544Z","query_id":"111687d5-7465-41fe-9ea6-c079bd2d3aea","question":"How many sales orders are in pending status?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":58,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":3852,"validation_ms":1,"execution_ms":1,"total_ms":3915},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_opportunities","sales_opportunities","vendor_invoices","goods_receipts","sales_opportunities","vendor_invoices"],"total_retrieval_latency_ms":58,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.8,0.6488953558494387,0.5959801219551273],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["orders","pending"],"top_linked":[{"table":"sales_orders","column":"status","concept":"status","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"purchase_orders","column":"status","concept":"status","score":1},{"table":"vendor_invoices","column":"status","concept":"status","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","vendor_invoices","order_lines","goods_receipts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3779,"completion_tokens":102,"sql_generated":"SELECT COUNT(*) FROM sales_orders WHERE status = 'Pending'","tables_used_in_sql":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_opportunities","sales_opportunities","vendor_invoices","goods_receipts","sales_opportunities","vendor_invoices"],"explain_result":"success","rows_returned":1,"total_latency_ms":3915}
{"timestamp":"2026-02-12T20:55:03.459Z","query_id":"61cd405b-b656-46ce-af57-8aa3e3f53574","question":"List all products in the Electronics category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":70,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":9609,"validation_ms":0,"execution_ms":1,"total_ms":9683},"retriever_version":"V1","tables_retrieved":["product_categories","product_categories","product_categories","products","products","products","asset_categories","asset_categories","asset_categories","product_suppliers","product_suppliers","product_suppliers","inventory_levels","inventory_levels","inventory_levels"],"total_retrieval_latency_ms":70,"module_route":{"modules":["Inventory","Assets","Procurement"],"confidences":[0.6618931992288043,0.6230141120645055,0.6161951309789027],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["products","electronics"],"top_linked":[{"table":"product_categories","column":"category_id","concept":"category","score":1},{"table":"product_categories","column":"parent_category_id","concept":"category","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["product_categories","products","product_suppliers","inventory_levels"],"skeleton_sql":"product_categories\nJOIN products ON products.category_id = product_categories.category_id\nJOIN product_suppliers ON product_suppliers.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2855,"completion_tokens":392,"sql_generated":"SELECT p.product_id, p.sku, p.name, p.description, p.category_id, p.uom_id, p.unit_cost, p.list_price, p.weight, p.is_active, p.created_at FROM products p JOIN product_categories pc ON p.category_id = pc.category_id WHERE pc.name = 'Electronics'","tables_used_in_sql":["product_categories","product_categories","product_categories","products","products","products","asset_categories","asset_categories","asset_categories","product_suppliers","product_suppliers","product_suppliers","inventory_levels","inventory_levels","inventory_levels"],"explain_result":"success","rows_returned":62,"total_latency_ms":9683}
{"timestamp":"2026-02-12T20:55:13.142Z","query_id":"0d5a9c9e-75b5-4d30-b468-2369144a17cc","question":"What are the names of all warehouses?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":69,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":2200,"validation_ms":0,"execution_ms":1,"total_ms":2271},"retriever_version":"V1","tables_retrieved":["warehouses","warehouse_locations","inventory_levels","asset_locations","stock_transfers","adjustment_lines","inventory_transactions","receipt_lines","reorder_rules","inventory_adjustments"],"total_retrieval_latency_ms":69,"module_route":{"modules":["Inventory","Common","Assets"],"confidences":[0.6455304804143982,0.576846056153424,0.5574548719967585],"method":"hybrid"},"bm25_tables":["warehouses"],"fusion_method":"rrf","schema_link":{"tables_linked":10,"columns_linked":0,"unsupported_concepts":["names","warehouses"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["warehouse_locations","warehouses","inventory_levels","adjustment_lines","inventory_transactions","receipt_lines","stock_transfers","reorder_rules","inventory_adjustments"],"skeleton_sql":"warehouse_locations\nJOIN warehouses ON warehouse_locations.warehouse_id = warehouses.warehouse_id\nJOIN inventory_levels ON inventory_levels.location_id = warehouse_locations.location_id\nJOIN adjustment_lines ON adjustment_lines.location_id = warehouse_locations.location_id\nJOIN inventory_transactions ON inventory_transactions.location_id = warehouse_locations.location_id\nJOIN receipt_lines ON receipt_lines.location_id = warehouse_locations.location_id\nJOIN stock_transfers ON stock_transfers.from_warehouse_id = warehouses.warehouse_id\nJOIN reorder_rules ON reorder_rules.warehouse_id = warehouses.warehouse_id\nJOIN inventory_adjustments ON inventory_adjustments.warehouse_id = warehouses.warehouse_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2391,"completion_tokens":48,"sql_generated":"SELECT name FROM warehouses","tables_used_in_sql":["warehouses","warehouse_locations","inventory_levels","asset_locations","stock_transfers","adjustment_lines","inventory_transactions","receipt_lines","reorder_rules","inventory_adjustments"],"explain_result":"success","rows_returned":5,"total_latency_ms":2271}
{"timestamp":"2026-02-12T20:55:15.413Z","query_id":"de5c1de3-4a65-4db6-b9c9-4db6df9ffd40","question":"List all active vendors","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":48,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":5199,"validation_ms":0,"execution_ms":1,"total_ms":5250},"retriever_version":"V1","tables_retrieved":["vendors","vendors","vendors","vendor_contacts","vendor_contacts","vendor_invoices","vendor_contacts","vendor_invoices","vendor_invoices","product_suppliers","product_suppliers","product_suppliers","vendor_invoice_lines","vendor_invoice_lines","purchase_orders"],"total_retrieval_latency_ms":48,"module_route":{"modules":["Procurement","Inventory","Sales"],"confidences":[0.6352787681252292,0.5936996959092321,0.5857097218430255],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["vendors"],"top_linked":[{"table":"vendors","column":"is_active","concept":"active","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendors","vendor_contacts","vendor_invoices","product_suppliers","vendor_invoice_lines","purchase_orders"],"skeleton_sql":"vendors\nJOIN vendor_contacts ON vendor_contacts.vendor_id = vendors.vendor_id\nJOIN vendor_invoices ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN product_suppliers ON product_suppliers.vendor_id = vendors.vendor_id\nJOIN purchase_orders ON purchase_orders.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3316,"completion_tokens":270,"sql_generated":"SELECT vendor_id, vendor_number, name, email, phone, website, address_id, payment_terms, currency_id, tax_id, is_active, created_at FROM vendors WHERE is_active = true","tables_used_in_sql":["vendors","vendors","vendors","vendor_contacts","vendor_contacts","vendor_invoices","vendor_contacts","vendor_invoices","vendor_invoices","product_suppliers","product_suppliers","product_suppliers","vendor_invoice_lines","vendor_invoice_lines","purchase_orders"],"explain_result":"success","rows_returned":200,"total_latency_ms":5250}
{"timestamp":"2026-02-12T20:55:20.663Z","query_id":"c80c0bcc-7c8e-45d9-b40c-37f8d864847f","question":"What are the different account types in the chart of accounts?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":69,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":4004,"validation_ms":0,"execution_ms":0,"total_ms":4076},"retriever_version":"V1","tables_retrieved":["chart_of_accounts","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","bank_accounts","bank_accounts","bank_accounts","benefit_types","benefit_types","journal_lines","benefit_types","bank_transactions","budget_lines"],"total_retrieval_latency_ms":69,"module_route":{"modules":["Finance","HR","Common"],"confidences":[0.7007770277042978,0.6192260674732437,0.6186713324233991],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":11,"unsupported_concepts":["different","types","chart","accounts"],"top_linked":[{"table":"chart_of_accounts","column":"account_id","concept":"account","score":1},{"table":"chart_of_accounts","column":"account_number","concept":"account","score":1},{"table":"chart_of_accounts","column":"account_type_id","concept":"account","score":1},{"table":"chart_of_accounts","column":"parent_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"journal_lines","column":"account_id","concept":"account","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["chart_of_accounts","bank_accounts","journal_lines","bank_transactions","budget_lines","account_types"],"skeleton_sql":"chart_of_accounts\nJOIN bank_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN journal_lines ON journal_lines.account_id = chart_of_accounts.account_id\nJOIN budget_lines ON budget_lines.account_id = chart_of_accounts.account_id\nJOIN account_types ON chart_of_accounts.account_type_id = account_types.type_id\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":2,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"}]},"prompt_tokens":2854,"completion_tokens":126,"sql_generated":"SELECT DISTINCT name FROM account_types","tables_used_in_sql":["chart_of_accounts","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","bank_accounts","bank_accounts","bank_accounts","benefit_types","benefit_types","journal_lines","benefit_types","bank_transactions","budget_lines"],"explain_result":"success","rows_returned":25,"total_latency_ms":4076}
{"timestamp":"2026-02-12T20:55:24.739Z","query_id":"b308d910-6c8d-490d-81ef-a077ad9c9a23","question":"List all bank accounts and their current balances","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":61,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":4368,"validation_ms":0,"execution_ms":0,"total_ms":4434},"retriever_version":"V1","tables_retrieved":["bank_accounts","bank_accounts","bank_accounts","bank_transactions","bank_transactions","bank_transactions","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","chart_of_accounts","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":61,"module_route":{"modules":["Finance","Assets","Common"],"confidences":[0.652699430027985,0.6000955055799017,0.5681510128630949],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["accounts","balances"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_accounts","column":"bank_name","concept":"bank","score":1},{"table":"bank_accounts","column":"current_balance","concept":"current","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"bank","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","bank_transactions","account_types","chart_of_accounts","budget_lines"],"skeleton_sql":"bank_accounts\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id\nJOIN chart_of_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN account_types ON chart_of_accounts.account_type_id = account_types.type_id\nJOIN budget_lines ON budget_lines.account_id = chart_of_accounts.account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2838,"completion_tokens":143,"sql_generated":"SELECT ba.bank_account_id, ba.account_name, ba.current_balance FROM bank_accounts ba","tables_used_in_sql":["bank_accounts","bank_accounts","bank_accounts","bank_transactions","bank_transactions","bank_transactions","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","chart_of_accounts","budget_lines","budget_lines","budget_lines"],"explain_result":"success","rows_returned":5,"total_latency_ms":4433}
{"timestamp":"2026-02-12T20:55:29.173Z","query_id":"79a2345a-1b30-45a7-9a06-363e3e0cd70e","question":"How many projects are currently active?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":56,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":3436,"validation_ms":0,"execution_ms":0,"total_ms":3496},"retriever_version":"V1","tables_retrieved":["project_tasks","project_tasks","project_tasks","project_phases","project_phases","projects","projects","project_milestones","project_phases","project_milestones","project_milestones","projects","project_resources","project_resources","project_resources"],"total_retrieval_latency_ms":56,"module_route":{"modules":["Projects","Assets","HR"],"confidences":[0.6454363444201591,0.5590233193471685,0.55286211092598],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["projects","currently","active"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_tasks","project_phases","projects","project_milestones","project_resources"],"skeleton_sql":"project_tasks\nJOIN project_phases ON project_tasks.phase_id = project_phases.phase_id\nJOIN projects ON project_phases.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2989,"completion_tokens":96,"sql_generated":"SELECT COUNT(*) FROM projects WHERE status = 'Active'","tables_used_in_sql":["project_tasks","project_tasks","project_tasks","project_phases","project_phases","projects","projects","project_milestones","project_phases","project_milestones","project_milestones","projects","project_resources","project_resources","project_resources"],"explain_result":"success","rows_returned":1,"total_latency_ms":3496}
{"timestamp":"2026-02-12T20:55:32.669Z","query_id":"8bf82cfc-4029-42ed-8209-3e809c246ca8","question":"List all fixed assets with their purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":37,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":5913,"validation_ms":0,"execution_ms":0,"total_ms":5953},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_maintenance","asset_maintenance","asset_maintenance","asset_categories","asset_categories","asset_categories","depreciation_schedules","depreciation_schedules","depreciation_schedules","asset_transfers","asset_transfers","asset_transfers"],"total_retrieval_latency_ms":37,"module_route":{"modules":["Assets","Procurement","Finance"],"confidences":[0.6704217224005129,0.5558598188107611,0.5415197035972978],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["fixed","assets"],"top_linked":[{"table":"fixed_assets","column":"purchase_date","concept":"purchase","score":1},{"table":"fixed_assets","column":"purchase_cost","concept":"purchase","score":1},{"table":"asset_maintenance","column":"cost","concept":"cost","score":1},{"table":"fixed_assets","column":"po_id","concept":"purchase","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_maintenance","asset_categories","depreciation_schedules","asset_transfers"],"skeleton_sql":"fixed_assets\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3445,"completion_tokens":203,"sql_generated":"SELECT fa.asset_id, fa.name, fa.purchase_cost FROM fixed_assets fa","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_maintenance","asset_maintenance","asset_maintenance","asset_categories","asset_categories","asset_categories","depreciation_schedules","depreciation_schedules","depreciation_schedules","asset_transfers","asset_transfers","asset_transfers"],"explain_result":"success","rows_returned":500,"total_latency_ms":5953}
{"timestamp":"2026-02-12T20:55:38.623Z","query_id":"7308141a-b43d-4b07-beed-79a7529e7634","question":"What are all the available leave types?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":102,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":2447,"validation_ms":0,"execution_ms":0,"total_ms":2552},"retriever_version":"V1","tables_retrieved":["leave_types","leave_types","leave_types","leave_requests","leave_requests","leave_requests","maintenance_types","maintenance_types","maintenance_types","benefit_types","benefit_types","benefit_types","positions","employee_benefits","employment_history"],"total_retrieval_latency_ms":102,"module_route":{"modules":["HR","Assets","Sales"],"confidences":[0.6473746828949357,0.5910002382401803,0.5740161383365922],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["available","types"],"top_linked":[{"table":"leave_types","column":"leave_type_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_type_id","concept":"leave","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["leave_requests","leave_types","benefit_types","employee_benefits"],"skeleton_sql":"leave_requests\nJOIN leave_types ON leave_requests.leave_type_id = leave_types.leave_type_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2498,"completion_tokens":57,"sql_generated":"SELECT name FROM leave_types","tables_used_in_sql":["leave_types","leave_types","leave_types","leave_requests","leave_requests","leave_requests","maintenance_types","maintenance_types","maintenance_types","benefit_types","benefit_types","benefit_types","positions","employee_benefits","employment_history"],"explain_result":"success","rows_returned":8,"total_latency_ms":2552}
{"timestamp":"2026-02-12T20:55:41.175Z","query_id":"2ef61a71-3d50-4ba1-a1be-49463e2dc08a","question":"List all training courses that are mandatory","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":54,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":4254,"validation_ms":0,"execution_ms":1,"total_ms":4312},"retriever_version":"V1","tables_retrieved":["training_courses","training_courses","training_courses","employee_training","employee_training","employee_training","certifications","certifications","certifications","employee_certifications","employee_certifications","employee_certifications","maintenance_types","maintenance_types","maintenance_types"],"total_retrieval_latency_ms":54,"module_route":{"modules":["HR","Common","Assets"],"confidences":[0.5865910952266036,0.5079936168687108,0.49648796513127813],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["courses"],"top_linked":[{"table":"training_courses","column":"is_mandatory","concept":"mandatory","score":1},{"table":"employee_training","column":"training_id","concept":"training","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["training_courses","employee_training","certifications","employee_certifications"],"skeleton_sql":"training_courses\nJOIN employee_training ON employee_training.course_id = training_courses.course_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2387,"completion_tokens":144,"sql_generated":"SELECT name, description, duration_hours, cost FROM training_courses WHERE is_mandatory = TRUE","tables_used_in_sql":["training_courses","training_courses","training_courses","employee_training","employee_training","employee_training","certifications","certifications","certifications","employee_certifications","employee_certifications","employee_certifications","maintenance_types","maintenance_types","maintenance_types"],"explain_result":"success","rows_returned":4,"total_latency_ms":4312}
{"timestamp":"2026-02-12T20:55:45.487Z","query_id":"ac13d21b-ad6e-4fac-b29c-594e08182fba","question":"What are the different opportunity stages?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":36,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":2846,"validation_ms":0,"execution_ms":0,"total_ms":2885},"retriever_version":"V1","tables_retrieved":["opportunity_stages","opportunity_stages","opportunity_stages","sales_opportunities","sales_opportunities","sales_opportunities","project_phases","project_tasks","project_phases","project_phases","project_tasks","project_tasks","positions","positions","positions"],"total_retrieval_latency_ms":36,"module_route":{"modules":["Sales","HR","Projects"],"confidences":[0.6028909984792304,0.5663067184830348,0.5615426782310475],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["different","stages"],"top_linked":[{"table":"sales_opportunities","column":"opportunity_id","concept":"opportunity","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","project_phases","project_tasks"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2810,"completion_tokens":71,"sql_generated":"SELECT DISTINCT name FROM opportunity_stages","tables_used_in_sql":["opportunity_stages","opportunity_stages","opportunity_stages","sales_opportunities","sales_opportunities","sales_opportunities","project_phases","project_tasks","project_phases","project_phases","project_tasks","project_tasks","positions","positions","positions"],"explain_result":"success","rows_returned":6,"total_latency_ms":2885}
{"timestamp":"2026-02-12T20:55:48.372Z","query_id":"36a9a0f3-4158-49f3-bf20-c901a83c10b6","question":"List all countries in the system","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":98,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":720,"validation_ms":0,"execution_ms":0,"total_ms":820},"retriever_version":"V1","tables_retrieved":["countries","countries","countries","states_provinces","states_provinces","states_provinces","tax_rates","tax_rates","tax_rates","currencies","currencies","sales_territories","sales_territories","sales_territories","currencies"],"total_retrieval_latency_ms":98,"module_route":{"modules":["Common","Finance","Sales"],"confidences":[0.6391320166754724,0.5998203282680619,0.5724228859823769],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["countries","system"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["countries","states_provinces","tax_rates"],"skeleton_sql":"countries\nJOIN states_provinces ON states_provinces.country_id = countries.country_id\nJOIN tax_rates ON tax_rates.country_id = countries.country_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2185,"completion_tokens":78,"sql_generated":"SELECT name, iso_code, phone_code FROM countries","tables_used_in_sql":["countries","countries","countries","states_provinces","states_provinces","states_provinces","tax_rates","tax_rates","tax_rates","currencies","currencies","sales_territories","sales_territories","sales_territories","currencies"],"explain_result":"success","rows_returned":10,"total_latency_ms":820}
{"timestamp":"2026-02-12T20:55:49.193Z","query_id":"52e1bc6c-1edf-4934-94cf-7168dfb0d168","question":"How many departments are there?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":46,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":3255,"validation_ms":0,"execution_ms":1,"total_ms":3303},"retriever_version":"V1","tables_retrieved":["departments","departments","departments","positions","positions","positions","cost_centers","inventory_levels","cost_centers","cost_centers","employees","business_units","business_units","business_units","employees"],"total_retrieval_latency_ms":46,"module_route":{"modules":["HR","Common","Inventory"],"confidences":[0.5795934267103653,0.586927663520706,0.5818884580603176],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["departments"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","positions","cost_centers","employees","business_units"],"skeleton_sql":"departments\nJOIN positions ON positions.department_id = departments.department_id\nJOIN cost_centers ON cost_centers.department_id = departments.department_id\nJOIN employees ON employees.department_id = departments.department_id\nJOIN business_units ON business_units.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2764,"completion_tokens":93,"sql_generated":"SELECT COUNT(department_id) AS total_departments FROM departments","tables_used_in_sql":["departments","departments","departments","positions","positions","positions","cost_centers","inventory_levels","cost_centers","cost_centers","employees","business_units","business_units","business_units","employees"],"explain_result":"success","rows_returned":1,"total_latency_ms":3303}
{"timestamp":"2026-02-12T20:55:52.496Z","query_id":"c4a7ef24-aefe-4f59-b191-af5e7d4f7678","question":"List all units of measure","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":43,"glosses_ms":1,"linker_ms":0,"planner_ms":0,"first_generation_ms":2647,"validation_ms":1,"execution_ms":0,"total_ms":2692},"retriever_version":"V1","tables_retrieved":["products","units_of_measure","business_units","currencies","sales_regions","sales_territories","countries","reorder_rules","product_suppliers","requisition_lines"],"total_retrieval_latency_ms":43,"module_route":{"modules":["Common","Inventory","Sales"],"confidences":[0.6074344471797812,0.6067570207161089,0.579741575887427],"method":"embedding"},"bm25_tables":["products"],"fusion_method":"rrf","schema_link":{"tables_linked":10,"columns_linked":0,"unsupported_concepts":["units","measure"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["units_of_measure","products","business_units","sales_regions","sales_territories","reorder_rules","product_suppliers","requisition_lines"],"skeleton_sql":"units_of_measure\nJOIN products ON products.uom_id = units_of_measure.uom_id\nJOIN reorder_rules ON reorder_rules.product_id = products.product_id\nJOIN product_suppliers ON product_suppliers.product_id = products.product_id\nJOIN requisition_lines ON requisition_lines.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2065,"completion_tokens":75,"sql_generated":"SELECT name, abbreviation FROM units_of_measure","tables_used_in_sql":["products","units_of_measure","business_units","currencies","sales_regions","sales_territories","countries","reorder_rules","product_suppliers","requisition_lines"],"explain_result":"success","rows_returned":11,"total_latency_ms":2692}
{"timestamp":"2026-02-12T20:55:55.189Z","query_id":"32812240-768f-4377-94f9-22f3c674baa5","question":"What fiscal years exist in the system?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":76,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":2641,"validation_ms":0,"execution_ms":0,"total_ms":2721},"retriever_version":"V1","tables_retrieved":["fiscal_years","fiscal_years","fiscal_years","fiscal_periods","fiscal_periods","fiscal_periods","budgets","budgets","budgets","journal_entries","journal_entries","journal_entries","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":76,"module_route":{"modules":["Finance","Assets","Projects"],"confidences":[0.6900165968291754,0.5876625129270986,0.5788635119215922],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["years","exist","system"],"top_linked":[{"table":"fiscal_years","column":"fiscal_year_id","concept":"fiscal","score":1},{"table":"fiscal_periods","column":"fiscal_year_id","concept":"fiscal","score":1},{"table":"budgets","column":"fiscal_year_id","concept":"fiscal","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fiscal_years","fiscal_periods","budgets","journal_entries","budget_lines"],"skeleton_sql":"fiscal_years\nJOIN fiscal_periods ON fiscal_periods.fiscal_year_id = fiscal_years.fiscal_year_id\nJOIN budgets ON budgets.fiscal_year_id = fiscal_years.fiscal_year_id\nJOIN journal_entries ON journal_entries.period_id = fiscal_periods.period_id\nJOIN budget_lines ON budget_lines.period_id = fiscal_periods.period_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2830,"completion_tokens":62,"sql_generated":"SELECT DISTINCT year FROM fiscal_years","tables_used_in_sql":["fiscal_years","fiscal_years","fiscal_years","fiscal_periods","fiscal_periods","fiscal_periods","budgets","budgets","budgets","journal_entries","journal_entries","journal_entries","budget_lines","budget_lines","budget_lines"],"explain_result":"success","rows_returned":4,"total_latency_ms":2721}
{"timestamp":"2026-02-12T20:55:57.910Z","query_id":"d1a91dc4-1918-4f59-8f06-1233168244d6","question":"What are the different asset categories?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":80,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":2677,"validation_ms":0,"execution_ms":0,"total_ms":2760},"retriever_version":"V1","tables_retrieved":["asset_categories","asset_categories","asset_categories","fixed_assets","asset_locations","asset_locations","account_types","account_types","asset_locations","account_types","fixed_assets","fixed_assets","product_categories","asset_maintenance","product_categories"],"total_retrieval_latency_ms":80,"module_route":{"modules":["Assets","Finance","Inventory"],"confidences":[0.7061559517668716,0.5743948922060627,0.5713145214229208],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["different","categories"],"top_linked":[{"table":"fixed_assets","column":"asset_id","concept":"asset","score":1},{"table":"fixed_assets","column":"asset_tag","concept":"asset","score":1},{"table":"asset_maintenance","column":"asset_id","concept":"asset","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_maintenance","asset_categories","asset_locations","product_categories"],"skeleton_sql":"fixed_assets\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN asset_locations ON fixed_assets.location_id = asset_locations.location_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2788,"completion_tokens":64,"sql_generated":"SELECT DISTINCT name FROM asset_categories","tables_used_in_sql":["asset_categories","asset_categories","asset_categories","fixed_assets","asset_locations","asset_locations","account_types","account_types","asset_locations","account_types","fixed_assets","fixed_assets","product_categories","asset_maintenance","product_categories"],"explain_result":"success","rows_returned":7,"total_latency_ms":2760}
{"timestamp":"2026-02-12T20:56:00.670Z","query_id":"4aabd3ba-3c44-4d11-95d6-e53ac9a99207","question":"Find employees who have been with the company for more than 5 years and earn above $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":66,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":11267,"validation_ms":0,"execution_ms":1,"total_ms":11338},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_salaries","employees","employee_certifications","employees","employees","employment_history","employee_certifications","employee_certifications","employee_benefits","sales_quotes","employment_history","employment_history","project_expenses"],"total_retrieval_latency_ms":66,"module_route":{"modules":["HR","Sales","Projects"],"confidences":[0.6354260409757457,0.5907829043761632,0.5652934554495189],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["employees","years","earn"],"top_linked":[{"table":"employment_history","column":"company_name","concept":"company","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employment_history","employee_salaries","employees","employee_certifications","employee_benefits","sales_quotes","project_expenses"],"skeleton_sql":"employment_history\nJOIN employees ON employment_history.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN employee_benefits ON employee_benefits.employee_id = employees.employee_id\nJOIN sales_quotes ON sales_quotes.created_by = employees.employee_id\nJOIN project_expenses ON project_expenses.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3216,"completion_tokens":460,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, e.email, e.phone, e.salary, eh.company_name, eh.start_date FROM employees e JOIN employment_history eh ON e.employee_id = eh.employee_id WHERE (CURRENT_DATE - eh.start_date) > INTERVAL '5 years' AND e.salary > 100000","tables_used_in_sql":["employee_salaries","employee_salaries","employee_salaries","employees","employee_certifications","employees","employees","employment_history","employee_certifications","employee_certifications","employee_benefits","sales_quotes","employment_history","employment_history","project_expenses"],"pg_normalize":{"applied":true,"transforms":["DATE_INTERVAL_COMPARISON_FIX"],"changed":true},"explain_result":"success","rows_returned":123,"total_latency_ms":11338}
{"timestamp":"2026-02-12T20:56:12.008Z","query_id":"2b4687d4-b4a6-4cbc-af52-d6b7f2f71316","question":"List employees and their managers' names","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":64,"glosses_ms":1,"linker_ms":0,"planner_ms":1,"first_generation_ms":6692,"validation_ms":0,"execution_ms":1,"total_ms":6759},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","departments","departments","departments","business_units","business_units","sales_regions","sales_regions","sales_regions","business_units","employee_salaries","employment_history","employee_salaries"],"total_retrieval_latency_ms":64,"module_route":{"modules":["HR","Common","Sales"],"confidences":[0.6680739651644825,0.6166903495185039,0.6121400974006294],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","managers","names"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","business_units","sales_regions","employee_salaries","employment_history"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN business_units ON business_units.manager_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2906,"completion_tokens":347,"sql_generated":"SELECT e.employee_id, e.first_name || ' ' || e.last_name AS employee_name, m.first_name || ' ' || m.last_name AS manager_name FROM employees e JOIN employees m ON e.manager_id = m.employee_id","tables_used_in_sql":["employees","employees","employees","departments","departments","departments","business_units","business_units","sales_regions","sales_regions","sales_regions","business_units","employee_salaries","employment_history","employee_salaries"],"explain_result":"success","rows_returned":499,"total_latency_ms":6759}
{"timestamp":"2026-02-12T20:56:18.767Z","query_id":"9cd92f67-4046-4462-adad-16b4565d661b","question":"Which employees have pending leave requests?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":47,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":6163,"validation_ms":0,"execution_ms":1,"total_ms":6213},"retriever_version":"V1","tables_retrieved":["leave_requests","leave_types","employees","employment_history","purchase_requisitions","document_attachments","emergency_contacts","project_resources","sales_regions"],"total_retrieval_latency_ms":47,"module_route":{"modules":["HR","Sales","Procurement"],"confidences":[0.646551871476994,0.5746654506294601,0.5721123641176491],"method":"hybrid"},"bm25_tables":["leave_requests"],"fusion_method":"rrf","schema_link":{"tables_linked":9,"columns_linked":3,"unsupported_concepts":["employees","pending","requests"],"top_linked":[{"table":"leave_requests","column":"leave_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_type_id","concept":"leave","score":1},{"table":"leave_types","column":"leave_type_id","concept":"leave","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["leave_requests","leave_types","employees","employment_history","purchase_requisitions","document_attachments","emergency_contacts","project_resources","sales_regions"],"skeleton_sql":"leave_requests\nJOIN leave_types ON leave_requests.leave_type_id = leave_types.leave_type_id\nJOIN employees ON leave_requests.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id\nJOIN purchase_requisitions ON purchase_requisitions.requested_by = employees.employee_id\nJOIN document_attachments ON document_attachments.uploaded_by = employees.employee_id\nJOIN emergency_contacts ON emergency_contacts.employee_id = employees.employee_id\nJOIN project_resources ON project_resources.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2274,"completion_tokens":240,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name FROM employees e JOIN leave_requests lr ON e.employee_id = lr.employee_id WHERE lr.status = 'Pending'","tables_used_in_sql":["leave_requests","leave_types","employees","employment_history","purchase_requisitions","document_attachments","emergency_contacts","project_resources","sales_regions"],"explain_result":"success","rows_returned":0,"total_latency_ms":6213}
{"timestamp":"2026-02-12T20:56:24.980Z","query_id":"d8da197f-ed85-4f63-a811-e4c7c0de9826","question":"Show the number of employees per position title","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":67,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":6113,"validation_ms":0,"execution_ms":1,"total_ms":6183},"retriever_version":"V1","tables_retrieved":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","employees","sales_territories","employees","employees","sales_territories","sales_territories","sales_regions","sales_regions","sales_regions"],"total_retrieval_latency_ms":67,"module_route":{"modules":["HR","Sales","Common"],"confidences":[0.6796940956517356,0.6351760244095727,0.6034941504618659],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["employees"],"top_linked":[{"table":"positions","column":"position_id","concept":"position","score":1},{"table":"positions","column":"title","concept":"title","score":1},{"table":"employees","column":"position_id","concept":"position","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["positions","employees","employee_salaries","sales_territories","sales_regions"],"skeleton_sql":"positions\nJOIN employees ON employees.position_id = positions.position_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN sales_territories ON sales_territories.assigned_rep_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2918,"completion_tokens":223,"sql_generated":"SELECT p.title, COUNT(e.employee_id) AS employee_count FROM positions p JOIN employees e ON e.position_id = p.position_id GROUP BY p.title","tables_used_in_sql":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","employees","sales_territories","employees","employees","sales_territories","sales_territories","sales_regions","sales_regions","sales_regions"],"explain_result":"success","rows_returned":40,"total_latency_ms":6183}
{"timestamp":"2026-02-12T20:56:31.163Z","query_id":"39d574f5-4cd5-424f-992c-09dd2452196d","question":"Find employees with expiring certifications in the next 6 months","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":90,"glosses_ms":1,"linker_ms":0,"planner_ms":1,"first_generation_ms":11725,"validation_ms":0,"execution_ms":1,"total_ms":11819},"retriever_version":"V1","tables_retrieved":["employee_certifications","employee_certifications","employee_certifications","certifications","certifications","certifications","employee_training","employee_training","employee_training","employees","employees","employee_salaries","employee_salaries","employment_history","employment_history"],"total_retrieval_latency_ms":90,"module_route":{"modules":["HR","Sales","Common"],"confidences":[0.6943376671821135,0.6080024978070456,0.5792742480019953],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","expiring","certifications","next","months"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employee_certifications","certifications","employee_training","employees","employee_salaries","employment_history"],"skeleton_sql":"employee_certifications\nJOIN certifications ON employee_certifications.certification_id = certifications.certification_id\nJOIN employees ON employee_certifications.employee_id = employees.employee_id\nJOIN employee_training ON employee_training.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2815,"completion_tokens":450,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, c.name, ec.expiry_date FROM employee_certifications ec JOIN certifications c ON ec.certification_id = c.certification_id JOIN employees e ON ec.employee_id = e.employee_id WHERE ec.expiry_date BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '6 months'","tables_used_in_sql":["employee_certifications","employee_certifications","employee_certifications","certifications","certifications","certifications","employee_training","employee_training","employee_training","employees","employees","employee_salaries","employee_salaries","employment_history","employment_history"],"explain_result":"success","rows_returned":9,"total_latency_ms":11819}
{"timestamp":"2026-02-12T20:56:42.982Z","query_id":"23bf2c92-3cc8-4e00-acbd-e9ec31416653","question":"What is the total sales amount by customer for 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":90,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":4164,"validation_ms":0,"total_ms":7474},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","sales_regions","purchase_orders","sales_regions","sales_regions","purchase_orders","purchase_orders","sales_quotes","sales_quotes","sales_quotes","customers","goods_receipts","sales_territories"],"total_retrieval_latency_ms":90,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.6841518111894954,0.6557133040181619,0.6220199448581752],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":17,"unsupported_concepts":[],"top_linked":[{"table":"sales_orders","column":"customer_id","concept":"customer","score":1},{"table":"sales_orders","column":"tax_amount","concept":"amount","score":1},{"table":"sales_orders","column":"total","concept":"total sales","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"purchase_orders","column":"tax_amount","concept":"amount","score":1},{"table":"purchase_orders","column":"total","concept":"total sales","score":1},{"table":"sales_quotes","column":"customer_id","concept":"customer","score":1},{"table":"sales_quotes","column":"tax_amount","concept":"amount","score":1},{"table":"sales_quotes","column":"total","concept":"total sales","score":1},{"table":"customers","column":"customer_id","concept":"customer","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","sales_quotes","customers","sales_regions","goods_receipts","sales_territories"],"skeleton_sql":"sales_orders\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN customers ON sales_orders.customer_id = customers.customer_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":0,"candidates_rejected":1,"selected_candidate_index":null,"evaluation_time_ms":0,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias"}]},"prompt_tokens":3692,"completion_tokens":128,"sql_generated":"SELECT \n    c.customer_id,\n    SUM(so.total) AS total_sales\nFROM \n    sales_orders so\nJOIN \n    customers c ON so.customer_id = c.customer_id\nWHERE \n    EXTRACT(YEAR FROM so.order_date) = 2024\nGROUP BY \n    c.customer_id;","tables_used_in_sql":[],"total_latency_ms":7474,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:56:50.456Z","query_id":"b561069d-8e2f-4cc1-971d-8d2fab8b9f0a","question":"List the top 10 customers by total order value","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":96,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":8767,"validation_ms":0,"execution_ms":3,"total_ms":8869},"retriever_version":"V1","tables_retrieved":["sales_orders","order_lines","purchase_orders","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","purchase_orders","customers","customers","customers","product_suppliers","vendor_invoices","customer_contacts"],"total_retrieval_latency_ms":96,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.645139182385332,0.6274557373477856,0.5802502629078188],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":16,"unsupported_concepts":["customers","value"],"top_linked":[{"table":"sales_orders","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_number","concept":"order","score":1},{"table":"sales_orders","column":"order_date","concept":"order","score":1},{"table":"sales_orders","column":"total","concept":"total order","score":1},{"table":"order_lines","column":"order_id","concept":"order","score":1},{"table":"order_lines","column":"line_total","concept":"total order","score":1},{"table":"purchase_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"total","concept":"total order","score":1},{"table":"product_suppliers","column":"minimum_order_qty","concept":"order","score":1},{"table":"vendor_invoices","column":"total","concept":"total order","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","vendor_invoices","order_lines","customers","customer_contacts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id\nJOIN customers ON sales_orders.customer_id = customers.customer_id\nJOIN customer_contacts ON customer_contacts.customer_id = customers.customer_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":120,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3943,"completion_tokens":410,"sql_generated":"SELECT c.customer_id, c.name, SUM(so.total) AS total_order_value FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.name ORDER BY total_order_value DESC LIMIT 10","tables_used_in_sql":["sales_orders","order_lines","purchase_orders","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","purchase_orders","customers","customers","customers","product_suppliers","vendor_invoices","customer_contacts"],"explain_result":"success","rows_returned":10,"total_latency_ms":8869}
{"timestamp":"2026-02-12T20:56:59.325Z","query_id":"db87f800-d0d5-42b6-baf0-43f9b0132840","question":"Show sales opportunities in the Negotiation stage worth over $50,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":74,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":11120,"validation_ms":0,"execution_ms":0,"total_ms":11197},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","opportunity_stages","opportunity_stages","sales_quotes","sales_quotes","sales_quotes","sales_orders","sales_orders","sales_regions","sales_regions","sales_orders","sales_regions"],"total_retrieval_latency_ms":74,"module_route":{"modules":["Sales","Procurement","Assets"],"confidences":[0.6377953940739141,0.5637102261302828,0.5543527682693786],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["opportunities","negotiation","worth"],"top_linked":[{"table":"sales_opportunities","column":"stage_id","concept":"stage","score":1},{"table":"opportunity_stages","column":"stage_id","concept":"stage","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","sales_orders","sales_quotes"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id\nJOIN sales_quotes ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3247,"completion_tokens":437,"sql_generated":"SELECT so.opportunity_id, so.name, so.customer_id, so.owner_id, so.stage_id, so.amount, so.probability, so.expected_close_date, so.actual_close_date, so.source, so.created_at FROM sales_opportunities so JOIN opportunity_stages os ON so.stage_id = os.stage_id WHERE os.name = 'Negotiation' AND so.amount > 50000","tables_used_in_sql":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","opportunity_stages","opportunity_stages","sales_quotes","sales_quotes","sales_quotes","sales_orders","sales_orders","sales_regions","sales_regions","sales_orders","sales_regions"],"explain_result":"success","rows_returned":69,"total_latency_ms":11197}
{"timestamp":"2026-02-12T20:57:10.522Z","query_id":"ba8f8dd9-f146-4e21-8eb2-dd74ffd648e4","question":"What is the conversion rate from quotes to orders?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":61,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":4942,"validation_ms":0,"execution_ms":1,"total_ms":8836},"retriever_version":"V1","tables_retrieved":["quote_lines","sales_orders","quote_lines","quote_lines","sales_quotes","sales_quotes","sales_quotes","order_lines","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","po_lines","purchase_orders"],"total_retrieval_latency_ms":61,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.8,0.6198683257466822,0.5837606035907529],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["conversion","rate","quotes","orders"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["quote_lines","sales_orders","sales_quotes","order_lines","purchase_orders","po_lines"],"skeleton_sql":"quote_lines\nJOIN sales_quotes ON quote_lines.quote_id = sales_quotes.quote_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":0,"candidates_rejected":1,"selected_candidate_index":null,"evaluation_time_ms":0,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias"}]},"prompt_tokens":3535,"completion_tokens":162,"sql_generated":"SELECT \n    (COUNT(DISTINCT sales_orders.order_id) * 100.0 / NULLIF(COUNT(DISTINCT quote_lines.quote_id), 0)) AS conversion_rate\nFROM \n    quote_lines\nJOIN \n    sales_quotes ON quote_lines.quote_id = sales_quotes.quote_id\nLEFT JOIN \n    sales_orders ON sales_orders.quote_id = sales_quotes.quote_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":8836}
{"timestamp":"2026-02-12T20:57:19.358Z","query_id":"7002df5a-4350-41d2-9d6d-bd6a97a9c47b","question":"List sales orders by sales representative with their totals","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":84,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":10609,"validation_ms":0,"total_ms":14627},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_quotes","sales_quotes","goods_receipts","sales_quotes","sales_territories","sales_territories"],"total_retrieval_latency_ms":84,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[1,0.6720940421527194,0.6206833337658386],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["orders","representative","totals"],"top_linked":[{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","order_lines","sales_quotes","goods_receipts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3569,"completion_tokens":484,"sql_generated":"SELECT \n    s.sales_rep_id,\n    e.first_name || ' ' || e.last_name AS sales_rep_name,\n    SUM(s.total) AS total_sales\nFROM \n    sales_orders s\nJOIN \n    employees e ON s.sales_rep_id = e.employee_id\nGROUP BY \n    s.sales_rep_id, e.first_name, e.last_name;","tables_used_in_sql":[],"total_latency_ms":14627,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:57:33.985Z","query_id":"d1cf12fa-3aa6-4571-9466-f5939ec641ef","question":"Which products have inventory below their reorder point?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":55,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":9312,"validation_ms":0,"execution_ms":1,"total_ms":9370},"retriever_version":"V1","tables_retrieved":["inventory_levels","reorder_rules","inventory_levels","inventory_levels","reorder_rules","reorder_rules","order_lines","order_lines","order_lines","purchase_orders","inventory_transactions","purchase_orders","purchase_orders","products","sales_orders"],"total_retrieval_latency_ms":55,"module_route":{"modules":["Inventory","Sales","Procurement"],"confidences":[0.8,0.6204194737759183,0.6487660016145484],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["products","inventory","point"],"top_linked":[{"table":"reorder_rules","column":"reorder_quantity","concept":"reorder","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["reorder_rules","inventory_levels","order_lines","inventory_transactions","products","sales_orders"],"skeleton_sql":"reorder_rules\nJOIN products ON reorder_rules.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id\nJOIN order_lines ON order_lines.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id\nJOIN sales_orders ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3457,"completion_tokens":342,"sql_generated":"SELECT p.product_id, p.name, i.quantity_on_hand, r.reorder_quantity FROM products p JOIN reorder_rules r ON p.product_id = r.product_id JOIN inventory_levels i ON p.product_id = i.product_id WHERE i.quantity_on_hand < r.reorder_quantity","tables_used_in_sql":["inventory_levels","reorder_rules","inventory_levels","inventory_levels","reorder_rules","reorder_rules","order_lines","order_lines","order_lines","purchase_orders","inventory_transactions","purchase_orders","purchase_orders","products","sales_orders"],"explain_result":"success","rows_returned":145,"total_latency_ms":9370}
{"timestamp":"2026-02-12T20:57:43.355Z","query_id":"548d321b-352d-497a-a218-8952f0e1f1ca","question":"Show total inventory value by warehouse","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":48,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":9680,"validation_ms":0,"total_ms":13427},"retriever_version":"V1","tables_retrieved":["inventory_levels","inventory_levels","inventory_levels","inventory_transactions","inventory_transactions","inventory_transactions","warehouse_locations","warehouse_locations","warehouse_locations","inventory_adjustments","warehouses","warehouses","warehouses","goods_receipts","inventory_adjustments"],"total_retrieval_latency_ms":48,"module_route":{"modules":["Inventory","Assets","Procurement"],"confidences":[0.6881528236449067,0.610494178679997,0.6096661444350719],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":6,"unsupported_concepts":["inventory","value"],"top_linked":[{"table":"inventory_levels","column":"warehouse_id","concept":"warehouse","score":1},{"table":"inventory_transactions","column":"warehouse_id","concept":"warehouse","score":1},{"table":"warehouse_locations","column":"warehouse_id","concept":"warehouse","score":1},{"table":"inventory_adjustments","column":"warehouse_id","concept":"warehouse","score":1},{"table":"warehouses","column":"warehouse_id","concept":"warehouse","score":1},{"table":"goods_receipts","column":"warehouse_id","concept":"warehouse","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_levels","inventory_transactions","warehouse_locations","inventory_adjustments","warehouses","goods_receipts"],"skeleton_sql":"inventory_levels\nJOIN warehouses ON inventory_levels.warehouse_id = warehouses.warehouse_id\nJOIN warehouse_locations ON inventory_levels.location_id = warehouse_locations.location_id\nJOIN inventory_transactions ON inventory_transactions.warehouse_id = warehouses.warehouse_id\nJOIN inventory_adjustments ON inventory_adjustments.warehouse_id = warehouses.warehouse_id\nJOIN goods_receipts ON goods_receipts.warehouse_id = warehouses.warehouse_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3077,"completion_tokens":467,"sql_generated":"SELECT \n    w.warehouse_id,\n    w.name AS warehouse_name,\n    SUM(il.quantity_on_hand * p.price) AS total_inventory_value\nFROM \n    warehouses w\nJOIN \n    inventory_levels il ON w.warehouse_id = il.warehouse_id\nJOIN \n    products p ON il.product_id = p.product_id\nGROUP BY \n    w.warehouse_id, w.name;","tables_used_in_sql":[],"total_latency_ms":13427,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T20:57:56.782Z","query_id":"192a673d-c50b-4fc4-add6-fa29a2a715fa","question":"List products that had stock transfers in the last 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":37,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":10093,"validation_ms":1,"execution_ms":1,"total_ms":10134},"retriever_version":"V1","tables_retrieved":["stock_transfers","stock_transfers","stock_transfers","transfer_lines","transfer_lines","transfer_lines","asset_transfers","asset_transfers","asset_transfers","product_suppliers","product_suppliers","product_suppliers","products","inventory_transactions","fixed_assets"],"total_retrieval_latency_ms":37,"module_route":{"modules":["Inventory","Assets","Sales"],"confidences":[1,0.5998748781261968,0.5802825151986847],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["products","stock","transfers","last"],"top_linked":[{"table":"product_suppliers","column":"lead_time_days","concept":"days","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["product_suppliers","stock_transfers","transfer_lines","asset_transfers","products","inventory_transactions","fixed_assets"],"skeleton_sql":"product_suppliers\nJOIN products ON product_suppliers.product_id = products.product_id\nJOIN transfer_lines ON transfer_lines.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id\nJOIN stock_transfers ON transfer_lines.transfer_id = stock_transfers.transfer_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":1,"selected_candidate_index":1,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3297,"completion_tokens":403,"sql_generated":"SELECT DISTINCT p.product_id, p.name FROM products p JOIN transfer_lines tl ON p.product_id = tl.product_id JOIN stock_transfers st ON tl.transfer_id = st.transfer_id WHERE st.transfer_date >= CURRENT_DATE - INTERVAL '30 days'","tables_used_in_sql":["stock_transfers","stock_transfers","stock_transfers","transfer_lines","transfer_lines","transfer_lines","asset_transfers","asset_transfers","asset_transfers","product_suppliers","product_suppliers","product_suppliers","products","inventory_transactions","fixed_assets"],"explain_result":"success","rows_returned":0,"total_latency_ms":10134}
{"timestamp":"2026-02-12T20:58:06.916Z","query_id":"2673a370-33a7-47a5-a9ae-6d381ce67c07","question":"What is the total spend by vendor this year?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":45,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":4080,"validation_ms":0,"execution_ms":1,"total_ms":7137},"retriever_version":"V1","tables_retrieved":["vendor_invoices","vendor_invoices","vendor_invoices","vendors","purchase_orders","purchase_orders","vendors","vendors","purchase_orders","project_expenses","project_expenses","project_expenses","vendor_invoice_lines","vendor_invoice_lines","vendor_contacts"],"total_retrieval_latency_ms":45,"module_route":{"modules":["Procurement","Sales","Projects"],"confidences":[0.6315132350172751,0.5716276998761761,0.5712407846026563],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":9,"unsupported_concepts":["spend","year"],"top_linked":[{"table":"vendor_invoices","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"total","concept":"total spend","score":1},{"table":"vendors","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_number","concept":"vendor","score":1},{"table":"purchase_orders","column":"vendor_id","concept":"vendor","score":1},{"table":"purchase_orders","column":"total","concept":"total spend","score":1},{"table":"vendor_contacts","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"subtotal","concept":"total spend","score":0.7},{"table":"purchase_orders","column":"subtotal","concept":"total spend","score":0.7}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendor_invoices","purchase_orders","vendors","vendor_contacts","vendor_invoice_lines"],"skeleton_sql":"vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id\nJOIN vendor_contacts ON vendor_contacts.vendor_id = vendors.vendor_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":0,"candidates_rejected":2,"selected_candidate_index":null,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3703,"completion_tokens":129,"sql_generated":"SELECT SUM(vendor_invoices.total) AS total_spend\nFROM vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nWHERE vendor_invoices.invoice_date >= CURRENT_DATE - INTERVAL '1 year';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":7137}
{"timestamp":"2026-02-12T20:58:14.053Z","query_id":"afd61d06-c5da-4176-908b-20754e49635d","question":"List purchase orders that are overdue (expected date passed but not received)","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":92,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":7730,"validation_ms":0,"execution_ms":2,"total_ms":7827},"retriever_version":"V1","tables_retrieved":["purchase_orders","purchase_orders","purchase_orders","sales_orders","goods_receipts","sales_orders","sales_orders","purchase_requisitions","purchase_requisitions","purchase_requisitions","order_lines","order_lines","order_lines","goods_receipts","goods_receipts"],"total_retrieval_latency_ms":92,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.5967878432654143,0.6506355764441156,0.5717976391409214],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":17,"unsupported_concepts":["orders","overdue","passed"],"top_linked":[{"table":"purchase_orders","column":"order_date","concept":"date","score":1},{"table":"purchase_orders","column":"expected_date","concept":"expected","score":1},{"table":"sales_orders","column":"order_date","concept":"date","score":1},{"table":"sales_orders","column":"required_date","concept":"date","score":1},{"table":"sales_orders","column":"ship_date","concept":"date","score":1},{"table":"goods_receipts","column":"receipt_date","concept":"date","score":1},{"table":"goods_receipts","column":"received_by","concept":"received","score":1},{"table":"purchase_requisitions","column":"request_date","concept":"date","score":1},{"table":"purchase_requisitions","column":"required_date","concept":"date","score":1},{"table":"purchase_requisitions","column":"approved_date","concept":"date","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["purchase_orders","sales_orders","goods_receipts","purchase_requisitions","order_lines"],"skeleton_sql":"purchase_orders\nJOIN goods_receipts ON goods_receipts.po_id = purchase_orders.po_id\nJOIN purchase_requisitions ON purchase_orders.requisition_id = purchase_requisitions.requisition_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3958,"completion_tokens":375,"sql_generated":"SELECT po.po_id, po.po_number, po.expected_date, gr.receipt_date FROM purchase_orders po LEFT JOIN goods_receipts gr ON gr.po_id = po.po_id AND gr.receipt_date IS NULL WHERE po.expected_date < CURRENT_DATE","tables_used_in_sql":["purchase_orders","purchase_orders","purchase_orders","sales_orders","goods_receipts","sales_orders","sales_orders","purchase_requisitions","purchase_requisitions","purchase_requisitions","order_lines","order_lines","order_lines","goods_receipts","goods_receipts"],"explain_result":"success","rows_returned":1000,"total_latency_ms":7827}
{"timestamp":"2026-02-12T20:58:21.880Z","query_id":"98837d43-2eb7-4862-a1e5-53f923c67f96","question":"Show the approval rate for purchase requisitions","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":65,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":12054,"validation_ms":0,"execution_ms":0,"total_ms":12122},"retriever_version":"V1","tables_retrieved":["purchase_requisitions","purchase_requisitions","purchase_requisitions","purchase_orders","purchase_orders","purchase_orders","requisition_lines","requisition_lines","requisition_lines","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoices","sales_orders"],"total_retrieval_latency_ms":65,"module_route":{"modules":["Procurement","Sales","Inventory"],"confidences":[0.6427500726788755,0.5960400617040607,0.5852234941282601],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["approval","rate","requisitions"],"top_linked":[{"table":"purchase_orders","column":"po_id","concept":"purchase","score":0.8},{"table":"purchase_orders","column":"po_number","concept":"purchase","score":0.8},{"table":"vendor_invoices","column":"po_id","concept":"purchase","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["purchase_orders","vendor_invoices","purchase_requisitions","requisition_lines"],"skeleton_sql":"purchase_orders\nJOIN vendor_invoices ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN purchase_requisitions ON purchase_orders.requisition_id = purchase_requisitions.requisition_id\nJOIN requisition_lines ON requisition_lines.requisition_id = purchase_requisitions.requisition_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":11,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":45,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3775,"completion_tokens":484,"sql_generated":"SELECT date_trunc('month', purchase_requisitions.approved_date) AS month, COUNT(*) FILTER (WHERE purchase_requisitions.status = 'Approved') * 100.0 / NULLIF(COUNT(*), 0) AS approval_rate FROM purchase_requisitions GROUP BY month","tables_used_in_sql":["purchase_requisitions","purchase_requisitions","purchase_requisitions","purchase_orders","purchase_orders","purchase_orders","requisition_lines","requisition_lines","requisition_lines","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoices","sales_orders"],"explain_result":"success","rows_returned":1,"total_latency_ms":12122}
{"timestamp":"2026-02-12T20:58:34.002Z","query_id":"5829b000-7d7e-456c-9c75-8340d5c646cc","question":"What is the total debit and credit for each account in the current period?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":88,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":7485,"validation_ms":0,"execution_ms":1,"total_ms":7577},"retriever_version":"V1","tables_retrieved":["bank_accounts","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","depreciation_entries","depreciation_schedules","bank_transactions","bank_transactions","bank_transactions","fiscal_periods","chart_of_accounts","budget_lines"],"total_retrieval_latency_ms":88,"module_route":{"modules":["Finance","Assets","Projects"],"confidences":[0.6820847512994077,0.6316146260622317,0.6029159033276472],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":15,"unsupported_concepts":["debit","credit"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"current_balance","concept":"current","score":1},{"table":"depreciation_entries","column":"period_id","concept":"period","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1},{"table":"fiscal_periods","column":"period_id","concept":"period","score":1},{"table":"fiscal_periods","column":"period_number","concept":"period","score":1},{"table":"chart_of_accounts","column":"account_id","concept":"account","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","chart_of_accounts","fiscal_periods","budget_lines","depreciation_entries","bank_transactions"],"skeleton_sql":"bank_accounts\nJOIN chart_of_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id\nJOIN budget_lines ON budget_lines.account_id = chart_of_accounts.account_id\nJOIN fiscal_periods ON budget_lines.period_id = fiscal_periods.period_id\nJOIN depreciation_entries ON depreciation_entries.period_id = fiscal_periods.period_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3225,"completion_tokens":279,"sql_generated":"SELECT ba.gl_account_id, SUM(CASE WHEN bt.transaction_type = 'Debit' THEN bt.amount ELSE 0 END) AS total_debit, SUM(CASE WHEN bt.transaction_type = 'Credit' THEN bt.amount ELSE 0 END) AS total_credit FROM bank_transactions bt JOIN bank_accounts ba ON bt.bank_account_id = ba.bank_account_id WHERE bt.transaction_date BETWEEN (SELECT start_date FROM fiscal_periods WHERE is_closed = FALSE ORDER BY start_date LIMIT 1) AND (SELECT end_date FROM fiscal_periods WHERE is_closed = FALSE ORDER BY end_date LIMIT 1) GROUP BY ba.gl_account_id","tables_used_in_sql":["bank_accounts","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","depreciation_entries","depreciation_schedules","bank_transactions","bank_transactions","bank_transactions","fiscal_periods","chart_of_accounts","budget_lines"],"explain_result":"success","rows_returned":3,"total_latency_ms":7577}
{"timestamp":"2026-02-12T20:58:41.579Z","query_id":"d52717b5-457b-447d-8bf7-ec7d23f7d107","question":"List all posted journal entries for the current month","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":64,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":8471,"validation_ms":0,"execution_ms":1,"total_ms":8538},"retriever_version":"V1","tables_retrieved":["journal_entries","journal_entries","journal_entries","depreciation_entries","journal_lines","journal_lines","journal_lines","depreciation_entries","depreciation_entries","timesheet_entries","timesheet_entries","timesheet_entries","depreciation_schedules","depreciation_schedules","fiscal_years"],"total_retrieval_latency_ms":64,"module_route":{"modules":["Finance","Assets","Projects"],"confidences":[0.621986778545572,0.5716830050727633,0.5519832117436305],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["entries","current"],"top_linked":[{"table":"journal_entries","column":"posted_by","concept":"posted","score":1},{"table":"depreciation_entries","column":"journal_entry_id","concept":"journal","score":1},{"table":"depreciation_schedules","column":"useful_life_months","concept":"month","score":0.8},{"table":"depreciation_schedules","column":"monthly_amount","concept":"month","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["journal_entries","depreciation_entries","journal_lines"],"skeleton_sql":"journal_entries\nJOIN depreciation_entries ON depreciation_entries.journal_entry_id = journal_entries.entry_id\nJOIN journal_lines ON journal_lines.entry_id = journal_entries.entry_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3006,"completion_tokens":397,"sql_generated":"SELECT je.entry_id, je.entry_number, je.entry_date, je.description, je.reference, je.posted_by, je.status, je.created_at FROM journal_entries je WHERE date_trunc('month', je.entry_date) = date_trunc('month', CURRENT_DATE) AND je.status = 'Posted'","tables_used_in_sql":["journal_entries","journal_entries","journal_entries","depreciation_entries","journal_lines","journal_lines","journal_lines","depreciation_entries","depreciation_entries","timesheet_entries","timesheet_entries","timesheet_entries","depreciation_schedules","depreciation_schedules","fiscal_years"],"explain_result":"success","rows_returned":0,"total_latency_ms":8538}
{"timestamp":"2026-02-12T20:58:50.117Z","query_id":"2042cc21-2aec-46f5-9a74-e799b3e5de08","question":"Show budget vs actual spending by department","attempt_count":3,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":41,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":13552,"validation_ms":0,"execution_ms":0,"total_ms":17414},"retriever_version":"V1","tables_retrieved":["budgets","budgets","budgets","project_budgets","project_budgets","project_budgets","budget_lines","departments","budget_lines","budget_lines","project_expenses","departments","departments","project_expenses","project_expenses"],"total_retrieval_latency_ms":41,"module_route":{"modules":["Finance","HR","Projects"],"confidences":[0.5677103664959317,0.5005047374118523,0.5213199542872742],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["vs","spending"],"top_linked":[{"table":"budgets","column":"budget_id","concept":"budget","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_budgets","column":"actual_amount","concept":"actual","score":1},{"table":"budget_lines","column":"budget_id","concept":"budget","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"departments","column":"budget","concept":"budget","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","budgets","budget_lines"],"skeleton_sql":"departments\nJOIN budgets ON budgets.department_id = departments.department_id\nJOIN budget_lines ON budget_lines.budget_id = budgets.budget_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2902,"completion_tokens":541,"sql_generated":"SELECT d.department_id, d.name AS department_name, SUM(b.total_amount) AS planned_budget, SUM(pb.actual_amount) AS actual_spending \nFROM departments d \nJOIN budgets b ON b.department_id = d.department_id \nJOIN project_budgets pb ON pb.budget_id = b.budget_id \nGROUP BY d.department_id, d.name;","tables_used_in_sql":[],"explain_result":"success","sqlstate":"42703","error_message":"column b.planned_amount does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","rows_returned":23,"total_latency_ms":17413,"shadow_whitelist_observations":[{"attempt":1,"failing_reference":"b.planned_amount","alias_resolved":"budgets","alias_ambiguous":false,"would_rewrite":false,"rewrite_to_column":"total_amount","rewrite_confidence":0.3,"rewrite_rejection_reason":"best_candidate_score_0.30_below_threshold_0.75","candidate_count":1,"strict_gating_passed":false,"strict_gating_failures":["score_0.30_below_floor_0.55","no_containment"],"autocorrect_attempted":true,"autocorrect_succeeded":false,"lexical_score":0.3,"containment_bonus":0,"has_containment":false,"dominance_delta":0.3,"is_keyword":false,"top_candidates":[{"column":"total_amount","score":0.3,"containment_bonus":0}],"active_gating_passed":false,"active_gating_failures":["score_0.30_below_floor_0.8","no_containment_or_exact"],"rewrite_would_fire_in_active_mode":false,"top1_score":0.3,"top2_score":null,"score_delta":null,"score_ratio":null,"risk_blacklist_action":"none","raw_candidate_count":1,"eligible_candidate_count":1,"pipeline_outcome":"success","would_have_helped":false,"would_have_been_redundant":false,"would_have_acted_on_success":false},{"attempt":2,"failing_reference":"b.planned_amount","alias_resolved":"budgets","alias_ambiguous":false,"would_rewrite":false,"rewrite_to_column":"total_amount","rewrite_confidence":0.3,"rewrite_rejection_reason":"best_candidate_score_0.30_below_threshold_0.75","candidate_count":1,"strict_gating_passed":false,"strict_gating_failures":["score_0.30_below_floor_0.55","no_containment"],"autocorrect_attempted":true,"autocorrect_succeeded":false,"lexical_score":0.3,"containment_bonus":0,"has_containment":false,"dominance_delta":0.3,"is_keyword":false,"top_candidates":[{"column":"total_amount","score":0.3,"containment_bonus":0}],"active_gating_passed":false,"active_gating_failures":["score_0.30_below_floor_0.8","no_containment_or_exact"],"rewrite_would_fire_in_active_mode":false,"top1_score":0.3,"top2_score":null,"score_delta":null,"score_ratio":null,"risk_blacklist_action":"none","raw_candidate_count":1,"eligible_candidate_count":1,"pipeline_outcome":"success","would_have_helped":false,"would_have_been_redundant":false,"would_have_acted_on_success":false}]}
{"timestamp":"2026-02-12T20:59:07.531Z","query_id":"93e0b433-c437-4488-91a8-e07b54f1ae9d","question":"What is the total expense amount per project?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":45,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":3143,"validation_ms":0,"execution_ms":0,"total_ms":3191},"retriever_version":"V1","tables_retrieved":["project_expenses","project_expenses","project_expenses","project_budgets","project_budgets","project_budgets","project_milestones","project_milestones","project_milestones","projects","projects","project_resources","project_resources","project_resources","projects"],"total_retrieval_latency_ms":45,"module_route":{"modules":["Projects","Finance","Assets"],"confidences":[0.676157984147777,0.5752672839977457,0.5892418783729241],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":16,"unsupported_concepts":[],"top_linked":[{"table":"project_expenses","column":"expense_id","concept":"expense","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"project_expenses","column":"expense_date","concept":"expense","score":1},{"table":"project_expenses","column":"amount","concept":"amount","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_budgets","column":"planned_amount","concept":"amount","score":1},{"table":"project_budgets","column":"actual_amount","concept":"amount","score":1},{"table":"project_milestones","column":"project_id","concept":"project","score":1},{"table":"project_milestones","column":"amount","concept":"amount","score":1},{"table":"projects","column":"project_id","concept":"project","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_expenses","projects","project_budgets","project_resources","project_milestones"],"skeleton_sql":"project_expenses\nJOIN projects ON project_expenses.project_id = projects.project_id\nJOIN project_budgets ON project_budgets.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3218,"completion_tokens":84,"sql_generated":"SELECT p.project_id, SUM(pe.amount) AS total_expense_amount FROM projects p JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id","tables_used_in_sql":["project_expenses","project_expenses","project_expenses","project_budgets","project_budgets","project_budgets","project_milestones","project_milestones","project_milestones","projects","projects","project_resources","project_resources","project_resources","projects"],"explain_result":"success","rows_returned":100,"total_latency_ms":3191}
{"timestamp":"2026-02-12T20:59:10.723Z","query_id":"faab0c17-1b73-48d9-b817-df85ad17bed8","question":"List projects that are over budget","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":72,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":11124,"validation_ms":0,"execution_ms":1,"total_ms":11199},"retriever_version":"V1","tables_retrieved":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","project_milestones","projects","projects","projects","project_resources","project_milestones","project_milestones","budgets","budgets"],"total_retrieval_latency_ms":72,"module_route":{"modules":["Projects","Finance","Assets"],"confidences":[0.6467013339330956,0.5471531435198711,0.549415898809859],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["projects"],"top_linked":[{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"projects","column":"budget","concept":"budget","score":1},{"table":"budgets","column":"budget_id","concept":"budget","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_budgets","projects","project_expenses","project_milestones","project_resources"],"skeleton_sql":"project_budgets\nJOIN projects ON project_budgets.project_id = projects.project_id\nJOIN project_expenses ON project_expenses.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3072,"completion_tokens":509,"sql_generated":"SELECT p.project_id, p.name, pb.planned_amount, SUM(pe.amount) AS actual_amount FROM projects p JOIN project_budgets pb ON p.project_id = pb.project_id LEFT JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id, p.name, pb.planned_amount HAVING SUM(pe.amount) > pb.planned_amount","tables_used_in_sql":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","project_milestones","projects","projects","projects","project_resources","project_milestones","project_milestones","budgets","budgets"],"explain_result":"success","rows_returned":14,"total_latency_ms":11199}
{"timestamp":"2026-02-12T20:59:21.922Z","query_id":"d88df98d-778f-4c87-bdb9-e3f0040a000a","question":"Show project resources and their allocation percentages","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":70,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":6652,"validation_ms":0,"execution_ms":1,"total_ms":6725},"retriever_version":"V1","tables_retrieved":["project_resources","project_resources","project_resources","project_budgets","project_budgets","project_budgets","project_expenses","projects","project_expenses","project_expenses","task_assignments","project_tasks","project_milestones","projects","projects"],"total_retrieval_latency_ms":70,"module_route":{"modules":["Projects","Assets","HR"],"confidences":[0.6718958463243488,0.6107490024847629,0.5614614033173991],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["resources","percentages"],"top_linked":[{"table":"project_resources","column":"project_id","concept":"project","score":1},{"table":"project_resources","column":"allocation_percent","concept":"allocation","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"projects","column":"project_id","concept":"project","score":1},{"table":"projects","column":"project_number","concept":"project","score":1},{"table":"projects","column":"project_manager_id","concept":"project","score":1},{"table":"project_milestones","column":"project_id","concept":"project","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["projects","project_resources","project_budgets","project_expenses","project_milestones","task_assignments","project_tasks"],"skeleton_sql":"projects\nJOIN project_resources ON project_resources.project_id = projects.project_id\nJOIN project_budgets ON project_budgets.project_id = projects.project_id\nJOIN project_expenses ON project_expenses.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3145,"completion_tokens":225,"sql_generated":"SELECT p.project_id, p.name, pr.employee_id, pr.role, pr.allocation_percent FROM projects p JOIN project_resources pr ON pr.project_id = p.project_id","tables_used_in_sql":["project_resources","project_resources","project_resources","project_budgets","project_budgets","project_budgets","project_expenses","projects","project_expenses","project_expenses","task_assignments","project_tasks","project_milestones","projects","projects"],"explain_result":"success","rows_returned":300,"total_latency_ms":6725}
{"timestamp":"2026-02-12T20:59:28.647Z","query_id":"ca8c9e64-3001-435e-8d26-2acb077084ed","question":"List fixed assets by category with their total purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":51,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":9008,"validation_ms":0,"execution_ms":1,"total_ms":9063},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_categories","asset_categories","asset_categories","asset_maintenance","asset_maintenance","asset_maintenance","products","products","depreciation_schedules","depreciation_schedules","products","depreciation_schedules"],"total_retrieval_latency_ms":51,"module_route":{"modules":["Assets","Procurement","Inventory"],"confidences":[0.7257433212682611,0.6070729014973074,0.6141358644138465],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["fixed","assets"],"top_linked":[{"table":"fixed_assets","column":"category_id","concept":"category","score":1},{"table":"fixed_assets","column":"purchase_date","concept":"purchase","score":1},{"table":"fixed_assets","column":"purchase_cost","concept":"purchase","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"asset_maintenance","column":"cost","concept":"cost","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"products","column":"unit_cost","concept":"cost","score":1},{"table":"fixed_assets","column":"po_id","concept":"purchase","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_categories","asset_maintenance","depreciation_schedules"],"skeleton_sql":"fixed_assets\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3426,"completion_tokens":320,"sql_generated":"SELECT ac.name AS category_name, SUM(fa.purchase_cost) AS total_purchase_cost FROM fixed_assets fa JOIN asset_categories ac ON fa.category_id = ac.category_id GROUP BY ac.name","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_categories","asset_categories","asset_categories","asset_maintenance","asset_maintenance","asset_maintenance","products","products","depreciation_schedules","depreciation_schedules","products","depreciation_schedules"],"explain_result":"success","rows_returned":7,"total_latency_ms":9063}
{"timestamp":"2026-02-12T20:59:37.710Z","query_id":"a56d9077-3f95-472f-b5aa-ebcfe0a329f6","question":"List assets due for maintenance in the next 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":89,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":12148,"validation_ms":0,"execution_ms":0,"total_ms":12240},"retriever_version":"V1","tables_retrieved":["asset_maintenance","asset_maintenance","asset_maintenance","fixed_assets","fixed_assets","fixed_assets","depreciation_schedules","depreciation_schedules","depreciation_schedules","maintenance_types","maintenance_types","asset_transfers","maintenance_types","asset_transfers","asset_transfers"],"total_retrieval_latency_ms":89,"module_route":{"modules":["Assets","Finance","Projects"],"confidences":[0.700821310891108,0.575682266101458,0.5712385710619057],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["assets","due","next","days"],"top_linked":[{"table":"asset_maintenance","column":"maintenance_id","concept":"maintenance","score":1},{"table":"asset_maintenance","column":"maintenance_type_id","concept":"maintenance","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["asset_maintenance","fixed_assets","depreciation_schedules","maintenance_types","asset_transfers"],"skeleton_sql":"asset_maintenance\nJOIN fixed_assets ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN maintenance_types ON asset_maintenance.maintenance_type_id = maintenance_types.type_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":4,"candidates_rejected":2,"selected_candidate_index":2,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"},{"index":6,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3419,"completion_tokens":456,"sql_generated":"SELECT fa.asset_id, fa.name, am.scheduled_date FROM fixed_assets fa JOIN asset_maintenance am ON fa.asset_id = am.asset_id WHERE am.scheduled_date BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '30 days'","tables_used_in_sql":["asset_maintenance","asset_maintenance","asset_maintenance","fixed_assets","fixed_assets","fixed_assets","depreciation_schedules","depreciation_schedules","depreciation_schedules","maintenance_types","maintenance_types","asset_transfers","maintenance_types","asset_transfers","asset_transfers"],"explain_result":"success","rows_returned":0,"total_latency_ms":12240}
{"timestamp":"2026-02-12T20:59:49.951Z","query_id":"550b7d11-6775-469a-af57-bb50bcd558ec","question":"How many documents are attached to each entity type?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":64,"glosses_ms":1,"linker_ms":0,"planner_ms":0,"first_generation_ms":2147,"validation_ms":0,"execution_ms":0,"total_ms":2213},"retriever_version":"V1","tables_retrieved":["document_attachments","document_attachments","document_attachments","maintenance_types","maintenance_types","benefit_types","benefit_types","asset_categories","asset_categories","asset_categories","certifications","certifications","departments","departments","maintenance_types"],"total_retrieval_latency_ms":64,"module_route":{"modules":["Common","Assets","HR"],"confidences":[0.6099410037842294,0.6071622744741,0.6001465631223495],"method":"embedding"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":5,"unsupported_concepts":["documents","attached"],"top_linked":[{"table":"document_attachments","column":"entity_type","concept":"entity","score":1},{"table":"document_attachments","column":"entity_id","concept":"entity","score":1},{"table":"document_attachments","column":"mime_type","concept":"type","score":1},{"table":"maintenance_types","column":"type_id","concept":"type","score":1},{"table":"benefit_types","column":"benefit_type_id","concept":"type","score":1}]},"join_plan":{"used":false,"candidate_count":0,"selected_tables":[],"skeleton_sql":null},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2383,"completion_tokens":132,"sql_generated":"SELECT entity_type, COUNT(*) AS document_count FROM document_attachments GROUP BY entity_type","tables_used_in_sql":["document_attachments","document_attachments","document_attachments","maintenance_types","maintenance_types","benefit_types","benefit_types","asset_categories","asset_categories","asset_categories","certifications","certifications","departments","departments","maintenance_types"],"explain_result":"success","rows_returned":7,"total_latency_ms":2213}
{"timestamp":"2026-02-12T20:59:52.165Z","query_id":"43764a9a-45de-43a4-a3e9-cb5a682ffeaa","question":"Calculate employee turnover rate by department for 2024","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":43,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":27451,"validation_ms":0,"total_ms":33227},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","employee_salaries","employee_salaries","employee_salaries","departments","positions","positions","positions","departments","departments","budgets","employee_training","employment_history"],"total_retrieval_latency_ms":43,"module_route":{"modules":["HR","Assets","Finance"],"confidences":[0.6353268662455963,0.5849812909990083,0.5784689335665294],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":["calculate","turnover","rate"],"top_linked":[{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"employee_training","column":"employee_id","concept":"employee","score":1},{"table":"employment_history","column":"employee_id","concept":"employee","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","employee_salaries","positions","budgets","employee_training","employment_history"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN positions ON employees.position_id = positions.position_id\nJOIN budgets ON budgets.approved_by = employees.employee_id\nJOIN employee_training ON employee_training.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":2,"selected_candidate_index":2,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"}]},"prompt_tokens":3216,"completion_tokens":550,"sql_generated":"SELECT \n    d.department_id,\n    d.name AS department_name,\n    COUNT(e.employee_id) FILTER (WHERE e.termination_date IS NOT NULL AND EXTRACT(YEAR FROM e.termination_date) = 2024) AS terminated_count,\n    COUNT(e.employee_id) AS total_employees,\n    (COUNT(e.employee_id) FILTER (WHERE e.termination_date IS NOT NULL AND EXTRACT(YEAR FROM e.termination_date) = 2024) * 100.0 / NULLIF(COUNT(e.employee_id), 0)) AS turnover_rate\nFROM \n    employees e\nJOIN \n    departments d ON e.department_id = d.department_id\nWHERE \n    e.is_active = TRUE\nGROUP BY \n    d.department_id, d.name;","tables_used_in_sql":[],"total_latency_ms":33227,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T21:00:25.392Z","query_id":"64e27512-aca0-4044-a9b2-dcdae5db6c31","question":"Find the salary percentile ranking for each employee within their department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":70,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":13499,"validation_ms":0,"execution_ms":2,"total_ms":13575},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_salaries","positions","positions","positions","employees","departments","employees","employees","departments","departments","sales_regions","performance_reviews","performance_reviews"],"total_retrieval_latency_ms":70,"module_route":{"modules":["HR","Sales","Finance"],"confidences":[0.6677084289922868,0.6117316238421459,0.5982580642330567],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":12,"unsupported_concepts":["percentile","ranking","within"],"top_linked":[{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"positions","column":"min_salary","concept":"salary","score":1},{"table":"positions","column":"max_salary","concept":"salary","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"departments","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","positions","employee_salaries","departments","performance_reviews","sales_regions"],"skeleton_sql":"employees\nJOIN positions ON employees.position_id = positions.position_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN departments ON employees.department_id = departments.department_id\nJOIN performance_reviews ON performance_reviews.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3232,"completion_tokens":520,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, d.department_id, d.name AS department_name, es.amount AS salary, NTILE(100) OVER (PARTITION BY e.department_id ORDER BY es.amount) AS salary_percentile FROM employees e JOIN employee_salaries es ON e.employee_id = es.employee_id JOIN departments d ON e.department_id = d.department_id","tables_used_in_sql":["employee_salaries","employee_salaries","employee_salaries","positions","positions","positions","employees","departments","employees","employees","departments","departments","sales_regions","performance_reviews","performance_reviews"],"explain_result":"success","rows_returned":900,"total_latency_ms":13575}
{"timestamp":"2026-02-12T21:00:38.967Z","query_id":"04039dde-9129-48ec-b384-fd87d7a0cd9f","question":"Identify employees who have not completed mandatory training","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":98,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":10980,"validation_ms":0,"execution_ms":1,"total_ms":11082},"retriever_version":"V1","tables_retrieved":["employee_training","employee_training","employee_training","training_courses","training_courses","training_courses","employee_certifications","employee_certifications","employee_certifications","employees","employees","employees","leave_requests","employee_salaries","employee_salaries"],"total_retrieval_latency_ms":98,"module_route":{"modules":["HR","Sales","Procurement"],"confidences":[0.64640606633454,0.540978426940899,0.5245556051736402],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["identify","employees","completed"],"top_linked":[{"table":"employee_training","column":"training_id","concept":"training","score":1},{"table":"training_courses","column":"is_mandatory","concept":"mandatory","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employee_training","training_courses","employee_certifications","employees","leave_requests","employee_salaries"],"skeleton_sql":"employee_training\nJOIN training_courses ON employee_training.course_id = training_courses.course_id\nJOIN employees ON employee_training.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN leave_requests ON leave_requests.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3090,"completion_tokens":412,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name FROM employees e WHERE NOT EXISTS ( SELECT 1 FROM employee_training et JOIN training_courses tc ON et.course_id = tc.course_id WHERE et.employee_id = e.employee_id AND tc.is_mandatory = TRUE AND et.status != 'Completed' )","tables_used_in_sql":["employee_training","employee_training","employee_training","training_courses","training_courses","training_courses","employee_certifications","employee_certifications","employee_certifications","employees","employees","employees","leave_requests","employee_salaries","employee_salaries"],"explain_result":"success","rows_returned":227,"total_latency_ms":11082}
{"timestamp":"2026-02-12T21:00:50.049Z","query_id":"3097ace6-7269-41b5-9898-e36114d57b55","question":"Calculate month-over-month sales growth rate for the past 12 months","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":51,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":16787,"validation_ms":1,"total_ms":22799},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","sales_orders","sales_orders","sales_orders","sales_regions","sales_quotes","sales_regions","sales_regions","sales_quotes","sales_quotes","sales_territories","stock_transfers","fiscal_periods"],"total_retrieval_latency_ms":51,"module_route":{"modules":["Sales","Finance","Inventory"],"confidences":[0.6114578940600388,0.5781428462288493,0.5635061495748314],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["calculate","month","month","growth","rate","past","months"],"top_linked":[{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","sales_opportunities","sales_regions","sales_quotes","sales_territories"],"skeleton_sql":"sales_orders\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN sales_opportunities ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":0,"candidates_rejected":3,"selected_candidate_index":null,"evaluation_time_ms":0,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"}]},"prompt_tokens":3276,"completion_tokens":730,"sql_generated":"SELECT \n        date_trunc('month', order_date) AS month,\n        SUM(total) AS sales\n    FROM \n        sales_orders\n    GROUP BY \n        1\n)\nSELECT \n    month, \n    sales, \n    (sales - LAG(sales) OVER (ORDER BY month)) * 100.0 / NULLIF(LAG(sales) OVER (ORDER BY month), 0) AS growth_pct \nFROM \n    monthly_sales\nWHERE \n    month >= CURRENT_DATE - INTERVAL '12 months';","tables_used_in_sql":[],"total_latency_ms":22799,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T21:01:12.849Z","query_id":"c10949a3-4c32-4245-9186-ccc7966b3a26","question":"Find the average order value and order frequency for each customer segment based on credit limit","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":57,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":10102,"validation_ms":0,"execution_ms":3,"total_ms":10165},"retriever_version":"V1","tables_retrieved":["customers","customers","customers","order_lines","sales_orders","order_lines","order_lines","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","po_lines","po_lines","po_lines"],"total_retrieval_latency_ms":57,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.6727687453502137,0.6421562011203431,0.6251572452931817],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":12,"unsupported_concepts":["value","frequency","segment","based"],"top_linked":[{"table":"customers","column":"customer_id","concept":"customer","score":1},{"table":"customers","column":"customer_number","concept":"customer","score":1},{"table":"customers","column":"credit_limit","concept":"credit","score":1},{"table":"order_lines","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_number","concept":"order","score":1},{"table":"sales_orders","column":"customer_id","concept":"customer","score":1},{"table":"sales_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"po_id","concept":"order","score":0.7}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","customers","purchase_orders","order_lines","po_lines"],"skeleton_sql":"sales_orders\nJOIN customers ON sales_orders.customer_id = customers.customer_id\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":2,"selected_candidate_index":3,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":3,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3870,"completion_tokens":429,"sql_generated":"SELECT c.customer_id, AVG(so.total) AS avg_order_value, COUNT(so.order_id) AS order_frequency, CASE WHEN c.credit_limit <= 1000 THEN 'Low' WHEN c.credit_limit > 1000 AND c.credit_limit <= 5000 THEN 'Medium' ELSE 'High' END AS credit_segment FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, credit_segment","tables_used_in_sql":["customers","customers","customers","order_lines","sales_orders","order_lines","order_lines","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","po_lines","po_lines","po_lines"],"explain_result":"success","rows_returned":993,"total_latency_ms":10165}
{"timestamp":"2026-02-12T21:01:23.015Z","query_id":"874553c5-ee1f-407f-98b4-e7f654c6f6fb","question":"What is the sales pipeline weighted value by stage and expected close month?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":81,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":6739,"validation_ms":0,"execution_ms":2,"total_ms":6826},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","purchase_orders","opportunity_stages","opportunity_stages","sales_orders","vendor_invoices","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoice_lines","sales_quotes"],"total_retrieval_latency_ms":81,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.5961601378459042,0.5706488433510485,0.5544655885968259],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":7,"unsupported_concepts":["pipeline","weighted","value","month"],"top_linked":[{"table":"sales_opportunities","column":"stage_id","concept":"stage","score":1},{"table":"sales_opportunities","column":"expected_close_date","concept":"expected","score":1},{"table":"sales_opportunities","column":"actual_close_date","concept":"close","score":1},{"table":"opportunity_stages","column":"stage_id","concept":"stage","score":1},{"table":"purchase_orders","column":"expected_date","concept":"expected","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"opportunity_stages","column":"is_closed","concept":"close","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","purchase_orders","sales_orders","vendor_invoices","vendor_invoice_lines","sales_quotes"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id\nJOIN sales_quotes ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id"},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":1,"candidates_rejected":1,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3642,"completion_tokens":224,"sql_generated":"SELECT os.stage_id, os.name AS stage_name, date_trunc('month', os.expected_close_date) AS expected_month, SUM(os.amount * os.probability) AS weighted_value FROM sales_opportunities os JOIN opportunity_stages op ON os.stage_id = op.stage_id GROUP BY os.stage_id, os.name, date_trunc('month', os.expected_close_date) ORDER BY expected_month, stage_name","tables_used_in_sql":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","purchase_orders","opportunity_stages","opportunity_stages","sales_orders","vendor_invoices","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoice_lines","sales_quotes"],"explain_result":"success","rows_returned":500,"total_latency_ms":6826}
{"timestamp":"2026-02-12T21:01:29.841Z","query_id":"c0570133-b767-4239-9e28-9f9e38257a12","question":"Calculate inventory turnover ratio by product category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":80,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":16739,"validation_ms":0,"execution_ms":3,"total_ms":16824},"retriever_version":"V1","tables_retrieved":["inventory_levels","inventory_levels","inventory_levels","products","asset_categories","inventory_transactions","products","products","product_categories","asset_categories","asset_categories","inventory_transactions","inventory_transactions","product_categories","product_categories"],"total_retrieval_latency_ms":80,"module_route":{"modules":["Inventory","Assets","Procurement"],"confidences":[0.6884960092342306,0.647766271827726,0.6119881430513051],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":["calculate","inventory","turnover"],"top_linked":[{"table":"inventory_levels","column":"product_id","concept":"product","score":1},{"table":"products","column":"product_id","concept":"product","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"inventory_transactions","column":"product_id","concept":"product","score":1},{"table":"product_categories","column":"category_id","concept":"category","score":1},{"table":"product_categories","column":"parent_category_id","concept":"category","score":1},{"table":"asset_categories","column":"salvage_value_percent","concept":"ratio","score":0.5},{"table":"inventory_transactions","column":"transaction_type","concept":"category","score":0.5},{"table":"inventory_transactions","column":"reference_type","concept":"category","score":0.5}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_transactions","products","product_categories","inventory_levels"],"skeleton_sql":"inventory_transactions\nJOIN products ON inventory_transactions.product_id = products.product_id\nJOIN product_categories ON products.category_id = product_categories.category_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":2,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3035,"completion_tokens":657,"sql_generated":"SELECT pc.category_id, pc.name AS category_name, SUM(il.quantity_on_hand * p.unit_cost) / NULLIF(SUM(it.quantity), 0) AS inventory_turnover_ratio FROM inventory_transactions it JOIN products p ON it.product_id = p.product_id JOIN product_categories pc ON p.category_id = pc.category_id JOIN inventory_levels il ON il.product_id = p.product_id GROUP BY pc.category_id, pc.name","tables_used_in_sql":["inventory_levels","inventory_levels","inventory_levels","products","asset_categories","inventory_transactions","products","products","product_categories","asset_categories","asset_categories","inventory_transactions","inventory_transactions","product_categories","product_categories"],"explain_result":"success","rows_returned":30,"total_latency_ms":16824}
{"timestamp":"2026-02-12T21:01:46.666Z","query_id":"89b0492a-df65-43f8-8184-de04382a0ee3","question":"Identify products with significant inventory discrepancies (adjustment > 10% of stock)","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":65,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":20529,"validation_ms":0,"execution_ms":1,"total_ms":20598},"retriever_version":"V1","tables_retrieved":["inventory_adjustments","inventory_adjustments","inventory_adjustments","adjustment_lines","adjustment_lines","adjustment_lines","fixed_assets","inventory_levels","inventory_levels","inventory_levels","products","stock_transfers","inventory_transactions","fixed_assets","fixed_assets"],"total_retrieval_latency_ms":65,"module_route":{"modules":["Inventory","Assets","Sales"],"confidences":[0.8,0.5884144045800249,0.5640648464817372],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["identify","products","significant","inventory","discrepancies","stock"],"top_linked":[{"table":"inventory_adjustments","column":"adjustment_id","concept":"adjustment","score":1},{"table":"inventory_adjustments","column":"adjustment_number","concept":"adjustment","score":1},{"table":"inventory_adjustments","column":"adjustment_date","concept":"adjustment","score":1},{"table":"adjustment_lines","column":"adjustment_id","concept":"adjustment","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_adjustments","adjustment_lines","inventory_levels","products","inventory_transactions"],"skeleton_sql":"inventory_adjustments\nJOIN adjustment_lines ON adjustment_lines.adjustment_id = inventory_adjustments.adjustment_id\nJOIN products ON adjustment_lines.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3508,"completion_tokens":912,"sql_generated":"SELECT p.product_id, p.name, SUM(al.quantity_change) AS total_adjustment, il.quantity_on_hand AS current_stock FROM adjustment_lines al JOIN inventory_levels il ON il.level_id = al.location_id AND il.product_id = al.product_id JOIN products p ON p.product_id = al.product_id GROUP BY p.product_id, p.name, il.quantity_on_hand HAVING ABS(SUM(al.quantity_change) / NULLIF(il.quantity_on_hand, 0)) > 0.1","tables_used_in_sql":["inventory_adjustments","inventory_adjustments","inventory_adjustments","adjustment_lines","adjustment_lines","adjustment_lines","fixed_assets","inventory_levels","inventory_levels","inventory_levels","products","stock_transfers","inventory_transactions","fixed_assets","fixed_assets"],"explain_result":"success","rows_returned":0,"total_latency_ms":20598}
{"timestamp":"2026-02-12T21:02:07.264Z","query_id":"327a92b4-feca-4096-94f3-e03651314c27","question":"Calculate vendor performance score based on on-time delivery and invoice accuracy","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":40,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":14148,"validation_ms":0,"execution_ms":1,"total_ms":14192},"retriever_version":"V1","tables_retrieved":["vendor_invoices","vendor_invoices","vendor_invoices","purchase_orders","vendors","purchase_orders","purchase_orders","vendor_invoice_lines","vendor_invoice_lines","product_suppliers","vendors","vendors","vendor_invoice_lines","vendor_contacts","product_suppliers"],"total_retrieval_latency_ms":40,"module_route":{"modules":["Procurement","Sales","Inventory"],"confidences":[0.6345052373741285,0.5742019406582648,0.556210253518098],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":18,"unsupported_concepts":["calculate","performance","score","based","delivery","accuracy"],"top_linked":[{"table":"vendor_invoices","column":"invoice_id","concept":"invoice","score":1},{"table":"vendor_invoices","column":"invoice_number","concept":"invoice","score":1},{"table":"vendor_invoices","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"invoice_date","concept":"invoice","score":1},{"table":"purchase_orders","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_number","concept":"vendor","score":1},{"table":"vendor_invoice_lines","column":"invoice_id","concept":"invoice","score":1},{"table":"product_suppliers","column":"vendor_id","concept":"vendor","score":1},{"table":"product_suppliers","column":"vendor_sku","concept":"vendor","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendor_invoices","purchase_orders","vendors","product_suppliers","vendor_invoice_lines","vendor_contacts"],"skeleton_sql":"vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id\nJOIN product_suppliers ON product_suppliers.vendor_id = vendors.vendor_id\nJOIN vendor_contacts ON vendor_contacts.vendor_id = vendors.vendor_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3843,"completion_tokens":621,"sql_generated":"SELECT v.vendor_id, v.name, AVG(CASE WHEN oi.due_date <= CURRENT_DATE THEN 1 ELSE 0 END) AS on_time_delivery_rate, AVG(CASE WHEN oi.amount_paid = oi.total THEN 1 ELSE 0 END) AS invoice_accuracy_rate FROM vendor_invoices oi JOIN purchase_orders po ON oi.po_id = po.po_id JOIN vendors v ON oi.vendor_id = v.vendor_id GROUP BY v.vendor_id, v.name","tables_used_in_sql":["vendor_invoices","vendor_invoices","vendor_invoices","purchase_orders","vendors","purchase_orders","purchase_orders","vendor_invoice_lines","vendor_invoice_lines","product_suppliers","vendors","vendors","vendor_invoice_lines","vendor_contacts","product_suppliers"],"explain_result":"success","rows_returned":0,"total_latency_ms":14192}
{"timestamp":"2026-02-12T21:02:21.456Z","query_id":"cb6b18f6-02ce-47f2-b122-ceb7241c44b9","question":"Generate a trial balance for the current period showing debits and credits by account category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":49,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":15884,"validation_ms":0,"execution_ms":1,"total_ms":15936},"retriever_version":"V1","tables_retrieved":["bank_accounts","asset_categories","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","account_types","depreciation_entries","account_types","account_types","depreciation_schedules","bank_transactions","asset_categories"],"total_retrieval_latency_ms":49,"module_route":{"modules":["Finance","Assets","HR"],"confidences":[0.6802230754587459,0.6372078008277233,0.6074915218918672],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":11,"unsupported_concepts":["generate","trial","showing","debits","credits"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"current_balance","concept":"balance","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"depreciation_entries","column":"period_id","concept":"period","score":1},{"table":"account_types","column":"category","concept":"category","score":1},{"table":"account_types","column":"normal_balance","concept":"balance","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","bank_transactions"],"skeleton_sql":"bank_accounts\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2861,"completion_tokens":638,"sql_generated":"SELECT at.category, SUM(CASE WHEN bt.amount > 0 THEN bt.amount ELSE 0 END) AS debits, SUM(CASE WHEN bt.amount < 0 THEN -bt.amount ELSE 0 END) AS credits FROM bank_transactions bt JOIN account_types at ON bt.transaction_type = at.category WHERE bt.transaction_date >= CURRENT_DATE - INTERVAL '1 month' GROUP BY at.category","tables_used_in_sql":["bank_accounts","asset_categories","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","account_types","depreciation_entries","account_types","account_types","depreciation_schedules","bank_transactions","asset_categories"],"explain_result":"success","rows_returned":0,"total_latency_ms":15936}
{"timestamp":"2026-02-12T21:02:37.392Z","query_id":"b1b09a22-62f5-4ce2-94d9-57d11196b8da","question":"Calculate cash flow from bank transactions grouped by transaction type and month","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":77,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":7696,"validation_ms":1,"execution_ms":1,"total_ms":7777},"retriever_version":"V1","tables_retrieved":["bank_transactions","bank_transactions","bank_transactions","bank_accounts","bank_accounts","bank_accounts","account_types","account_types","account_types","depreciation_entries","depreciation_entries","depreciation_entries","asset_categories","budget_lines","budget_lines"],"total_retrieval_latency_ms":77,"module_route":{"modules":["Finance","Assets","Sales"],"confidences":[0.642574540631586,0.6089956872005541,0.5743928571500148],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["calculate","cash","flow","transactions","grouped","month"],"top_linked":[{"table":"bank_transactions","column":"transaction_id","concept":"transaction","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_transactions","column":"transaction_date","concept":"transaction","score":1},{"table":"bank_transactions","column":"transaction_type","concept":"transaction","score":1},{"table":"bank_accounts","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_accounts","column":"bank_name","concept":"bank","score":1},{"table":"account_types","column":"type_id","concept":"type","score":1},{"table":"account_types","column":"category","concept":"type","score":0.5}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_transactions","bank_accounts"],"skeleton_sql":"bank_transactions\nJOIN bank_accounts ON bank_transactions.bank_account_id = bank_accounts.bank_account_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2855,"completion_tokens":274,"sql_generated":"SELECT date_trunc('month', transaction_date) AS month, transaction_type, SUM(amount) AS cash_flow FROM bank_transactions GROUP BY month, transaction_type","tables_used_in_sql":["bank_transactions","bank_transactions","bank_transactions","bank_accounts","bank_accounts","bank_accounts","account_types","account_types","account_types","depreciation_entries","depreciation_entries","depreciation_entries","asset_categories","budget_lines","budget_lines"],"explain_result":"success","rows_returned":120,"total_latency_ms":7777}
{"timestamp":"2026-02-12T21:02:45.169Z","query_id":"a152fb5f-e824-4a2e-a8e8-bcfcad77040e","question":"Calculate project profitability comparing budget vs actual expenses","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":43,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":12089,"validation_ms":0,"total_ms":16498},"retriever_version":"V1","tables_retrieved":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","budgets","budgets","budgets","project_resources","project_resources","project_resources","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":43,"module_route":{"modules":["Finance","Projects","Assets"],"confidences":[0.6000000000000001,0.6233102250745617,0.5365109349902923],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":7,"unsupported_concepts":["calculate","profitability","comparing","vs","expenses"],"top_linked":[{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_budgets","column":"actual_amount","concept":"actual","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_resources","column":"project_id","concept":"project","score":1},{"table":"budget_lines","column":"budget_id","concept":"budget","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["budgets","budget_lines"],"skeleton_sql":"budgets\nJOIN budget_lines ON budget_lines.budget_id = budgets.budget_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":0,"candidates_rejected":4,"selected_candidate_index":5,"evaluation_time_ms":5,"timed_out":false,"candidate_scores":[{"index":5,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":4,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"}]},"prompt_tokens":2932,"completion_tokens":558,"sql_generated":"SELECT \n    p.project_id,\n    b.budget_id,\n    SUM(b.planned_amount) AS planned_budget,\n    SUM(be.amount) AS actual_expenses,\n    (SUM(be.amount) - SUM(b.planned_amount)) AS profitability\nFROM \n    project_budgets b\nJOIN \n    project_expenses be ON be.project_id = b.project_id\nGROUP BY \n    p.project_id, b.budget_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"p\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Alias 'p' not defined. Possible table: project_budgets. Define alias in FROM/JOIN clause.","total_latency_ms":16498,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"p\"","error_class":"sql_error"}
{"timestamp":"2026-02-12T21:03:01.667Z","query_id":"86681807-2b2c-479c-b550-578805ee471c","question":"Find resource allocation by employee across all active projects","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":67,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":17888,"validation_ms":0,"execution_ms":2,"total_ms":17960},"retriever_version":"V1","tables_retrieved":["project_resources","project_resources","project_resources","task_assignments","project_expenses","task_assignments","task_assignments","projects","projects","projects","project_expenses","project_expenses","employee_salaries","employees","employee_salaries"],"total_retrieval_latency_ms":67,"module_route":{"modules":["Projects","HR","Assets"],"confidences":[0.6923034029971835,0.6523632686411246,0.6174819243766987],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":9,"unsupported_concepts":["across","projects"],"top_linked":[{"table":"project_resources","column":"resource_id","concept":"resource","score":1},{"table":"project_resources","column":"employee_id","concept":"employee","score":1},{"table":"project_resources","column":"allocation_percent","concept":"allocation","score":1},{"table":"task_assignments","column":"employee_id","concept":"employee","score":1},{"table":"project_expenses","column":"employee_id","concept":"employee","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"is_active","concept":"active","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_resources","employees","task_assignments","project_expenses","employee_salaries","projects"],"skeleton_sql":"project_resources\nJOIN employees ON project_resources.employee_id = employees.employee_id\nJOIN projects ON project_resources.project_id = projects.project_id\nJOIN task_assignments ON task_assignments.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN project_expenses ON project_expenses.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3299,"completion_tokens":708,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, pr.project_id, pr.project_number, pr.name AS project_name, pr.start_date, pr.planned_end_date, pr.budget, pr.status AS project_status, pr.priority, pr.created_at AS project_created_at, prp.role AS resource_role, prp.allocation_percent FROM employees e JOIN project_resources prp ON e.employee_id = prp.employee_id JOIN projects pr ON prp.project_id = pr.project_id WHERE e.is_active = true","tables_used_in_sql":["project_resources","project_resources","project_resources","task_assignments","project_expenses","task_assignments","task_assignments","projects","projects","projects","project_expenses","project_expenses","employee_salaries","employees","employee_salaries"],"explain_result":"success","rows_returned":300,"total_latency_ms":17960}
{"timestamp":"2026-02-12T21:03:19.627Z","query_id":"54c0b41a-eb66-4b53-b79d-1d856d10523d","question":"List all fixed assets with their assigned employees and current locations","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":98,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":21467,"validation_ms":0,"execution_ms":1,"total_ms":21571},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_locations","asset_locations","asset_locations","asset_transfers","asset_maintenance","asset_transfers","asset_transfers","asset_maintenance","asset_maintenance","employees","employee_salaries","employee_salaries"],"total_retrieval_latency_ms":98,"module_route":{"modules":["Assets","HR","Common"],"confidences":[0.6939944621974288,0.6200063614784673,0.5945517541130166],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["fixed","assets","employees","current","locations"],"top_linked":[{"table":"fixed_assets","column":"assigned_to","concept":"assigned","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_locations","asset_transfers","asset_maintenance","employees","employee_salaries"],"skeleton_sql":"fixed_assets\nJOIN asset_locations ON fixed_assets.location_id = asset_locations.location_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN employees ON fixed_assets.assigned_to = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":105,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":105,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3568,"completion_tokens":952,"sql_generated":"SELECT fa.asset_id, fa.name, fa.asset_tag, fa.description, fa.purchase_date, fa.purchase_cost, fa.serial_number, fa.warranty_expiry, fa.status, fa.disposal_date, fa.disposal_amount, fa.created_at, el.name AS current_location, e.first_name || ' ' || e.last_name AS assigned_to FROM fixed_assets fa JOIN asset_locations el ON fa.location_id = el.location_id JOIN employees e ON fa.assigned_to = e.employee_id","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_locations","asset_locations","asset_locations","asset_transfers","asset_maintenance","asset_transfers","asset_transfers","asset_maintenance","asset_maintenance","employees","employee_salaries","employee_salaries"],"explain_result":"success","rows_returned":0,"total_latency_ms":21571}
{"timestamp":"2026-02-12T21:03:41.199Z","query_id":"309b01e0-238e-49ba-b989-08ca1313a72e","question":"Create a comprehensive employee cost report including salary and benefits by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":89,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":15124,"validation_ms":0,"total_ms":20384},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_benefits","employee_benefits","employee_benefits","employee_salaries","employees","employees","employees","budgets","budgets","departments","budgets","departments","departments"],"total_retrieval_latency_ms":89,"module_route":{"modules":["HR","Procurement","Finance"],"confidences":[1,0.6356363505209316,0.6328453447747361],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":13,"unsupported_concepts":["comprehensive","cost","report","including","benefits"],"top_linked":[{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"employee_benefits","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","employee_salaries","budgets","employee_benefits"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN budgets ON budgets.approved_by = employees.employee_id\nJOIN employee_benefits ON employee_benefits.employee_id = employees.employee_id"},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3357,"completion_tokens":679,"sql_generated":"SELECT d.department_id, d.name AS department_name, SUM(es.amount) AS total_salary, SUM(COALESCE(eb.coverage_level::numeric, 0)) AS total_benefits \nFROM departments d \nJOIN employees e ON e.department_id = d.department_id \nLEFT JOIN employee_salaries es ON es.employee_id = e.employee_id AND es.end_date IS NULL \nLEFT JOIN employee_benefits eb ON eb.employee_id = e.employee_id \nGROUP BY d.department_id, d.name;","tables_used_in_sql":[],"explain_result":"success","total_latency_ms":20384,"failure_type":"execution_error","failure_details":"Database error: invalid input syntax for type numeric: \"Family\"","error_class":"sql_error"}
{"timestamp":"2026-02-12T22:06:35.604Z","query_id":"54afd4ed-6d70-422b-af55-601e34f3baad","question":"List all employees in the Sales department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":1591,"glosses_ms":1,"linker_ms":2,"planner_ms":13,"first_generation_ms":15186,"validation_ms":1,"execution_ms":2,"total_ms":16796},"retriever_version":"V1","tables_retrieved":["departments","departments","departments","employees","employees","employees","positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","sales_regions","business_units","business_units"],"total_retrieval_latency_ms":1591,"module_route":{"modules":["HR","Sales","Common"],"confidences":[0.6836505057040997,0.6189563166228701,0.6142683747593146],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["employees","sales"],"top_linked":[{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"positions","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","employees","positions","employee_salaries","sales_regions","business_units"],"skeleton_sql":"departments\nJOIN employees ON employees.department_id = departments.department_id\nJOIN positions ON positions.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN business_units ON business_units.manager_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["business_units","employees","sales_regions"],"modules_used":["HR","Sales","Common"],"score_details":{"hopCount":6,"semanticAlignment":1,"columnCoverage":0.3333333333333333,"combined":1.2333333333333332}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":25,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3060,"completion_tokens":380,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, e.email, e.phone, e.hire_date, p.title FROM employees e JOIN departments d ON e.department_id = d.department_id JOIN positions p ON e.position_id = p.position_id WHERE d.name = 'Sales'","tables_used_in_sql":["departments","departments","departments","employees","employees","employees","positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","sales_regions","business_units","business_units"],"explain_result":"success","rows_returned":63,"total_latency_ms":16796}
{"timestamp":"2026-02-12T22:06:52.401Z","query_id":"784c1da9-88fa-4626-8eb9-3e3bc235ac58","question":"How many employees were hired in 2024?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":131,"glosses_ms":0,"linker_ms":2,"planner_ms":2,"first_generation_ms":3576,"validation_ms":0,"execution_ms":1,"total_ms":3713},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","employment_history","employee_salaries","employee_salaries","employee_salaries","employee_certifications","employment_history","employment_history","employee_certifications","employee_certifications","sales_regions","purchase_requisitions","positions"],"total_retrieval_latency_ms":131,"module_route":{"modules":["HR","Sales","Procurement"],"confidences":[0.8,0.5739893400217244,0.5519139323870511],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","hired"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","employment_history","employee_salaries","employee_certifications","sales_regions","purchase_requisitions","positions"],"skeleton_sql":"employees\nJOIN employment_history ON employment_history.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN purchase_requisitions ON purchase_requisitions.requested_by = employees.employee_id\nJOIN positions ON employees.position_id = positions.position_id","cross_module_detected":true,"bridge_tables":["sales_regions","employees","purchase_requisitions"],"modules_used":["HR","Sales","Procurement"],"score_details":{"hopCount":6,"semanticAlignment":1,"columnCoverage":0,"combined":1.2999999999999998}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3107,"completion_tokens":197,"sql_generated":"SELECT COUNT(*) FROM employees WHERE hire_date BETWEEN '2024-01-01' AND '2024-12-31'","tables_used_in_sql":["employees","employees","employees","employment_history","employee_salaries","employee_salaries","employee_salaries","employee_certifications","employment_history","employment_history","employee_certifications","employee_certifications","sales_regions","purchase_requisitions","positions"],"explain_result":"success","rows_returned":1,"total_latency_ms":3713}
{"timestamp":"2026-02-12T22:06:56.114Z","query_id":"b8566400-823c-4566-a395-f0f6c09fdfb4","question":"What is the average salary by department?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":87,"glosses_ms":1,"linker_ms":2,"planner_ms":6,"first_generation_ms":2795,"validation_ms":0,"execution_ms":1,"total_ms":2894},"retriever_version":"V1","tables_retrieved":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","departments","departments","departments","employees","employees","employees","cost_centers","budgets","cost_centers"],"total_retrieval_latency_ms":87,"module_route":{"modules":["HR","Finance","Common"],"confidences":[0.5858891600228157,0.547224536106618,0.5350682604432176],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":[],"top_linked":[{"table":"positions","column":"min_salary","concept":"salary","score":1},{"table":"positions","column":"max_salary","concept":"salary","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"cost_centers","column":"department_id","concept":"department","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["positions","departments","employees","employee_salaries","cost_centers","budgets"],"skeleton_sql":"positions\nJOIN departments ON positions.department_id = departments.department_id\nJOIN employees ON employees.position_id = positions.position_id\nJOIN cost_centers ON cost_centers.department_id = departments.department_id\nJOIN budgets ON budgets.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["cost_centers","departments","budgets","employees"],"modules_used":["HR","Finance","Common"],"score_details":{"hopCount":7,"semanticAlignment":1,"columnCoverage":0.5714285714285714,"combined":1.4857142857142858}},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3159,"completion_tokens":78,"sql_generated":"SELECT d.name AS department_name, AVG(e.salary) AS average_salary FROM departments d JOIN employees e ON e.department_id = d.department_id GROUP BY d.name","tables_used_in_sql":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","departments","departments","departments","employees","employees","employees","cost_centers","budgets","cost_centers"],"explain_result":"success","rows_returned":19,"total_latency_ms":2894}
{"timestamp":"2026-02-12T22:06:59.008Z","query_id":"2b233d26-abf5-45f7-a358-899a6662f591","question":"List all customers with credit limit over $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":97,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":5479,"validation_ms":0,"execution_ms":1,"total_ms":5579},"retriever_version":"V1","tables_retrieved":["customers","customers","customers","customer_contacts","sales_regions","customer_contacts","customer_contacts","sales_quotes","purchase_requisitions","purchase_requisitions","purchase_requisitions","budget_lines","sales_regions","sales_regions","bank_accounts"],"total_retrieval_latency_ms":97,"module_route":{"modules":["Sales","Finance","Procurement"],"confidences":[0.6091106696115061,0.5805838475734647,0.5719049873148473],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["customers"],"top_linked":[{"table":"customers","column":"credit_limit","concept":"credit","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["customers","customer_contacts","sales_quotes"],"skeleton_sql":"customers\nJOIN customer_contacts ON customer_contacts.customer_id = customers.customer_id\nJOIN sales_quotes ON sales_quotes.customer_id = customers.customer_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Finance","Procurement"],"score_details":{"hopCount":2,"semanticAlignment":1,"columnCoverage":0,"combined":0.1}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3008,"completion_tokens":192,"sql_generated":"SELECT c.customer_id, c.name, c.credit_limit FROM customers c WHERE c.credit_limit > 100000","tables_used_in_sql":["customers","customers","customers","customer_contacts","sales_regions","customer_contacts","customer_contacts","sales_quotes","purchase_requisitions","purchase_requisitions","purchase_requisitions","budget_lines","sales_regions","sales_regions","bank_accounts"],"explain_result":"success","rows_returned":206,"total_latency_ms":5579}
{"timestamp":"2026-02-12T22:07:04.588Z","query_id":"fd2c3892-9c8b-4292-92a7-3b4a07ad277e","question":"How many sales orders are in pending status?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":59,"glosses_ms":1,"linker_ms":3,"planner_ms":0,"first_generation_ms":3830,"validation_ms":0,"execution_ms":3,"total_ms":3896},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_opportunities","sales_opportunities","vendor_invoices","goods_receipts","sales_opportunities","vendor_invoices"],"total_retrieval_latency_ms":59,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.8,0.6488953558494387,0.5959801219551273],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["orders","pending"],"top_linked":[{"table":"sales_orders","column":"status","concept":"status","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"purchase_orders","column":"status","concept":"status","score":1},{"table":"vendor_invoices","column":"status","concept":"status","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","vendor_invoices","order_lines","goods_receipts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Procurement","Inventory"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":0,"combined":0.3999999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3779,"completion_tokens":102,"sql_generated":"SELECT COUNT(*) FROM sales_orders WHERE status = 'Pending'","tables_used_in_sql":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_opportunities","sales_opportunities","vendor_invoices","goods_receipts","sales_opportunities","vendor_invoices"],"explain_result":"success","rows_returned":1,"total_latency_ms":3896}
{"timestamp":"2026-02-12T22:07:08.484Z","query_id":"3fbfab08-dba8-4032-abf7-6bc88b11da5f","question":"List all products in the Electronics category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":92,"glosses_ms":2,"linker_ms":0,"planner_ms":2,"first_generation_ms":9694,"validation_ms":0,"execution_ms":2,"total_ms":9792},"retriever_version":"V1","tables_retrieved":["product_categories","product_categories","product_categories","products","products","products","asset_categories","asset_categories","asset_categories","product_suppliers","product_suppliers","product_suppliers","inventory_levels","inventory_levels","inventory_levels"],"total_retrieval_latency_ms":92,"module_route":{"modules":["Inventory","Assets","Procurement"],"confidences":[0.6618931992288043,0.6230141120645055,0.6161951309789027],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["products","electronics"],"top_linked":[{"table":"product_categories","column":"category_id","concept":"category","score":1},{"table":"product_categories","column":"parent_category_id","concept":"category","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["product_categories","products","product_suppliers","inventory_levels"],"skeleton_sql":"product_categories\nJOIN products ON products.category_id = product_categories.category_id\nJOIN product_suppliers ON product_suppliers.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Inventory","Assets","Procurement"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":0.3333333333333333,"combined":0.33333333333333326}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2855,"completion_tokens":392,"sql_generated":"SELECT p.product_id, p.sku, p.name, p.description, p.category_id, p.uom_id, p.unit_cost, p.list_price, p.weight, p.is_active, p.created_at FROM products p JOIN product_categories pc ON p.category_id = pc.category_id WHERE pc.name = 'Electronics'","tables_used_in_sql":["product_categories","product_categories","product_categories","products","products","products","asset_categories","asset_categories","asset_categories","product_suppliers","product_suppliers","product_suppliers","inventory_levels","inventory_levels","inventory_levels"],"explain_result":"success","rows_returned":62,"total_latency_ms":9792}
{"timestamp":"2026-02-12T22:07:18.277Z","query_id":"a6a344aa-ef2b-4066-b682-a74598a5494a","question":"What are the names of all warehouses?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":97,"glosses_ms":0,"linker_ms":1,"planner_ms":5,"first_generation_ms":2246,"validation_ms":0,"execution_ms":1,"total_ms":2350},"retriever_version":"V1","tables_retrieved":["warehouses","warehouse_locations","inventory_levels","asset_locations","stock_transfers","adjustment_lines","inventory_transactions","receipt_lines","reorder_rules","inventory_adjustments"],"total_retrieval_latency_ms":97,"module_route":{"modules":["Inventory","Common","Assets"],"confidences":[0.6455304804143982,0.576846056153424,0.5574548719967585],"method":"hybrid"},"bm25_tables":["warehouses"],"fusion_method":"rrf","schema_link":{"tables_linked":10,"columns_linked":0,"unsupported_concepts":["names","warehouses"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["warehouse_locations","warehouses","inventory_levels","adjustment_lines","inventory_transactions","receipt_lines","stock_transfers","reorder_rules","inventory_adjustments"],"skeleton_sql":"warehouse_locations\nJOIN warehouses ON warehouse_locations.warehouse_id = warehouses.warehouse_id\nJOIN inventory_levels ON inventory_levels.location_id = warehouse_locations.location_id\nJOIN adjustment_lines ON adjustment_lines.location_id = warehouse_locations.location_id\nJOIN inventory_transactions ON inventory_transactions.location_id = warehouse_locations.location_id\nJOIN receipt_lines ON receipt_lines.location_id = warehouse_locations.location_id\nJOIN stock_transfers ON stock_transfers.from_warehouse_id = warehouses.warehouse_id\nJOIN reorder_rules ON reorder_rules.warehouse_id = warehouses.warehouse_id\nJOIN inventory_adjustments ON inventory_adjustments.warehouse_id = warehouses.warehouse_id","cross_module_detected":true,"bridge_tables":["receipt_lines","warehouse_locations"],"modules_used":["Inventory","Common","Assets","Procurement"],"score_details":{"hopCount":11,"semanticAlignment":1,"columnCoverage":0,"combined":2.8}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2416,"completion_tokens":48,"sql_generated":"SELECT name FROM warehouses","tables_used_in_sql":["warehouses","warehouse_locations","inventory_levels","asset_locations","stock_transfers","adjustment_lines","inventory_transactions","receipt_lines","reorder_rules","inventory_adjustments"],"explain_result":"success","rows_returned":5,"total_latency_ms":2350}
{"timestamp":"2026-02-12T22:07:20.627Z","query_id":"4c65250f-823f-477b-96c3-e24aa1539b76","question":"List all active vendors","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":52,"glosses_ms":1,"linker_ms":1,"planner_ms":7,"first_generation_ms":5180,"validation_ms":0,"execution_ms":2,"total_ms":5243},"retriever_version":"V1","tables_retrieved":["vendors","vendors","vendors","vendor_contacts","vendor_contacts","vendor_invoices","vendor_contacts","vendor_invoices","vendor_invoices","product_suppliers","product_suppliers","product_suppliers","vendor_invoice_lines","vendor_invoice_lines","purchase_orders"],"total_retrieval_latency_ms":52,"module_route":{"modules":["Procurement","Inventory","Sales"],"confidences":[0.6352787681252292,0.5936996959092321,0.5857097218430255],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["vendors"],"top_linked":[{"table":"vendors","column":"is_active","concept":"active","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendors","vendor_contacts","vendor_invoices","product_suppliers","vendor_invoice_lines","purchase_orders"],"skeleton_sql":"vendors\nJOIN vendor_contacts ON vendor_contacts.vendor_id = vendors.vendor_id\nJOIN vendor_invoices ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN product_suppliers ON product_suppliers.vendor_id = vendors.vendor_id\nJOIN purchase_orders ON purchase_orders.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id","cross_module_detected":true,"bridge_tables":["product_suppliers","vendors"],"modules_used":["Procurement","Inventory","Sales"],"score_details":{"hopCount":6,"semanticAlignment":1,"columnCoverage":0,"combined":1.2999999999999998}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3339,"completion_tokens":270,"sql_generated":"SELECT vendor_id, vendor_number, name, email, phone, website, address_id, payment_terms, currency_id, tax_id, is_active, created_at FROM vendors WHERE is_active = true","tables_used_in_sql":["vendors","vendors","vendors","vendor_contacts","vendor_contacts","vendor_invoices","vendor_contacts","vendor_invoices","vendor_invoices","product_suppliers","product_suppliers","product_suppliers","vendor_invoice_lines","vendor_invoice_lines","purchase_orders"],"explain_result":"success","rows_returned":200,"total_latency_ms":5243}
{"timestamp":"2026-02-12T22:07:25.870Z","query_id":"d75eb13c-9623-4315-b4a9-2177d1e08f83","question":"What are the different account types in the chart of accounts?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":89,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":3998,"validation_ms":0,"execution_ms":0,"total_ms":4091},"retriever_version":"V1","tables_retrieved":["chart_of_accounts","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","bank_accounts","bank_accounts","bank_accounts","benefit_types","benefit_types","journal_lines","benefit_types","bank_transactions","budget_lines"],"total_retrieval_latency_ms":89,"module_route":{"modules":["Finance","HR","Common"],"confidences":[0.7007770277042978,0.6192260674732437,0.6186713324233991],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":11,"unsupported_concepts":["different","types","chart","accounts"],"top_linked":[{"table":"chart_of_accounts","column":"account_id","concept":"account","score":1},{"table":"chart_of_accounts","column":"account_number","concept":"account","score":1},{"table":"chart_of_accounts","column":"account_type_id","concept":"account","score":1},{"table":"chart_of_accounts","column":"parent_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"journal_lines","column":"account_id","concept":"account","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["chart_of_accounts","bank_accounts","journal_lines","bank_transactions","budget_lines","account_types"],"skeleton_sql":"chart_of_accounts\nJOIN bank_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN journal_lines ON journal_lines.account_id = chart_of_accounts.account_id\nJOIN budget_lines ON budget_lines.account_id = chart_of_accounts.account_id\nJOIN account_types ON chart_of_accounts.account_type_id = account_types.type_id\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Finance","HR","Common"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0.9,"combined":0.8199999999999998}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":2,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"}]},"prompt_tokens":2854,"completion_tokens":126,"sql_generated":"SELECT DISTINCT name FROM account_types","tables_used_in_sql":["chart_of_accounts","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","bank_accounts","bank_accounts","bank_accounts","benefit_types","benefit_types","journal_lines","benefit_types","bank_transactions","budget_lines"],"explain_result":"success","rows_returned":25,"total_latency_ms":4090}
{"timestamp":"2026-02-12T22:07:29.961Z","query_id":"fbc2fb34-616d-457f-b9ae-19f6c7970a33","question":"List all bank accounts and their current balances","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":36,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":4346,"validation_ms":0,"execution_ms":0,"total_ms":4386},"retriever_version":"V1","tables_retrieved":["bank_accounts","bank_accounts","bank_accounts","bank_transactions","bank_transactions","bank_transactions","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","chart_of_accounts","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":36,"module_route":{"modules":["Finance","Assets","Common"],"confidences":[0.652699430027985,0.6000955055799017,0.5681510128630949],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["accounts","balances"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_accounts","column":"bank_name","concept":"bank","score":1},{"table":"bank_accounts","column":"current_balance","concept":"current","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"bank","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","bank_transactions","account_types","chart_of_accounts","budget_lines"],"skeleton_sql":"bank_accounts\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id\nJOIN chart_of_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN account_types ON chart_of_accounts.account_type_id = account_types.type_id\nJOIN budget_lines ON budget_lines.account_id = chart_of_accounts.account_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Finance","Assets","Common"],"score_details":{"hopCount":4,"semanticAlignment":1,"columnCoverage":0.25,"combined":0.6499999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2838,"completion_tokens":143,"sql_generated":"SELECT ba.bank_account_id, ba.account_name, ba.current_balance FROM bank_accounts ba","tables_used_in_sql":["bank_accounts","bank_accounts","bank_accounts","bank_transactions","bank_transactions","bank_transactions","account_types","account_types","account_types","chart_of_accounts","chart_of_accounts","chart_of_accounts","budget_lines","budget_lines","budget_lines"],"explain_result":"success","rows_returned":5,"total_latency_ms":4386}
{"timestamp":"2026-02-12T22:07:34.347Z","query_id":"785ff7df-3487-4ff3-a17c-f6dbd355594b","question":"How many projects are currently active?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":102,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":3437,"validation_ms":0,"execution_ms":1,"total_ms":3543},"retriever_version":"V1","tables_retrieved":["project_tasks","project_tasks","project_tasks","project_phases","project_phases","projects","projects","project_milestones","project_phases","project_milestones","project_milestones","projects","project_resources","project_resources","project_resources"],"total_retrieval_latency_ms":102,"module_route":{"modules":["Projects","Assets","HR"],"confidences":[0.6454363444201591,0.5590233193471685,0.55286211092598],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["projects","currently","active"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_tasks","project_phases","projects","project_milestones","project_resources"],"skeleton_sql":"project_tasks\nJOIN project_phases ON project_tasks.phase_id = project_phases.phase_id\nJOIN projects ON project_phases.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Projects","Assets","HR"],"score_details":{"hopCount":4,"semanticAlignment":1,"columnCoverage":0,"combined":0.7}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2989,"completion_tokens":96,"sql_generated":"SELECT COUNT(*) FROM projects WHERE status = 'Active'","tables_used_in_sql":["project_tasks","project_tasks","project_tasks","project_phases","project_phases","projects","projects","project_milestones","project_phases","project_milestones","project_milestones","projects","project_resources","project_resources","project_resources"],"explain_result":"success","rows_returned":1,"total_latency_ms":3543}
{"timestamp":"2026-02-12T22:07:37.890Z","query_id":"24e7b12c-4f11-49b7-b0f6-da3dca2d7dca","question":"List all fixed assets with their purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":50,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":5924,"validation_ms":0,"execution_ms":0,"total_ms":5978},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_maintenance","asset_maintenance","asset_maintenance","asset_categories","asset_categories","asset_categories","depreciation_schedules","depreciation_schedules","depreciation_schedules","asset_transfers","asset_transfers","asset_transfers"],"total_retrieval_latency_ms":50,"module_route":{"modules":["Assets","Procurement","Finance"],"confidences":[0.6704217224005129,0.5558598188107611,0.5415197035972978],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["fixed","assets"],"top_linked":[{"table":"fixed_assets","column":"purchase_date","concept":"purchase","score":1},{"table":"fixed_assets","column":"purchase_cost","concept":"purchase","score":1},{"table":"asset_maintenance","column":"cost","concept":"cost","score":1},{"table":"fixed_assets","column":"po_id","concept":"purchase","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_maintenance","asset_categories","depreciation_schedules","asset_transfers"],"skeleton_sql":"fixed_assets\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Assets","Procurement","Finance"],"score_details":{"hopCount":4,"semanticAlignment":1,"columnCoverage":0,"combined":0.7}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3445,"completion_tokens":203,"sql_generated":"SELECT fa.asset_id, fa.name, fa.purchase_cost FROM fixed_assets fa","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_maintenance","asset_maintenance","asset_maintenance","asset_categories","asset_categories","asset_categories","depreciation_schedules","depreciation_schedules","depreciation_schedules","asset_transfers","asset_transfers","asset_transfers"],"explain_result":"success","rows_returned":500,"total_latency_ms":5978}
{"timestamp":"2026-02-12T22:07:43.869Z","query_id":"46e77878-a258-4d7b-8793-47ecad0013ff","question":"What are all the available leave types?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":88,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":2449,"validation_ms":0,"execution_ms":1,"total_ms":2541},"retriever_version":"V1","tables_retrieved":["leave_types","leave_types","leave_types","leave_requests","leave_requests","leave_requests","maintenance_types","maintenance_types","maintenance_types","benefit_types","benefit_types","benefit_types","positions","employee_benefits","employment_history"],"total_retrieval_latency_ms":88,"module_route":{"modules":["HR","Assets","Sales"],"confidences":[0.6473746828949357,0.5910002382401803,0.5740161383365922],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["available","types"],"top_linked":[{"table":"leave_types","column":"leave_type_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_type_id","concept":"leave","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["leave_requests","leave_types","benefit_types","employee_benefits"],"skeleton_sql":"leave_requests\nJOIN leave_types ON leave_requests.leave_type_id = leave_types.leave_type_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["HR","Assets","Sales"],"score_details":{"hopCount":2,"semanticAlignment":1,"columnCoverage":0.5,"combined":0}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2498,"completion_tokens":57,"sql_generated":"SELECT name FROM leave_types","tables_used_in_sql":["leave_types","leave_types","leave_types","leave_requests","leave_requests","leave_requests","maintenance_types","maintenance_types","maintenance_types","benefit_types","benefit_types","benefit_types","positions","employee_benefits","employment_history"],"explain_result":"success","rows_returned":8,"total_latency_ms":2541}
{"timestamp":"2026-02-12T22:07:46.410Z","query_id":"8f65a690-e238-4e3f-8d31-f439a27987ea","question":"List all training courses that are mandatory","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":79,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":4224,"validation_ms":0,"execution_ms":1,"total_ms":4306},"retriever_version":"V1","tables_retrieved":["training_courses","training_courses","training_courses","employee_training","employee_training","employee_training","certifications","certifications","certifications","employee_certifications","employee_certifications","employee_certifications","maintenance_types","maintenance_types","maintenance_types"],"total_retrieval_latency_ms":79,"module_route":{"modules":["HR","Common","Assets"],"confidences":[0.5865910952266036,0.5079936168687108,0.49648796513127813],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["courses"],"top_linked":[{"table":"training_courses","column":"is_mandatory","concept":"mandatory","score":1},{"table":"employee_training","column":"training_id","concept":"training","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["training_courses","employee_training","certifications","employee_certifications"],"skeleton_sql":"training_courses\nJOIN employee_training ON employee_training.course_id = training_courses.course_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["HR","Common","Assets"],"score_details":{"hopCount":2,"semanticAlignment":1,"columnCoverage":0,"combined":0.1}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2387,"completion_tokens":144,"sql_generated":"SELECT name, description, duration_hours, cost FROM training_courses WHERE is_mandatory = TRUE","tables_used_in_sql":["training_courses","training_courses","training_courses","employee_training","employee_training","employee_training","certifications","certifications","certifications","employee_certifications","employee_certifications","employee_certifications","maintenance_types","maintenance_types","maintenance_types"],"explain_result":"success","rows_returned":4,"total_latency_ms":4306}
{"timestamp":"2026-02-12T22:07:50.716Z","query_id":"be912a6c-fbe5-4d3b-93ee-dcc02ef065e8","question":"What are the different opportunity stages?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":48,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":2837,"validation_ms":0,"execution_ms":1,"total_ms":2889},"retriever_version":"V1","tables_retrieved":["opportunity_stages","opportunity_stages","opportunity_stages","sales_opportunities","sales_opportunities","sales_opportunities","project_phases","project_tasks","project_phases","project_phases","project_tasks","project_tasks","positions","positions","positions"],"total_retrieval_latency_ms":48,"module_route":{"modules":["Sales","HR","Projects"],"confidences":[0.6028909984792304,0.5663067184830348,0.5615426782310475],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["different","stages"],"top_linked":[{"table":"sales_opportunities","column":"opportunity_id","concept":"opportunity","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","project_phases","project_tasks"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","HR","Projects"],"score_details":{"hopCount":2,"semanticAlignment":1,"columnCoverage":0,"combined":0.1}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2810,"completion_tokens":71,"sql_generated":"SELECT DISTINCT name FROM opportunity_stages","tables_used_in_sql":["opportunity_stages","opportunity_stages","opportunity_stages","sales_opportunities","sales_opportunities","sales_opportunities","project_phases","project_tasks","project_phases","project_phases","project_tasks","project_tasks","positions","positions","positions"],"explain_result":"success","rows_returned":6,"total_latency_ms":2889}
{"timestamp":"2026-02-12T22:07:53.605Z","query_id":"dc36cbfd-8901-4a44-a3fe-a00177f24262","question":"List all countries in the system","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":77,"glosses_ms":0,"linker_ms":0,"planner_ms":1,"first_generation_ms":835,"validation_ms":0,"execution_ms":1,"total_ms":915},"retriever_version":"V1","tables_retrieved":["countries","countries","countries","states_provinces","states_provinces","states_provinces","tax_rates","tax_rates","tax_rates","currencies","currencies","sales_territories","sales_territories","sales_territories","currencies"],"total_retrieval_latency_ms":76,"module_route":{"modules":["Common","Finance","Sales"],"confidences":[0.6391320166754724,0.5998203282680619,0.5724228859823769],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["countries","system"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["countries","states_provinces","tax_rates"],"skeleton_sql":"countries\nJOIN states_provinces ON states_provinces.country_id = countries.country_id\nJOIN tax_rates ON tax_rates.country_id = countries.country_id","cross_module_detected":true,"bridge_tables":["tax_rates","countries"],"modules_used":["Common","Finance","Sales"],"score_details":{"hopCount":2,"semanticAlignment":1,"columnCoverage":0,"combined":0.1}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2206,"completion_tokens":85,"sql_generated":"SELECT name, iso_code, phone_code FROM countries","tables_used_in_sql":["countries","countries","countries","states_provinces","states_provinces","states_provinces","tax_rates","tax_rates","tax_rates","currencies","currencies","sales_territories","sales_territories","sales_territories","currencies"],"explain_result":"success","rows_returned":10,"total_latency_ms":915}
{"timestamp":"2026-02-12T22:07:54.520Z","query_id":"c845a386-e8c3-483c-ab99-9783361cdc79","question":"How many departments are there?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":66,"glosses_ms":1,"linker_ms":0,"planner_ms":4,"first_generation_ms":3330,"validation_ms":0,"execution_ms":1,"total_ms":3403},"retriever_version":"V1","tables_retrieved":["departments","departments","departments","positions","positions","positions","cost_centers","inventory_levels","cost_centers","cost_centers","employees","business_units","business_units","business_units","employees"],"total_retrieval_latency_ms":66,"module_route":{"modules":["HR","Common","Inventory"],"confidences":[0.5795934267103653,0.586927663520706,0.5818884580603176],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["departments"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","positions","cost_centers","employees","business_units"],"skeleton_sql":"departments\nJOIN positions ON positions.department_id = departments.department_id\nJOIN cost_centers ON cost_centers.department_id = departments.department_id\nJOIN employees ON employees.department_id = departments.department_id\nJOIN business_units ON business_units.manager_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["business_units","employees","cost_centers","departments"],"modules_used":["HR","Common","Inventory"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0,"combined":0.9999999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":6,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2790,"completion_tokens":93,"sql_generated":"SELECT COUNT(department_id) AS total_departments FROM departments","tables_used_in_sql":["departments","departments","departments","positions","positions","positions","cost_centers","inventory_levels","cost_centers","cost_centers","employees","business_units","business_units","business_units","employees"],"explain_result":"success","rows_returned":1,"total_latency_ms":3403}
{"timestamp":"2026-02-12T22:07:57.923Z","query_id":"2bf41461-47ab-44ec-8de9-d268169da94e","question":"List all units of measure","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":65,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":2751,"validation_ms":0,"execution_ms":0,"total_ms":2818},"retriever_version":"V1","tables_retrieved":["products","units_of_measure","business_units","currencies","sales_regions","sales_territories","countries","reorder_rules","product_suppliers","requisition_lines"],"total_retrieval_latency_ms":65,"module_route":{"modules":["Common","Inventory","Sales"],"confidences":[0.6074344471797812,0.6067570207161089,0.579741575887427],"method":"embedding"},"bm25_tables":["products"],"fusion_method":"rrf","schema_link":{"tables_linked":10,"columns_linked":0,"unsupported_concepts":["units","measure"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["units_of_measure","products","business_units","sales_regions","sales_territories","reorder_rules","product_suppliers","requisition_lines"],"skeleton_sql":"units_of_measure\nJOIN products ON products.uom_id = units_of_measure.uom_id\nJOIN reorder_rules ON reorder_rules.product_id = products.product_id\nJOIN product_suppliers ON product_suppliers.product_id = products.product_id\nJOIN requisition_lines ON requisition_lines.product_id = products.product_id","cross_module_detected":true,"bridge_tables":["requisition_lines","products"],"modules_used":["Common","Inventory","Sales","Procurement"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0,"combined":0.9999999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2090,"completion_tokens":75,"sql_generated":"SELECT name, abbreviation FROM units_of_measure","tables_used_in_sql":["products","units_of_measure","business_units","currencies","sales_regions","sales_territories","countries","reorder_rules","product_suppliers","requisition_lines"],"explain_result":"success","rows_returned":11,"total_latency_ms":2818}
{"timestamp":"2026-02-12T22:08:00.742Z","query_id":"e8cc7575-79ad-465c-b59f-8cc4efe0d0fd","question":"What fiscal years exist in the system?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":84,"glosses_ms":0,"linker_ms":1,"planner_ms":6,"first_generation_ms":2657,"validation_ms":0,"execution_ms":0,"total_ms":2751},"retriever_version":"V1","tables_retrieved":["fiscal_years","fiscal_years","fiscal_years","fiscal_periods","fiscal_periods","fiscal_periods","budgets","budgets","budgets","journal_entries","journal_entries","journal_entries","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":84,"module_route":{"modules":["Finance","Assets","Projects"],"confidences":[0.6900165968291754,0.5876625129270986,0.5788635119215922],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["years","exist","system"],"top_linked":[{"table":"fiscal_years","column":"fiscal_year_id","concept":"fiscal","score":1},{"table":"fiscal_periods","column":"fiscal_year_id","concept":"fiscal","score":1},{"table":"budgets","column":"fiscal_year_id","concept":"fiscal","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fiscal_years","fiscal_periods","budgets","journal_entries","budget_lines"],"skeleton_sql":"fiscal_years\nJOIN fiscal_periods ON fiscal_periods.fiscal_year_id = fiscal_years.fiscal_year_id\nJOIN budgets ON budgets.fiscal_year_id = fiscal_years.fiscal_year_id\nJOIN journal_entries ON journal_entries.period_id = fiscal_periods.period_id\nJOIN budget_lines ON budget_lines.period_id = fiscal_periods.period_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Finance","Assets","Projects"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0.4,"combined":0.9199999999999998}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2830,"completion_tokens":62,"sql_generated":"SELECT DISTINCT year FROM fiscal_years","tables_used_in_sql":["fiscal_years","fiscal_years","fiscal_years","fiscal_periods","fiscal_periods","fiscal_periods","budgets","budgets","budgets","journal_entries","journal_entries","journal_entries","budget_lines","budget_lines","budget_lines"],"explain_result":"success","rows_returned":4,"total_latency_ms":2751}
{"timestamp":"2026-02-12T22:08:03.494Z","query_id":"60c58861-01eb-414f-a65f-46a0ca25b5f6","question":"What are the different asset categories?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":39,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":2703,"validation_ms":0,"execution_ms":1,"total_ms":2745},"retriever_version":"V1","tables_retrieved":["asset_categories","asset_categories","asset_categories","fixed_assets","asset_locations","asset_locations","account_types","account_types","asset_locations","account_types","fixed_assets","fixed_assets","product_categories","asset_maintenance","product_categories"],"total_retrieval_latency_ms":39,"module_route":{"modules":["Assets","Finance","Inventory"],"confidences":[0.7061559517668716,0.5743948922060627,0.5713145214229208],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["different","categories"],"top_linked":[{"table":"fixed_assets","column":"asset_id","concept":"asset","score":1},{"table":"fixed_assets","column":"asset_tag","concept":"asset","score":1},{"table":"asset_maintenance","column":"asset_id","concept":"asset","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_maintenance","asset_categories","asset_locations","product_categories"],"skeleton_sql":"fixed_assets\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN asset_locations ON fixed_assets.location_id = asset_locations.location_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Assets","Finance","Inventory"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":0.3333333333333333,"combined":0.33333333333333326}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2788,"completion_tokens":64,"sql_generated":"SELECT DISTINCT name FROM asset_categories","tables_used_in_sql":["asset_categories","asset_categories","asset_categories","fixed_assets","asset_locations","asset_locations","account_types","account_types","asset_locations","account_types","fixed_assets","fixed_assets","product_categories","asset_maintenance","product_categories"],"explain_result":"success","rows_returned":7,"total_latency_ms":2745}
{"timestamp":"2026-02-12T22:08:06.239Z","query_id":"aaa4b331-0b20-4075-a307-4e3fe3ee11c8","question":"Find employees who have been with the company for more than 5 years and earn above $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":124,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":11044,"validation_ms":1,"execution_ms":1,"total_ms":11173},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_salaries","employees","employee_certifications","employees","employees","employment_history","employee_certifications","employee_certifications","employee_benefits","sales_quotes","employment_history","employment_history","project_expenses"],"total_retrieval_latency_ms":124,"module_route":{"modules":["HR","Sales","Projects"],"confidences":[0.6354260409757457,0.5907829043761632,0.5652934554495189],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["employees","years","earn"],"top_linked":[{"table":"employment_history","column":"company_name","concept":"company","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employment_history","employee_salaries","employees","employee_certifications","employee_benefits","sales_quotes","project_expenses"],"skeleton_sql":"employment_history\nJOIN employees ON employment_history.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN employee_benefits ON employee_benefits.employee_id = employees.employee_id\nJOIN sales_quotes ON sales_quotes.created_by = employees.employee_id\nJOIN project_expenses ON project_expenses.employee_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["sales_quotes","employees","project_expenses"],"modules_used":["HR","Sales","Projects"],"score_details":{"hopCount":6,"semanticAlignment":1,"columnCoverage":0,"combined":1.2999999999999998}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":12,"timed_out":false,"candidate_scores":[{"index":1,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3241,"completion_tokens":452,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, e.email, e.phone, e.salary, eh.company_name, eh.start_date FROM employees e JOIN employment_history eh ON e.employee_id = eh.employee_id WHERE (CURRENT_DATE - eh.start_date) > INTERVAL '5 years' AND e.salary > 100000","tables_used_in_sql":["employee_salaries","employee_salaries","employee_salaries","employees","employee_certifications","employees","employees","employment_history","employee_certifications","employee_certifications","employee_benefits","sales_quotes","employment_history","employment_history","project_expenses"],"pg_normalize":{"applied":true,"transforms":["DATE_INTERVAL_COMPARISON_FIX"],"changed":true},"explain_result":"success","rows_returned":123,"total_latency_ms":11173}
{"timestamp":"2026-02-12T22:08:17.412Z","query_id":"c711dbfd-c3d2-4774-b1df-70a9209ecfe6","question":"List employees and their managers' names","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":50,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":6858,"validation_ms":0,"execution_ms":1,"total_ms":6912},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","departments","departments","departments","business_units","business_units","sales_regions","sales_regions","sales_regions","business_units","employee_salaries","employment_history","employee_salaries"],"total_retrieval_latency_ms":50,"module_route":{"modules":["HR","Common","Sales"],"confidences":[0.6680739651644825,0.6166903495185039,0.6121400974006294],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","managers","names"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","business_units","sales_regions","employee_salaries","employment_history"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN business_units ON business_units.manager_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["business_units","employees","sales_regions"],"modules_used":["HR","Common","Sales"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0,"combined":0.9999999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2930,"completion_tokens":357,"sql_generated":"SELECT e.employee_id, e.first_name || ' ' || e.last_name AS employee_name, m.first_name || ' ' || m.last_name AS manager_name FROM employees e JOIN employees m ON e.manager_id = m.employee_id","tables_used_in_sql":["employees","employees","employees","departments","departments","departments","business_units","business_units","sales_regions","sales_regions","sales_regions","business_units","employee_salaries","employment_history","employee_salaries"],"explain_result":"success","rows_returned":499,"total_latency_ms":6912}
{"timestamp":"2026-02-12T22:08:24.325Z","query_id":"d2585397-0a11-45a0-bf28-337f68ca3192","question":"Which employees have pending leave requests?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":44,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":6249,"validation_ms":0,"execution_ms":1,"total_ms":6296},"retriever_version":"V1","tables_retrieved":["leave_requests","leave_types","employees","employment_history","purchase_requisitions","document_attachments","emergency_contacts","project_resources","sales_regions"],"total_retrieval_latency_ms":44,"module_route":{"modules":["HR","Sales","Procurement"],"confidences":[0.646551871476994,0.5746654506294601,0.5721123641176491],"method":"hybrid"},"bm25_tables":["leave_requests"],"fusion_method":"rrf","schema_link":{"tables_linked":9,"columns_linked":3,"unsupported_concepts":["employees","pending","requests"],"top_linked":[{"table":"leave_requests","column":"leave_id","concept":"leave","score":1},{"table":"leave_requests","column":"leave_type_id","concept":"leave","score":1},{"table":"leave_types","column":"leave_type_id","concept":"leave","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["leave_requests","leave_types","employees","employment_history","purchase_requisitions","document_attachments","emergency_contacts","project_resources","sales_regions"],"skeleton_sql":"leave_requests\nJOIN leave_types ON leave_requests.leave_type_id = leave_types.leave_type_id\nJOIN employees ON leave_requests.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id\nJOIN purchase_requisitions ON purchase_requisitions.requested_by = employees.employee_id\nJOIN document_attachments ON document_attachments.uploaded_by = employees.employee_id\nJOIN emergency_contacts ON emergency_contacts.employee_id = employees.employee_id\nJOIN project_resources ON project_resources.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["sales_regions","employees","purchase_requisitions","project_resources","document_attachments"],"modules_used":["HR","Sales","Procurement","Common","Projects"],"score_details":{"hopCount":8,"semanticAlignment":1,"columnCoverage":0.125,"combined":1.875}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2310,"completion_tokens":242,"sql_generated":"SELECT DISTINCT e.employee_id, e.first_name, e.last_name FROM employees e JOIN leave_requests lr ON e.employee_id = lr.employee_id WHERE lr.status = 'Pending'","tables_used_in_sql":["leave_requests","leave_types","employees","employment_history","purchase_requisitions","document_attachments","emergency_contacts","project_resources","sales_regions"],"explain_result":"success","rows_returned":0,"total_latency_ms":6296}
{"timestamp":"2026-02-12T22:08:30.622Z","query_id":"6e590ae4-d593-4aad-a42a-be8349bc8b62","question":"Show the number of employees per position title","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":60,"glosses_ms":1,"linker_ms":0,"planner_ms":7,"first_generation_ms":6094,"validation_ms":1,"execution_ms":1,"total_ms":6164},"retriever_version":"V1","tables_retrieved":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","employees","sales_territories","employees","employees","sales_territories","sales_territories","sales_regions","sales_regions","sales_regions"],"total_retrieval_latency_ms":60,"module_route":{"modules":["HR","Sales","Common"],"confidences":[0.6796940956517356,0.6351760244095727,0.6034941504618659],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["employees"],"top_linked":[{"table":"positions","column":"position_id","concept":"position","score":1},{"table":"positions","column":"title","concept":"title","score":1},{"table":"employees","column":"position_id","concept":"position","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["positions","employees","employee_salaries","sales_territories","sales_regions"],"skeleton_sql":"positions\nJOIN employees ON employees.position_id = positions.position_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN sales_territories ON sales_territories.assigned_rep_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["sales_regions","employees","sales_territories"],"modules_used":["HR","Sales","Common"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0.2,"combined":0.9599999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2944,"completion_tokens":223,"sql_generated":"SELECT p.title, COUNT(e.employee_id) AS employee_count FROM positions p JOIN employees e ON e.position_id = p.position_id GROUP BY p.title","tables_used_in_sql":["positions","positions","positions","employee_salaries","employee_salaries","employee_salaries","employees","sales_territories","employees","employees","sales_territories","sales_territories","sales_regions","sales_regions","sales_regions"],"explain_result":"success","rows_returned":40,"total_latency_ms":6164}
{"timestamp":"2026-02-12T22:08:36.786Z","query_id":"a3d19fcc-4ea1-4e26-92a6-cdab44142dfa","question":"Find employees with expiring certifications in the next 6 months","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":74,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":10827,"validation_ms":1,"execution_ms":1,"total_ms":10906},"retriever_version":"V1","tables_retrieved":["employee_certifications","employee_certifications","employee_certifications","certifications","certifications","certifications","employee_training","employee_training","employee_training","employees","employees","employee_salaries","employee_salaries","employment_history","employment_history"],"total_retrieval_latency_ms":74,"module_route":{"modules":["HR","Sales","Common"],"confidences":[0.6943376671821135,0.6080024978070456,0.5792742480019953],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["employees","expiring","certifications","next","months"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employee_certifications","certifications","employee_training","employees","employee_salaries","employment_history"],"skeleton_sql":"employee_certifications\nJOIN certifications ON employee_certifications.certification_id = certifications.certification_id\nJOIN employees ON employee_certifications.employee_id = employees.employee_id\nJOIN employee_training ON employee_training.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["HR","Sales","Common"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0,"combined":0.9999999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2815,"completion_tokens":450,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, c.name, ec.expiry_date FROM employee_certifications ec JOIN certifications c ON ec.certification_id = c.certification_id JOIN employees e ON ec.employee_id = e.employee_id WHERE ec.expiry_date BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '6 months'","tables_used_in_sql":["employee_certifications","employee_certifications","employee_certifications","certifications","certifications","certifications","employee_training","employee_training","employee_training","employees","employees","employee_salaries","employee_salaries","employment_history","employment_history"],"explain_result":"success","rows_returned":9,"total_latency_ms":10906}
{"timestamp":"2026-02-12T22:08:47.692Z","query_id":"29ae6fd7-c431-40c6-a95b-09c7b94ba238","question":"What is the total sales amount by customer for 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":75,"glosses_ms":1,"linker_ms":1,"planner_ms":2,"first_generation_ms":4041,"validation_ms":0,"total_ms":5198},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","sales_regions","purchase_orders","sales_regions","sales_regions","purchase_orders","purchase_orders","sales_quotes","sales_quotes","sales_quotes","customers","goods_receipts","sales_territories"],"total_retrieval_latency_ms":75,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.6841518111894954,0.6557133040181619,0.6220199448581752],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":17,"unsupported_concepts":[],"top_linked":[{"table":"sales_orders","column":"customer_id","concept":"customer","score":1},{"table":"sales_orders","column":"tax_amount","concept":"amount","score":1},{"table":"sales_orders","column":"total","concept":"total sales","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"purchase_orders","column":"tax_amount","concept":"amount","score":1},{"table":"purchase_orders","column":"total","concept":"total sales","score":1},{"table":"sales_quotes","column":"customer_id","concept":"customer","score":1},{"table":"sales_quotes","column":"tax_amount","concept":"amount","score":1},{"table":"sales_quotes","column":"total","concept":"total sales","score":1},{"table":"customers","column":"customer_id","concept":"customer","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","sales_quotes","customers","sales_regions","goods_receipts","sales_territories"],"skeleton_sql":"sales_orders\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN customers ON sales_orders.customer_id = customers.customer_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Procurement","Inventory"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0.4,"combined":0.9199999999999998}},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":0,"candidates_rejected":1,"selected_candidate_index":null,"evaluation_time_ms":0,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias"}]},"prompt_tokens":3692,"completion_tokens":128,"sql_generated":"SELECT \n    c.customer_id,\n    SUM(so.total) AS total_sales\nFROM \n    sales_orders so\nJOIN \n    customers c ON so.customer_id = c.customer_id\nWHERE \n    EXTRACT(YEAR FROM so.order_date) = 2024\nGROUP BY \n    c.customer_id;","tables_used_in_sql":[],"total_latency_ms":5198,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T22:08:52.890Z","query_id":"1ee74bdc-d84a-4969-a368-ab620fae3611","question":"List the top 10 customers by total order value","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":57,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":10455,"validation_ms":0,"execution_ms":2,"total_ms":10518},"retriever_version":"V1","tables_retrieved":["sales_orders","order_lines","purchase_orders","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","purchase_orders","customers","customers","customers","product_suppliers","vendor_invoices","customer_contacts"],"total_retrieval_latency_ms":57,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.645139182385332,0.6274557373477856,0.5802502629078188],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":16,"unsupported_concepts":["customers","value"],"top_linked":[{"table":"sales_orders","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_number","concept":"order","score":1},{"table":"sales_orders","column":"order_date","concept":"order","score":1},{"table":"sales_orders","column":"total","concept":"total order","score":1},{"table":"order_lines","column":"order_id","concept":"order","score":1},{"table":"order_lines","column":"line_total","concept":"total order","score":1},{"table":"purchase_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"total","concept":"total order","score":1},{"table":"product_suppliers","column":"minimum_order_qty","concept":"order","score":1},{"table":"vendor_invoices","column":"total","concept":"total order","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","vendor_invoices","order_lines","customers","customer_contacts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id\nJOIN customers ON sales_orders.customer_id = customers.customer_id\nJOIN customer_contacts ON customer_contacts.customer_id = customers.customer_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Procurement","Inventory"],"score_details":{"hopCount":4,"semanticAlignment":1,"columnCoverage":0.5,"combined":0.6}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":1,"score":120,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3943,"completion_tokens":410,"sql_generated":"SELECT c.customer_id, c.name, SUM(so.total) AS total_order_value FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.name ORDER BY total_order_value DESC LIMIT 10","tables_used_in_sql":["sales_orders","order_lines","purchase_orders","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","purchase_orders","customers","customers","customers","product_suppliers","vendor_invoices","customer_contacts"],"explain_result":"success","rows_returned":10,"total_latency_ms":10518}
{"timestamp":"2026-02-12T22:09:03.409Z","query_id":"24fbe4f9-618c-44ab-809b-8f6d4dc81823","question":"Show sales opportunities in the Negotiation stage worth over $50,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":88,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":10726,"validation_ms":0,"execution_ms":1,"total_ms":10818},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","opportunity_stages","opportunity_stages","sales_quotes","sales_quotes","sales_quotes","sales_orders","sales_orders","sales_regions","sales_regions","sales_orders","sales_regions"],"total_retrieval_latency_ms":88,"module_route":{"modules":["Sales","Procurement","Assets"],"confidences":[0.6377953940739141,0.5637102261302828,0.5543527682693786],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["opportunities","negotiation","worth"],"top_linked":[{"table":"sales_opportunities","column":"stage_id","concept":"stage","score":1},{"table":"opportunity_stages","column":"stage_id","concept":"stage","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","sales_orders","sales_quotes"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id\nJOIN sales_quotes ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Procurement","Assets"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":0.3333333333333333,"combined":0.33333333333333326}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3247,"completion_tokens":437,"sql_generated":"SELECT so.opportunity_id, so.name, so.customer_id, so.owner_id, so.stage_id, so.amount, so.probability, so.expected_close_date, so.actual_close_date, so.source, so.created_at FROM sales_opportunities so JOIN opportunity_stages os ON so.stage_id = os.stage_id WHERE os.name = 'Negotiation' AND so.amount > 50000","tables_used_in_sql":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","opportunity_stages","opportunity_stages","sales_quotes","sales_quotes","sales_quotes","sales_orders","sales_orders","sales_regions","sales_regions","sales_orders","sales_regions"],"explain_result":"success","rows_returned":69,"total_latency_ms":10818}
{"timestamp":"2026-02-12T22:09:14.227Z","query_id":"bf75eb8e-25ec-45e7-a530-c18b908a3df4","question":"What is the conversion rate from quotes to orders?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":63,"glosses_ms":2,"linker_ms":1,"planner_ms":0,"first_generation_ms":4686,"validation_ms":0,"execution_ms":1,"total_ms":8477},"retriever_version":"V1","tables_retrieved":["quote_lines","sales_orders","quote_lines","quote_lines","sales_quotes","sales_quotes","sales_quotes","order_lines","sales_orders","sales_orders","order_lines","order_lines","purchase_orders","po_lines","purchase_orders"],"total_retrieval_latency_ms":63,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.8,0.6198683257466822,0.5837606035907529],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":0,"unsupported_concepts":["conversion","rate","quotes","orders"],"top_linked":[]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["quote_lines","sales_orders","sales_quotes","order_lines","purchase_orders","po_lines"],"skeleton_sql":"quote_lines\nJOIN sales_quotes ON quote_lines.quote_id = sales_quotes.quote_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Procurement","Inventory"],"score_details":{"hopCount":4,"semanticAlignment":1,"columnCoverage":0,"combined":0.7}},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":1,"candidates_passed_explain":0,"candidates_rejected":1,"selected_candidate_index":null,"evaluation_time_ms":0,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias"}]},"prompt_tokens":3535,"completion_tokens":162,"sql_generated":"SELECT \n    (COUNT(DISTINCT sales_orders.order_id) * 100.0 / NULLIF(COUNT(DISTINCT quote_lines.quote_id), 0)) AS conversion_rate\nFROM \n    quote_lines\nJOIN \n    sales_quotes ON quote_lines.quote_id = sales_quotes.quote_id\nLEFT JOIN \n    sales_orders ON sales_orders.quote_id = sales_quotes.quote_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":8477}
{"timestamp":"2026-02-12T22:09:22.705Z","query_id":"76d876be-d0e6-4f33-883a-7e11d9deaa2b","question":"List sales orders by sales representative with their totals","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":54,"glosses_ms":0,"linker_ms":2,"planner_ms":1,"first_generation_ms":9884,"validation_ms":0,"total_ms":13380},"retriever_version":"V1","tables_retrieved":["sales_orders","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","order_lines","order_lines","order_lines","sales_quotes","sales_quotes","goods_receipts","sales_quotes","sales_territories","sales_territories"],"total_retrieval_latency_ms":54,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[1,0.6720940421527194,0.6206833337658386],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["orders","representative","totals"],"top_linked":[{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","purchase_orders","order_lines","sales_quotes","goods_receipts"],"skeleton_sql":"sales_orders\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Procurement","Inventory"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":0,"combined":0.3999999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3569,"completion_tokens":484,"sql_generated":"SELECT \n    s.sales_rep_id,\n    e.first_name || ' ' || e.last_name AS sales_rep_name,\n    SUM(s.total) AS total_sales\nFROM \n    sales_orders s\nJOIN \n    employees e ON s.sales_rep_id = e.employee_id\nGROUP BY \n    s.sales_rep_id, e.first_name, e.last_name;","tables_used_in_sql":[],"total_latency_ms":13380,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T22:09:36.086Z","query_id":"7bc7db10-4e2b-4dde-b0b3-72ca56513a43","question":"Which products have inventory below their reorder point?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":42,"glosses_ms":0,"linker_ms":2,"planner_ms":1,"first_generation_ms":9297,"validation_ms":0,"execution_ms":2,"total_ms":9345},"retriever_version":"V1","tables_retrieved":["inventory_levels","reorder_rules","inventory_levels","inventory_levels","reorder_rules","reorder_rules","order_lines","order_lines","order_lines","purchase_orders","inventory_transactions","purchase_orders","purchase_orders","products","sales_orders"],"total_retrieval_latency_ms":42,"module_route":{"modules":["Inventory","Sales","Procurement"],"confidences":[0.8,0.6204194737759183,0.6487660016145484],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["products","inventory","point"],"top_linked":[{"table":"reorder_rules","column":"reorder_quantity","concept":"reorder","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["reorder_rules","inventory_levels","order_lines","inventory_transactions","products","sales_orders"],"skeleton_sql":"reorder_rules\nJOIN products ON reorder_rules.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id\nJOIN order_lines ON order_lines.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id\nJOIN sales_orders ON order_lines.order_id = sales_orders.order_id","cross_module_detected":true,"bridge_tables":["order_lines","products"],"modules_used":["Inventory","Sales","Procurement"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0,"combined":0.9999999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3479,"completion_tokens":362,"sql_generated":"SELECT p.product_id, p.name, i.quantity_on_hand, r.reorder_quantity FROM products p JOIN reorder_rules r ON p.product_id = r.product_id JOIN inventory_levels i ON p.product_id = i.product_id WHERE i.quantity_on_hand < r.reorder_quantity","tables_used_in_sql":["inventory_levels","reorder_rules","inventory_levels","inventory_levels","reorder_rules","reorder_rules","order_lines","order_lines","order_lines","purchase_orders","inventory_transactions","purchase_orders","purchase_orders","products","sales_orders"],"explain_result":"success","rows_returned":145,"total_latency_ms":9345}
{"timestamp":"2026-02-12T22:09:45.431Z","query_id":"a87b8f56-922b-4227-9048-6ef4722e3beb","question":"Show total inventory value by warehouse","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":62,"glosses_ms":0,"linker_ms":1,"planner_ms":8,"first_generation_ms":10094,"validation_ms":0,"total_ms":13865},"retriever_version":"V1","tables_retrieved":["inventory_levels","inventory_levels","inventory_levels","inventory_transactions","inventory_transactions","inventory_transactions","warehouse_locations","warehouse_locations","warehouse_locations","inventory_adjustments","warehouses","warehouses","warehouses","goods_receipts","inventory_adjustments"],"total_retrieval_latency_ms":62,"module_route":{"modules":["Inventory","Assets","Procurement"],"confidences":[0.6881528236449067,0.610494178679997,0.6096661444350719],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":6,"unsupported_concepts":["inventory","value"],"top_linked":[{"table":"inventory_levels","column":"warehouse_id","concept":"warehouse","score":1},{"table":"inventory_transactions","column":"warehouse_id","concept":"warehouse","score":1},{"table":"warehouse_locations","column":"warehouse_id","concept":"warehouse","score":1},{"table":"inventory_adjustments","column":"warehouse_id","concept":"warehouse","score":1},{"table":"warehouses","column":"warehouse_id","concept":"warehouse","score":1},{"table":"goods_receipts","column":"warehouse_id","concept":"warehouse","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_levels","inventory_transactions","warehouse_locations","inventory_adjustments","warehouses","goods_receipts"],"skeleton_sql":"inventory_levels\nJOIN warehouse_locations ON inventory_levels.location_id = warehouse_locations.location_id\nJOIN warehouses ON inventory_levels.warehouse_id = warehouses.warehouse_id\nJOIN inventory_transactions ON inventory_transactions.location_id = warehouse_locations.location_id\nJOIN inventory_adjustments ON inventory_adjustments.warehouse_id = warehouses.warehouse_id\nJOIN goods_receipts ON goods_receipts.warehouse_id = warehouses.warehouse_id","cross_module_detected":true,"bridge_tables":["goods_receipts","warehouses"],"modules_used":["Inventory","Assets","Procurement"],"score_details":{"hopCount":7,"semanticAlignment":1,"columnCoverage":0.7142857142857143,"combined":1.4571428571428573}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":3,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":3,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3099,"completion_tokens":503,"sql_generated":"SELECT \n    w.warehouse_id,\n    w.name AS warehouse_name,\n    SUM(il.quantity_on_hand * p.price) AS total_inventory_value\nFROM \n    warehouses w\nJOIN \n    inventory_levels il ON w.warehouse_id = il.warehouse_id\nJOIN \n    products p ON il.product_id = p.product_id\nGROUP BY \n    w.warehouse_id, w.name;","tables_used_in_sql":[],"total_latency_ms":13865,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T22:09:59.296Z","query_id":"7641d3e2-f993-4c39-8cdd-da33b5bdd5f8","question":"List products that had stock transfers in the last 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":48,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":10077,"validation_ms":0,"execution_ms":0,"total_ms":10129},"retriever_version":"V1","tables_retrieved":["stock_transfers","stock_transfers","stock_transfers","transfer_lines","transfer_lines","transfer_lines","asset_transfers","asset_transfers","asset_transfers","product_suppliers","product_suppliers","product_suppliers","products","inventory_transactions","fixed_assets"],"total_retrieval_latency_ms":48,"module_route":{"modules":["Inventory","Assets","Sales"],"confidences":[1,0.5998748781261968,0.5802825151986847],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["products","stock","transfers","last"],"top_linked":[{"table":"product_suppliers","column":"lead_time_days","concept":"days","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["product_suppliers","stock_transfers","transfer_lines","asset_transfers","products","inventory_transactions","fixed_assets"],"skeleton_sql":"product_suppliers\nJOIN products ON product_suppliers.product_id = products.product_id\nJOIN transfer_lines ON transfer_lines.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id\nJOIN stock_transfers ON transfer_lines.transfer_id = stock_transfers.transfer_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Inventory","Assets","Sales"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0,"combined":0.9999999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":1,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3297,"completion_tokens":403,"sql_generated":"SELECT DISTINCT p.product_id, p.name FROM products p JOIN transfer_lines tl ON p.product_id = tl.product_id JOIN stock_transfers st ON tl.transfer_id = st.transfer_id WHERE st.transfer_date >= CURRENT_DATE - INTERVAL '30 days'","tables_used_in_sql":["stock_transfers","stock_transfers","stock_transfers","transfer_lines","transfer_lines","transfer_lines","asset_transfers","asset_transfers","asset_transfers","product_suppliers","product_suppliers","product_suppliers","products","inventory_transactions","fixed_assets"],"explain_result":"success","rows_returned":0,"total_latency_ms":10129}
{"timestamp":"2026-02-12T22:10:09.425Z","query_id":"2dd2e70d-b34d-4147-8da6-cf5ce3c2f5c8","question":"What is the total spend by vendor this year?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":101,"glosses_ms":1,"linker_ms":1,"planner_ms":4,"first_generation_ms":4042,"validation_ms":0,"execution_ms":0,"total_ms":7198},"retriever_version":"V1","tables_retrieved":["vendor_invoices","vendor_invoices","vendor_invoices","vendors","purchase_orders","purchase_orders","vendors","vendors","purchase_orders","project_expenses","project_expenses","project_expenses","vendor_invoice_lines","vendor_invoice_lines","vendor_contacts"],"total_retrieval_latency_ms":101,"module_route":{"modules":["Procurement","Sales","Projects"],"confidences":[0.6315132350172751,0.5716276998761761,0.5712407846026563],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":9,"unsupported_concepts":["spend","year"],"top_linked":[{"table":"vendor_invoices","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"total","concept":"total spend","score":1},{"table":"vendors","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_number","concept":"vendor","score":1},{"table":"purchase_orders","column":"vendor_id","concept":"vendor","score":1},{"table":"purchase_orders","column":"total","concept":"total spend","score":1},{"table":"vendor_contacts","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"subtotal","concept":"total spend","score":0.7},{"table":"purchase_orders","column":"subtotal","concept":"total spend","score":0.7}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendor_invoices","purchase_orders","vendors","vendor_contacts","vendor_invoice_lines"],"skeleton_sql":"vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id\nJOIN vendor_contacts ON vendor_contacts.vendor_id = vendors.vendor_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Procurement","Sales","Projects"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0.6,"combined":0.8799999999999998}},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":0,"candidates_rejected":2,"selected_candidate_index":null,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3703,"completion_tokens":129,"sql_generated":"SELECT SUM(vendor_invoices.total) AS total_spend\nFROM vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nWHERE vendor_invoices.invoice_date >= CURRENT_DATE - INTERVAL '1 year';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":7198}
{"timestamp":"2026-02-12T22:10:16.624Z","query_id":"6c5cc02d-0dca-4dd0-b6d2-192c068100f8","question":"List purchase orders that are overdue (expected date passed but not received)","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":103,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":7769,"validation_ms":0,"execution_ms":2,"total_ms":7877},"retriever_version":"V1","tables_retrieved":["purchase_orders","purchase_orders","purchase_orders","sales_orders","goods_receipts","sales_orders","sales_orders","purchase_requisitions","purchase_requisitions","purchase_requisitions","order_lines","order_lines","order_lines","goods_receipts","goods_receipts"],"total_retrieval_latency_ms":103,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.5967878432654143,0.6506355764441156,0.5717976391409214],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":17,"unsupported_concepts":["orders","overdue","passed"],"top_linked":[{"table":"purchase_orders","column":"order_date","concept":"date","score":1},{"table":"purchase_orders","column":"expected_date","concept":"expected","score":1},{"table":"sales_orders","column":"order_date","concept":"date","score":1},{"table":"sales_orders","column":"required_date","concept":"date","score":1},{"table":"sales_orders","column":"ship_date","concept":"date","score":1},{"table":"goods_receipts","column":"receipt_date","concept":"date","score":1},{"table":"goods_receipts","column":"received_by","concept":"received","score":1},{"table":"purchase_requisitions","column":"request_date","concept":"date","score":1},{"table":"purchase_requisitions","column":"required_date","concept":"date","score":1},{"table":"purchase_requisitions","column":"approved_date","concept":"date","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["purchase_orders","sales_orders","goods_receipts","purchase_requisitions","order_lines"],"skeleton_sql":"purchase_orders\nJOIN goods_receipts ON goods_receipts.po_id = purchase_orders.po_id\nJOIN purchase_requisitions ON purchase_orders.requisition_id = purchase_requisitions.requisition_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Procurement","Inventory"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":0.3333333333333333,"combined":0.33333333333333326}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3958,"completion_tokens":375,"sql_generated":"SELECT po.po_id, po.po_number, po.expected_date, gr.receipt_date FROM purchase_orders po LEFT JOIN goods_receipts gr ON gr.po_id = po.po_id AND gr.receipt_date IS NULL WHERE po.expected_date < CURRENT_DATE","tables_used_in_sql":["purchase_orders","purchase_orders","purchase_orders","sales_orders","goods_receipts","sales_orders","sales_orders","purchase_requisitions","purchase_requisitions","purchase_requisitions","order_lines","order_lines","order_lines","goods_receipts","goods_receipts"],"explain_result":"success","rows_returned":1000,"total_latency_ms":7877}
{"timestamp":"2026-02-12T22:10:24.501Z","query_id":"ac5ebd10-366d-4576-8bff-743049a60e32","question":"Show the approval rate for purchase requisitions","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":103,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":12083,"validation_ms":0,"execution_ms":1,"total_ms":12192},"retriever_version":"V1","tables_retrieved":["purchase_requisitions","purchase_requisitions","purchase_requisitions","purchase_orders","purchase_orders","purchase_orders","requisition_lines","requisition_lines","requisition_lines","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoices","sales_orders"],"total_retrieval_latency_ms":103,"module_route":{"modules":["Procurement","Sales","Inventory"],"confidences":[0.6427500726788755,0.5960400617040607,0.5852234941282601],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["approval","rate","requisitions"],"top_linked":[{"table":"purchase_orders","column":"po_id","concept":"purchase","score":0.8},{"table":"purchase_orders","column":"po_number","concept":"purchase","score":0.8},{"table":"vendor_invoices","column":"po_id","concept":"purchase","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["purchase_orders","vendor_invoices","purchase_requisitions","requisition_lines"],"skeleton_sql":"purchase_orders\nJOIN vendor_invoices ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN purchase_requisitions ON purchase_orders.requisition_id = purchase_requisitions.requisition_id\nJOIN requisition_lines ON requisition_lines.requisition_id = purchase_requisitions.requisition_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Procurement","Sales","Inventory"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":0.3333333333333333,"combined":0.33333333333333326}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":45,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3775,"completion_tokens":484,"sql_generated":"SELECT date_trunc('month', purchase_requisitions.approved_date) AS month, COUNT(*) FILTER (WHERE purchase_requisitions.status = 'Approved') * 100.0 / NULLIF(COUNT(*), 0) AS approval_rate FROM purchase_requisitions GROUP BY month","tables_used_in_sql":["purchase_requisitions","purchase_requisitions","purchase_requisitions","purchase_orders","purchase_orders","purchase_orders","requisition_lines","requisition_lines","requisition_lines","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoices","sales_orders"],"explain_result":"success","rows_returned":1,"total_latency_ms":12192}
{"timestamp":"2026-02-12T22:10:36.693Z","query_id":"15843a43-9c7b-48e1-b1b3-0626afecc029","question":"What is the total debit and credit for each account in the current period?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":95,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":6774,"validation_ms":0,"execution_ms":2,"total_ms":6875},"retriever_version":"V1","tables_retrieved":["bank_accounts","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","depreciation_entries","depreciation_schedules","bank_transactions","bank_transactions","bank_transactions","fiscal_periods","chart_of_accounts","budget_lines"],"total_retrieval_latency_ms":95,"module_route":{"modules":["Finance","Assets","Projects"],"confidences":[0.6820847512994077,0.6316146260622317,0.6029159033276472],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":15,"unsupported_concepts":["debit","credit"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"current_balance","concept":"current","score":1},{"table":"depreciation_entries","column":"period_id","concept":"period","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1},{"table":"fiscal_periods","column":"period_id","concept":"period","score":1},{"table":"fiscal_periods","column":"period_number","concept":"period","score":1},{"table":"chart_of_accounts","column":"account_id","concept":"account","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","chart_of_accounts","fiscal_periods","budget_lines","depreciation_entries","bank_transactions"],"skeleton_sql":"bank_accounts\nJOIN chart_of_accounts ON bank_accounts.gl_account_id = chart_of_accounts.account_id\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id\nJOIN budget_lines ON budget_lines.account_id = chart_of_accounts.account_id\nJOIN fiscal_periods ON budget_lines.period_id = fiscal_periods.period_id\nJOIN depreciation_entries ON depreciation_entries.period_id = fiscal_periods.period_id","cross_module_detected":true,"bridge_tables":["depreciation_entries","fiscal_periods"],"modules_used":["Finance","Assets","Projects"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":1,"combined":0.7999999999999999}},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3247,"completion_tokens":266,"sql_generated":"SELECT ba.account_number, SUM(CASE WHEN bt.transaction_type = 'Debit' THEN bt.amount ELSE 0 END) AS total_debit, SUM(CASE WHEN bt.transaction_type = 'Credit' THEN bt.amount ELSE 0 END) AS total_credit FROM bank_transactions bt JOIN bank_accounts ba ON bt.bank_account_id = ba.bank_account_id WHERE bt.transaction_date BETWEEN (SELECT start_date FROM fiscal_periods WHERE is_closed IS FALSE LIMIT 1) AND (SELECT end_date FROM fiscal_periods WHERE is_closed IS FALSE LIMIT 1) GROUP BY ba.account_number","tables_used_in_sql":["bank_accounts","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","depreciation_entries","depreciation_schedules","bank_transactions","bank_transactions","bank_transactions","fiscal_periods","chart_of_accounts","budget_lines"],"explain_result":"success","rows_returned":5,"total_latency_ms":6875}
{"timestamp":"2026-02-12T22:10:43.568Z","query_id":"927e32ca-5d37-4bc9-bdc0-d6f8898d9b79","question":"List all posted journal entries for the current month","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":82,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":9790,"validation_ms":0,"execution_ms":3,"total_ms":9878},"retriever_version":"V1","tables_retrieved":["journal_entries","journal_entries","journal_entries","depreciation_entries","journal_lines","journal_lines","journal_lines","depreciation_entries","depreciation_entries","timesheet_entries","timesheet_entries","timesheet_entries","depreciation_schedules","depreciation_schedules","fiscal_years"],"total_retrieval_latency_ms":82,"module_route":{"modules":["Finance","Assets","Projects"],"confidences":[0.621986778545572,0.5716830050727633,0.5519832117436305],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["entries","current"],"top_linked":[{"table":"journal_entries","column":"posted_by","concept":"posted","score":1},{"table":"depreciation_entries","column":"journal_entry_id","concept":"journal","score":1},{"table":"depreciation_schedules","column":"useful_life_months","concept":"month","score":0.8},{"table":"depreciation_schedules","column":"monthly_amount","concept":"month","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["journal_entries","depreciation_entries","journal_lines"],"skeleton_sql":"journal_entries\nJOIN depreciation_entries ON depreciation_entries.journal_entry_id = journal_entries.entry_id\nJOIN journal_lines ON journal_lines.entry_id = journal_entries.entry_id","cross_module_detected":true,"bridge_tables":["depreciation_entries","journal_entries"],"modules_used":["Finance","Assets","Projects"],"score_details":{"hopCount":2,"semanticAlignment":1,"columnCoverage":0.25,"combined":0.05000000000000002}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3028,"completion_tokens":395,"sql_generated":"SELECT je.entry_id, je.entry_number, je.entry_date, je.description, je.reference, je.posted_by, je.status, je.created_at FROM journal_entries je WHERE date_trunc('month', je.entry_date) = date_trunc('month', CURRENT_DATE) AND je.status = 'Posted'","tables_used_in_sql":["journal_entries","journal_entries","journal_entries","depreciation_entries","journal_lines","journal_lines","journal_lines","depreciation_entries","depreciation_entries","timesheet_entries","timesheet_entries","timesheet_entries","depreciation_schedules","depreciation_schedules","fiscal_years"],"explain_result":"success","rows_returned":0,"total_latency_ms":9878}
{"timestamp":"2026-02-12T22:10:53.446Z","query_id":"9831e5e0-1220-4c1f-9e89-5c912ccc96b6","question":"Show budget vs actual spending by department","attempt_count":2,"retry_succeeded":true,"execution_success":true,"stage_latencies":{"retrieval_ms":99,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":10756,"validation_ms":0,"execution_ms":0,"total_ms":12684},"retriever_version":"V1","tables_retrieved":["budgets","budgets","budgets","project_budgets","project_budgets","project_budgets","budget_lines","departments","budget_lines","budget_lines","project_expenses","departments","departments","project_expenses","project_expenses"],"total_retrieval_latency_ms":99,"module_route":{"modules":["Finance","HR","Projects"],"confidences":[0.5677103664959317,0.5005047374118523,0.5213199542872742],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["vs","spending"],"top_linked":[{"table":"budgets","column":"budget_id","concept":"budget","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_budgets","column":"actual_amount","concept":"actual","score":1},{"table":"budget_lines","column":"budget_id","concept":"budget","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"departments","column":"budget","concept":"budget","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["departments","budgets","budget_lines"],"skeleton_sql":"departments\nJOIN budgets ON budgets.department_id = departments.department_id\nJOIN budget_lines ON budget_lines.budget_id = budgets.budget_id","cross_module_detected":true,"bridge_tables":["budgets","departments"],"modules_used":["Finance","HR","Projects"],"score_details":{"hopCount":2,"semanticAlignment":1,"columnCoverage":1,"combined":-0.1}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":0,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2922,"completion_tokens":541,"sql_generated":"SELECT d.department_id, d.name AS department_name, SUM(b.total_amount) AS total_budget, SUM(pb.actual_amount) AS total_actual_spending \nFROM departments d \nJOIN budgets b ON b.department_id = d.department_id \nJOIN project_budgets pb ON pb.budget_id = b.budget_id \nGROUP BY d.department_id, d.name;","tables_used_in_sql":[],"explain_result":"success","sqlstate":"42703","error_message":"column b.budget does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","rows_returned":23,"total_latency_ms":12683,"shadow_whitelist_observations":[{"attempt":1,"failing_reference":"b.budget","alias_resolved":"budgets","alias_ambiguous":false,"would_rewrite":true,"rewrite_to_column":"budget_id","rewrite_confidence":0.7666666666666666,"candidate_count":1,"strict_gating_passed":true,"strict_gating_failures":[],"autocorrect_attempted":true,"autocorrect_succeeded":false,"lexical_score":0.4666666666666666,"containment_bonus":0.3,"has_containment":true,"dominance_delta":0.7666666666666666,"is_keyword":false,"top_candidates":[{"column":"budget_id","score":0.7666666666666666,"containment_bonus":0.3}],"active_gating_passed":false,"active_gating_failures":["score_0.77_below_floor_0.8"],"rewrite_would_fire_in_active_mode":false,"top1_score":0.7666666666666666,"top2_score":null,"score_delta":null,"score_ratio":null,"risk_blacklist_action":"none","raw_candidate_count":1,"eligible_candidate_count":1,"pipeline_outcome":"success","would_have_helped":false,"would_have_been_redundant":false,"would_have_acted_on_success":false}]}
{"timestamp":"2026-02-12T22:11:06.130Z","query_id":"355fa86e-befe-4412-a9c7-7be07fa89b5e","question":"What is the total expense amount per project?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":57,"glosses_ms":0,"linker_ms":1,"planner_ms":1,"first_generation_ms":2921,"validation_ms":0,"execution_ms":1,"total_ms":2981},"retriever_version":"V1","tables_retrieved":["project_expenses","project_expenses","project_expenses","project_budgets","project_budgets","project_budgets","project_milestones","project_milestones","project_milestones","projects","projects","project_resources","project_resources","project_resources","projects"],"total_retrieval_latency_ms":57,"module_route":{"modules":["Projects","Finance","Assets"],"confidences":[0.676157984147777,0.5752672839977457,0.5892418783729241],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":16,"unsupported_concepts":[],"top_linked":[{"table":"project_expenses","column":"expense_id","concept":"expense","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"project_expenses","column":"expense_date","concept":"expense","score":1},{"table":"project_expenses","column":"amount","concept":"amount","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_budgets","column":"planned_amount","concept":"amount","score":1},{"table":"project_budgets","column":"actual_amount","concept":"amount","score":1},{"table":"project_milestones","column":"project_id","concept":"project","score":1},{"table":"project_milestones","column":"amount","concept":"amount","score":1},{"table":"projects","column":"project_id","concept":"project","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_expenses","projects","project_budgets","project_resources","project_milestones"],"skeleton_sql":"project_expenses\nJOIN projects ON project_expenses.project_id = projects.project_id\nJOIN project_budgets ON project_budgets.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Projects","Finance","Assets"],"score_details":{"hopCount":4,"semanticAlignment":1,"columnCoverage":1,"combined":0.4999999999999999}},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3218,"completion_tokens":84,"sql_generated":"SELECT p.project_id, SUM(pe.amount) AS total_expense_amount FROM projects p JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id","tables_used_in_sql":["project_expenses","project_expenses","project_expenses","project_budgets","project_budgets","project_budgets","project_milestones","project_milestones","project_milestones","projects","projects","project_resources","project_resources","project_resources","projects"],"explain_result":"success","rows_returned":100,"total_latency_ms":2981}
{"timestamp":"2026-02-12T22:11:09.111Z","query_id":"01fb4fcc-ff4e-4e6b-b303-ec6d2bdd7949","question":"List projects that are over budget","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":58,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":12176,"validation_ms":0,"execution_ms":1,"total_ms":12236},"retriever_version":"V1","tables_retrieved":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","project_milestones","projects","projects","projects","project_resources","project_milestones","project_milestones","budgets","budgets"],"total_retrieval_latency_ms":58,"module_route":{"modules":["Projects","Finance","Assets"],"confidences":[0.6467013339330956,0.5471531435198711,0.549415898809859],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":3,"unsupported_concepts":["projects"],"top_linked":[{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"projects","column":"budget","concept":"budget","score":1},{"table":"budgets","column":"budget_id","concept":"budget","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_budgets","projects","project_expenses","project_milestones","project_resources"],"skeleton_sql":"project_budgets\nJOIN projects ON project_budgets.project_id = projects.project_id\nJOIN project_expenses ON project_expenses.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id\nJOIN project_resources ON project_resources.project_id = projects.project_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Projects","Finance","Assets"],"score_details":{"hopCount":4,"semanticAlignment":1,"columnCoverage":0,"combined":0.7}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":9,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3072,"completion_tokens":509,"sql_generated":"SELECT p.project_id, p.name, pb.planned_amount, SUM(pe.amount) AS actual_amount FROM projects p JOIN project_budgets pb ON p.project_id = pb.project_id LEFT JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id, p.name, pb.planned_amount HAVING SUM(pe.amount) > pb.planned_amount","tables_used_in_sql":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","project_milestones","projects","projects","projects","project_resources","project_milestones","project_milestones","budgets","budgets"],"explain_result":"success","rows_returned":14,"total_latency_ms":12236}
{"timestamp":"2026-02-12T22:11:21.347Z","query_id":"a36bf67a-b58d-438b-9c8b-3e4699fd7abd","question":"Show project resources and their allocation percentages","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":89,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":4152,"validation_ms":0,"execution_ms":0,"total_ms":4245},"retriever_version":"V1","tables_retrieved":["project_resources","project_resources","project_resources","project_budgets","project_budgets","project_budgets","project_expenses","projects","project_expenses","project_expenses","task_assignments","project_tasks","project_milestones","projects","projects"],"total_retrieval_latency_ms":89,"module_route":{"modules":["Projects","Assets","HR"],"confidences":[0.6718958463243488,0.6107490024847629,0.5614614033173991],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["resources","percentages"],"top_linked":[{"table":"project_resources","column":"project_id","concept":"project","score":1},{"table":"project_resources","column":"allocation_percent","concept":"allocation","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"projects","column":"project_id","concept":"project","score":1},{"table":"projects","column":"project_number","concept":"project","score":1},{"table":"projects","column":"project_manager_id","concept":"project","score":1},{"table":"project_milestones","column":"project_id","concept":"project","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["projects","project_resources","project_budgets","project_expenses","project_milestones","task_assignments","project_tasks"],"skeleton_sql":"projects\nJOIN project_resources ON project_resources.project_id = projects.project_id\nJOIN project_budgets ON project_budgets.project_id = projects.project_id\nJOIN project_expenses ON project_expenses.project_id = projects.project_id\nJOIN project_milestones ON project_milestones.project_id = projects.project_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Projects","Assets","HR"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0.8,"combined":0.8399999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3145,"completion_tokens":225,"sql_generated":"SELECT p.project_id, p.name, pr.employee_id, pr.role, pr.allocation_percent FROM projects p JOIN project_resources pr ON pr.project_id = p.project_id","tables_used_in_sql":["project_resources","project_resources","project_resources","project_budgets","project_budgets","project_budgets","project_expenses","projects","project_expenses","project_expenses","task_assignments","project_tasks","project_milestones","projects","projects"],"explain_result":"success","rows_returned":300,"total_latency_ms":4245}
{"timestamp":"2026-02-12T22:11:25.593Z","query_id":"a706aa10-58e4-468e-932c-1bfb506239e1","question":"List fixed assets by category with their total purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":90,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":8381,"validation_ms":0,"execution_ms":0,"total_ms":8474},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_categories","asset_categories","asset_categories","asset_maintenance","asset_maintenance","asset_maintenance","products","products","depreciation_schedules","depreciation_schedules","products","depreciation_schedules"],"total_retrieval_latency_ms":90,"module_route":{"modules":["Assets","Procurement","Inventory"],"confidences":[0.7257433212682611,0.6070729014973074,0.6141358644138465],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["fixed","assets"],"top_linked":[{"table":"fixed_assets","column":"category_id","concept":"category","score":1},{"table":"fixed_assets","column":"purchase_date","concept":"purchase","score":1},{"table":"fixed_assets","column":"purchase_cost","concept":"purchase","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"asset_maintenance","column":"cost","concept":"cost","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"products","column":"unit_cost","concept":"cost","score":1},{"table":"fixed_assets","column":"po_id","concept":"purchase","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_categories","asset_maintenance","depreciation_schedules"],"skeleton_sql":"fixed_assets\nJOIN asset_categories ON fixed_assets.category_id = asset_categories.category_id\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Assets","Procurement","Inventory"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":0.3333333333333333,"combined":0.33333333333333326}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":115,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3426,"completion_tokens":320,"sql_generated":"SELECT ac.name AS category_name, SUM(fa.purchase_cost) AS total_purchase_cost FROM fixed_assets fa JOIN asset_categories ac ON fa.category_id = ac.category_id GROUP BY ac.name","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_categories","asset_categories","asset_categories","asset_maintenance","asset_maintenance","asset_maintenance","products","products","depreciation_schedules","depreciation_schedules","products","depreciation_schedules"],"explain_result":"success","rows_returned":7,"total_latency_ms":8474}
{"timestamp":"2026-02-12T22:11:34.068Z","query_id":"5c3eb078-5cf7-4274-b0b7-1b1b3f4f068d","question":"List assets due for maintenance in the next 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":65,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":11214,"validation_ms":0,"execution_ms":0,"total_ms":11283},"retriever_version":"V1","tables_retrieved":["asset_maintenance","asset_maintenance","asset_maintenance","fixed_assets","fixed_assets","fixed_assets","depreciation_schedules","depreciation_schedules","depreciation_schedules","maintenance_types","maintenance_types","asset_transfers","maintenance_types","asset_transfers","asset_transfers"],"total_retrieval_latency_ms":65,"module_route":{"modules":["Assets","Finance","Projects"],"confidences":[0.700821310891108,0.575682266101458,0.5712385710619057],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["assets","due","next","days"],"top_linked":[{"table":"asset_maintenance","column":"maintenance_id","concept":"maintenance","score":1},{"table":"asset_maintenance","column":"maintenance_type_id","concept":"maintenance","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["asset_maintenance","fixed_assets","depreciation_schedules","maintenance_types","asset_transfers"],"skeleton_sql":"asset_maintenance\nJOIN fixed_assets ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN maintenance_types ON asset_maintenance.maintenance_type_id = maintenance_types.type_id\nJOIN depreciation_schedules ON depreciation_schedules.asset_id = fixed_assets.asset_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Assets","Finance","Projects"],"score_details":{"hopCount":4,"semanticAlignment":1,"columnCoverage":0.125,"combined":0.6749999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":4,"candidates_rejected":2,"selected_candidate_index":2,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias"},{"index":6,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3419,"completion_tokens":456,"sql_generated":"SELECT fa.asset_id, fa.name, am.scheduled_date FROM fixed_assets fa JOIN asset_maintenance am ON fa.asset_id = am.asset_id WHERE am.scheduled_date BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '30 days'","tables_used_in_sql":["asset_maintenance","asset_maintenance","asset_maintenance","fixed_assets","fixed_assets","fixed_assets","depreciation_schedules","depreciation_schedules","depreciation_schedules","maintenance_types","maintenance_types","asset_transfers","maintenance_types","asset_transfers","asset_transfers"],"explain_result":"success","rows_returned":0,"total_latency_ms":11283}
{"timestamp":"2026-02-12T22:11:45.351Z","query_id":"327fa85e-fa7b-45ea-b804-2f32e7546c6a","question":"How many documents are attached to each entity type?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":68,"glosses_ms":0,"linker_ms":1,"planner_ms":0,"first_generation_ms":3919,"validation_ms":0,"execution_ms":0,"total_ms":3989},"retriever_version":"V1","tables_retrieved":["document_attachments","document_attachments","document_attachments","maintenance_types","maintenance_types","benefit_types","benefit_types","asset_categories","asset_categories","asset_categories","certifications","certifications","departments","departments","maintenance_types"],"total_retrieval_latency_ms":68,"module_route":{"modules":["Common","Assets","HR"],"confidences":[0.6099410037842294,0.6071622744741,0.6001465631223495],"method":"embedding"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":5,"unsupported_concepts":["documents","attached"],"top_linked":[{"table":"document_attachments","column":"entity_type","concept":"entity","score":1},{"table":"document_attachments","column":"entity_id","concept":"entity","score":1},{"table":"document_attachments","column":"mime_type","concept":"type","score":1},{"table":"maintenance_types","column":"type_id","concept":"type","score":1},{"table":"benefit_types","column":"benefit_type_id","concept":"type","score":1}]},"join_plan":{"used":false,"candidate_count":0,"selected_tables":[],"skeleton_sql":null,"cross_module_detected":true,"bridge_tables":[],"modules_used":["Common","Assets","HR"]},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":1,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2383,"completion_tokens":132,"sql_generated":"SELECT entity_type, COUNT(*) AS document_count FROM document_attachments GROUP BY entity_type","tables_used_in_sql":["document_attachments","document_attachments","document_attachments","maintenance_types","maintenance_types","benefit_types","benefit_types","asset_categories","asset_categories","asset_categories","certifications","certifications","departments","departments","maintenance_types"],"explain_result":"success","rows_returned":7,"total_latency_ms":3989}
{"timestamp":"2026-02-12T22:11:49.340Z","query_id":"823080b4-9b7c-4585-b171-67ef4e53df73","question":"Calculate employee turnover rate by department for 2024","attempt_count":2,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":37,"glosses_ms":0,"linker_ms":2,"planner_ms":6,"first_generation_ms":23682,"validation_ms":0,"total_ms":28110},"retriever_version":"V1","tables_retrieved":["employees","employees","employees","employee_salaries","employee_salaries","employee_salaries","departments","positions","positions","positions","departments","departments","budgets","employee_training","employment_history"],"total_retrieval_latency_ms":37,"module_route":{"modules":["HR","Assets","Finance"],"confidences":[0.6353268662455963,0.5849812909990083,0.5784689335665294],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":["calculate","turnover","rate"],"top_linked":[{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"employee_training","column":"employee_id","concept":"employee","score":1},{"table":"employment_history","column":"employee_id","concept":"employee","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","employee_salaries","positions","budgets","employee_training","employment_history"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN positions ON employees.position_id = positions.position_id\nJOIN budgets ON budgets.approved_by = employees.employee_id\nJOIN employee_training ON employee_training.employee_id = employees.employee_id\nJOIN employment_history ON employment_history.employee_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["budgets","departments","employees"],"modules_used":["HR","Assets","Finance"],"score_details":{"hopCount":8,"semanticAlignment":1,"columnCoverage":0.8125,"combined":1.7374999999999998}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":4,"candidates_passed_explain":0,"candidates_rejected":4,"selected_candidate_index":null,"evaluation_time_ms":0,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens, join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias"},{"index":4,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens, unbalanced_parens, trailing_comma_select"}]},"prompt_tokens":3238,"completion_tokens":744,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":28110,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-12T22:12:17.450Z","query_id":"6a59a067-e7c5-4f52-a4af-dd35ffd96657","question":"Find the salary percentile ranking for each employee within their department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":76,"glosses_ms":0,"linker_ms":1,"planner_ms":6,"first_generation_ms":10022,"validation_ms":0,"execution_ms":2,"total_ms":10109},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_salaries","positions","positions","positions","employees","departments","employees","employees","departments","departments","sales_regions","performance_reviews","performance_reviews"],"total_retrieval_latency_ms":76,"module_route":{"modules":["HR","Sales","Finance"],"confidences":[0.6677084289922868,0.6117316238421459,0.5982580642330567],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":12,"unsupported_concepts":["percentile","ranking","within"],"top_linked":[{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"positions","column":"min_salary","concept":"salary","score":1},{"table":"positions","column":"max_salary","concept":"salary","score":1},{"table":"positions","column":"department_id","concept":"department","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"departments","column":"department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","positions","employee_salaries","departments","performance_reviews","sales_regions"],"skeleton_sql":"employees\nJOIN positions ON employees.position_id = positions.position_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN departments ON employees.department_id = departments.department_id\nJOIN performance_reviews ON performance_reviews.employee_id = employees.employee_id\nJOIN sales_regions ON sales_regions.manager_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["sales_regions","employees"],"modules_used":["HR","Sales","Finance"],"score_details":{"hopCount":6,"semanticAlignment":1,"columnCoverage":0.75,"combined":1.15}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3253,"completion_tokens":498,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, e.department_id, es.amount AS salary, NTILE(100) OVER (PARTITION BY e.department_id ORDER BY es.amount) AS percentile_rank FROM employees e JOIN employee_salaries es ON es.employee_id = e.employee_id","tables_used_in_sql":["employee_salaries","employee_salaries","employee_salaries","positions","positions","positions","employees","departments","employees","employees","departments","departments","sales_regions","performance_reviews","performance_reviews"],"explain_result":"success","rows_returned":900,"total_latency_ms":10109}
{"timestamp":"2026-02-12T22:12:27.559Z","query_id":"4cb4b802-9f89-4730-874a-ffcce1068955","question":"Identify employees who have not completed mandatory training","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":48,"glosses_ms":1,"linker_ms":0,"planner_ms":1,"first_generation_ms":10175,"validation_ms":0,"execution_ms":1,"total_ms":10227},"retriever_version":"V1","tables_retrieved":["employee_training","employee_training","employee_training","training_courses","training_courses","training_courses","employee_certifications","employee_certifications","employee_certifications","employees","employees","employees","leave_requests","employee_salaries","employee_salaries"],"total_retrieval_latency_ms":48,"module_route":{"modules":["HR","Sales","Procurement"],"confidences":[0.64640606633454,0.540978426940899,0.5245556051736402],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":2,"unsupported_concepts":["identify","employees","completed"],"top_linked":[{"table":"employee_training","column":"training_id","concept":"training","score":1},{"table":"training_courses","column":"is_mandatory","concept":"mandatory","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employee_training","training_courses","employee_certifications","employees","leave_requests","employee_salaries"],"skeleton_sql":"employee_training\nJOIN training_courses ON employee_training.course_id = training_courses.course_id\nJOIN employees ON employee_training.employee_id = employees.employee_id\nJOIN employee_certifications ON employee_certifications.employee_id = employees.employee_id\nJOIN leave_requests ON leave_requests.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["HR","Sales","Procurement"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0,"combined":0.9999999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3090,"completion_tokens":412,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name FROM employees e WHERE NOT EXISTS ( SELECT 1 FROM employee_training et JOIN training_courses tc ON et.course_id = tc.course_id WHERE et.employee_id = e.employee_id AND tc.is_mandatory = TRUE AND et.status != 'Completed' )","tables_used_in_sql":["employee_training","employee_training","employee_training","training_courses","training_courses","training_courses","employee_certifications","employee_certifications","employee_certifications","employees","employees","employees","leave_requests","employee_salaries","employee_salaries"],"explain_result":"success","rows_returned":227,"total_latency_ms":10227}
{"timestamp":"2026-02-12T22:12:37.786Z","query_id":"93573eed-6a03-4779-987c-014e3bac7a80","question":"Calculate month-over-month sales growth rate for the past 12 months","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":91,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":16932,"validation_ms":0,"total_ms":20289},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","sales_orders","sales_orders","sales_orders","sales_regions","sales_quotes","sales_regions","sales_regions","sales_quotes","sales_quotes","sales_territories","stock_transfers","fiscal_periods"],"total_retrieval_latency_ms":91,"module_route":{"modules":["Sales","Finance","Inventory"],"confidences":[0.6114578940600388,0.5781428462288493,0.5635061495748314],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["calculate","month","month","growth","rate","past","months"],"top_linked":[{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","sales_opportunities","sales_regions","sales_quotes","sales_territories"],"skeleton_sql":"sales_orders\nJOIN sales_quotes ON sales_orders.quote_id = sales_quotes.quote_id\nJOIN sales_opportunities ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Finance","Inventory"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":0,"combined":0.3999999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":0,"candidates_rejected":3,"selected_candidate_index":null,"evaluation_time_ms":0,"timed_out":false,"candidate_scores":[{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: unbalanced_parens"}]},"prompt_tokens":3276,"completion_tokens":730,"sql_generated":"SELECT \n        date_trunc('month', order_date) AS month,\n        SUM(total) AS sales\n    FROM \n        sales_orders\n    GROUP BY \n        1\n)\nSELECT \n    month, \n    sales, \n    (sales - LAG(sales) OVER (ORDER BY month)) * 100.0 / NULLIF(LAG(sales) OVER (ORDER BY month), 0) AS growth_pct \nFROM \n    monthly_sales\nWHERE \n    month >= CURRENT_DATE - INTERVAL '12 months';","tables_used_in_sql":[],"total_latency_ms":20289,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-12T22:12:58.075Z","query_id":"ce275adb-c50c-4de8-99a7-6dd1f0e6f1d4","question":"Find the average order value and order frequency for each customer segment based on credit limit","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":103,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":10820,"validation_ms":0,"execution_ms":5,"total_ms":10932},"retriever_version":"V1","tables_retrieved":["customers","customers","customers","order_lines","sales_orders","order_lines","order_lines","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","po_lines","po_lines","po_lines"],"total_retrieval_latency_ms":103,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.6727687453502137,0.6421562011203431,0.6251572452931817],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":12,"unsupported_concepts":["value","frequency","segment","based"],"top_linked":[{"table":"customers","column":"customer_id","concept":"customer","score":1},{"table":"customers","column":"customer_number","concept":"customer","score":1},{"table":"customers","column":"credit_limit","concept":"credit","score":1},{"table":"order_lines","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_id","concept":"order","score":1},{"table":"sales_orders","column":"order_number","concept":"order","score":1},{"table":"sales_orders","column":"customer_id","concept":"customer","score":1},{"table":"sales_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"order_date","concept":"order","score":1},{"table":"purchase_orders","column":"po_id","concept":"order","score":0.7}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_orders","customers","purchase_orders","order_lines","po_lines"],"skeleton_sql":"sales_orders\nJOIN customers ON sales_orders.customer_id = customers.customer_id\nJOIN order_lines ON order_lines.order_id = sales_orders.order_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Procurement","Inventory"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":1,"combined":0.19999999999999993}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":1,"candidates_rejected":2,"selected_candidate_index":3,"evaluation_time_ms":11,"timed_out":false,"candidate_scores":[{"index":3,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3870,"completion_tokens":429,"sql_generated":"SELECT c.customer_id, AVG(so.total) AS avg_order_value, COUNT(so.order_id) AS order_frequency, CASE WHEN c.credit_limit <= 1000 THEN 'Low' WHEN c.credit_limit > 1000 AND c.credit_limit <= 5000 THEN 'Medium' ELSE 'High' END AS credit_segment FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, credit_segment","tables_used_in_sql":["customers","customers","customers","order_lines","sales_orders","order_lines","order_lines","sales_orders","sales_orders","purchase_orders","purchase_orders","purchase_orders","po_lines","po_lines","po_lines"],"explain_result":"success","rows_returned":993,"total_latency_ms":10932}
{"timestamp":"2026-02-12T22:13:09.007Z","query_id":"095cc2c6-abe0-4abe-9d29-740848d3033a","question":"What is the sales pipeline weighted value by stage and expected close month?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":52,"glosses_ms":1,"linker_ms":2,"planner_ms":0,"first_generation_ms":6060,"validation_ms":0,"execution_ms":1,"total_ms":6117},"retriever_version":"V1","tables_retrieved":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","purchase_orders","opportunity_stages","opportunity_stages","sales_orders","vendor_invoices","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoice_lines","sales_quotes"],"total_retrieval_latency_ms":52,"module_route":{"modules":["Sales","Procurement","Inventory"],"confidences":[0.5961601378459042,0.5706488433510485,0.5544655885968259],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":7,"unsupported_concepts":["pipeline","weighted","value","month"],"top_linked":[{"table":"sales_opportunities","column":"stage_id","concept":"stage","score":1},{"table":"sales_opportunities","column":"expected_close_date","concept":"expected","score":1},{"table":"sales_opportunities","column":"actual_close_date","concept":"close","score":1},{"table":"opportunity_stages","column":"stage_id","concept":"stage","score":1},{"table":"purchase_orders","column":"expected_date","concept":"expected","score":1},{"table":"sales_orders","column":"sales_rep_id","concept":"sales","score":1},{"table":"opportunity_stages","column":"is_closed","concept":"close","score":0.8}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["sales_opportunities","opportunity_stages","purchase_orders","sales_orders","vendor_invoices","vendor_invoice_lines","sales_quotes"],"skeleton_sql":"sales_opportunities\nJOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.stage_id\nJOIN sales_quotes ON sales_quotes.opportunity_id = sales_opportunities.opportunity_id\nJOIN sales_orders ON sales_orders.quote_id = sales_quotes.quote_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Sales","Procurement","Inventory"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0.2,"combined":0.9599999999999999}},"multi_candidate":{"enabled":true,"k_used":2,"difficulty":"easy","candidates_generated":2,"candidates_passed_explain":1,"candidates_rejected":1,"selected_candidate_index":1,"evaluation_time_ms":3,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: join_without_condition, undefined_alias, undefined_alias, undefined_alias, undefined_alias, undefined_alias"}]},"prompt_tokens":3642,"completion_tokens":224,"sql_generated":"SELECT os.stage_id, os.name AS stage_name, date_trunc('month', os.expected_close_date) AS expected_month, SUM(os.amount * os.probability) AS weighted_value FROM sales_opportunities os JOIN opportunity_stages op ON os.stage_id = op.stage_id GROUP BY os.stage_id, os.name, date_trunc('month', os.expected_close_date) ORDER BY expected_month, stage_name","tables_used_in_sql":["sales_opportunities","sales_opportunities","sales_opportunities","opportunity_stages","purchase_orders","opportunity_stages","opportunity_stages","sales_orders","vendor_invoices","sales_orders","sales_orders","vendor_invoices","vendor_invoices","vendor_invoice_lines","sales_quotes"],"explain_result":"success","rows_returned":500,"total_latency_ms":6117}
{"timestamp":"2026-02-12T22:13:15.125Z","query_id":"f5854546-5bc4-4b9c-a5b1-ce24ec4d80f0","question":"Calculate inventory turnover ratio by product category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":66,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":13277,"validation_ms":0,"execution_ms":4,"total_ms":13352},"retriever_version":"V1","tables_retrieved":["inventory_levels","inventory_levels","inventory_levels","products","asset_categories","inventory_transactions","products","products","product_categories","asset_categories","asset_categories","inventory_transactions","inventory_transactions","product_categories","product_categories"],"total_retrieval_latency_ms":66,"module_route":{"modules":["Inventory","Assets","Procurement"],"confidences":[0.6884960092342306,0.647766271827726,0.6119881430513051],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":10,"unsupported_concepts":["calculate","inventory","turnover"],"top_linked":[{"table":"inventory_levels","column":"product_id","concept":"product","score":1},{"table":"products","column":"product_id","concept":"product","score":1},{"table":"products","column":"category_id","concept":"category","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"inventory_transactions","column":"product_id","concept":"product","score":1},{"table":"product_categories","column":"category_id","concept":"category","score":1},{"table":"product_categories","column":"parent_category_id","concept":"category","score":1},{"table":"asset_categories","column":"salvage_value_percent","concept":"ratio","score":0.5},{"table":"inventory_transactions","column":"transaction_type","concept":"category","score":0.5},{"table":"inventory_transactions","column":"reference_type","concept":"category","score":0.5}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_transactions","products","product_categories","inventory_levels"],"skeleton_sql":"inventory_transactions\nJOIN products ON inventory_transactions.product_id = products.product_id\nJOIN product_categories ON products.category_id = product_categories.category_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Inventory","Assets","Procurement"],"score_details":{"hopCount":3,"semanticAlignment":1,"columnCoverage":1,"combined":0.19999999999999993}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":2,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3035,"completion_tokens":657,"sql_generated":"SELECT pc.category_id, pc.name AS category_name, SUM(il.quantity_on_hand * p.unit_cost) / NULLIF(SUM(it.quantity), 0) AS inventory_turnover_ratio FROM inventory_transactions it JOIN products p ON it.product_id = p.product_id JOIN product_categories pc ON p.category_id = pc.category_id JOIN inventory_levels il ON il.product_id = p.product_id GROUP BY pc.category_id, pc.name","tables_used_in_sql":["inventory_levels","inventory_levels","inventory_levels","products","asset_categories","inventory_transactions","products","products","product_categories","asset_categories","asset_categories","inventory_transactions","inventory_transactions","product_categories","product_categories"],"explain_result":"success","rows_returned":30,"total_latency_ms":13352}
{"timestamp":"2026-02-12T22:13:28.477Z","query_id":"566e3165-4c36-4edb-bf3a-a5af5608a452","question":"Identify products with significant inventory discrepancies (adjustment > 10% of stock)","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":54,"glosses_ms":1,"linker_ms":1,"planner_ms":1,"first_generation_ms":20962,"validation_ms":0,"execution_ms":1,"total_ms":21021},"retriever_version":"V1","tables_retrieved":["inventory_adjustments","inventory_adjustments","inventory_adjustments","adjustment_lines","adjustment_lines","adjustment_lines","fixed_assets","inventory_levels","inventory_levels","inventory_levels","products","stock_transfers","inventory_transactions","fixed_assets","fixed_assets"],"total_retrieval_latency_ms":54,"module_route":{"modules":["Inventory","Assets","Sales"],"confidences":[0.8,0.5884144045800249,0.5640648464817372],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":4,"unsupported_concepts":["identify","products","significant","inventory","discrepancies","stock"],"top_linked":[{"table":"inventory_adjustments","column":"adjustment_id","concept":"adjustment","score":1},{"table":"inventory_adjustments","column":"adjustment_number","concept":"adjustment","score":1},{"table":"inventory_adjustments","column":"adjustment_date","concept":"adjustment","score":1},{"table":"adjustment_lines","column":"adjustment_id","concept":"adjustment","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["inventory_adjustments","adjustment_lines","inventory_levels","products","inventory_transactions"],"skeleton_sql":"inventory_adjustments\nJOIN adjustment_lines ON adjustment_lines.adjustment_id = inventory_adjustments.adjustment_id\nJOIN products ON adjustment_lines.product_id = products.product_id\nJOIN inventory_levels ON inventory_levels.product_id = products.product_id\nJOIN inventory_transactions ON inventory_transactions.product_id = products.product_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Inventory","Assets","Sales"],"score_details":{"hopCount":4,"semanticAlignment":1,"columnCoverage":0.25,"combined":0.6499999999999999}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3508,"completion_tokens":912,"sql_generated":"SELECT p.product_id, p.name, SUM(al.quantity_change) AS total_adjustment, il.quantity_on_hand AS current_stock FROM adjustment_lines al JOIN inventory_levels il ON il.level_id = al.location_id AND il.product_id = al.product_id JOIN products p ON p.product_id = al.product_id GROUP BY p.product_id, p.name, il.quantity_on_hand HAVING ABS(SUM(al.quantity_change) / NULLIF(il.quantity_on_hand, 0)) > 0.1","tables_used_in_sql":["inventory_adjustments","inventory_adjustments","inventory_adjustments","adjustment_lines","adjustment_lines","adjustment_lines","fixed_assets","inventory_levels","inventory_levels","inventory_levels","products","stock_transfers","inventory_transactions","fixed_assets","fixed_assets"],"explain_result":"success","rows_returned":0,"total_latency_ms":21021}
{"timestamp":"2026-02-12T22:13:49.498Z","query_id":"575eaf9c-8f16-4837-875c-9d5b29f56ca0","question":"Calculate vendor performance score based on on-time delivery and invoice accuracy","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":50,"glosses_ms":1,"linker_ms":1,"planner_ms":8,"first_generation_ms":12997,"validation_ms":0,"execution_ms":0,"total_ms":13058},"retriever_version":"V1","tables_retrieved":["vendor_invoices","vendor_invoices","vendor_invoices","purchase_orders","vendors","purchase_orders","purchase_orders","vendor_invoice_lines","vendor_invoice_lines","product_suppliers","vendors","vendors","vendor_invoice_lines","vendor_contacts","product_suppliers"],"total_retrieval_latency_ms":50,"module_route":{"modules":["Procurement","Sales","Inventory"],"confidences":[0.6345052373741285,0.5742019406582648,0.556210253518098],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":18,"unsupported_concepts":["calculate","performance","score","based","delivery","accuracy"],"top_linked":[{"table":"vendor_invoices","column":"invoice_id","concept":"invoice","score":1},{"table":"vendor_invoices","column":"invoice_number","concept":"invoice","score":1},{"table":"vendor_invoices","column":"vendor_id","concept":"vendor","score":1},{"table":"vendor_invoices","column":"invoice_date","concept":"invoice","score":1},{"table":"purchase_orders","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_id","concept":"vendor","score":1},{"table":"vendors","column":"vendor_number","concept":"vendor","score":1},{"table":"vendor_invoice_lines","column":"invoice_id","concept":"invoice","score":1},{"table":"product_suppliers","column":"vendor_id","concept":"vendor","score":1},{"table":"product_suppliers","column":"vendor_sku","concept":"vendor","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["vendor_invoices","purchase_orders","vendors","product_suppliers","vendor_invoice_lines","vendor_contacts"],"skeleton_sql":"vendor_invoices\nJOIN purchase_orders ON vendor_invoices.po_id = purchase_orders.po_id\nJOIN vendors ON vendor_invoices.vendor_id = vendors.vendor_id\nJOIN vendor_invoice_lines ON vendor_invoice_lines.invoice_id = vendor_invoices.invoice_id\nJOIN product_suppliers ON product_suppliers.vendor_id = vendors.vendor_id\nJOIN vendor_contacts ON vendor_contacts.vendor_id = vendors.vendor_id","cross_module_detected":true,"bridge_tables":["product_suppliers","vendors"],"modules_used":["Procurement","Sales","Inventory"],"score_details":{"hopCount":6,"semanticAlignment":1,"columnCoverage":0.8333333333333334,"combined":1.133333333333333}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":3,"candidates_passed_explain":3,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":1,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":100,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3866,"completion_tokens":621,"sql_generated":"SELECT v.vendor_id, v.name, AVG(CASE WHEN oi.due_date <= CURRENT_DATE THEN 1 ELSE 0 END) AS on_time_delivery_rate, AVG(CASE WHEN oi.amount_paid = oi.total THEN 1 ELSE 0 END) AS invoice_accuracy_rate FROM vendor_invoices oi JOIN purchase_orders po ON oi.po_id = po.po_id JOIN vendors v ON oi.vendor_id = v.vendor_id GROUP BY v.vendor_id, v.name","tables_used_in_sql":["vendor_invoices","vendor_invoices","vendor_invoices","purchase_orders","vendors","purchase_orders","purchase_orders","vendor_invoice_lines","vendor_invoice_lines","product_suppliers","vendors","vendors","vendor_invoice_lines","vendor_contacts","product_suppliers"],"explain_result":"success","rows_returned":0,"total_latency_ms":13058}
{"timestamp":"2026-02-12T22:14:02.556Z","query_id":"de4bb77d-329c-4519-953b-392e4751a719","question":"Generate a trial balance for the current period showing debits and credits by account category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":67,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":14778,"validation_ms":0,"execution_ms":1,"total_ms":14848},"retriever_version":"V1","tables_retrieved":["bank_accounts","asset_categories","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","account_types","depreciation_entries","account_types","account_types","depreciation_schedules","bank_transactions","asset_categories"],"total_retrieval_latency_ms":67,"module_route":{"modules":["Finance","Assets","HR"],"confidences":[0.6802230754587459,0.6372078008277233,0.6074915218918672],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":11,"unsupported_concepts":["generate","trial","showing","debits","credits"],"top_linked":[{"table":"bank_accounts","column":"bank_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"account_number","concept":"account","score":1},{"table":"bank_accounts","column":"account_name","concept":"account","score":1},{"table":"bank_accounts","column":"gl_account_id","concept":"account","score":1},{"table":"bank_accounts","column":"current_balance","concept":"balance","score":1},{"table":"asset_categories","column":"category_id","concept":"category","score":1},{"table":"depreciation_entries","column":"period_id","concept":"period","score":1},{"table":"account_types","column":"category","concept":"category","score":1},{"table":"account_types","column":"normal_balance","concept":"balance","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"account","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_accounts","bank_transactions"],"skeleton_sql":"bank_accounts\nJOIN bank_transactions ON bank_transactions.bank_account_id = bank_accounts.bank_account_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Finance","Assets","HR"],"score_details":{"hopCount":1,"semanticAlignment":1,"columnCoverage":1,"combined":-0.4}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":12,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":6,"score":110,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":60,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2861,"completion_tokens":638,"sql_generated":"SELECT at.category, SUM(CASE WHEN bt.amount > 0 THEN bt.amount ELSE 0 END) AS debits, SUM(CASE WHEN bt.amount < 0 THEN -bt.amount ELSE 0 END) AS credits FROM bank_transactions bt JOIN account_types at ON bt.transaction_type = at.category WHERE bt.transaction_date >= CURRENT_DATE - INTERVAL '1 month' GROUP BY at.category","tables_used_in_sql":["bank_accounts","asset_categories","bank_accounts","bank_accounts","depreciation_schedules","depreciation_schedules","depreciation_entries","depreciation_entries","account_types","depreciation_entries","account_types","account_types","depreciation_schedules","bank_transactions","asset_categories"],"explain_result":"success","rows_returned":0,"total_latency_ms":14848}
{"timestamp":"2026-02-12T22:14:17.404Z","query_id":"7d75c122-ecf0-41d2-9959-1a98b439a612","question":"Calculate cash flow from bank transactions grouped by transaction type and month","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":56,"glosses_ms":0,"linker_ms":2,"planner_ms":0,"first_generation_ms":7182,"validation_ms":0,"execution_ms":1,"total_ms":7242},"retriever_version":"V1","tables_retrieved":["bank_transactions","bank_transactions","bank_transactions","bank_accounts","bank_accounts","bank_accounts","account_types","account_types","account_types","depreciation_entries","depreciation_entries","depreciation_entries","asset_categories","budget_lines","budget_lines"],"total_retrieval_latency_ms":56,"module_route":{"modules":["Finance","Assets","Sales"],"confidences":[0.642574540631586,0.6089956872005541,0.5743928571500148],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":8,"unsupported_concepts":["calculate","cash","flow","transactions","grouped","month"],"top_linked":[{"table":"bank_transactions","column":"transaction_id","concept":"transaction","score":1},{"table":"bank_transactions","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_transactions","column":"transaction_date","concept":"transaction","score":1},{"table":"bank_transactions","column":"transaction_type","concept":"transaction","score":1},{"table":"bank_accounts","column":"bank_account_id","concept":"bank","score":1},{"table":"bank_accounts","column":"bank_name","concept":"bank","score":1},{"table":"account_types","column":"type_id","concept":"type","score":1},{"table":"account_types","column":"category","concept":"type","score":0.5}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["bank_transactions","bank_accounts"],"skeleton_sql":"bank_transactions\nJOIN bank_accounts ON bank_transactions.bank_account_id = bank_accounts.bank_account_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Finance","Assets","Sales"],"score_details":{"hopCount":1,"semanticAlignment":1,"columnCoverage":1,"combined":-0.4}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":1,"candidates_passed_explain":1,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":2,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":2855,"completion_tokens":274,"sql_generated":"SELECT date_trunc('month', transaction_date) AS month, transaction_type, SUM(amount) AS cash_flow FROM bank_transactions GROUP BY month, transaction_type","tables_used_in_sql":["bank_transactions","bank_transactions","bank_transactions","bank_accounts","bank_accounts","bank_accounts","account_types","account_types","account_types","depreciation_entries","depreciation_entries","depreciation_entries","asset_categories","budget_lines","budget_lines"],"explain_result":"success","rows_returned":120,"total_latency_ms":7242}
{"timestamp":"2026-02-12T22:14:24.646Z","query_id":"6627233f-340b-4962-8a23-e82ea779298d","question":"Calculate project profitability comparing budget vs actual expenses","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":89,"glosses_ms":1,"linker_ms":1,"planner_ms":0,"first_generation_ms":11089,"validation_ms":0,"total_ms":15259},"retriever_version":"V1","tables_retrieved":["project_budgets","project_budgets","project_budgets","project_expenses","project_expenses","project_expenses","budgets","budgets","budgets","project_resources","project_resources","project_resources","budget_lines","budget_lines","budget_lines"],"total_retrieval_latency_ms":89,"module_route":{"modules":["Finance","Projects","Assets"],"confidences":[0.6000000000000001,0.6233102250745617,0.5365109349902923],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":7,"unsupported_concepts":["calculate","profitability","comparing","vs","expenses"],"top_linked":[{"table":"project_budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_budgets","column":"project_id","concept":"project","score":1},{"table":"project_budgets","column":"actual_amount","concept":"actual","score":1},{"table":"project_expenses","column":"project_id","concept":"project","score":1},{"table":"budgets","column":"budget_id","concept":"budget","score":1},{"table":"project_resources","column":"project_id","concept":"project","score":1},{"table":"budget_lines","column":"budget_id","concept":"budget","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["budgets","budget_lines"],"skeleton_sql":"budgets\nJOIN budget_lines ON budget_lines.budget_id = budgets.budget_id","cross_module_detected":true,"bridge_tables":[],"modules_used":["Finance","Projects","Assets"],"score_details":{"hopCount":1,"semanticAlignment":1,"columnCoverage":1,"combined":-0.4}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":0,"candidates_rejected":4,"selected_candidate_index":5,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":5,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":2,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"},{"index":4,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias, undefined_alias"}]},"prompt_tokens":2932,"completion_tokens":558,"sql_generated":"SELECT \n    p.project_id,\n    b.budget_id,\n    SUM(b.planned_amount) AS planned_budget,\n    SUM(be.amount) AS actual_expenses,\n    (SUM(be.amount) - SUM(b.planned_amount)) AS profitability\nFROM \n    project_budgets b\nJOIN \n    project_expenses be ON be.project_id = b.project_id\nGROUP BY \n    p.project_id, b.budget_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"p\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Alias 'p' not defined. Possible table: project_budgets. Define alias in FROM/JOIN clause.","total_latency_ms":15259,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"p\"","error_class":"sql_error"}
{"timestamp":"2026-02-12T22:14:39.905Z","query_id":"5afc9888-309e-49a2-a284-1f93eba25b09","question":"Find resource allocation by employee across all active projects","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":107,"glosses_ms":1,"linker_ms":1,"planner_ms":7,"first_generation_ms":13757,"validation_ms":0,"execution_ms":1,"total_ms":13875},"retriever_version":"V1","tables_retrieved":["project_resources","project_resources","project_resources","task_assignments","project_expenses","task_assignments","task_assignments","projects","projects","projects","project_expenses","project_expenses","employee_salaries","employees","employee_salaries"],"total_retrieval_latency_ms":107,"module_route":{"modules":["Projects","HR","Assets"],"confidences":[0.6923034029971835,0.6523632686411246,0.6174819243766987],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":9,"unsupported_concepts":["across","projects"],"top_linked":[{"table":"project_resources","column":"resource_id","concept":"resource","score":1},{"table":"project_resources","column":"employee_id","concept":"employee","score":1},{"table":"project_resources","column":"allocation_percent","concept":"allocation","score":1},{"table":"task_assignments","column":"employee_id","concept":"employee","score":1},{"table":"project_expenses","column":"employee_id","concept":"employee","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"is_active","concept":"active","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["project_resources","employees","task_assignments","project_expenses","employee_salaries","projects"],"skeleton_sql":"project_resources\nJOIN employees ON project_resources.employee_id = employees.employee_id\nJOIN projects ON project_resources.project_id = projects.project_id\nJOIN task_assignments ON task_assignments.employee_id = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN project_expenses ON project_expenses.employee_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["projects","employees","task_assignments","project_expenses","project_resources"],"modules_used":["Projects","HR","Assets"],"score_details":{"hopCount":7,"semanticAlignment":1,"columnCoverage":0.6428571428571429,"combined":1.4714285714285715}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":6,"candidates_passed_explain":0,"candidates_rejected":1,"selected_candidate_index":6,"evaluation_time_ms":8,"timed_out":false,"candidate_scores":[{"index":6,"score":100,"explain_result":"skipped","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":1,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":50,"explain_result":"fail","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias"}]},"prompt_tokens":3330,"completion_tokens":577,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name, p.project_id, p.name AS project_name, pr.role, pr.allocation_percent FROM employees e JOIN project_resources pr ON e.employee_id = pr.employee_id JOIN projects p ON pr.project_id = p.project_id WHERE e.is_active = TRUE","tables_used_in_sql":["project_resources","project_resources","project_resources","task_assignments","project_expenses","task_assignments","task_assignments","projects","projects","projects","project_expenses","project_expenses","employee_salaries","employees","employee_salaries"],"explain_result":"success","rows_returned":300,"total_latency_ms":13875}
{"timestamp":"2026-02-12T22:14:53.780Z","query_id":"ddda04c7-a693-4b86-9d7e-50615b067e6f","question":"List all fixed assets with their assigned employees and current locations","attempt_count":1,"retry_succeeded":false,"execution_success":true,"stage_latencies":{"retrieval_ms":100,"glosses_ms":0,"linker_ms":2,"planner_ms":8,"first_generation_ms":20249,"validation_ms":0,"execution_ms":1,"total_ms":20361},"retriever_version":"V1","tables_retrieved":["fixed_assets","fixed_assets","fixed_assets","asset_locations","asset_locations","asset_locations","asset_transfers","asset_maintenance","asset_transfers","asset_transfers","asset_maintenance","asset_maintenance","employees","employee_salaries","employee_salaries"],"total_retrieval_latency_ms":100,"module_route":{"modules":["Assets","HR","Common"],"confidences":[0.6939944621974288,0.6200063614784673,0.5945517541130166],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":1,"unsupported_concepts":["fixed","assets","employees","current","locations"],"top_linked":[{"table":"fixed_assets","column":"assigned_to","concept":"assigned","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["fixed_assets","asset_locations","asset_transfers","asset_maintenance","employees","employee_salaries"],"skeleton_sql":"fixed_assets\nJOIN asset_locations ON fixed_assets.location_id = asset_locations.location_id\nJOIN asset_transfers ON asset_transfers.asset_id = fixed_assets.asset_id\nJOIN asset_maintenance ON asset_maintenance.asset_id = fixed_assets.asset_id\nJOIN employees ON fixed_assets.assigned_to = employees.employee_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["fixed_assets","employees","asset_maintenance","asset_transfers"],"modules_used":["Assets","HR","Common"],"score_details":{"hopCount":8,"semanticAlignment":1,"columnCoverage":0.0625,"combined":1.8874999999999997}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":5,"candidates_passed_explain":4,"candidates_rejected":1,"selected_candidate_index":1,"evaluation_time_ms":7,"timed_out":false,"candidate_scores":[{"index":1,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":4,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":5,"score":105,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":3,"score":0,"explain_result":"skipped","lint_errors":0,"rejected":true,"rejection_reason":"Lint errors: undefined_alias"}]},"prompt_tokens":3597,"completion_tokens":973,"sql_generated":"SELECT fa.asset_id, fa.asset_tag, fa.name, fa.description, fa.category_id, fa.location_id, fa.assigned_to, fa.purchase_date, fa.purchase_cost, fa.vendor_id, fa.po_id, fa.serial_number, fa.warranty_expiry, fa.status, fa.disposal_date, fa.disposal_amount, fa.created_at, el.name AS location_name FROM fixed_assets fa JOIN asset_locations el ON fa.location_id = el.location_id JOIN employees e ON fa.assigned_to = e.employee_id","tables_used_in_sql":["fixed_assets","fixed_assets","fixed_assets","asset_locations","asset_locations","asset_locations","asset_transfers","asset_maintenance","asset_transfers","asset_transfers","asset_maintenance","asset_maintenance","employees","employee_salaries","employee_salaries"],"explain_result":"success","rows_returned":0,"total_latency_ms":20361}
{"timestamp":"2026-02-12T22:15:14.141Z","query_id":"a775bb3f-7d0b-4eba-9f82-20241daadc48","question":"Create a comprehensive employee cost report including salary and benefits by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"stage_latencies":{"retrieval_ms":61,"glosses_ms":1,"linker_ms":1,"planner_ms":5,"first_generation_ms":13867,"validation_ms":0,"total_ms":18463},"retriever_version":"V1","tables_retrieved":["employee_salaries","employee_salaries","employee_benefits","employee_benefits","employee_benefits","employee_salaries","employees","employees","employees","budgets","budgets","departments","budgets","departments","departments"],"total_retrieval_latency_ms":61,"module_route":{"modules":["HR","Procurement","Finance"],"confidences":[1,0.6356363505209316,0.6328453447747361],"method":"hybrid"},"bm25_tables":[],"fusion_method":"cosine_only","schema_link":{"tables_linked":15,"columns_linked":13,"unsupported_concepts":["comprehensive","cost","report","including","benefits"],"top_linked":[{"table":"employee_salaries","column":"salary_id","concept":"salary","score":1},{"table":"employee_salaries","column":"employee_id","concept":"employee","score":1},{"table":"employee_benefits","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_id","concept":"employee","score":1},{"table":"employees","column":"employee_number","concept":"employee","score":1},{"table":"employees","column":"department_id","concept":"department","score":1},{"table":"employees","column":"salary","concept":"salary","score":1},{"table":"budgets","column":"department_id","concept":"department","score":1},{"table":"departments","column":"department_id","concept":"department","score":1},{"table":"departments","column":"parent_department_id","concept":"department","score":1}]},"join_plan":{"used":true,"candidate_count":1,"selected_tables":["employees","departments","employee_salaries","budgets","employee_benefits"],"skeleton_sql":"employees\nJOIN departments ON employees.department_id = departments.department_id\nJOIN employee_salaries ON employee_salaries.employee_id = employees.employee_id\nJOIN budgets ON budgets.approved_by = employees.employee_id\nJOIN employee_benefits ON employee_benefits.employee_id = employees.employee_id","cross_module_detected":true,"bridge_tables":["budgets","departments","employees"],"modules_used":["HR","Procurement","Finance"],"score_details":{"hopCount":5,"semanticAlignment":1,"columnCoverage":0.9,"combined":0.8199999999999998}},"multi_candidate":{"enabled":true,"k_used":6,"difficulty":"hard","candidates_generated":2,"candidates_passed_explain":2,"candidates_rejected":0,"selected_candidate_index":1,"evaluation_time_ms":10,"timed_out":false,"candidate_scores":[{"index":1,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null},{"index":2,"score":110,"explain_result":"pass","lint_errors":0,"rejected":false,"rejection_reason":null}]},"prompt_tokens":3380,"completion_tokens":676,"sql_generated":"SELECT d.department_id, d.name AS department_name, SUM(es.amount) AS total_salary, SUM(COALESCE(eb.coverage_level::numeric, 0)) AS total_benefits \nFROM departments d \nJOIN employees e ON e.department_id = d.department_id \nJOIN employee_salaries es ON es.employee_id = e.employee_id \nLEFT JOIN employee_benefits eb ON eb.employee_id = e.employee_id \nGROUP BY d.department_id, d.name;","tables_used_in_sql":[],"explain_result":"success","total_latency_ms":18463,"failure_type":"execution_error","failure_details":"Database error: invalid input syntax for type numeric: \"Family\"","error_class":"sql_error"}
