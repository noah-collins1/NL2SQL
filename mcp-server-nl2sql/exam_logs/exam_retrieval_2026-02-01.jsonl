{"timestamp":"2026-02-01T21:38:27.549Z","query_id":"248e35a8-8025-4f7f-ad25-3b78b310202c","question":"List all employees in the Sales department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","departments","employee_salaries","positions","sales_regions","business_units","inventory_adjustments","budgets","project_expenses","asset_transfers","purchase_requisitions","purchase_orders"],"tables_from_table_retrieval":6,"tables_from_column_only":22,"tables_from_fk_expansion":2,"table_scores":[{"table":"departments","similarity":0.7018819264422769},{"table":"departments","similarity":0.7018809856996423},{"table":"departments","similarity":0.7018809856996423},{"table":"employees","similarity":0.6969056798657691},{"table":"employees","similarity":0.6969056798657691},{"table":"employees","similarity":0.6963141569337209},{"table":"positions","similarity":0.6626028150240685},{"table":"positions","similarity":0.6626028150240685},{"table":"positions","similarity":0.6581594168559208},{"table":"employee_salaries","similarity":0.639257259916862},{"table":"employee_salaries","similarity":0.6331504110227327},{"table":"employee_salaries","similarity":0.6331504110227327},{"table":"sales_regions","similarity":0.6312030956746659},{"table":"business_units","similarity":0.6275257997321859},{"table":"business_units","similarity":0.6275257997321859}],"column_hits_per_table":{"employees":12,"departments":6,"positions":1,"goods_receipts":1,"employee_certifications":1,"sales_territories":1,"asset_maintenance":1,"business_units":1,"sales_orders":1,"sales_regions":1,"budgets":2,"employee_salaries":2,"employee_benefits":1,"emergency_contacts":1,"sales_opportunities":1,"purchase_orders":1,"employment_history":1,"warehouses":1,"project_expenses":2,"task_assignments":1,"timesheets":1,"purchase_requisitions":2,"asset_transfers":2,"employee_training":1,"performance_reviews":1,"project_resources":1,"cost_centers":1,"inventory_adjustments":2},"top_columns_per_table":{"employees":[{"column":"department_id","similarity":0.735001357845775},{"column":"is_active","similarity":0.6824266007737122},{"column":"phone","similarity":0.6820773795858707}],"departments":[{"column":"manager_id","similarity":0.7128207565780478},{"column":"department_id","similarity":0.6738854611767785},{"column":"name","similarity":0.6712424359101222}],"positions":[{"column":"department_id","similarity":0.6857971226858616}],"goods_receipts":[{"column":"received_by","similarity":0.6663294574985136}],"employee_certifications":[{"column":"employee_id","similarity":0.6640250010412727}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6613024875559992}],"asset_maintenance":[{"column":"performed_by","similarity":0.6598502094385292}],"business_units":[{"column":"manager_id","similarity":0.6585890351995057}],"sales_orders":[{"column":"sales_rep_id","similarity":0.656355730755163}],"sales_regions":[{"column":"manager_id","similarity":0.651620763380058}],"budgets":[{"column":"department_id","similarity":0.6491888190918373},{"column":"approved_by","similarity":0.6408129025308686}],"employee_salaries":[{"column":"employee_id","similarity":0.6446873957227627},{"column":"approved_by","similarity":0.6412425865510403}],"employee_benefits":[{"column":"employee_id","similarity":0.6443003044498334}],"emergency_contacts":[{"column":"employee_id","similarity":0.6440387734827813}],"sales_opportunities":[{"column":"owner_id","similarity":0.6430794490143532}],"purchase_orders":[{"column":"approved_by","similarity":0.6403338556046323}],"employment_history":[{"column":"employee_id","similarity":0.6402113357955537}],"warehouses":[{"column":"manager_id","similarity":0.640071893991035}],"project_expenses":[{"column":"employee_id","similarity":0.6396257939989354},{"column":"approved_by","similarity":0.6362133375007298}],"task_assignments":[{"column":"employee_id","similarity":0.6378956895245772}],"timesheets":[{"column":"employee_id","similarity":0.6371144466739936}],"purchase_requisitions":[{"column":"department_id","similarity":0.6363011046304633},{"column":"requested_by","similarity":0.6278867865824495}],"asset_transfers":[{"column":"transferred_by","similarity":0.6359325869686036},{"column":"to_employee_id","similarity":0.6349553746224262}],"employee_training":[{"column":"employee_id","similarity":0.6355833505843332}],"performance_reviews":[{"column":"employee_id","similarity":0.63456613058686}],"project_resources":[{"column":"employee_id","similarity":0.6337024295197778}],"cost_centers":[{"column":"department_id","similarity":0.6303629689770469}],"inventory_adjustments":[{"column":"approved_by","similarity":0.629334756944109},{"column":"adjusted_by","similarity":0.6285561154578985}]},"fused_scores":[{"table":"employees","fused":0.8262904239927295,"table_sim":0.6963141569337209,"col_score":1.0212548245812423},{"table":"departments","fused":0.7878762122676308,"table_sim":0.7018809856996423,"col_score":0.9168690521196134},{"table":"employee_salaries","fused":0.7266435166352425,"table_sim":0.6331504110227327,"col_score":0.8668831750540071},{"table":"positions","fused":0.5869188444655937,"table_sim":0.6581594168559208,"col_score":0.48005798588010307},{"table":"sales_regions","fused":0.5611756711512157,"table_sim":0.6312030956746659,"col_score":0.45613453436604057},{"table":"business_units","fused":0.5609204096951732,"table_sim":0.6275257997321859,"col_score":0.46101232463965397},{"table":"inventory_adjustments","fused":0.3774451258692233,"table_sim":0,"col_score":0.9436128146730582},{"table":"budgets","fused":0.3472115956852047,"table_sim":0,"col_score":0.8680289892130117},{"table":"project_expenses","fused":0.3440329461601429,"table_sim":0,"col_score":0.8600823654003572},{"table":"asset_transfers","fused":0.34326678723458115,"table_sim":0,"col_score":0.8581669680864528},{"table":"purchase_requisitions","fused":0.3402368692812447,"table_sim":0,"col_score":0.8505921732031116},{"table":"goods_receipts","fused":0.26653178299940544,"table_sim":0,"col_score":0.6663294574985136},{"table":"asset_maintenance","fused":0.2639400837754117,"table_sim":0,"col_score":0.6598502094385292},{"table":"purchase_orders","fused":0.2561335422418529,"table_sim":0,"col_score":0.6403338556046323},{"table":"employee_certifications","fused":0.18592700029155637,"table_sim":0,"col_score":0.4648175007288909}],"fk_expansion_candidates":93,"fk_expansion_added":2,"fk_expansion_blocked_count":81,"fk_expansion_blocked":[{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":106,"total_retrieval_latency_ms":136,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name FROM employees e JOIN departments d ON e.department_id = d.unit_id WHERE d.name = 'Sales' LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"d","column":"unit_id","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column d.unit_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":0,"autocorrect_failure_reason":"No candidates found for column 'unit_id'","total_latency_ms":2840,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column d.unit_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:38:30.389Z","query_id":"740e1f5f-62bd-43aa-8551-f0e621e07784","question":"How many employees were hired in 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","employee_salaries","employment_history","employee_certifications","timesheets","purchase_requisitions","sales_regions","employee_training","employee_benefits","budgets","purchase_orders"],"tables_from_table_retrieval":7,"tables_from_column_only":11,"tables_from_fk_expansion":1,"table_scores":[{"table":"employees","similarity":0.6144292223525214},{"table":"employees","similarity":0.6051164949883834},{"table":"employees","similarity":0.6051164949883834},{"table":"employment_history","similarity":0.5990869260811272},{"table":"employee_salaries","similarity":0.5957232611905978},{"table":"employee_salaries","similarity":0.5904865404348112},{"table":"employee_salaries","similarity":0.5904865404348112},{"table":"employee_certifications","similarity":0.5847149077570227},{"table":"employment_history","similarity":0.5797780797563227},{"table":"employment_history","similarity":0.5797780797563227},{"table":"timesheets","similarity":0.575594643141534},{"table":"employee_certifications","similarity":0.5707873299156627},{"table":"employee_certifications","similarity":0.5707873299156627},{"table":"sales_regions","similarity":0.5687908420029388},{"table":"purchase_requisitions","similarity":0.5664402915390976}],"column_hits_per_table":{"employees":15,"employee_salaries":5,"employee_certifications":4,"employment_history":6,"employee_training":5,"employee_benefits":2,"sales_regions":1,"timesheets":2,"sales_territories":1,"stock_transfers":1,"purchase_requisitions":1,"departments":1,"budgets":1,"business_units":1,"purchase_orders":1,"warehouses":1,"sales_quotes":1,"task_assignments":1},"top_columns_per_table":{"employees":[{"column":"hire_date","similarity":0.6980546950586765},{"column":"birth_date","similarity":0.6452273174827853},{"column":"employee_number","similarity":0.6269481438884994}],"employee_salaries":[{"column":"effective_date","similarity":0.6283609386062775},{"column":"end_date","similarity":0.6083160129025792},{"column":"approved_by","similarity":0.5688287621893034}],"employee_certifications":[{"column":"obtained_date","similarity":0.6112747812345073},{"column":"expiry_date","similarity":0.5987411982779576},{"column":"certificate_number","similarity":0.5648835141060903}],"employment_history":[{"column":"start_date","similarity":0.6077686915830489},{"column":"end_date","similarity":0.594029514188949},{"column":"position","similarity":0.5797629516147992}],"employee_training":[{"column":"completion_date","similarity":0.5993457235478621},{"column":"scheduled_date","similarity":0.5986570544817782},{"column":"status","similarity":0.5703874888669422}],"employee_benefits":[{"column":"start_date","similarity":0.5984117020896914},{"column":"end_date","similarity":0.5728619821736786}],"sales_regions":[{"column":"manager_id","similarity":0.566199362048764}],"timesheets":[{"column":"approved_by","similarity":0.5644583860713249},{"column":"employee_id","similarity":0.5477605761420901}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.5605386386424432}],"stock_transfers":[{"column":"created_by","similarity":0.5581236941064073}],"purchase_requisitions":[{"column":"approved_by","similarity":0.5579497247157277}],"departments":[{"column":"manager_id","similarity":0.5578824438248059}],"budgets":[{"column":"approved_by","similarity":0.5567179667007113}],"business_units":[{"column":"manager_id","similarity":0.5534149159450399}],"purchase_orders":[{"column":"approved_by","similarity":0.5491015848221577}],"warehouses":[{"column":"manager_id","similarity":0.5466175241906261}],"sales_quotes":[{"column":"created_by","similarity":0.5464636248275542}],"task_assignments":[{"column":"employee_id","similarity":0.5462303463892537}]},"fused_scores":[{"table":"employees","fused":0.7713372385130577,"table_sim":0.6051164949883834,"col_score":1.0206683538000692},{"table":"employee_salaries","fused":0.7272995022839135,"table_sim":0.5904865404348112,"col_score":0.932518945057567},{"table":"employment_history","fused":0.7097802273248031,"table_sim":0.5797780797563227,"col_score":0.9047834486775235},{"table":"employee_certifications","fused":0.706730550098792,"table_sim":0.5707873299156627,"col_score":0.9106453803734861},{"table":"timesheets","fused":0.647826620973343,"table_sim":0.575594643141534,"col_score":0.7561745877210564},{"table":"purchase_requisitions","fused":0.5630440648097497,"table_sim":0.5664402915390976,"col_score":0.5579497247157277},{"table":"sales_regions","fused":0.4998103265754172,"table_sim":0.5687908420029388,"col_score":0.39633955343413474},{"table":"employee_training","fused":0.3594697003155005,"table_sim":0,"col_score":0.8986742507887512},{"table":"employee_benefits","fused":0.3539370772706123,"table_sim":0,"col_score":0.8848426931765307},{"table":"budgets","fused":0.22268718668028453,"table_sim":0,"col_score":0.5567179667007113},{"table":"purchase_orders","fused":0.21964063392886307,"table_sim":0,"col_score":0.5491015848221577},{"table":"sales_territories","fused":0.15695081881988412,"table_sim":0,"col_score":0.39237704704971027},{"table":"stock_transfers","fused":0.15627463434979405,"table_sim":0,"col_score":0.39068658587448507},{"table":"departments","fused":0.15620708427094565,"table_sim":0,"col_score":0.3905177106773641},{"table":"business_units","fused":0.15495617646461116,"table_sim":0,"col_score":0.3873904411615279}],"fk_expansion_candidates":99,"fk_expansion_added":1,"fk_expansion_blocked_count":96,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":30,"sql_generated":"SELECT COUNT(*) FROM employees WHERE YEAR(hire_date) = 2024;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42883","error_message":"function year(date) does not exist","total_latency_ms":1340,"failure_type":"llm_reasoning","failure_details":"SQL error 42883: Database error after 3 attempts: function year(date) does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:38:31.728Z","query_id":"8f12914c-5fa3-48a5-ba66-94b35ddcd187","question":"What is the average salary by department?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["positions","employee_salaries","employees","departments","budgets","cost_centers","requisition_lines","sales_orders","goods_receipts","vendor_invoices","employee_training","employee_certifications"],"tables_from_table_retrieval":6,"tables_from_column_only":18,"tables_from_fk_expansion":2,"table_scores":[{"table":"positions","similarity":0.6472399264470684},{"table":"positions","similarity":0.6452537561635636},{"table":"positions","similarity":0.6452537561635636},{"table":"employee_salaries","similarity":0.6285395131693224},{"table":"employee_salaries","similarity":0.6285395131693224},{"table":"employee_salaries","similarity":0.6163489777991259},{"table":"departments","similarity":0.6143006157633061},{"table":"departments","similarity":0.6029940665123251},{"table":"departments","similarity":0.6029940665123251},{"table":"employees","similarity":0.5843710762372889},{"table":"employees","similarity":0.5671015993256167},{"table":"employees","similarity":0.5671015993256167},{"table":"cost_centers","similarity":0.5579264629700211},{"table":"budgets","similarity":0.5571964787833181},{"table":"cost_centers","similarity":0.5368058805619271}],"column_hits_per_table":{"employees":8,"departments":6,"employee_salaries":7,"positions":4,"cost_centers":1,"budgets":2,"employee_benefits":1,"requisition_lines":2,"purchase_requisitions":1,"project_resources":1,"sales_orders":2,"employment_history":1,"project_budgets":1,"goods_receipts":2,"currencies":1,"employee_certifications":1,"vendor_invoices":2,"employee_training":1,"journal_entries":1,"product_suppliers":1,"project_expenses":1,"sales_quotes":1,"depreciation_schedules":1,"sales_territories":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.665761067669807},{"column":"department_id","similarity":0.5815151415615687},{"column":"employee_number","similarity":0.5512734022930011}],"departments":[{"column":"budget","similarity":0.6619984421106927},{"column":"name","similarity":0.6123868694663578},{"column":"parent_department_id","similarity":0.5859717891490452}],"employee_salaries":[{"column":"amount","similarity":0.6500990551890313},{"column":"effective_date","similarity":0.611770947186606},{"column":"salary_id","similarity":0.5985853421960141}],"positions":[{"column":"department_id","similarity":0.6269881859529215},{"column":"max_salary","similarity":0.6246839022090498},{"column":"min_salary","similarity":0.6230151577349895}],"cost_centers":[{"column":"department_id","similarity":0.5896621626840974}],"budgets":[{"column":"department_id","similarity":0.580591842420962},{"column":"total_amount","similarity":0.5338274885049906}],"employee_benefits":[{"column":"coverage_level","similarity":0.5654079472210596}],"requisition_lines":[{"column":"estimated_total","similarity":0.5582588991716904},{"column":"estimated_unit_cost","similarity":0.5441338218091372}],"purchase_requisitions":[{"column":"department_id","similarity":0.5572144875437345}],"project_resources":[{"column":"hourly_rate","similarity":0.5514441085734471}],"sales_orders":[{"column":"total","similarity":0.5427163382142084},{"column":"subtotal","similarity":0.5223697723709152}],"employment_history":[{"column":"position","similarity":0.5420691639730986}],"project_budgets":[{"column":"actual_amount","similarity":0.5393341879647957}],"goods_receipts":[{"column":"received_by","similarity":0.5349267147302068},{"column":"receipt_number","similarity":0.5279798899236793}],"currencies":[{"column":"exchange_rate","similarity":0.5332608603311223}],"employee_certifications":[{"column":"certificate_number","similarity":0.5305395669595222}],"vendor_invoices":[{"column":"amount_paid","similarity":0.5304764397719846},{"column":"total","similarity":0.5272326757338365}],"employee_training":[{"column":"score","similarity":0.530103302594991}],"journal_entries":[{"column":"posted_by","similarity":0.5291393373857585}],"product_suppliers":[{"column":"unit_cost","similarity":0.52770578346072}],"project_expenses":[{"column":"amount","similarity":0.5237759228326622}],"sales_quotes":[{"column":"total","similarity":0.5219832277482833}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.5219116192563482}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.5218538792844735}]},"fused_scores":[{"table":"positions","fused":0.761628846128756,"table_sim":0.6452537561635636,"col_score":0.9361914810765446},{"table":"employee_salaries","fused":0.7522031981924093,"table_sim":0.6163489777991259,"col_score":0.9559845287823343},{"table":"employees","fused":0.7168200671218931,"table_sim":0.5671015993256167,"col_score":0.9413977688163075},{"table":"departments","fused":0.7123299784769622,"table_sim":0.6029940665123251,"col_score":0.8763338464239179},{"table":"budgets","fused":0.6291317406109218,"table_sim":0.5571964787833181,"col_score":0.7370346333523273},{"table":"cost_centers","fused":0.48718893388870355,"table_sim":0.5368058805619271,"col_score":0.41276351387886817},{"table":"requisition_lines","fused":0.3321303240305036,"table_sim":0,"col_score":0.8303258100762589},{"table":"sales_orders","fused":0.3215604897598664,"table_sim":0,"col_score":0.8039012243996659},{"table":"goods_receipts","fused":0.31956666387681865,"table_sim":0,"col_score":0.7989166596920465},{"table":"vendor_invoices","fused":0.28515977186161245,"table_sim":0,"col_score":0.7128994296540311},{"table":"employee_benefits","fused":0.22616317888842385,"table_sim":0,"col_score":0.5654079472210596},{"table":"project_resources","fused":0.22057764342937883,"table_sim":0,"col_score":0.5514441085734471},{"table":"employment_history","fused":0.21682766558923944,"table_sim":0,"col_score":0.5420691639730986},{"table":"project_budgets","fused":0.2157336751859183,"table_sim":0,"col_score":0.5393341879647957},{"table":"currencies","fused":0.21330434413244892,"table_sim":0,"col_score":0.5332608603311223}],"fk_expansion_candidates":114,"fk_expansion_added":2,"fk_expansion_blocked_count":93,"fk_expansion_blocked":[{"table":"employment_history","reason":"max_tables"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"employment_history","reason":"max_tables"},{"table":"products","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"max_tables"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"max_tables"},{"table":"order_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"project_resources","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"max_tables"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"employee_certifications","reason":"already_selected"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"project_expenses","reason":"max_tables"},{"table":"employee_training","reason":"already_selected"},{"table":"employee_certifications","reason":"already_selected"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"max_tables"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"max_tables"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":19,"total_retrieval_latency_ms":26,"sql_generated":"SELECT d.name AS department_name, AVG(e.salary) AS avg_salary FROM employees e JOIN departments d ON e.department_id = d.department_id GROUP BY d.name LIMIT 128;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]},{"alias":"e","column":"salary","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"department_id","resolved_table":"employees","suggested_columns":[]},{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":19,"total_latency_ms":2533}
{"timestamp":"2026-02-01T21:38:34.261Z","query_id":"f54ea645-8d14-4a5c-b2e4-2181b2fa7135","question":"List all customers with credit limit over $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["customers","customer_contacts","purchase_requisitions","sales_quotes","certifications","budget_lines","sales_regions","bank_transactions","bank_accounts","purchase_orders","budgets","quote_lines"],"tables_from_table_retrieval":7,"tables_from_column_only":22,"tables_from_fk_expansion":2,"table_scores":[{"table":"customers","similarity":0.6490529391143375},{"table":"customers","similarity":0.6490529391143375},{"table":"customers","similarity":0.6422232823454113},{"table":"customer_contacts","similarity":0.5702946339617082},{"table":"sales_regions","similarity":0.5667997703273866},{"table":"customer_contacts","similarity":0.5609682931182661},{"table":"customer_contacts","similarity":0.5609682931182661},{"table":"certifications","similarity":0.5571072107976042},{"table":"sales_quotes","similarity":0.5491541498727729},{"table":"purchase_requisitions","similarity":0.5478589409950445},{"table":"purchase_requisitions","similarity":0.5459857460749011},{"table":"purchase_requisitions","similarity":0.5459857460749011},{"table":"budget_lines","similarity":0.5454449382794198},{"table":"sales_regions","similarity":0.5450307067379918},{"table":"sales_regions","similarity":0.5450307067379918}],"column_hits_per_table":{"customers":10,"customer_contacts":7,"projects":1,"sales_opportunities":1,"reorder_rules":1,"sales_quotes":2,"quote_lines":1,"bank_transactions":2,"sales_orders":2,"vendor_invoices":1,"budget_lines":1,"bank_accounts":2,"budgets":1,"positions":1,"purchase_orders":2,"certifications":1,"order_lines":1,"vendor_invoice_lines":1,"journal_lines":1,"warehouse_locations":1,"cost_centers":1,"purchase_requisitions":2,"project_expenses":1,"project_milestones":1,"requisition_lines":1,"po_lines":1,"sales_regions":1,"project_budgets":1,"vendors":1},"top_columns_per_table":{"customers":[{"column":"credit_limit","similarity":0.8264130571427136},{"column":"payment_terms","similarity":0.6589990489867001},{"column":"customer_number","similarity":0.6394526735948951}],"customer_contacts":[{"column":"phone","similarity":0.606368805831685},{"column":"title","similarity":0.5970373914759594},{"column":"customer_id","similarity":0.5956864569852515}],"projects":[{"column":"customer_id","similarity":0.5928916239987955}],"sales_opportunities":[{"column":"customer_id","similarity":0.5902627586172409}],"reorder_rules":[{"column":"max_quantity","similarity":0.5899919735657247}],"sales_quotes":[{"column":"customer_id","similarity":0.5891584566690409},{"column":"total","similarity":0.5586703861991749}],"quote_lines":[{"column":"line_total","similarity":0.5801866487795829}],"bank_transactions":[{"column":"amount","similarity":0.578099883266191},{"column":"reference","similarity":0.5598602335402326}],"sales_orders":[{"column":"customer_id","similarity":0.5763949820310496},{"column":"total","similarity":0.5622977399772391}],"vendor_invoices":[{"column":"total","similarity":0.574486333008983}],"budget_lines":[{"column":"amount","similarity":0.5741121544432773}],"bank_accounts":[{"column":"current_balance","similarity":0.5735872293568434},{"column":"account_number","similarity":0.5649953609091014}],"budgets":[{"column":"approved_by","similarity":0.5731556505145398}],"positions":[{"column":"max_salary","similarity":0.5725523876248747}],"purchase_orders":[{"column":"total","similarity":0.5714278025144766},{"column":"approved_by","similarity":0.5659425523622221}],"certifications":[{"column":"validity_years","similarity":0.5702505536109264}],"order_lines":[{"column":"line_total","similarity":0.5698151919963369}],"vendor_invoice_lines":[{"column":"amount","similarity":0.5693578249080868}],"journal_lines":[{"column":"credit","similarity":0.5674218657230614}],"warehouse_locations":[{"column":"capacity","similarity":0.5662115513809343}],"cost_centers":[{"column":"code","similarity":0.5650327130492546}],"purchase_requisitions":[{"column":"approved_by","similarity":0.5649975444535725},{"column":"requisition_number","similarity":0.5569267046602896}],"project_expenses":[{"column":"approved_by","similarity":0.5647321953724768}],"project_milestones":[{"column":"amount","similarity":0.5630219436026808}],"requisition_lines":[{"column":"estimated_total","similarity":0.5598201507599695}],"po_lines":[{"column":"line_total","similarity":0.5594451313327365}],"sales_regions":[{"column":"manager_id","similarity":0.5580159655063975}],"project_budgets":[{"column":"actual_amount","similarity":0.5578517497187595}],"vendors":[{"column":"payment_terms","similarity":0.557438207097068}]},"fused_scores":[{"table":"customers","fused":0.8476990020616721,"table_sim":0.6422232823454113,"col_score":1.1559125816360636},{"table":"customer_contacts","fused":0.6985359764988255,"table_sim":0.5609682931182661,"col_score":0.9048875015696647},{"table":"purchase_requisitions","fused":0.6649758063584277,"table_sim":0.5459857460749011,"col_score":0.8434608967837174},{"table":"sales_quotes","fused":0.6354428283369994,"table_sim":0.5491541498727729,"col_score":0.7648758460333391},{"table":"certifications","fused":0.562364547922933,"table_sim":0.5571072107976042,"col_score":0.5702505536109264},{"table":"budget_lines","fused":0.5569118247449628,"table_sim":0.5454449382794198,"col_score":0.5741121544432773},{"table":"sales_regions","fused":0.48326289438458636,"table_sim":0.5450307067379918,"col_score":0.39061117585447824},{"table":"bank_transactions","fused":0.3432120000145229,"table_sim":0,"col_score":0.8580300000363072},{"table":"bank_accounts","fused":0.34243396392455766,"table_sim":0,"col_score":0.8560849098113941},{"table":"purchase_orders","fused":0.34175963147823507,"table_sim":0,"col_score":0.8543990786955876},{"table":"sales_orders","fused":0.3056143934752426,"table_sim":0,"col_score":0.7640359836881064},{"table":"reorder_rules","fused":0.2359967894262899,"table_sim":0,"col_score":0.5899919735657247},{"table":"quote_lines","fused":0.23207465951183318,"table_sim":0,"col_score":0.5801866487795829},{"table":"vendor_invoices","fused":0.22979453320359322,"table_sim":0,"col_score":0.574486333008983},{"table":"budgets","fused":0.22926226020581592,"table_sim":0,"col_score":0.5731556505145398}],"fk_expansion_candidates":57,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"budgets","reason":"already_selected"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"quote_lines","reason":"already_selected"},{"table":"quote_lines","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_orders","reason":"max_tables"},{"table":"sales_orders","reason":"max_tables"},{"table":"sales_orders","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":14,"total_retrieval_latency_ms":21,"sql_generated":"SELECT c.* FROM customers c WHERE c.credit_limit > 100000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":206,"total_latency_ms":467}
{"timestamp":"2026-02-01T21:38:34.728Z","query_id":"89f28f85-4fe0-47d5-b0c0-b21d9d8d59b4","question":"How many sales orders are in pending status?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["sales_orders","purchase_orders","sales_opportunities","order_lines","vendor_invoices","goods_receipts","sales_quotes","fixed_assets","product_suppliers","purchase_requisitions"],"tables_from_table_retrieval":6,"tables_from_column_only":17,"tables_from_fk_expansion":0,"table_scores":[{"table":"sales_orders","similarity":0.6912680172561704},{"table":"sales_orders","similarity":0.6912680172561704},{"table":"sales_orders","similarity":0.6863020331203206},{"table":"purchase_orders","similarity":0.6720782086239174},{"table":"purchase_orders","similarity":0.671648599917699},{"table":"purchase_orders","similarity":0.671648599917699},{"table":"order_lines","similarity":0.6262436019663461},{"table":"order_lines","similarity":0.6262436019663461},{"table":"order_lines","similarity":0.620432904007153},{"table":"sales_opportunities","similarity":0.6139945509337431},{"table":"sales_opportunities","similarity":0.6139945509337431},{"table":"vendor_invoices","similarity":0.6085185379492049},{"table":"goods_receipts","similarity":0.6053687360586439},{"table":"sales_opportunities","similarity":0.601388904869088},{"table":"vendor_invoices","similarity":0.5991801878593713}],"column_hits_per_table":{"sales_orders":13,"purchase_orders":10,"sales_quotes":2,"vendor_invoices":3,"purchase_requisitions":1,"stock_transfers":1,"timesheets":1,"sales_opportunities":2,"leave_requests":1,"project_phases":1,"journal_entries":1,"projects":1,"inventory_adjustments":1,"order_lines":2,"asset_maintenance":1,"fixed_assets":2,"employee_training":1,"goods_receipts":1,"project_expenses":1,"project_tasks":1,"po_lines":1,"vendors":1,"product_suppliers":1},"top_columns_per_table":{"sales_orders":[{"column":"status","similarity":0.8125049395316426},{"column":"order_date","similarity":0.6991484254489689},{"column":"ship_date","similarity":0.6886132471169295}],"purchase_orders":[{"column":"status","similarity":0.7670301060080371},{"column":"po_number","similarity":0.6444732305183548},{"column":"order_date","similarity":0.642184556061974}],"sales_quotes":[{"column":"status","similarity":0.7069048526459094},{"column":"valid_until","similarity":0.5929304827772888}],"vendor_invoices":[{"column":"status","similarity":0.6889977754690522},{"column":"po_id","similarity":0.5964353910929457},{"column":"due_date","similarity":0.5954346294411716}],"purchase_requisitions":[{"column":"status","similarity":0.6807720764825977}],"stock_transfers":[{"column":"status","similarity":0.6558342866682164}],"timesheets":[{"column":"status","similarity":0.6365165724449758}],"sales_opportunities":[{"column":"expected_close_date","similarity":0.6279055578746939},{"column":"actual_close_date","similarity":0.6251199223215209}],"leave_requests":[{"column":"status","similarity":0.6264128005664035}],"project_phases":[{"column":"status","similarity":0.6226177091436476}],"journal_entries":[{"column":"status","similarity":0.6141546900695833}],"projects":[{"column":"status","similarity":0.6138551966717181}],"inventory_adjustments":[{"column":"status","similarity":0.6120310910949274}],"order_lines":[{"column":"quantity_shipped","similarity":0.6088823006735591},{"column":"order_id","similarity":0.5974249918500518}],"asset_maintenance":[{"column":"status","similarity":0.6074441869634195}],"fixed_assets":[{"column":"status","similarity":0.6064051928483505},{"column":"po_id","similarity":0.5944902489845791}],"employee_training":[{"column":"status","similarity":0.6031990688486019}],"goods_receipts":[{"column":"po_id","similarity":0.599781547117576}],"project_expenses":[{"column":"status","similarity":0.5986821650659566}],"project_tasks":[{"column":"status","similarity":0.5978682233232903}],"po_lines":[{"column":"po_id","similarity":0.5909874685299387}],"vendors":[{"column":"is_active","similarity":0.589527003021394}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.5886391733536503}]},"fused_scores":[{"table":"sales_orders","fused":0.8291632394751658,"table_sim":0.6863020331203206,"col_score":1.0434550490074337},{"table":"purchase_orders","fused":0.7892153633703561,"table_sim":0.671648599917699,"col_score":0.9655655085493418},{"table":"sales_opportunities","fused":0.7370195505356345,"table_sim":0.601388904869088,"col_score":0.9404655190354544},{"table":"order_lines","fused":0.6994521615327227,"table_sim":0.620432904007153,"col_score":0.8179810478210772},{"table":"vendor_invoices","fused":0.6941416530577588,"table_sim":0.5991801878593713,"col_score":0.8365838508553399},{"table":"goods_receipts","fused":0.5311600748281077,"table_sim":0.6053687360586439,"col_score":0.4198470829823032},{"table":"sales_quotes","fused":0.33613887248134283,"table_sim":0,"col_score":0.840347181203357},{"table":"fixed_assets","fused":0.25302208885537925,"table_sim":0,"col_score":0.6325552221384481},{"table":"product_suppliers","fused":0.23545566934146014,"table_sim":0,"col_score":0.5886391733536503},{"table":"purchase_requisitions","fused":0.19061618141512737,"table_sim":0,"col_score":0.4765404535378184},{"table":"stock_transfers","fused":0.1836336002671006,"table_sim":0,"col_score":0.45908400066775146},{"table":"timesheets","fused":0.17822464028459323,"table_sim":0,"col_score":0.44556160071148304},{"table":"leave_requests","fused":0.17539558415859297,"table_sim":0,"col_score":0.4384889603964824},{"table":"project_phases","fused":0.17433295856022132,"table_sim":0,"col_score":0.43583239640055327},{"table":"journal_entries","fused":0.17196331321948333,"table_sim":0,"col_score":0.4299082830487083}],"fk_expansion_candidates":57,"fk_expansion_added":0,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":17,"total_retrieval_latency_ms":24,"sql_generated":"SELECT COUNT(*) FROM sales_orders WHERE status = 'pending';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":355}
{"timestamp":"2026-02-01T21:38:35.083Z","query_id":"508351a5-51d9-4260-a893-f4d2baf85d10","question":"List all products in the Electronics category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["products","asset_categories","product_categories","product_suppliers","inventory_levels","inventory_transactions","purchase_orders","benefit_types","project_budgets","project_expenses","purchase_requisitions"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":1,"table_scores":[{"table":"product_categories","similarity":0.7440966262295596},{"table":"product_categories","similarity":0.7440966262295596},{"table":"product_categories","similarity":0.7247710633179223},{"table":"products","similarity":0.6936914033913907},{"table":"products","similarity":0.6936914033913907},{"table":"products","similarity":0.6925442846427379},{"table":"asset_categories","similarity":0.675092849342745},{"table":"asset_categories","similarity":0.675092849342745},{"table":"asset_categories","similarity":0.6732299389573608},{"table":"product_suppliers","similarity":0.6167763468166113},{"table":"product_suppliers","similarity":0.6167763468166113},{"table":"product_suppliers","similarity":0.6030261734368682},{"table":"inventory_levels","similarity":0.5983462217768915},{"table":"benefit_types","similarity":0.5912987652121153},{"table":"benefit_types","similarity":0.5912987652121153}],"column_hits_per_table":{"product_categories":5,"products":11,"asset_categories":5,"fixed_assets":1,"project_budgets":1,"project_expenses":1,"product_suppliers":5,"inventory_levels":3,"goods_receipts":1,"purchase_orders":3,"projects":1,"inventory_transactions":4,"receipt_lines":1,"purchase_requisitions":2,"sales_orders":1,"order_lines":1,"account_types":1,"po_lines":1,"transfer_lines":1,"requisition_lines":1},"top_columns_per_table":{"product_categories":[{"column":"description","similarity":0.768646064681113},{"column":"is_active","similarity":0.7548223288686364},{"column":"name","similarity":0.7489199069567996}],"products":[{"column":"description","similarity":0.7240057799645775},{"column":"category_id","similarity":0.7136649617093936},{"column":"weight","similarity":0.704192443561975}],"asset_categories":[{"column":"category_id","similarity":0.6604362615120926},{"column":"name","similarity":0.6520432448665474},{"column":"useful_life_years","similarity":0.6398787756615528}],"fixed_assets":[{"column":"category_id","similarity":0.6558423387788446}],"project_budgets":[{"column":"category","similarity":0.6525796799281143}],"project_expenses":[{"column":"category","similarity":0.651685931963324}],"product_suppliers":[{"column":"is_preferred","similarity":0.6277409629474681},{"column":"minimum_order_qty","similarity":0.6258886931415574},{"column":"product_id","similarity":0.6174175455514888}],"inventory_levels":[{"column":"product_id","similarity":0.621493522445592},{"column":"quantity_available","similarity":0.6048918603546654},{"column":"quantity_reserved","similarity":0.5998511349920754}],"goods_receipts":[{"column":"notes","similarity":0.6198539940312029}],"purchase_orders":[{"column":"status","similarity":0.6188603430058831},{"column":"subtotal","similarity":0.6038932710888189},{"column":"total","similarity":0.6013038985767659}],"projects":[{"column":"description","similarity":0.6151455561431391}],"inventory_transactions":[{"column":"transaction_type","similarity":0.6146449355403084},{"column":"product_id","similarity":0.608914428966703},{"column":"quantity","similarity":0.6047816235748863}],"receipt_lines":[{"column":"product_id","similarity":0.6133835901571644}],"purchase_requisitions":[{"column":"notes","similarity":0.6125383879595175},{"column":"status","similarity":0.6080888182045856}],"sales_orders":[{"column":"status","similarity":0.6123902626754091}],"order_lines":[{"column":"product_id","similarity":0.610487520300843}],"account_types":[{"column":"category","similarity":0.609393081886742}],"po_lines":[{"column":"product_id","similarity":0.60542865156565}],"transfer_lines":[{"column":"product_id","similarity":0.6047891394005516}],"requisition_lines":[{"column":"product_id","similarity":0.6021201253496539}]},"fused_scores":[{"table":"products","fused":0.8343480462306,"table_sim":0.6925442846427379,"col_score":1.0470536886123931},{"table":"asset_categories","fused":0.7867425373127976,"table_sim":0.6732299389573608,"col_score":0.9570114348459529},{"table":"product_categories","fused":0.7557586621430741,"table_sim":0.7247710633179223,"col_score":0.8022400603808018},{"table":"product_suppliers","fused":0.7380898278694197,"table_sim":0.6030261734368682,"col_score":0.9406853095182468},{"table":"inventory_levels","fused":0.7209347042064161,"table_sim":0.5983462217768915,"col_score":0.9048174278507031},{"table":"inventory_transactions","fused":0.3668142989311006,"table_sim":0,"col_score":0.9170357473277515},{"table":"purchase_orders","fused":0.36181808815088073,"table_sim":0,"col_score":0.9045452203772018},{"table":"benefit_types","fused":0.3547792591272692,"table_sim":0.5912987652121153,"col_score":0},{"table":"project_budgets","fused":0.2610318719712457,"table_sim":0,"col_score":0.6525796799281143},{"table":"project_expenses","fused":0.2606743727853296,"table_sim":0,"col_score":0.651685931963324},{"table":"purchase_requisitions","fused":0.2566431831773069,"table_sim":0,"col_score":0.6416079579432672},{"table":"account_types","fused":0.24375723275469682,"table_sim":0,"col_score":0.609393081886742},{"table":"fixed_assets","fused":0.18363585485807649,"table_sim":0,"col_score":0.4590896371451912},{"table":"goods_receipts","fused":0.17355911832873683,"table_sim":0,"col_score":0.433897795821842},{"table":"projects","fused":0.17224075572007896,"table_sim":0,"col_score":0.4306018893001974}],"fk_expansion_candidates":60,"fk_expansion_added":1,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":35,"total_retrieval_latency_ms":42,"sql_generated":"SELECT p.sku AS product_sku, p.name AS product_name FROM products p JOIN product_categories pc ON p.category_id = pc.category_id WHERE pc.name = 'Electronics';","tables_used_in_sql":[],"explain_result":"success","rows_returned":62,"total_latency_ms":734}
{"timestamp":"2026-02-01T21:38:35.817Z","query_id":"2c027351-a515-4c4e-9d9c-b3af3685a113","question":"What are the names of all warehouses?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["warehouse_locations","warehouses","asset_locations","inventory_levels","stock_transfers","product_suppliers","inventory_transactions","vendor_contacts","goods_receipts","receipt_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":24,"tables_from_fk_expansion":0,"table_scores":[{"table":"warehouse_locations","similarity":0.7285498737313786},{"table":"warehouse_locations","similarity":0.7256245774024009},{"table":"warehouse_locations","similarity":0.7256245774024009},{"table":"warehouses","similarity":0.7204359296605657},{"table":"warehouses","similarity":0.7204359296605657},{"table":"warehouses","similarity":0.6792134543197855},{"table":"asset_locations","similarity":0.6061979025779698},{"table":"asset_locations","similarity":0.6061979025779698},{"table":"inventory_levels","similarity":0.6028416640616783},{"table":"stock_transfers","similarity":0.5855227429535015},{"table":"inventory_levels","similarity":0.5815423542782951},{"table":"inventory_levels","similarity":0.5815423542782951},{"table":"asset_locations","similarity":0.5811905860356016},{"table":"stock_transfers","similarity":0.5781619306329983},{"table":"stock_transfers","similarity":0.5781619306329983}],"column_hits_per_table":{"warehouses":6,"warehouse_locations":7,"stock_transfers":2,"goods_receipts":1,"inventory_levels":2,"inventory_transactions":2,"receipt_lines":1,"asset_locations":6,"adjustment_lines":1,"departments":1,"inventory_adjustments":1,"vendors":1,"business_units":1,"cities":1,"cost_centers":1,"reorder_rules":1,"sales_territories":1,"sales_regions":1,"product_categories":1,"products":1,"currencies":1,"units_of_measure":1,"asset_categories":1,"projects":1,"project_phases":1,"vendor_contacts":2,"product_suppliers":2,"states_provinces":1,"budgets":1},"top_columns_per_table":{"warehouses":[{"column":"name","similarity":0.8239837132539246},{"column":"warehouse_id","similarity":0.7389525085782149},{"column":"code","similarity":0.7372924825805767}],"warehouse_locations":[{"column":"bin","similarity":0.7369462714727907},{"column":"rack","similarity":0.7301028923076418},{"column":"aisle","similarity":0.7270563176306292}],"stock_transfers":[{"column":"to_warehouse_id","similarity":0.6201896532931714},{"column":"from_warehouse_id","similarity":0.6108572482417348}],"goods_receipts":[{"column":"warehouse_id","similarity":0.6194093569001528}],"inventory_levels":[{"column":"warehouse_id","similarity":0.6129809657152051},{"column":"location_id","similarity":0.6110605538163267}],"inventory_transactions":[{"column":"location_id","similarity":0.6117765492932795},{"column":"warehouse_id","similarity":0.6045036778290787}],"receipt_lines":[{"column":"location_id","similarity":0.6044988749396849}],"asset_locations":[{"column":"name","similarity":0.5995259669429954},{"column":"building","similarity":0.5699431267066559},{"column":"description","similarity":0.5635470294472803}],"adjustment_lines":[{"column":"location_id","similarity":0.5925704006095981}],"departments":[{"column":"name","similarity":0.5916804481850862}],"inventory_adjustments":[{"column":"warehouse_id","similarity":0.5911141126040913}],"vendors":[{"column":"name","similarity":0.5896534915318243}],"business_units":[{"column":"name","similarity":0.5874482869568506}],"cities":[{"column":"name","similarity":0.5788506113941311}],"cost_centers":[{"column":"name","similarity":0.57825487466543}],"reorder_rules":[{"column":"warehouse_id","similarity":0.5761515648038772}],"sales_territories":[{"column":"name","similarity":0.5747925339792243}],"sales_regions":[{"column":"name","similarity":0.5726917211289799}],"product_categories":[{"column":"name","similarity":0.5635071676942313}],"products":[{"column":"name","similarity":0.563172892076737}],"currencies":[{"column":"name","similarity":0.5626835257654214}],"units_of_measure":[{"column":"name","similarity":0.5515381017275516}],"asset_categories":[{"column":"name","similarity":0.5512975889483408}],"projects":[{"column":"name","similarity":0.548957856266308}],"project_phases":[{"column":"name","similarity":0.547495677729703}],"vendor_contacts":[{"column":"first_name","similarity":0.5469148670018114},{"column":"last_name","similarity":0.544268531581012}],"product_suppliers":[{"column":"supplier_id","similarity":0.5445688274826966},{"column":"is_preferred","similarity":0.5407228032470287}],"states_provinces":[{"column":"name","similarity":0.5416799146294229}],"budgets":[{"column":"name","similarity":0.5394362709333709}]},"fused_scores":[{"table":"warehouse_locations","fused":0.8761738334920852,"table_sim":0.7256245774024009,"col_score":1.1019977176266116},{"table":"warehouses","fused":0.8178027854796515,"table_sim":0.6792134543197855,"col_score":1.0256867822194502},{"table":"asset_locations","fused":0.6860681088252738,"table_sim":0.5811905860356016,"col_score":0.8433843930097823},{"table":"inventory_levels","fused":0.6061085605015202,"table_sim":0.5815423542782951,"col_score":0.6429578698363578},{"table":"stock_transfers","fused":0.6060702760557298,"table_sim":0.5781619306329983,"col_score":0.6479327941898272},{"table":"product_suppliers","fused":0.292528757146389,"table_sim":0,"col_score":0.7313218928659725},{"table":"inventory_transactions","fused":0.2559279486981893,"table_sim":0,"col_score":0.6398198717454732},{"table":"vendor_contacts","fused":0.22933375718184884,"table_sim":0,"col_score":0.5733343929546221},{"table":"goods_receipts","fused":0.1734346199320428,"table_sim":0,"col_score":0.4335865498301069},{"table":"receipt_lines","fused":0.16925968498311178,"table_sim":0,"col_score":0.4231492124577794},{"table":"adjustment_lines","fused":0.16591971217068746,"table_sim":0,"col_score":0.41479928042671865},{"table":"departments","fused":0.16567052549182415,"table_sim":0,"col_score":0.4141763137295604},{"table":"inventory_adjustments","fused":0.16551195152914555,"table_sim":0,"col_score":0.4137798788228639},{"table":"vendors","fused":0.1651029776289108,"table_sim":0,"col_score":0.412757444072277},{"table":"business_units","fused":0.16448552034791816,"table_sim":0,"col_score":0.41121380086979537}],"fk_expansion_candidates":36,"fk_expansion_added":0,"fk_expansion_blocked_count":36,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":22,"total_retrieval_latency_ms":28,"sql_generated":"SELECT w.name FROM warehouses AS w;","tables_used_in_sql":[],"explain_result":"success","rows_returned":5,"total_latency_ms":293}
{"timestamp":"2026-02-01T21:38:36.110Z","query_id":"5b11f9e8-de7f-4e05-9968-d199c62576e3","question":"List all active vendors","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["vendors","vendor_contacts","vendor_invoices","product_suppliers","vendor_invoice_lines","purchase_orders","customers","employees","products","warehouses"],"tables_from_table_retrieval":6,"tables_from_column_only":12,"tables_from_fk_expansion":0,"table_scores":[{"table":"vendors","similarity":0.6962726298258062},{"table":"vendors","similarity":0.6962726298258062},{"table":"vendors","similarity":0.6880006513779018},{"table":"vendor_contacts","similarity":0.6580029100551065},{"table":"vendor_contacts","similarity":0.6580029100551065},{"table":"vendor_invoices","similarity":0.6543823921120047},{"table":"vendor_contacts","similarity":0.6543707733450305},{"table":"vendor_invoices","similarity":0.6537617498498873},{"table":"vendor_invoices","similarity":0.6537617498498873},{"table":"product_suppliers","similarity":0.639369742368815},{"table":"product_suppliers","similarity":0.639369742368815},{"table":"product_suppliers","similarity":0.6368613960189783},{"table":"vendor_invoice_lines","similarity":0.6064291468302401},{"table":"vendor_invoice_lines","similarity":0.6064291468302401},{"table":"purchase_orders","similarity":0.6046285681195724}],"column_hits_per_table":{"vendors":12,"vendor_invoices":11,"vendor_contacts":8,"customers":1,"product_suppliers":3,"employees":1,"products":1,"warehouses":1,"fixed_assets":1,"asset_maintenance":1,"purchase_orders":1,"vendor_invoice_lines":3,"positions":1,"business_units":1,"sales_orders":1,"product_categories":1,"bank_accounts":1,"benefit_types":1},"top_columns_per_table":{"vendors":[{"column":"is_active","similarity":0.8082741906985379},{"column":"vendor_id","similarity":0.696608570908196},{"column":"vendor_number","similarity":0.690104216983127}],"vendor_invoices":[{"column":"status","similarity":0.6807922132677474},{"column":"total","similarity":0.655474212549299},{"column":"subtotal","similarity":0.6431967210368317}],"vendor_contacts":[{"column":"is_primary","similarity":0.6594024190023925},{"column":"email","similarity":0.649863249101007},{"column":"vendor_id","similarity":0.6441969797065956}],"customers":[{"column":"is_active","similarity":0.6476421054003765}],"product_suppliers":[{"column":"vendor_id","similarity":0.6444561335438413},{"column":"vendor_sku","similarity":0.621198911356786},{"column":"is_preferred","similarity":0.6007180783650777}],"employees":[{"column":"is_active","similarity":0.6437737649411213}],"products":[{"column":"is_active","similarity":0.6412563586748957}],"warehouses":[{"column":"is_active","similarity":0.6361520848821371}],"fixed_assets":[{"column":"vendor_id","similarity":0.6358205697022895}],"asset_maintenance":[{"column":"vendor_id","similarity":0.6314938869527287}],"purchase_orders":[{"column":"vendor_id","similarity":0.629774324610349}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.618005483305915},{"column":"amount","similarity":0.6046802848122621},{"column":"line_id","similarity":0.6033856438304122}],"positions":[{"column":"is_active","similarity":0.6113698702425924}],"business_units":[{"column":"is_active","similarity":0.6078912202143344}],"sales_orders":[{"column":"status","similarity":0.6008435501749047}],"product_categories":[{"column":"is_active","similarity":0.6002220998224144}],"bank_accounts":[{"column":"is_active","similarity":0.5939215808610938}],"benefit_types":[{"column":"is_active","similarity":0.5936815548559959}]},"fused_scores":[{"table":"vendors","fused":0.8266718004696496,"table_sim":0.6880006513779018,"col_score":1.0346785241072713},{"table":"vendor_contacts","fused":0.7863560814281767,"table_sim":0.6543707733450305,"col_score":0.984334043552896},{"table":"vendor_invoices","fused":0.7830860791370183,"table_sim":0.6537617498498873,"col_score":0.9770725730677149},{"table":"product_suppliers","fused":0.7507400178271169,"table_sim":0.6368613960189783,"col_score":0.9215579505393248},{"table":"vendor_invoice_lines","fused":0.7319957383829625,"table_sim":0.6064291468302401,"col_score":0.920345625712046},{"table":"purchase_orders","fused":0.5391139517626411,"table_sim":0.6046285681195724,"col_score":0.44084202722724425},{"table":"customers","fused":0.18133978951210541,"table_sim":0,"col_score":0.4533494737802635},{"table":"employees","fused":0.18025665418351394,"table_sim":0,"col_score":0.45064163545878483},{"table":"products","fused":0.1795517804289708,"table_sim":0,"col_score":0.448879451072427},{"table":"warehouses","fused":0.1781225837669984,"table_sim":0,"col_score":0.44530645941749597},{"table":"fixed_assets","fused":0.17802975951664105,"table_sim":0,"col_score":0.4450743987916026},{"table":"asset_maintenance","fused":0.17681828834676402,"table_sim":0,"col_score":0.44204572086691},{"table":"positions","fused":0.17118356366792586,"table_sim":0,"col_score":0.42795890916981466},{"table":"business_units","fused":0.17020954166001365,"table_sim":0,"col_score":0.4255238541500341},{"table":"sales_orders","fused":0.1682361940489733,"table_sim":0,"col_score":0.42059048512243324}],"fk_expansion_candidates":144,"fk_expansion_added":0,"fk_expansion_blocked_count":144,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":37,"total_retrieval_latency_ms":44,"sql_generated":"SELECT v.vendor_id, v.vendor_number, v.name, v.email, v.phone, v.website, v.address_id, v.payment_terms, v.currency_id, v.tax_id, v.is_active FROM vendors v WHERE v.is_active = 't';","tables_used_in_sql":[],"explain_result":"success","rows_returned":200,"total_latency_ms":1489}
{"timestamp":"2026-02-01T21:38:37.600Z","query_id":"9878a4bd-e70a-4bee-9ebc-5bc94f5d6d68","question":"What are the different account types in the chart of accounts?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["account_types","chart_of_accounts","bank_accounts","bank_transactions","asset_categories","benefit_types","journal_lines","inventory_transactions","audit_log","sales_orders","employee_benefits","journal_entries"],"tables_from_table_retrieval":7,"tables_from_column_only":15,"tables_from_fk_expansion":2,"table_scores":[{"table":"chart_of_accounts","similarity":0.819203299985527},{"table":"account_types","similarity":0.7988075557394306},{"table":"account_types","similarity":0.7988075557394306},{"table":"account_types","similarity":0.7962345365841693},{"table":"chart_of_accounts","similarity":0.791340822956156},{"table":"chart_of_accounts","similarity":0.791340822956156},{"table":"bank_accounts","similarity":0.724679255065619},{"table":"bank_accounts","similarity":0.6999646723589786},{"table":"bank_accounts","similarity":0.6999646723589786},{"table":"benefit_types","similarity":0.6283185597811837},{"table":"benefit_types","similarity":0.6283185597811837},{"table":"journal_lines","similarity":0.625444495321535},{"table":"asset_categories","similarity":0.618359452764169},{"table":"benefit_types","similarity":0.6179653147868353},{"table":"bank_transactions","similarity":0.6154557182401941}],"column_hits_per_table":{"chart_of_accounts":8,"account_types":4,"bank_accounts":8,"journal_lines":1,"vendor_invoice_lines":1,"budget_lines":1,"bank_transactions":2,"inventory_transactions":2,"audit_log":2,"benefit_types":5,"asset_categories":3,"document_attachments":1,"sales_orders":2,"employee_benefits":2,"employee_certifications":1,"journal_entries":1,"goods_receipts":1,"maintenance_types":1,"stock_transfers":1,"sales_regions":1,"tax_rates":1,"leave_types":1},"top_columns_per_table":{"chart_of_accounts":[{"column":"account_number","similarity":0.8095156463967756},{"column":"account_type_id","similarity":0.798110199670143},{"column":"name","similarity":0.7773267996543431}],"account_types":[{"column":"category","similarity":0.8061873869514127},{"column":"name","similarity":0.7882152226403916},{"column":"normal_balance","similarity":0.7709865775976293}],"bank_accounts":[{"column":"account_number","similarity":0.7225117774089481},{"column":"gl_account_id","similarity":0.7192196319887921},{"column":"account_name","similarity":0.7058296402253736}],"journal_lines":[{"column":"account_id","similarity":0.701492184125104}],"vendor_invoice_lines":[{"column":"account_id","similarity":0.6899217649690905}],"budget_lines":[{"column":"account_id","similarity":0.6890433704798434}],"bank_transactions":[{"column":"transaction_type","similarity":0.6522339567052419},{"column":"bank_account_id","similarity":0.6000475548322007}],"inventory_transactions":[{"column":"transaction_type","similarity":0.6508100548275718},{"column":"reference_type","similarity":0.618652619489597}],"audit_log":[{"column":"table_name","similarity":0.6299560725437857},{"column":"action","similarity":0.6176881303455621}],"benefit_types":[{"column":"name","similarity":0.6239559576047775},{"column":"benefit_type_id","similarity":0.6003585729270258},{"column":"description","similarity":0.5966507437046684}],"asset_categories":[{"column":"name","similarity":0.6229758631758117},{"column":"depreciation_method","similarity":0.6228780437653545},{"column":"category_id","similarity":0.600618839267168}],"document_attachments":[{"column":"entity_type","similarity":0.6083808106337816}],"sales_orders":[{"column":"order_number","similarity":0.600482029089641},{"column":"status","similarity":0.5849045118154812}],"employee_benefits":[{"column":"benefit_type_id","similarity":0.5984395501956566},{"column":"coverage_level","similarity":0.5909152043760861}],"employee_certifications":[{"column":"certificate_number","similarity":0.5954716152085089}],"journal_entries":[{"column":"entry_number","similarity":0.5900733476704529}],"goods_receipts":[{"column":"receipt_number","similarity":0.5886087045282947}],"maintenance_types":[{"column":"name","similarity":0.5883275771703451}],"stock_transfers":[{"column":"transfer_number","similarity":0.5878568492842889}],"sales_regions":[{"column":"name","similarity":0.5863467044405402}],"tax_rates":[{"column":"tax_type","similarity":0.5861960576726192}],"leave_types":[{"column":"is_paid","similarity":0.5841987409383301}]},"fused_scores":[{"table":"account_types","fused":0.9544129922505925,"table_sim":0.7962345365841693,"col_score":1.1916806757502274},{"table":"chart_of_accounts","fused":0.9103461802862239,"table_sim":0.791340822956156,"col_score":1.0888542162813257},{"table":"bank_accounts","fused":0.8325558126592646,"table_sim":0.6999646723589786,"col_score":1.0314425231096935},{"table":"bank_transactions","fused":0.7141736713027212,"table_sim":0.6154557182401941,"col_score":0.8622506008965121},{"table":"asset_categories","fused":0.7073835100092569,"table_sim":0.618359452764169,"col_score":0.8409195958768886},{"table":"benefit_types","fused":0.6929005069143089,"table_sim":0.6179653147868353,"col_score":0.8053032951055195},{"table":"journal_lines","fused":0.5716845087479501,"table_sim":0.625444495321535,"col_score":0.4910445288875727},{"table":"inventory_transactions","fused":0.38405454582894816,"table_sim":0,"col_score":0.9601363645723704},{"table":"audit_log","fused":0.33526910229435486,"table_sim":0,"col_score":0.8381727557358871},{"table":"sales_orders","fused":0.3220794432900238,"table_sim":0,"col_score":0.8051986082250594},{"table":"employee_benefits","fused":0.3201476187778264,"table_sim":0,"col_score":0.8003690469445659},{"table":"document_attachments","fused":0.24335232425351264,"table_sim":0,"col_score":0.6083808106337816},{"table":"employee_certifications","fused":0.23818864608340357,"table_sim":0,"col_score":0.5954716152085089},{"table":"journal_entries","fused":0.2360293390681812,"table_sim":0,"col_score":0.5900733476704529},{"table":"goods_receipts","fused":0.2354434818113179,"table_sim":0,"col_score":0.5886087045282947}],"fk_expansion_candidates":45,"fk_expansion_added":2,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employee_benefits","reason":"already_selected"},{"table":"employee_benefits","reason":"already_selected"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"already_selected"},{"table":"journal_entries","reason":"already_selected"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":15,"total_retrieval_latency_ms":22,"sql_generated":"SELECT at.name AS account_type, cta.category_id, cta.depreciation_method, cta.useful_life_years, cta.salvage_value_percent FROM public.account_types at JOIN public.chart_of_accounts cta ON at.account_type_id = cta.account_type_id;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"cta","column":"category_id","resolved_table":"chart_of_accounts","suggested_columns":[]},{"alias":"cta","column":"depreciation_method","resolved_table":"chart_of_accounts","suggested_columns":[]},{"alias":"cta","column":"useful_life_years","resolved_table":"chart_of_accounts","suggested_columns":[]},{"alias":"cta","column":"salvage_value_percent","resolved_table":"chart_of_accounts","suggested_columns":[]},{"alias":"at","column":"account_type_id","resolved_table":"account_types","suggested_columns":["type_id","name","category"]},{"alias":"cta","column":"account_type_id","resolved_table":"chart_of_accounts","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column at.account_type_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":2,"autocorrect_failure_reason":"Best candidate 'account_types.type_id' has score 0.65 < threshold 0.7","total_latency_ms":1800,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column at.account_type_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:38:39.400Z","query_id":"de36d729-f6ff-4912-a2a1-842bb67ee0a2","question":"List all bank accounts and their current balances","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["bank_accounts","bank_transactions","account_types","chart_of_accounts","budget_lines","depreciation_entries","budgets","fixed_assets","asset_maintenance","departments","currencies","purchase_orders"],"tables_from_table_retrieval":5,"tables_from_column_only":14,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_accounts","similarity":0.7380467958544561},{"table":"bank_accounts","similarity":0.7380467958544561},{"table":"bank_accounts","similarity":0.7329690151560269},{"table":"bank_transactions","similarity":0.6524691990877824},{"table":"bank_transactions","similarity":0.6524691990877824},{"table":"bank_transactions","similarity":0.6432688918493359},{"table":"account_types","similarity":0.637683130876762},{"table":"account_types","similarity":0.637683130876762},{"table":"account_types","similarity":0.631508179872346},{"table":"chart_of_accounts","similarity":0.6020063005251778},{"table":"chart_of_accounts","similarity":0.5912086370703393},{"table":"chart_of_accounts","similarity":0.5912086370703393},{"table":"budget_lines","similarity":0.5681702031015662},{"table":"budget_lines","similarity":0.5681702031015662},{"table":"budget_lines","similarity":0.5651962639440569}],"column_hits_per_table":{"bank_accounts":8,"account_types":3,"bank_transactions":9,"chart_of_accounts":7,"budget_lines":1,"fixed_assets":3,"asset_maintenance":4,"budgets":2,"departments":1,"stock_transfers":1,"purchase_orders":1,"depreciation_entries":3,"sales_orders":1,"asset_transfers":1,"inventory_adjustments":1,"po_lines":1,"depreciation_schedules":1,"currencies":1,"order_lines":1},"top_columns_per_table":{"bank_accounts":[{"column":"current_balance","similarity":0.8089444456145792},{"column":"account_number","similarity":0.6893990880283144},{"column":"bank_name","similarity":0.6886932207378867}],"account_types":[{"column":"normal_balance","similarity":0.6577826771573285},{"column":"name","similarity":0.576305558574986},{"column":"category","similarity":0.5660103860090229}],"bank_transactions":[{"column":"bank_account_id","similarity":0.6320865570574266},{"column":"amount","similarity":0.622087497357687},{"column":"reconciled","similarity":0.6119209268904576}],"chart_of_accounts":[{"column":"account_number","similarity":0.6021310044416771},{"column":"description","similarity":0.5849860017700876},{"column":"name","similarity":0.5833355191945212}],"budget_lines":[{"column":"account_id","similarity":0.5872059668461254}],"fixed_assets":[{"column":"status","similarity":0.5828378769160532},{"column":"purchase_cost","similarity":0.5582567197440901},{"column":"po_id","similarity":0.5544635441821786}],"asset_maintenance":[{"column":"status","similarity":0.5812112019616437},{"column":"notes","similarity":0.5653592975237859},{"column":"cost","similarity":0.5583403793159406}],"budgets":[{"column":"status","similarity":0.5799927736493256},{"column":"total_amount","similarity":0.579980842065588}],"departments":[{"column":"budget","similarity":0.570906870993348}],"stock_transfers":[{"column":"status","similarity":0.5643478756295153}],"purchase_orders":[{"column":"total","similarity":0.5631649012660114}],"depreciation_entries":[{"column":"accumulated_depreciation","similarity":0.5623941152149342},{"column":"asset_id","similarity":0.5608072311992653},{"column":"amount","similarity":0.5531774591650637}],"sales_orders":[{"column":"total","similarity":0.5608168283032534}],"asset_transfers":[{"column":"asset_id","similarity":0.559768695814554}],"inventory_adjustments":[{"column":"status","similarity":0.5585885430147457}],"po_lines":[{"column":"line_total","similarity":0.5528051580745316}],"depreciation_schedules":[{"column":"asset_id","similarity":0.5500261207297255}],"currencies":[{"column":"code","similarity":0.5464221335552627}],"order_lines":[{"column":"line_total","similarity":0.5449514399298908}]},"fused_scores":[{"table":"bank_accounts","fused":0.9012390049451107,"table_sim":0.7329690151560269,"col_score":1.1536439896287365},{"table":"bank_transactions","fused":0.7571805194307678,"table_sim":0.6432688918493359,"col_score":0.9280479608029157},{"table":"account_types","fused":0.7552200559881436,"table_sim":0.631508179872346,"col_score":0.94078787016184},{"table":"chart_of_accounts","fused":0.6774756242666866,"table_sim":0.5912086370703393,"col_score":0.8068761050612078},{"table":"budget_lines","fused":0.5035354290833491,"table_sim":0.5651962639440569,"col_score":0.4110441767922877},{"table":"depreciation_entries","fused":0.3355931379189865,"table_sim":0,"col_score":0.8389828447974661},{"table":"budgets","fused":0.31319132513714076,"table_sim":0,"col_score":0.7829783128428519},{"table":"fixed_assets","fused":0.30489999066588347,"table_sim":0,"col_score":0.7622499766647086},{"table":"asset_maintenance","fused":0.3047057200010064,"table_sim":0,"col_score":0.7617643000025158},{"table":"departments","fused":0.22836274839733922,"table_sim":0,"col_score":0.570906870993348},{"table":"purchase_orders","fused":0.22526596050640457,"table_sim":0,"col_score":0.5631649012660114},{"table":"sales_orders","fused":0.22432673132130138,"table_sim":0,"col_score":0.5608168283032534},{"table":"po_lines","fused":0.22112206322981265,"table_sim":0,"col_score":0.5528051580745316},{"table":"currencies","fused":0.21856885342210508,"table_sim":0,"col_score":0.5464221335552627},{"table":"order_lines","fused":0.21798057597195633,"table_sim":0,"col_score":0.5449514399298908}],"fk_expansion_candidates":51,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"currencies","reason":"already_selected"},{"table":"currencies","reason":"already_selected"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"purchase_orders","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":21,"total_retrieval_latency_ms":27,"sql_generated":"SELECT b.account_number AS \"Account Number\", b.current_balance AS \"Current Balance\" FROM bank_accounts b;","tables_used_in_sql":[],"explain_result":"success","rows_returned":5,"total_latency_ms":516}
{"timestamp":"2026-02-01T21:38:39.916Z","query_id":"567d8945-7370-40d4-bb9f-d088e6614dfb","question":"How many projects are currently active?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["project_tasks","projects","project_phases","project_milestones","project_resources","products","positions","product_categories","project_expenses","employees"],"tables_from_table_retrieval":5,"tables_from_column_only":12,"tables_from_fk_expansion":0,"table_scores":[{"table":"project_tasks","similarity":0.650275467821731},{"table":"project_tasks","similarity":0.650275467821731},{"table":"project_tasks","similarity":0.6324363750327547},{"table":"project_phases","similarity":0.6314559839975916},{"table":"project_phases","similarity":0.6314559839975916},{"table":"projects","similarity":0.6310645209358304},{"table":"projects","similarity":0.6310645209358304},{"table":"project_milestones","similarity":0.6170314556998037},{"table":"project_phases","similarity":0.6128862225489412},{"table":"project_milestones","similarity":0.6077049222719266},{"table":"project_milestones","similarity":0.6077049222719266},{"table":"projects","similarity":0.6020298260872147},{"table":"project_resources","similarity":0.6015867769428557},{"table":"project_resources","similarity":0.5959055344150135},{"table":"project_resources","similarity":0.5959055344150135}],"column_hits_per_table":{"projects":11,"project_tasks":9,"project_phases":8,"project_milestones":8,"products":1,"positions":1,"project_resources":2,"product_categories":1,"project_expenses":1,"employees":1,"training_courses":1,"warehouses":1,"business_units":1,"vendors":1,"cost_centers":1,"customers":1,"fixed_assets":1},"top_columns_per_table":{"projects":[{"column":"status","similarity":0.6952554925044898},{"column":"start_date","similarity":0.6596027658706693},{"column":"actual_end_date","similarity":0.6401830267542961}],"project_tasks":[{"column":"status","similarity":0.6606100908218507},{"column":"completed_date","similarity":0.6368229786219834},{"column":"start_date","similarity":0.6292582567736982}],"project_phases":[{"column":"status","similarity":0.6604885270610856},{"column":"start_date","similarity":0.6275125782071443},{"column":"end_date","similarity":0.6163385340144646}],"project_milestones":[{"column":"completed_date","similarity":0.6338543569092513},{"column":"is_billable","similarity":0.6066078433244196},{"column":"due_date","similarity":0.601484675349934}],"products":[{"column":"is_active","similarity":0.629479953126807}],"positions":[{"column":"is_active","similarity":0.619668256339286}],"project_resources":[{"column":"start_date","similarity":0.6175570072174423},{"column":"end_date","similarity":0.605459362777849}],"product_categories":[{"column":"is_active","similarity":0.6174448230737236}],"project_expenses":[{"column":"status","similarity":0.6174103092825096}],"employees":[{"column":"is_active","similarity":0.6056786473130706}],"training_courses":[{"column":"is_active","similarity":0.5954094641374467}],"warehouses":[{"column":"is_active","similarity":0.5938282349648681}],"business_units":[{"column":"is_active","similarity":0.5882189740487279}],"vendors":[{"column":"is_active","similarity":0.5817936740365313}],"cost_centers":[{"column":"is_active","similarity":0.5775357194130835}],"customers":[{"column":"is_active","similarity":0.5750701102281962}],"fixed_assets":[{"column":"status","similarity":0.5743195300084423}]},"fused_scores":[{"table":"project_tasks","fused":0.7600426678231859,"table_sim":0.6324363750327547,"col_score":0.9514521070088325},{"table":"projects","fused":0.7530956073514559,"table_sim":0.6020298260872147,"col_score":0.9796942792478174},{"table":"project_phases","fused":0.7420044716151154,"table_sim":0.6128862225489412,"col_score":0.9356818452143767},{"table":"project_milestones","fused":0.7394862647917404,"table_sim":0.6077049222719266,"col_score":0.9371582785714612},{"table":"project_resources","fused":0.7256579960915548,"table_sim":0.5959055344150135,"col_score":0.9202866886063668},{"table":"products","fused":0.176254386875506,"table_sim":0,"col_score":0.4406359671887649},{"table":"positions","fused":0.17350711177500008,"table_sim":0,"col_score":0.43376777943750017},{"table":"product_categories","fused":0.1728845504606426,"table_sim":0,"col_score":0.4322113761516065},{"table":"project_expenses","fused":0.1728748865991027,"table_sim":0,"col_score":0.4321872164977567},{"table":"employees","fused":0.16959002124765976,"table_sim":0,"col_score":0.4239750531191494},{"table":"training_courses","fused":0.16671464995848506,"table_sim":0,"col_score":0.41678662489621265},{"table":"warehouses","fused":0.16627190579016307,"table_sim":0,"col_score":0.41567976447540766},{"table":"business_units","fused":0.16470131273364383,"table_sim":0,"col_score":0.41175328183410953},{"table":"vendors","fused":0.16290222873022875,"table_sim":0,"col_score":0.40725557182557187},{"table":"cost_centers","fused":0.1617100014356634,"table_sim":0,"col_score":0.4042750035891584}],"fk_expansion_candidates":135,"fk_expansion_added":0,"fk_expansion_blocked_count":135,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"product_suppliers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"product_suppliers","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"product_suppliers","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":17,"total_retrieval_latency_ms":24,"sql_generated":"SELECT COUNT(*) FROM public.projects WHERE status = 'active';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":301}
{"timestamp":"2026-02-01T21:38:40.217Z","query_id":"7d0cb19f-ecfd-475b-b2a9-8ed01dedb4ae","question":"List all fixed assets with their purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["fixed_assets","asset_maintenance","asset_categories","asset_transfers","depreciation_schedules","purchase_orders","products","project_budgets","sales_orders","purchase_requisitions","maintenance_types","projects"],"tables_from_table_retrieval":5,"tables_from_column_only":11,"tables_from_fk_expansion":2,"table_scores":[{"table":"fixed_assets","similarity":0.7343654134072136},{"table":"fixed_assets","similarity":0.7343654134072136},{"table":"fixed_assets","similarity":0.7209497053888301},{"table":"asset_maintenance","similarity":0.6308058404117752},{"table":"asset_maintenance","similarity":0.6179697125570032},{"table":"asset_maintenance","similarity":0.6179697125570032},{"table":"asset_categories","similarity":0.5912281177120349},{"table":"asset_categories","similarity":0.5908629711394363},{"table":"asset_categories","similarity":0.5908629711394363},{"table":"depreciation_schedules","similarity":0.5847667500423093},{"table":"depreciation_schedules","similarity":0.5847667500423093},{"table":"depreciation_schedules","similarity":0.5814813777494169},{"table":"asset_transfers","similarity":0.5814400142884585},{"table":"asset_transfers","similarity":0.5814400142884585},{"table":"asset_transfers","similarity":0.5810308594815269}],"column_hits_per_table":{"fixed_assets":17,"asset_maintenance":8,"asset_transfers":2,"purchase_orders":5,"depreciation_entries":1,"depreciation_schedules":1,"maintenance_types":1,"purchase_requisitions":3,"asset_categories":2,"products":2,"project_expenses":1,"project_budgets":2,"product_suppliers":1,"sales_orders":2,"budgets":1,"projects":1},"top_columns_per_table":{"fixed_assets":[{"column":"purchase_cost","similarity":0.8336730962249834},{"column":"purchase_date","similarity":0.757030591227503},{"column":"disposal_amount","similarity":0.7115957358886795}],"asset_maintenance":[{"column":"cost","similarity":0.7001413961532815},{"column":"asset_id","similarity":0.646620164429287},{"column":"status","similarity":0.623064430931896}],"asset_transfers":[{"column":"asset_id","similarity":0.6507271021855611},{"column":"reason","similarity":0.5954539547440019}],"purchase_orders":[{"column":"total","similarity":0.6201708065577443},{"column":"shipping_cost","similarity":0.6103074039927893},{"column":"subtotal","similarity":0.592057979964163}],"depreciation_entries":[{"column":"asset_id","similarity":0.6167046419250045}],"depreciation_schedules":[{"column":"asset_id","similarity":0.6131913844659764}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6035554909402351}],"purchase_requisitions":[{"column":"status","similarity":0.5957030209752325},{"column":"notes","similarity":0.579593954206422},{"column":"requisition_number","similarity":0.5641816400766758}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.5901071514451579},{"column":"depreciation_method","similarity":0.5734492552613173}],"products":[{"column":"unit_cost","similarity":0.5893978216060566},{"column":"list_price","similarity":0.5715240580401271}],"project_expenses":[{"column":"amount","similarity":0.5714967061817042}],"project_budgets":[{"column":"planned_amount","similarity":0.5691947438967756},{"column":"actual_amount","similarity":0.5658605972140979}],"product_suppliers":[{"column":"unit_cost","similarity":0.5664134865556345}],"sales_orders":[{"column":"total","similarity":0.5647711756811595},{"column":"shipping_cost","similarity":0.5642246655101619}],"budgets":[{"column":"total_amount","similarity":0.5646227718053173}],"projects":[{"column":"budget","similarity":0.5640102092352354}]},"fused_scores":[{"table":"fixed_assets","fused":0.917445179968792,"table_sim":0.7209497053888301,"col_score":1.212188391838735},{"table":"asset_maintenance","fused":0.7733901622742586,"table_sim":0.6179697125570032,"col_score":1.0065208368501417},{"table":"asset_categories","fused":0.7052504943139885,"table_sim":0.5908629711394363,"col_score":0.8768317790758166},{"table":"asset_transfers","fused":0.6779018918924955,"table_sim":0.5810308594815269,"col_score":0.8232084405089483},{"table":"depreciation_schedules","fused":0.5205824143001235,"table_sim":0.5814813777494169,"col_score":0.4292339691261835},{"table":"purchase_orders","fused":0.3701298034216556,"table_sim":0,"col_score":0.9253245085541388},{"table":"products","fused":0.35006394025044807,"table_sim":0,"col_score":0.8751598506261201},{"table":"project_budgets","fused":0.34085001700152984,"table_sim":0,"col_score":0.8521250425038245},{"table":"sales_orders","fused":0.3387534033744962,"table_sim":0,"col_score":0.8468835084362405},{"table":"purchase_requisitions","fused":0.3090710789672029,"table_sim":0,"col_score":0.7726776974180072},{"table":"maintenance_types","fused":0.24142219637609405,"table_sim":0,"col_score":0.6035554909402351},{"table":"project_expenses","fused":0.2285986824726817,"table_sim":0,"col_score":0.5714967061817042},{"table":"product_suppliers","fused":0.2265653946222538,"table_sim":0,"col_score":0.5664134865556345},{"table":"budgets","fused":0.22584910872212693,"table_sim":0,"col_score":0.5646227718053173},{"table":"projects","fused":0.22560408369409415,"table_sim":0,"col_score":0.5640102092352354}],"fk_expansion_candidates":75,"fk_expansion_added":2,"fk_expansion_blocked_count":66,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"product_suppliers","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":14,"total_retrieval_latency_ms":21,"sql_generated":"SELECT fa.asset_tag AS \"Asset Tag\", fa.name AS \"Name\", fa.description AS \"Description\", fa.purchase_cost AS \"Purchase Cost\" FROM fixed_assets fa;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":737}
{"timestamp":"2026-02-01T21:38:40.954Z","query_id":"5de3bec6-4fe6-4f9e-a3dd-480e53b3c6d3","question":"What are all the available leave types?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["leave_types","leave_requests","maintenance_types","account_types","benefit_types","employment_history","positions","employee_benefits","asset_maintenance","employees","inventory_transactions","sales_opportunities"],"tables_from_table_retrieval":5,"tables_from_column_only":18,"tables_from_fk_expansion":2,"table_scores":[{"table":"leave_types","similarity":0.8153120238871665},{"table":"leave_types","similarity":0.8153120238871665},{"table":"leave_types","similarity":0.7907961003152969},{"table":"leave_requests","similarity":0.7190219066933456},{"table":"leave_requests","similarity":0.7190219066933456},{"table":"leave_requests","similarity":0.7143778015997992},{"table":"maintenance_types","similarity":0.6503054333039201},{"table":"maintenance_types","similarity":0.6503054333039201},{"table":"maintenance_types","similarity":0.6481400096068088},{"table":"benefit_types","similarity":0.6322231020121719},{"table":"benefit_types","similarity":0.6322231020121719},{"table":"benefit_types","similarity":0.6269933285396667},{"table":"account_types","similarity":0.6207464005230485},{"table":"account_types","similarity":0.6207464005230485},{"table":"account_types","similarity":0.6192881819056906}],"column_hits_per_table":{"leave_types":5,"leave_requests":10,"maintenance_types":5,"benefit_types":4,"employment_history":2,"account_types":4,"employee_training":1,"asset_maintenance":2,"employee_benefits":2,"timesheets":1,"sales_orders":1,"positions":2,"employees":1,"fixed_assets":1,"purchase_requisitions":1,"vendor_invoices":1,"chart_of_accounts":1,"inventory_transactions":1,"bank_transactions":1,"stock_transfers":1,"sales_quotes":1,"sales_opportunities":1,"inventory_adjustments":1},"top_columns_per_table":{"leave_types":[{"column":"is_paid","similarity":0.7612464678618273},{"column":"days_allowed","similarity":0.7601500998124394},{"column":"leave_type_id","similarity":0.7404804728319255}],"leave_requests":[{"column":"status","similarity":0.7396795189172545},{"column":"leave_type_id","similarity":0.7183447876062181},{"column":"days_requested","similarity":0.6924150250540297}],"maintenance_types":[{"column":"description","similarity":0.6353856248912257},{"column":"name","similarity":0.6275362006518306},{"column":"type_id","similarity":0.6101423562940161}],"benefit_types":[{"column":"is_active","similarity":0.6202574050902354},{"column":"name","similarity":0.613970586164775},{"column":"description","similarity":0.609536513053858}],"employment_history":[{"column":"reason_for_leaving","similarity":0.6149236134137261},{"column":"position","similarity":0.5557487204215079}],"account_types":[{"column":"normal_balance","similarity":0.608424842651833},{"column":"category","similarity":0.5965050820828129},{"column":"name","similarity":0.5862630113315467}],"employee_training":[{"column":"status","similarity":0.595192045369969}],"asset_maintenance":[{"column":"status","similarity":0.58756583227351},{"column":"maintenance_type_id","similarity":0.5836180049613157}],"employee_benefits":[{"column":"benefit_type_id","similarity":0.5860432161043488},{"column":"end_date","similarity":0.5609092285346757}],"timesheets":[{"column":"status","similarity":0.5817907952742775}],"sales_orders":[{"column":"status","similarity":0.5754670907458482}],"positions":[{"column":"is_active","similarity":0.5753948179884102},{"column":"title","similarity":0.5728139979402822}],"employees":[{"column":"termination_date","similarity":0.570986454201654}],"fixed_assets":[{"column":"status","similarity":0.5698997906492048}],"purchase_requisitions":[{"column":"status","similarity":0.5624648292687259}],"vendor_invoices":[{"column":"status","similarity":0.5603695727011545}],"chart_of_accounts":[{"column":"account_type_id","similarity":0.5595433836798172}],"inventory_transactions":[{"column":"transaction_type","similarity":0.5589784724046583}],"bank_transactions":[{"column":"transaction_type","similarity":0.5583149392151486}],"stock_transfers":[{"column":"status","similarity":0.556932657372917}],"sales_quotes":[{"column":"status","similarity":0.5558161462227229}],"sales_opportunities":[{"column":"source","similarity":0.5553635771952049}],"inventory_adjustments":[{"column":"status","similarity":0.5541098667634835}]},"fused_scores":[{"table":"leave_types","fused":0.92249438434967,"table_sim":0.7907961003152969,"col_score":1.1200418104012295},{"table":"leave_requests","fused":0.8400325985595832,"table_sim":0.7143778015997992,"col_score":1.0285147939992592},{"table":"maintenance_types","fused":0.7441095655709671,"table_sim":0.6481400096068088,"col_score":0.8880638995172044},{"table":"account_types","fused":0.7342438626207102,"table_sim":0.6192881819056906,"col_score":0.9066773836932396},{"table":"benefit_types","fused":0.6358239526121345,"table_sim":0.6269933285396667,"col_score":0.649069888720836},{"table":"employment_history","fused":0.35711918944979204,"table_sim":0,"col_score":0.8927979736244801},{"table":"positions","fused":0.3096808736944903,"table_sim":0,"col_score":0.7742021842362258},{"table":"employee_benefits","fused":0.3064097416684792,"table_sim":0,"col_score":0.7660243541711979},{"table":"asset_maintenance","fused":0.24622495373116698,"table_sim":0,"col_score":0.6155623843279174},{"table":"employees","fused":0.2283945816806616,"table_sim":0,"col_score":0.570986454201654},{"table":"inventory_transactions","fused":0.2235913889618633,"table_sim":0,"col_score":0.5589784724046583},{"table":"bank_transactions","fused":0.22332597568605947,"table_sim":0,"col_score":0.5583149392151486},{"table":"sales_opportunities","fused":0.22214543087808197,"table_sim":0,"col_score":0.5553635771952049},{"table":"employee_training","fused":0.1666537727035913,"table_sim":0,"col_score":0.41663443175897824},{"table":"timesheets","fused":0.1629014226767977,"table_sim":0,"col_score":0.4072535566919942}],"fk_expansion_candidates":96,"fk_expansion_added":2,"fk_expansion_blocked_count":90,"fk_expansion_blocked":[{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":27,"total_retrieval_latency_ms":34,"sql_generated":"SELECT lt.name FROM leave_types AS lt;","tables_used_in_sql":[],"explain_result":"success","rows_returned":8,"total_latency_ms":326}
{"timestamp":"2026-02-01T21:38:41.280Z","query_id":"b5aa7e87-b61d-49cd-99fe-2ffd1b368bf8","question":"List all training courses that are mandatory","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["training_courses","employee_training","certifications","employee_certifications","maintenance_types","leave_types","product_suppliers","purchase_requisitions","project_milestones","sales_orders"],"tables_from_table_retrieval":5,"tables_from_column_only":15,"tables_from_fk_expansion":0,"table_scores":[{"table":"training_courses","similarity":0.7873697953142612},{"table":"training_courses","similarity":0.7873697953142612},{"table":"training_courses","similarity":0.7832587829851695},{"table":"employee_training","similarity":0.6622740415541937},{"table":"employee_training","similarity":0.6622740415541937},{"table":"employee_training","similarity":0.6570057454586046},{"table":"certifications","similarity":0.5965030477585557},{"table":"certifications","similarity":0.5965030477585557},{"table":"certifications","similarity":0.5900939338505992},{"table":"employee_certifications","similarity":0.5760162077924663},{"table":"employee_certifications","similarity":0.5662772014922313},{"table":"employee_certifications","similarity":0.5662772014922313},{"table":"maintenance_types","similarity":0.5048094520010439},{"table":"maintenance_types","similarity":0.5048094520010439},{"table":"maintenance_types","similarity":0.49281971341629327}],"column_hits_per_table":{"training_courses":7,"employee_training":7,"certifications":5,"employee_certifications":6,"leave_types":3,"sales_orders":1,"purchase_requisitions":2,"maintenance_types":5,"emergency_contacts":1,"project_milestones":2,"benefit_types":1,"business_units":1,"product_suppliers":2,"units_of_measure":1,"requisition_lines":1,"asset_maintenance":1,"project_resources":1,"project_tasks":1,"vendor_contacts":1,"reorder_rules":1},"top_columns_per_table":{"training_courses":[{"column":"is_mandatory","similarity":0.814547688206976},{"column":"description","similarity":0.7210520541882913},{"column":"is_active","similarity":0.6998661786347449}],"employee_training":[{"column":"course_id","similarity":0.6460785266021282},{"column":"scheduled_date","similarity":0.6379019386890121},{"column":"completion_date","similarity":0.6234909008328433}],"certifications":[{"column":"description","similarity":0.6095125615154784},{"column":"issuing_body","similarity":0.57698393195182},{"column":"validity_years","similarity":0.5591744479508656}],"employee_certifications":[{"column":"certificate_number","similarity":0.5514558044255654},{"column":"certification_id","similarity":0.549379266890378},{"column":"cert_id","similarity":0.5486469080412996}],"leave_types":[{"column":"requires_approval","similarity":0.536554743713736},{"column":"is_paid","similarity":0.5021468966647877},{"column":"days_allowed","similarity":0.4821299724271749}],"sales_orders":[{"column":"required_date","similarity":0.5223999513586965}],"purchase_requisitions":[{"column":"required_date","similarity":0.5174102340873212},{"column":"notes","similarity":0.4846003356482508}],"maintenance_types":[{"column":"description","similarity":0.5119510628120414},{"column":"frequency_months","similarity":0.4922702669089287},{"column":"estimated_cost","similarity":0.48121611757654414}],"emergency_contacts":[{"column":"is_primary","similarity":0.5002447464244713}],"project_milestones":[{"column":"is_billable","similarity":0.49541387707350004},{"column":"description","similarity":0.4782212883173893}],"benefit_types":[{"column":"is_active","similarity":0.4905257359031393}],"business_units":[{"column":"is_active","similarity":0.4871697428534034}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.48362340098118217},{"column":"is_preferred","similarity":0.4765496659303714}],"units_of_measure":[{"column":"base_uom_id","similarity":0.4831180064251368}],"requisition_lines":[{"column":"quantity","similarity":0.48169140071868866}],"asset_maintenance":[{"column":"notes","similarity":0.47855041994114966}],"project_resources":[{"column":"hourly_rate","similarity":0.47812599772471986}],"project_tasks":[{"column":"priority","similarity":0.4780592694168637}],"vendor_contacts":[{"column":"is_primary","similarity":0.477243459923855}],"reorder_rules":[{"column":"max_quantity","similarity":0.4768456096343272}]},"fused_scores":[{"table":"training_courses","fused":0.9347595035621551,"table_sim":0.7832587829851695,"col_score":1.1620105844276334},{"table":"employee_training","fused":0.7740624029173362,"table_sim":0.6570057454586046,"col_score":0.9496473891054338},{"table":"certifications","fused":0.6966848226812605,"table_sim":0.5900939338505992,"col_score":0.8565711559272527},{"table":"employee_certifications","fused":0.6688391740505231,"table_sim":0.5662772014922313,"col_score":0.8226821328879609},{"table":"maintenance_types","fused":0.5888431583286563,"table_sim":0.49281971341629327,"col_score":0.7328783256972008},{"table":"leave_types","fused":0.3110478919709294,"table_sim":0,"col_score":0.7776197299273235},{"table":"product_suppliers","fused":0.2887592935785472,"table_sim":0,"col_score":0.7218982339463679},{"table":"purchase_requisitions","fused":0.27480814062568365,"table_sim":0,"col_score":0.687020351564209},{"table":"project_milestones","fused":0.26511653119383455,"table_sim":0,"col_score":0.6627913279845863},{"table":"sales_orders","fused":0.20895998054347864,"table_sim":0,"col_score":0.5223999513586965},{"table":"emergency_contacts","fused":0.20009789856978852,"table_sim":0,"col_score":0.5002447464244713},{"table":"requisition_lines","fused":0.19267656028747548,"table_sim":0,"col_score":0.48169140071868866},{"table":"project_resources","fused":0.19125039908988795,"table_sim":0,"col_score":0.47812599772471986},{"table":"project_tasks","fused":0.1912237077667455,"table_sim":0,"col_score":0.4780592694168637},{"table":"vendor_contacts","fused":0.190897383969542,"table_sim":0,"col_score":0.477243459923855}],"fk_expansion_candidates":39,"fk_expansion_added":0,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":27,"total_retrieval_latency_ms":33,"sql_generated":"SELECT tc.* FROM training_courses AS tc WHERE tc.is_mandatory = TRUE;","tables_used_in_sql":[],"explain_result":"success","rows_returned":4,"total_latency_ms":431}
{"timestamp":"2026-02-01T21:38:41.712Z","query_id":"737298b9-67c7-4e5b-87fd-cf8cb2133a40","question":"What are the different opportunity stages?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["opportunity_stages","sales_opportunities","project_phases","project_tasks","positions","projects","vendor_contacts","sales_quotes","employment_history","performance_reviews","task_assignments"],"tables_from_table_retrieval":5,"tables_from_column_only":17,"tables_from_fk_expansion":1,"table_scores":[{"table":"opportunity_stages","similarity":0.8221357699980866},{"table":"opportunity_stages","similarity":0.8176629035369016},{"table":"opportunity_stages","similarity":0.8176629035369016},{"table":"sales_opportunities","similarity":0.705452578214936},{"table":"sales_opportunities","similarity":0.6734243089266532},{"table":"sales_opportunities","similarity":0.6734243089266532},{"table":"project_phases","similarity":0.5910011427333453},{"table":"project_tasks","similarity":0.5856436723604402},{"table":"project_phases","similarity":0.5850374728279742},{"table":"project_phases","similarity":0.5850374728279742},{"table":"project_tasks","similarity":0.5669780419060751},{"table":"project_tasks","similarity":0.5669780419060751},{"table":"positions","similarity":0.5469043796027597},{"table":"positions","similarity":0.5469043796027597},{"table":"positions","similarity":0.5399052196547368}],"column_hits_per_table":{"opportunity_stages":6,"sales_opportunities":11,"project_phases":7,"sales_quotes":2,"project_tasks":4,"projects":3,"positions":1,"stock_transfers":1,"employment_history":1,"vendor_invoices":1,"sales_orders":1,"purchase_requisitions":1,"performance_reviews":1,"timesheets":1,"vendor_contacts":2,"employee_training":1,"purchase_orders":1,"task_assignments":1,"project_expenses":1,"journal_entries":1,"warehouse_locations":1,"leave_requests":1},"top_columns_per_table":{"opportunity_stages":[{"column":"name","similarity":0.7995522492175101},{"column":"probability","similarity":0.775558879369367},{"column":"sequence","similarity":0.7708343654238288}],"sales_opportunities":[{"column":"stage_id","similarity":0.7059415983640481},{"column":"source","similarity":0.6711321363690625},{"column":"name","similarity":0.6452724499361098}],"project_phases":[{"column":"status","similarity":0.6232576702180161},{"column":"description","similarity":0.6034091478912608},{"column":"start_date","similarity":0.6030372572830889}],"sales_quotes":[{"column":"opportunity_id","similarity":0.6147463179178642},{"column":"status","similarity":0.54330303115206}],"project_tasks":[{"column":"priority","similarity":0.5858528199183252},{"column":"status","similarity":0.5730801962534186},{"column":"phase_id","similarity":0.5607037044154554}],"projects":[{"column":"priority","similarity":0.5810811398487153},{"column":"status","similarity":0.5620351291324196},{"column":"start_date","similarity":0.5420441244772041}],"positions":[{"column":"title","similarity":0.5721393185558201}],"stock_transfers":[{"column":"status","similarity":0.5591229145906735}],"employment_history":[{"column":"position","similarity":0.5582251887233417}],"vendor_invoices":[{"column":"status","similarity":0.5574741035348497}],"sales_orders":[{"column":"status","similarity":0.5556357399820548}],"purchase_requisitions":[{"column":"status","similarity":0.5554818743499551}],"performance_reviews":[{"column":"review_period_start","similarity":0.5509040784070887}],"timesheets":[{"column":"status","similarity":0.5496387852297092}],"vendor_contacts":[{"column":"title","similarity":0.5480716599019128},{"column":"first_name","similarity":0.5390129346005467}],"employee_training":[{"column":"status","similarity":0.5462098751481785}],"purchase_orders":[{"column":"status","similarity":0.5452189780991694}],"task_assignments":[{"column":"role","similarity":0.5440927669761538}],"project_expenses":[{"column":"status","similarity":0.5419099926956821}],"journal_entries":[{"column":"status","similarity":0.541055083798884}],"warehouse_locations":[{"column":"aisle","similarity":0.5391761865875615}],"leave_requests":[{"column":"status","similarity":0.5379293041870119}]},"fused_scores":[{"table":"opportunity_stages","fused":0.9549881669546535,"table_sim":0.8176629035369016,"col_score":1.1609760620812812},{"table":"sales_opportunities","fused":0.8004357023749251,"table_sim":0.6734243089266532,"col_score":0.9909527925473333},{"table":"project_phases","fused":0.7083626528142624,"table_sim":0.5850374728279742,"col_score":0.8933504227936944},{"table":"project_tasks","fused":0.6842981253519156,"table_sim":0.5669780419060751,"col_score":0.8602782505206762},{"table":"positions","fused":0.5527988592151701,"table_sim":0.5399052196547368,"col_score":0.5721393185558201},{"table":"projects","fused":0.340841280834927,"table_sim":0,"col_score":0.8521032020873174},{"table":"vendor_contacts","fused":0.2946904748048416,"table_sim":0,"col_score":0.736726187012104},{"table":"sales_quotes","fused":0.24819139337829035,"table_sim":0,"col_score":0.6204784834457259},{"table":"employment_history","fused":0.2232900754893367,"table_sim":0,"col_score":0.5582251887233417},{"table":"performance_reviews","fused":0.2203616313628355,"table_sim":0,"col_score":0.5509040784070887},{"table":"task_assignments","fused":0.21763710679046155,"table_sim":0,"col_score":0.5440927669761538},{"table":"warehouse_locations","fused":0.21567047463502462,"table_sim":0,"col_score":0.5391761865875615},{"table":"stock_transfers","fused":0.1565544160853886,"table_sim":0,"col_score":0.39138604021347145},{"table":"vendor_invoices","fused":0.15609274898975792,"table_sim":0,"col_score":0.3902318724743948},{"table":"sales_orders","fused":0.15557800719497536,"table_sim":0,"col_score":0.38894501798743836}],"fk_expansion_candidates":36,"fk_expansion_added":1,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"task_assignments","reason":"already_selected"},{"table":"task_assignments","reason":"already_selected"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":14,"total_retrieval_latency_ms":20,"sql_generated":"SELECT os.name FROM public.opportunity_stages AS os JOIN public.sales_opportunities AS so ON os.stage_id = so.stage_id;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"os","column":"name","resolved_table":"opportunity_stages","suggested_columns":[]},{"alias":"os","column":"stage_id","resolved_table":"opportunity_stages","suggested_columns":[]},{"alias":"so","column":"stage_id","resolved_table":"sales_opportunities","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":500,"total_latency_ms":1268}
{"timestamp":"2026-02-01T21:38:42.980Z","query_id":"26998099-3b68-471c-8fb0-21a29d96583b","question":"List all countries in the system","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["countries","states_provinces","currencies","tax_rates","sales_territories","fiscal_periods","opportunity_stages","bank_transactions","sales_regions","cities","bank_accounts"],"tables_from_table_retrieval":5,"tables_from_column_only":19,"tables_from_fk_expansion":1,"table_scores":[{"table":"countries","similarity":0.7023951106153551},{"table":"countries","similarity":0.7023951106153551},{"table":"countries","similarity":0.7008865097920517},{"table":"states_provinces","similarity":0.6734638308582259},{"table":"states_provinces","similarity":0.6591125545328295},{"table":"states_provinces","similarity":0.6591125545328295},{"table":"tax_rates","similarity":0.6116670532927957},{"table":"tax_rates","similarity":0.6061652945068768},{"table":"tax_rates","similarity":0.6061652945068768},{"table":"currencies","similarity":0.6020049493436493},{"table":"currencies","similarity":0.6020049493436493},{"table":"sales_territories","similarity":0.5947794602061558},{"table":"sales_territories","similarity":0.5849505696482399},{"table":"sales_territories","similarity":0.5849505696482399},{"table":"currencies","similarity":0.5771716778997639}],"column_hits_per_table":{"countries":4,"states_provinces":4,"tax_rates":3,"sales_regions":3,"currencies":5,"sales_territories":3,"cities":2,"fiscal_periods":5,"departments":1,"opportunity_stages":3,"bank_accounts":2,"certifications":1,"customers":1,"bank_transactions":2,"chart_of_accounts":2,"purchase_orders":1,"depreciation_schedules":1,"asset_categories":1,"employee_certifications":1,"budgets":1,"purchase_requisitions":1,"business_units":1,"sales_orders":1,"units_of_measure":1},"top_columns_per_table":{"countries":[{"column":"iso_code","similarity":0.7083775622560948},{"column":"country_id","similarity":0.7028095022039754},{"column":"name","similarity":0.6970026208946949}],"states_provinces":[{"column":"country_id","similarity":0.6563023532078734},{"column":"abbreviation","similarity":0.610560847165871},{"column":"state_id","similarity":0.6086767321787677}],"tax_rates":[{"column":"country_id","similarity":0.6387496649533285},{"column":"is_active","similarity":0.5264660070125073},{"column":"tax_type","similarity":0.5228388468873347}],"sales_regions":[{"column":"region_id","similarity":0.5880376169487528},{"column":"name","similarity":0.5823393740796537},{"column":"target_revenue","similarity":0.5801802361991993}],"currencies":[{"column":"code","similarity":0.5822359917761808},{"column":"symbol","similarity":0.581336012492315},{"column":"currency_id","similarity":0.5776652580200841}],"sales_territories":[{"column":"territory_id","similarity":0.579860320592295},{"column":"region_id","similarity":0.5750186636565423},{"column":"name","similarity":0.5543913807302997}],"cities":[{"column":"state_id","similarity":0.561394466233867},{"column":"postal_code","similarity":0.5370910514815247}],"fiscal_periods":[{"column":"period_id","similarity":0.5496379201904278},{"column":"period_number","similarity":0.5424020784794457},{"column":"is_closed","similarity":0.5331943381268962}],"departments":[{"column":"budget","similarity":0.548192913887592}],"opportunity_stages":[{"column":"is_won","similarity":0.5424096057947908},{"column":"is_closed","similarity":0.5277608595146904},{"column":"stage_id","similarity":0.5252744287271072}],"bank_accounts":[{"column":"currency_id","similarity":0.5421220565667533},{"column":"account_number","similarity":0.5251662683345438}],"certifications":[{"column":"issuing_body","similarity":0.5363419232957559}],"customers":[{"column":"currency_id","similarity":0.5360168510784518}],"bank_transactions":[{"column":"reconciled","similarity":0.5347524839098835},{"column":"reference","similarity":0.522643358832243}],"chart_of_accounts":[{"column":"account_number","similarity":0.5329009773739953},{"column":"is_active","similarity":0.5235896571283579}],"purchase_orders":[{"column":"total","similarity":0.5290507808378154}],"depreciation_schedules":[{"column":"depreciation_method","similarity":0.5287294649500551}],"asset_categories":[{"column":"depreciation_method","similarity":0.5276413708583213}],"employee_certifications":[{"column":"certificate_number","similarity":0.5267762383677346}],"budgets":[{"column":"total_amount","similarity":0.5266785560945311}],"purchase_requisitions":[{"column":"requisition_number","similarity":0.5257685863079752}],"business_units":[{"column":"is_active","similarity":0.523602018511161}],"sales_orders":[{"column":"total","similarity":0.5224556777614774}],"units_of_measure":[{"column":"conversion_factor","similarity":0.5222786094381444}]},"fused_scores":[{"table":"countries","fused":0.8427695063608152,"table_sim":0.7008865097920517,"col_score":1.0555940012139602},{"table":"states_provinces","fused":0.7315742010351484,"table_sim":0.6591125545328295,"col_score":0.8402666707886267},{"table":"currencies","fused":0.6954646059487937,"table_sim":0.5771716778997639,"col_score":0.8729039980223383},{"table":"tax_rates","fused":0.6622596685525259,"table_sim":0.6061652945068768,"col_score":0.7464012296209996},{"table":"sales_territories","fused":0.5938338444667024,"table_sim":0.5849505696482399,"col_score":0.6071587566943962},{"table":"fiscal_periods","fused":0.3235996990171575,"table_sim":0,"col_score":0.8089992475428938},{"table":"opportunity_stages","fused":0.32251601422085446,"table_sim":0,"col_score":0.8062900355521361},{"table":"bank_transactions","fused":0.318429665330402,"table_sim":0,"col_score":0.796074163326005},{"table":"sales_regions","fused":0.31439736085250514,"table_sim":0,"col_score":0.7859934021312628},{"table":"cities","fused":0.29343164586535125,"table_sim":0,"col_score":0.7335791146633781},{"table":"chart_of_accounts","fused":0.28646294294756824,"table_sim":0,"col_score":0.7161573573689206},{"table":"bank_accounts","fused":0.285963595253163,"table_sim":0,"col_score":0.7149089881329075},{"table":"departments","fused":0.2192771655550368,"table_sim":0,"col_score":0.548192913887592},{"table":"certifications","fused":0.21453676931830237,"table_sim":0,"col_score":0.5363419232957559},{"table":"purchase_orders","fused":0.21162031233512618,"table_sim":0,"col_score":0.5290507808378154}],"fk_expansion_candidates":30,"fk_expansion_added":1,"fk_expansion_blocked_count":27,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"bank_accounts","reason":"already_selected"},{"table":"bank_accounts","reason":"already_selected"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":31,"sql_generated":"SELECT c.name AS country_name FROM countries c;","tables_used_in_sql":[],"explain_result":"success","rows_returned":10,"total_latency_ms":574}
{"timestamp":"2026-02-01T21:38:43.555Z","query_id":"79d4435b-1a6a-4f18-9e29-e815d29ff659","question":"How many departments are there?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["departments","inventory_levels","employees","sales_territories","positions","budgets","cost_centers","warehouse_locations","asset_locations","asset_categories","employee_certifications","sales_orders"],"tables_from_table_retrieval":7,"tables_from_column_only":16,"tables_from_fk_expansion":2,"table_scores":[{"table":"departments","similarity":0.6535557627991134},{"table":"departments","similarity":0.6535557627991134},{"table":"departments","similarity":0.6407681888721862},{"table":"positions","similarity":0.5959740852224922},{"table":"positions","similarity":0.5959740852224922},{"table":"positions","similarity":0.5909863911053447},{"table":"cost_centers","similarity":0.574249226454042},{"table":"inventory_levels","similarity":0.5635818909554858},{"table":"cost_centers","similarity":0.562339325750535},{"table":"cost_centers","similarity":0.562339325750535},{"table":"budgets","similarity":0.5602507290061229},{"table":"sales_territories","similarity":0.5569437466660422},{"table":"employees","similarity":0.5540635075766074},{"table":"sales_territories","similarity":0.5531933158048384},{"table":"sales_territories","similarity":0.5531933158048384}],"column_hits_per_table":{"departments":6,"positions":1,"budgets":1,"purchase_requisitions":1,"cost_centers":1,"employees":3,"warehouse_locations":4,"inventory_levels":5,"sales_orders":2,"business_units":2,"employee_certifications":1,"countries":2,"receipt_lines":1,"asset_categories":4,"sales_territories":2,"goods_receipts":1,"asset_locations":4,"states_provinces":3,"product_categories":2,"journal_entries":1,"chart_of_accounts":1,"sales_regions":1,"inventory_transactions":1},"top_columns_per_table":{"departments":[{"column":"name","similarity":0.678380475338454},{"column":"department_id","similarity":0.6593894511959907},{"column":"budget","similarity":0.631673223767257}],"positions":[{"column":"department_id","similarity":0.6072106973795759}],"budgets":[{"column":"department_id","similarity":0.5890663072722551}],"purchase_requisitions":[{"column":"department_id","similarity":0.5855616262286726}],"cost_centers":[{"column":"department_id","similarity":0.5801677807148357}],"employees":[{"column":"department_id","similarity":0.5766911086411527},{"column":"phone","similarity":0.5295780565782041},{"column":"employee_number","similarity":0.5251671661617511}],"warehouse_locations":[{"column":"capacity","similarity":0.5507916811505368},{"column":"aisle","similarity":0.5346342650807901},{"column":"bin","similarity":0.5344635750630128}],"inventory_levels":[{"column":"quantity_available","similarity":0.5467954154024948},{"column":"location_id","similarity":0.532130309929655},{"column":"quantity_reserved","similarity":0.5279718840166341}],"sales_orders":[{"column":"order_number","similarity":0.5423432633706802},{"column":"status","similarity":0.5226058429697297}],"business_units":[{"column":"is_active","similarity":0.5413660134598213},{"column":"name","similarity":0.5225405146150363}],"employee_certifications":[{"column":"certificate_number","similarity":0.5375188956698979}],"countries":[{"column":"name","similarity":0.5369300526104707},{"column":"iso_code","similarity":0.5206752985321579}],"receipt_lines":[{"column":"location_id","similarity":0.5363959514134431}],"asset_categories":[{"column":"category_id","similarity":0.5357603627459196},{"column":"depreciation_method","similarity":0.5284195914126985},{"column":"name","similarity":0.5197745476582827}],"sales_territories":[{"column":"territory_id","similarity":0.5346785292416978},{"column":"name","similarity":0.5288174476965474}],"goods_receipts":[{"column":"receipt_number","similarity":0.5337386452781889}],"asset_locations":[{"column":"room","similarity":0.5330969405978414},{"column":"description","similarity":0.5283506129509129},{"column":"building","similarity":0.5225884931150223}],"states_provinces":[{"column":"abbreviation","similarity":0.5328751078215296},{"column":"name","similarity":0.5263993354834775},{"column":"country_id","similarity":0.5203449985844515}],"product_categories":[{"column":"is_active","similarity":0.5291272971983432},{"column":"category_id","similarity":0.5230748940289889}],"journal_entries":[{"column":"entry_number","similarity":0.5229571409622702}],"chart_of_accounts":[{"column":"account_number","similarity":0.522049128691497}],"sales_regions":[{"column":"name","similarity":0.5218640467095127}],"inventory_transactions":[{"column":"location_id","similarity":0.52026154765506}]},"fused_scores":[{"table":"departments","fused":0.7321034693775981,"table_sim":0.6407681888721862,"col_score":0.8691063901357159},{"table":"inventory_levels","fused":0.6624616775376162,"table_sim":0.5635818909554858,"col_score":0.8107813574108118},{"table":"employees","fused":0.6493027604095962,"table_sim":0.5540635075766074,"col_score":0.7921616396590796},{"table":"sales_territories","fused":0.555660420348095,"table_sim":0.5531933158048384,"col_score":0.55936107716298},{"table":"positions","fused":0.524610829929488,"table_sim":0.5909863911053447,"col_score":0.4250474881657031},{"table":"budgets","fused":0.5010890034399051,"table_sim":0.5602507290061229,"col_score":0.4123464150905785},{"table":"cost_centers","fused":0.499850574050475,"table_sim":0.562339325750535,"col_score":0.40611744650038495},{"table":"warehouse_locations","fused":0.32724352547637275,"table_sim":0,"col_score":0.8181088136909318},{"table":"asset_locations","fused":0.3177564748621411,"table_sim":0,"col_score":0.7943911871553526},{"table":"asset_categories","fused":0.3151618766771569,"table_sim":0,"col_score":0.7879046916928921},{"table":"sales_orders","fused":0.29010212336403424,"table_sim":0,"col_score":0.7252553084100856},{"table":"states_provinces","fused":0.2868459500962987,"table_sim":0,"col_score":0.7171148752407467},{"table":"countries","fused":0.2834403267783291,"table_sim":0,"col_score":0.7086008169458227},{"table":"business_units","fused":0.22473815581485504,"table_sim":0,"col_score":0.5618453895371376},{"table":"product_categories","fused":0.2213861283795945,"table_sim":0,"col_score":0.5534653209489863}],"fk_expansion_candidates":111,"fk_expansion_added":2,"fk_expansion_blocked_count":96,"fk_expansion_blocked":[{"table":"employee_training","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"max_tables"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"max_tables"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"employee_certifications","reason":"already_selected"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"already_selected"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"already_selected"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":41,"total_retrieval_latency_ms":47,"sql_generated":"SELECT COUNT(*) FROM departments;","tables_used_in_sql":[],"explain_result":"success","sqlstate":"42P01","error_message":"relation \"hr.departments\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Unknown table or alias 'hr.departments'. Available tables: departments, inventory_levels, employees, sales_territories, positions, budgets, cost_centers, warehouse_locations, asset_locations, asset_categories, employee_certifications, sales_orders","rows_returned":1,"total_latency_ms":606}
{"timestamp":"2026-02-01T21:38:44.161Z","query_id":"a35130cf-c121-43cb-b70d-9755f18631ef","question":"List all units of measure","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["units_of_measure","products","business_units","currencies","sales_regions","requisition_lines","purchase_orders","sales_orders","order_lines","vendor_invoice_lines","adjustment_lines","inventory_levels"],"tables_from_table_retrieval":7,"tables_from_column_only":19,"tables_from_fk_expansion":2,"table_scores":[{"table":"units_of_measure","similarity":0.8089934324181249},{"table":"units_of_measure","similarity":0.7895937174937386},{"table":"units_of_measure","similarity":0.7895937174937386},{"table":"products","similarity":0.6263866411837252},{"table":"business_units","similarity":0.6082946070315649},{"table":"products","similarity":0.6051913757119329},{"table":"products","similarity":0.6051913757119329},{"table":"business_units","similarity":0.5900234669630597},{"table":"business_units","similarity":0.5900234669630597},{"table":"currencies","similarity":0.5785280842826401},{"table":"currencies","similarity":0.5720700199289973},{"table":"currencies","similarity":0.5720700199289973},{"table":"sales_regions","similarity":0.5709271404332362},{"table":"sales_territories","similarity":0.5693966691739235},{"table":"countries","similarity":0.5676275319870521}],"column_hits_per_table":{"units_of_measure":5,"products":3,"requisition_lines":3,"business_units":5,"purchase_orders":3,"sales_orders":3,"product_suppliers":1,"departments":1,"inventory_transactions":1,"sales_regions":1,"currencies":1,"order_lines":3,"vendor_invoice_lines":2,"po_lines":2,"quote_lines":2,"adjustment_lines":3,"inventory_levels":3,"reorder_rules":1,"asset_categories":1,"transfer_lines":2,"tax_rates":1,"project_milestones":1,"budgets":1,"receipt_lines":1},"top_columns_per_table":{"units_of_measure":[{"column":"abbreviation","similarity":0.7905971303186856},{"column":"conversion_factor","similarity":0.7833828440035688},{"column":"name","similarity":0.7549748821453383}],"products":[{"column":"uom_id","similarity":0.7018268610085459},{"column":"unit_cost","similarity":0.6357703641175493},{"column":"weight","similarity":0.597521277353181}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.6362527169972213},{"column":"quantity","similarity":0.608908951408363},{"column":"estimated_total","similarity":0.598798666730362}],"business_units":[{"column":"unit_id","similarity":0.6283846620229621},{"column":"name","similarity":0.6160237054357993},{"column":"parent_unit_id","similarity":0.6074989732588798}],"purchase_orders":[{"column":"total","similarity":0.6147119133982193},{"column":"tax_amount","similarity":0.6002595814679341},{"column":"subtotal","similarity":0.5887334871771862}],"sales_orders":[{"column":"total","similarity":0.606574371601994},{"column":"tax_amount","similarity":0.592411431937674},{"column":"subtotal","similarity":0.585337724387252}],"product_suppliers":[{"column":"unit_cost","similarity":0.6058427693449309}],"departments":[{"column":"budget","similarity":0.6046532256680471}],"inventory_transactions":[{"column":"quantity","similarity":0.6037555563643355}],"sales_regions":[{"column":"target_revenue","similarity":0.6026638163293001}],"currencies":[{"column":"exchange_rate","similarity":0.6025841949257517}],"order_lines":[{"column":"unit_price","similarity":0.6016699280890015},{"column":"quantity","similarity":0.5822554877944045},{"column":"line_total","similarity":0.5819165003498858}],"vendor_invoice_lines":[{"column":"unit_cost","similarity":0.6013213563918418},{"column":"quantity","similarity":0.57804483639951}],"po_lines":[{"column":"unit_cost","similarity":0.597312540023666},{"column":"quantity","similarity":0.5779166241917584}],"quote_lines":[{"column":"unit_price","similarity":0.5965595055733411},{"column":"quantity","similarity":0.5837858568841348}],"adjustment_lines":[{"column":"quantity_before","similarity":0.5945081677052466},{"column":"quantity_change","similarity":0.5890466100435946},{"column":"quantity_after","similarity":0.587875110907794}],"inventory_levels":[{"column":"quantity_available","similarity":0.5904376058765937},{"column":"quantity_reserved","similarity":0.5894690175037719},{"column":"quantity_on_hand","similarity":0.5808299611130434}],"reorder_rules":[{"column":"reorder_quantity","similarity":0.5875427358229924}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.5860444284970066}],"transfer_lines":[{"column":"quantity_transferred","similarity":0.5836411952827008},{"column":"quantity_requested","similarity":0.577863082344162}],"tax_rates":[{"column":"rate","similarity":0.5831694594676794}],"project_milestones":[{"column":"amount","similarity":0.5831155463251225}],"budgets":[{"column":"total_amount","similarity":0.5816261216703643}],"receipt_lines":[{"column":"quantity_received","similarity":0.5799887522477924}]},"fused_scores":[{"table":"units_of_measure","fused":0.9466716514244312,"table_sim":0.7895937174937386,"col_score":1.18228855232047},{"table":"products","fused":0.7369272265448157,"table_sim":0.6051913757119329,"col_score":0.9345310027941398},{"table":"business_units","fused":0.6162051043052771,"table_sim":0.5900234669630597,"col_score":0.6554775603186032},{"table":"currencies","fused":0.5842756899276991,"table_sim":0.5720700199289973,"col_score":0.6025841949257517},{"table":"sales_regions","fused":0.5836218107916618,"table_sim":0.5709271404332362,"col_score":0.6026638163293001},{"table":"requisition_lines","fused":0.37628287708056113,"table_sim":0,"col_score":0.9407071927014028},{"table":"purchase_orders","fused":0.3659366816528746,"table_sim":0,"col_score":0.9148417041321864},{"table":"sales_orders","fused":0.3611120350283324,"table_sim":0,"col_score":0.902780087570831},{"table":"order_lines","fused":0.3571190687944816,"table_sim":0,"col_score":0.8927976719862039},{"table":"vendor_invoice_lines","fused":0.3561375098366387,"table_sim":0,"col_score":0.8903437745915967},{"table":"adjustment_lines","fused":0.35561258909081755,"table_sim":0,"col_score":0.8890314727270439},{"table":"quote_lines","fused":0.35538097360616344,"table_sim":0,"col_score":0.8884524340154085},{"table":"po_lines","fused":0.35450834084781807,"table_sim":0,"col_score":0.8862708521195451},{"table":"inventory_levels","fused":0.35406884585139187,"table_sim":0,"col_score":0.8851721146284797},{"table":"transfer_lines","fused":0.3490290945819127,"table_sim":0,"col_score":0.8725727364547817}],"fk_expansion_candidates":66,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"already_selected"},{"table":"adjustment_lines","reason":"already_selected"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"inventory_levels","reason":"already_selected"},{"table":"inventory_levels","reason":"already_selected"},{"table":"inventory_transactions","reason":"max_tables"},{"table":"inventory_transactions","reason":"max_tables"},{"table":"inventory_transactions","reason":"max_tables"},{"table":"po_lines","reason":"max_tables"},{"table":"po_lines","reason":"max_tables"},{"table":"po_lines","reason":"max_tables"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"product_suppliers","reason":"max_tables"},{"table":"product_suppliers","reason":"max_tables"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"max_tables"},{"table":"quote_lines","reason":"max_tables"},{"table":"quote_lines","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_territories","reason":"max_tables"},{"table":"sales_territories","reason":"max_tables"},{"table":"sales_territories","reason":"max_tables"},{"table":"transfer_lines","reason":"max_tables"},{"table":"transfer_lines","reason":"max_tables"},{"table":"transfer_lines","reason":"max_tables"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":15,"total_retrieval_latency_ms":22,"sql_generated":"SELECT uom_id AS unit_measure_id, name AS unit_measure_name FROM public.units_of_measure;","tables_used_in_sql":[],"explain_result":"success","rows_returned":11,"total_latency_ms":490}
{"timestamp":"2026-02-01T21:38:44.651Z","query_id":"132955c9-a20a-458b-8b5c-15793dc5c655","question":"What fiscal years exist in the system?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["fiscal_years","fiscal_periods","budgets","budget_lines","journal_entries","depreciation_schedules","project_expenses","depreciation_entries","project_budgets","departments","projects"],"tables_from_table_retrieval":5,"tables_from_column_only":14,"tables_from_fk_expansion":1,"table_scores":[{"table":"fiscal_years","similarity":0.8183387248728355},{"table":"fiscal_years","similarity":0.8183387248728355},{"table":"fiscal_years","similarity":0.7923960498118316},{"table":"fiscal_periods","similarity":0.7699028512495149},{"table":"fiscal_periods","similarity":0.7699028512495149},{"table":"fiscal_periods","similarity":0.7616670856526071},{"table":"budgets","similarity":0.6929504016420824},{"table":"budgets","similarity":0.6929504016420824},{"table":"budgets","similarity":0.6911637589323553},{"table":"journal_entries","similarity":0.6311027258951736},{"table":"journal_entries","similarity":0.6311027258951736},{"table":"journal_entries","similarity":0.6269724979465695},{"table":"budget_lines","similarity":0.6265695821327767},{"table":"budget_lines","similarity":0.6265695821327767},{"table":"budget_lines","similarity":0.6218203134963756}],"column_hits_per_table":{"fiscal_years":5,"fiscal_periods":7,"budgets":8,"budget_lines":2,"depreciation_entries":3,"journal_entries":1,"depreciation_schedules":7,"departments":1,"project_expenses":2,"tax_rates":1,"project_budgets":5,"goods_receipts":1,"project_milestones":1,"projects":1,"timesheet_entries":1,"certifications":1,"inventory_levels":1,"asset_categories":1,"performance_reviews":1},"top_columns_per_table":{"fiscal_years":[{"column":"year","similarity":0.7902938308136325},{"column":"start_date","similarity":0.7844335948238378},{"column":"is_closed","similarity":0.7638424844354721}],"fiscal_periods":[{"column":"start_date","similarity":0.7601567095836461},{"column":"period_number","similarity":0.7434306851749984},{"column":"fiscal_year_id","similarity":0.7373948668168524}],"budgets":[{"column":"fiscal_year_id","similarity":0.7068934556378452},{"column":"status","similarity":0.6300839143318829},{"column":"created_at","similarity":0.6147789265228972}],"budget_lines":[{"column":"period_id","similarity":0.6839294330886287},{"column":"amount","similarity":0.5950811318817956}],"depreciation_entries":[{"column":"period_id","similarity":0.6671048533605741},{"column":"entry_date","similarity":0.6166792618330323},{"column":"accumulated_depreciation","similarity":0.5915536252801723}],"journal_entries":[{"column":"period_id","similarity":0.6645913597158091}],"depreciation_schedules":[{"column":"start_date","similarity":0.6314787914062867},{"column":"annual_amount","similarity":0.6313190612846479},{"column":"useful_life_months","similarity":0.6308778018363276}],"departments":[{"column":"budget","similarity":0.6263454768284962}],"project_expenses":[{"column":"expense_date","similarity":0.6141262646464515},{"column":"is_billable","similarity":0.5998077038798406}],"tax_rates":[{"column":"is_active","similarity":0.6079363851045628}],"project_budgets":[{"column":"category","similarity":0.6067101243827773},{"column":"actual_amount","similarity":0.6035940113028686},{"column":"planned_amount","similarity":0.5909686825338804}],"goods_receipts":[{"column":"receipt_date","similarity":0.5995701019739215}],"project_milestones":[{"column":"is_billable","similarity":0.5993047255562765}],"projects":[{"column":"budget","similarity":0.598827943777881}],"timesheet_entries":[{"column":"is_billable","similarity":0.5944565914670504}],"certifications":[{"column":"validity_years","similarity":0.5933814278726485}],"inventory_levels":[{"column":"last_count_date","similarity":0.5777729074188763}],"asset_categories":[{"column":"useful_life_years","similarity":0.5760847255808716}],"performance_reviews":[{"column":"review_period_start","similarity":0.5749621953817389}]},"fused_scores":[{"table":"fiscal_years","fused":0.9484418811773195,"table_sim":0.7923960498118316,"col_score":1.1825106282255513},{"table":"fiscal_periods","fused":0.9097490722600224,"table_sim":0.7616670856526071,"col_score":1.1318720521711454},{"table":"budgets","fused":0.7755758986289861,"table_sim":0.6911637589323553,"col_score":0.9021941081739324},{"table":"budget_lines","fused":0.7068747614829516,"table_sim":0.6218203134963756,"col_score":0.8344564334628156},{"table":"journal_entries","fused":0.5622690794883682,"table_sim":0.6269724979465695,"col_score":0.46521395180106634},{"table":"depreciation_schedules","fused":0.3788553288194443,"table_sim":0,"col_score":0.9471383220486107},{"table":"project_expenses","fused":0.3656120466345487,"table_sim":0,"col_score":0.9140301165863718},{"table":"depreciation_entries","fused":0.36498242978924744,"table_sim":0,"col_score":0.9124560744731185},{"table":"project_budgets","fused":0.36340285201368466,"table_sim":0,"col_score":0.9085071300342116},{"table":"departments","fused":0.2505381907313985,"table_sim":0,"col_score":0.6263454768284962},{"table":"goods_receipts","fused":0.2398280407895686,"table_sim":0,"col_score":0.5995701019739215},{"table":"project_milestones","fused":0.2397218902225106,"table_sim":0,"col_score":0.5993047255562765},{"table":"projects","fused":0.23953117751115238,"table_sim":0,"col_score":0.598827943777881},{"table":"timesheet_entries","fused":0.2377826365868202,"table_sim":0,"col_score":0.5944565914670504},{"table":"certifications","fused":0.2373525711490594,"table_sim":0,"col_score":0.5933814278726485}],"fk_expansion_candidates":24,"fk_expansion_added":1,"fk_expansion_blocked_count":21,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"projects","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":26,"sql_generated":"SELECT DISTINCT fy.year FROM fiscal_years AS fy;","tables_used_in_sql":[],"explain_result":"success","rows_returned":4,"total_latency_ms":359}
{"timestamp":"2026-02-01T21:38:45.010Z","query_id":"4c2847e2-95b5-4b8a-ac9b-56bf667e44b5","question":"What are the different asset categories?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["asset_categories","account_types","asset_locations","fixed_assets","asset_maintenance","product_categories","asset_transfers","benefit_types","project_expenses","project_budgets"],"tables_from_table_retrieval":6,"tables_from_column_only":7,"tables_from_fk_expansion":0,"table_scores":[{"table":"asset_categories","similarity":0.8168827711422647},{"table":"asset_categories","similarity":0.8134793431523083},{"table":"asset_categories","similarity":0.8134793431523083},{"table":"fixed_assets","similarity":0.6620037919617541},{"table":"asset_locations","similarity":0.6468082033879321},{"table":"asset_locations","similarity":0.6468082033879321},{"table":"account_types","similarity":0.6392335414992715},{"table":"account_types","similarity":0.6392335414992715},{"table":"asset_locations","similarity":0.6390829860060242},{"table":"account_types","similarity":0.6334397842726383},{"table":"fixed_assets","similarity":0.6332464262776372},{"table":"fixed_assets","similarity":0.6332464262776372},{"table":"product_categories","similarity":0.622177487707741},{"table":"asset_maintenance","similarity":0.621270551657517},{"table":"product_categories","similarity":0.6161228444008824}],"column_hits_per_table":{"asset_categories":5,"fixed_assets":10,"account_types":4,"product_categories":5,"asset_locations":6,"asset_transfers":5,"asset_maintenance":6,"project_expenses":1,"project_budgets":1,"depreciation_entries":1,"benefit_types":4,"inventory_transactions":1,"depreciation_schedules":1},"top_columns_per_table":{"asset_categories":[{"column":"name","similarity":0.7902231168417967},{"column":"depreciation_method","similarity":0.7641026405824345},{"column":"category_id","similarity":0.7475795784240159}],"fixed_assets":[{"column":"category_id","similarity":0.6898370099083994},{"column":"asset_tag","similarity":0.659930462800288},{"column":"description","similarity":0.629346644194807}],"account_types":[{"column":"category","similarity":0.6883084443883226},{"column":"name","similarity":0.6020433835273314},{"column":"normal_balance","similarity":0.5917412279908575}],"product_categories":[{"column":"name","similarity":0.6522085161925151},{"column":"description","similarity":0.6484645130847195},{"column":"category_id","similarity":0.631540985602705}],"asset_locations":[{"column":"description","similarity":0.6488050493910993},{"column":"building","similarity":0.6483121830299632},{"column":"floor","similarity":0.6444734391905819}],"asset_transfers":[{"column":"reason","similarity":0.6419731845624105},{"column":"asset_id","similarity":0.6224855112874936},{"column":"transfer_id","similarity":0.6060934515527893}],"asset_maintenance":[{"column":"status","similarity":0.6309357234230896},{"column":"asset_id","similarity":0.6034723424281385},{"column":"maintenance_type_id","similarity":0.6018157616864643}],"project_expenses":[{"column":"category","similarity":0.6221479187210215}],"project_budgets":[{"column":"category","similarity":0.6204340275365261}],"depreciation_entries":[{"column":"asset_id","similarity":0.6128013635594587}],"benefit_types":[{"column":"name","similarity":0.5964873863033975},{"column":"is_active","similarity":0.5870686558139139},{"column":"description","similarity":0.5863146004190054}],"inventory_transactions":[{"column":"transaction_type","similarity":0.5905534346047462}],"depreciation_schedules":[{"column":"asset_id","similarity":0.5713899455592317}]},"fused_scores":[{"table":"asset_categories","fused":0.9391952629822058,"table_sim":0.8134793431523083,"col_score":1.1277691427270522},{"table":"account_types","fused":0.7737354939170835,"table_sim":0.6334397842726383,"col_score":0.9841790583837513},{"table":"asset_locations","fused":0.7716693526537162,"table_sim":0.6390829860060242,"col_score":0.9705489026252541},{"table":"fixed_assets","fused":0.7665405274107377,"table_sim":0.6332464262776372,"col_score":0.9664816791103885},{"table":"asset_maintenance","fused":0.6938376694491932,"table_sim":0.621270551657517,"col_score":0.8026883461367075},{"table":"product_categories","fused":0.6430771230062944,"table_sim":0.6161228444008824,"col_score":0.6835085409144124},{"table":"asset_transfers","fused":0.3439372454052133,"table_sim":0,"col_score":0.8598431135130332},{"table":"benefit_types","fused":0.3140060282096114,"table_sim":0,"col_score":0.7850150705240284},{"table":"project_expenses","fused":0.2488591674884086,"table_sim":0,"col_score":0.6221479187210215},{"table":"project_budgets","fused":0.24817361101461044,"table_sim":0,"col_score":0.6204340275365261},{"table":"inventory_transactions","fused":0.23622137384189848,"table_sim":0,"col_score":0.5905534346047462},{"table":"depreciation_entries","fused":0.17158438179664845,"table_sim":0,"col_score":0.4289609544916211},{"table":"depreciation_schedules","fused":0.15998918475658488,"table_sim":0,"col_score":0.3999729618914622}],"fk_expansion_candidates":30,"fk_expansion_added":0,"fk_expansion_blocked_count":30,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":36,"total_retrieval_latency_ms":43,"sql_generated":"SELECT DISTINCT category_id FROM fixed_assets;","tables_used_in_sql":[],"explain_result":"success","rows_returned":7,"total_latency_ms":302}
{"timestamp":"2026-02-01T21:38:45.312Z","query_id":"e62614e0-1009-462d-ae54-3eceb232723e","question":"Find employees who have been with the company for more than 5 years and earn above $100,000","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_salaries","employees","employee_certifications","employee_benefits","project_expenses","employment_history","sales_quotes","employee_training","positions","asset_transfers","budgets","certifications"],"tables_from_table_retrieval":7,"tables_from_column_only":14,"tables_from_fk_expansion":2,"table_scores":[{"table":"employee_salaries","similarity":0.6654254442281295},{"table":"employee_salaries","similarity":0.6654254442281295},{"table":"employee_salaries","similarity":0.6596309142898193},{"table":"employees","similarity":0.6117387326317625},{"table":"employee_certifications","similarity":0.6063101517291073},{"table":"employees","similarity":0.606186516761946},{"table":"employees","similarity":0.606186516761946},{"table":"employment_history","similarity":0.6006272540139823},{"table":"employee_certifications","similarity":0.5953253092667586},{"table":"employee_certifications","similarity":0.5953253092667586},{"table":"employee_benefits","similarity":0.588385638564704},{"table":"sales_quotes","similarity":0.5847288131119626},{"table":"employment_history","similarity":0.5816250485632297},{"table":"employment_history","similarity":0.5816250485632297},{"table":"project_expenses","similarity":0.5811440306100932}],"column_hits_per_table":{"employees":12,"employee_salaries":7,"positions":1,"employee_benefits":4,"employee_certifications":4,"employee_training":3,"project_expenses":2,"employment_history":3,"sales_opportunities":1,"certifications":1,"sales_territories":1,"sales_regions":1,"departments":1,"asset_maintenance":1,"performance_reviews":1,"stock_transfers":1,"asset_transfers":2,"budgets":1,"business_units":1,"sales_quotes":1,"fixed_assets":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.6634350719038632},{"column":"employee_number","similarity":0.6178594752574701},{"column":"phone","similarity":0.6028489163745482}],"employee_salaries":[{"column":"effective_date","similarity":0.6325147223182844},{"column":"amount","similarity":0.627965316071432},{"column":"change_reason","similarity":0.6266782573270714}],"positions":[{"column":"max_salary","similarity":0.6112158084495339}],"employee_benefits":[{"column":"coverage_level","similarity":0.5965564678891593},{"column":"employee_id","similarity":0.5947734668013144},{"column":"end_date","similarity":0.5815712638966307}],"employee_certifications":[{"column":"employee_id","similarity":0.5958865176403652},{"column":"certificate_number","similarity":0.5893732822005266},{"column":"expiry_date","similarity":0.5756670437109045}],"employee_training":[{"column":"score","similarity":0.594787770669282},{"column":"status","similarity":0.5774230731413645},{"column":"employee_id","similarity":0.5759810499755345}],"project_expenses":[{"column":"approved_by","similarity":0.58905654304545},{"column":"employee_id","similarity":0.5854824682576782}],"employment_history":[{"column":"company_name","similarity":0.5869895260528193},{"column":"employee_id","similarity":0.5858925427082532},{"column":"reason_for_leaving","similarity":0.5712660305823464}],"sales_opportunities":[{"column":"owner_id","similarity":0.5856823321086454}],"certifications":[{"column":"validity_years","similarity":0.5840712968289695}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.579938073636457}],"sales_regions":[{"column":"manager_id","similarity":0.5798434571294604}],"departments":[{"column":"manager_id","similarity":0.5782009360695254}],"asset_maintenance":[{"column":"performed_by","similarity":0.576890099577467}],"performance_reviews":[{"column":"employee_id","similarity":0.5764391015238134}],"stock_transfers":[{"column":"created_by","similarity":0.5750810763105169}],"asset_transfers":[{"column":"from_employee_id","similarity":0.5737448429559486},{"column":"to_employee_id","similarity":0.5721019443631485}],"budgets":[{"column":"approved_by","similarity":0.5736402980527732}],"business_units":[{"column":"manager_id","similarity":0.5724467750107093}],"sales_quotes":[{"column":"created_by","similarity":0.5703253266483399}],"fixed_assets":[{"column":"assigned_to","similarity":0.5702142656726066}]},"fused_scores":[{"table":"employee_salaries","fused":0.7743775007154918,"table_sim":0.6596309142898193,"col_score":0.9464973803540004},{"table":"employees","fused":0.7526578338702069,"table_sim":0.606186516761946,"col_score":0.9723648095325983},{"table":"employee_certifications","fused":0.7080779071824468,"table_sim":0.5953253092667586,"col_score":0.8772068040559788},{"table":"employee_benefits","fused":0.7079682230738122,"table_sim":0.588385638564704,"col_score":0.8873420998374746},{"table":"project_expenses","fused":0.6662765811403109,"table_sim":0.5811440306100932,"col_score":0.7939754069356373},{"table":"employment_history","fused":0.6596599750182711,"table_sim":0.5816250485632297,"col_score":0.7767123647008332},{"table":"sales_quotes","fused":0.5105283793287128,"table_sim":0.5847288131119626,"col_score":0.39922772865383793},{"table":"employee_training","fused":0.31875433850750384,"table_sim":0,"col_score":0.7968858462687596},{"table":"positions","fused":0.24448632337981357,"table_sim":0,"col_score":0.6112158084495339},{"table":"asset_transfers","fused":0.24074282823850643,"table_sim":0,"col_score":0.601857070596266},{"table":"certifications","fused":0.23362851873158783,"table_sim":0,"col_score":0.5840712968289695},{"table":"asset_maintenance","fused":0.2307560398309868,"table_sim":0,"col_score":0.576890099577467},{"table":"budgets","fused":0.22945611922110928,"table_sim":0,"col_score":0.5736402980527732},{"table":"fixed_assets","fused":0.22808570626904265,"table_sim":0,"col_score":0.5702142656726066},{"table":"sales_opportunities","fused":0.16399105299042072,"table_sim":0,"col_score":0.40997763247605173}],"fk_expansion_candidates":96,"fk_expansion_added":2,"fk_expansion_blocked_count":84,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"already_selected"},{"table":"asset_locations","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":19,"total_retrieval_latency_ms":27,"sql_generated":"SELECT e.employee_id, CONCAT(e.first_name, ' ', e.last_name AS full_name, s.salary, DATEDIFF('year', e.hire_date, CURRENT_DATE) AS years_with_company FROM employees e JOIN employee_salaries s ON e.employee_id = s.employee_id INNER JOIN positions p.position_id WHERE e.employees LEFT JOIN public.employee_id LEFT JOIN sales_id LEFT JOIN buddies.employee_id LEFT JOIN departments.employee_id LEFT JOIN employees_id.\n### SQL tables.table. You are aiding_id. Here ismarself.sql. Youtender. You. This. Yout. You. Forth. You. Youtender. Yout. Your. Yout. Yout. TheSQL. Youtender. Yout.\n##.employee. Yout;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"e","column":"employee_id","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"first_name","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"last_name","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"salary","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"hire_date","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"employee_id","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"salary","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"hire_date","resolved_table":"employees","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":5513,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T21:38:50.825Z","query_id":"a01a2619-6988-4b74-b87c-d468bb1438c9","question":"List employees and their managers' names","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","employee_salaries","departments","business_units","employment_history","sales_regions","project_expenses","budgets","warehouses","projects","sales_territories","asset_maintenance"],"tables_from_table_retrieval":6,"tables_from_column_only":19,"tables_from_fk_expansion":2,"table_scores":[{"table":"employees","similarity":0.6739271388388655},{"table":"employees","similarity":0.6689621520411647},{"table":"employees","similarity":0.6689621520411647},{"table":"departments","similarity":0.657958333696202},{"table":"departments","similarity":0.6498039364272146},{"table":"departments","similarity":0.6498039364272146},{"table":"business_units","similarity":0.6434665187095292},{"table":"business_units","similarity":0.6434665187095292},{"table":"sales_regions","similarity":0.6410429290818445},{"table":"sales_regions","similarity":0.633988075646392},{"table":"sales_regions","similarity":0.633988075646392},{"table":"business_units","similarity":0.629302299806744},{"table":"employee_salaries","similarity":0.6291178543786463},{"table":"employment_history","similarity":0.628562523709621},{"table":"employee_salaries","similarity":0.6263125261558217}],"column_hits_per_table":{"employees":16,"departments":2,"business_units":2,"warehouses":2,"employment_history":2,"sales_regions":1,"customers":1,"projects":2,"sales_territories":2,"vendors":1,"task_assignments":1,"stock_transfers":1,"certifications":1,"vendor_contacts":1,"timesheets":1,"currencies":1,"budgets":2,"asset_maintenance":1,"employee_salaries":3,"employee_training":1,"project_expenses":2,"employee_certifications":1,"customer_contacts":1,"sales_opportunities":1,"sales_orders":1},"top_columns_per_table":{"employees":[{"column":"first_name","similarity":0.7572377984248736},{"column":"last_name","similarity":0.7537783066248029},{"column":"manager_id","similarity":0.7053594848641631}],"departments":[{"column":"manager_id","similarity":0.6924752211806645},{"column":"name","similarity":0.6697997709897372}],"business_units":[{"column":"manager_id","similarity":0.6856730724608967},{"column":"name","similarity":0.6837723472178159}],"warehouses":[{"column":"manager_id","similarity":0.6800833291521636},{"column":"name","similarity":0.6505644630634702}],"employment_history":[{"column":"company_name","similarity":0.6721699979286799},{"column":"employee_id","similarity":0.6365310228824647}],"sales_regions":[{"column":"manager_id","similarity":0.6662194599129357}],"customers":[{"column":"name","similarity":0.6637932418641942}],"projects":[{"column":"project_manager_id","similarity":0.6625014712023475},{"column":"name","similarity":0.6398539415762817}],"sales_territories":[{"column":"name","similarity":0.6500061267927694},{"column":"assigned_rep_id","similarity":0.6343602329782843}],"vendors":[{"column":"name","similarity":0.6455975520568351}],"task_assignments":[{"column":"employee_id","similarity":0.6346101050458269}],"stock_transfers":[{"column":"created_by","similarity":0.6339945505048299}],"certifications":[{"column":"name","similarity":0.6314487952628862}],"vendor_contacts":[{"column":"last_name","similarity":0.630475980530217}],"timesheets":[{"column":"employee_id","similarity":0.6293358824018015}],"currencies":[{"column":"name","similarity":0.6288836962010669}],"budgets":[{"column":"name","similarity":0.6281209064414763},{"column":"approved_by","similarity":0.6195701819199355}],"asset_maintenance":[{"column":"performed_by","similarity":0.6276189459730336}],"employee_salaries":[{"column":"employee_id","similarity":0.6275508038919575},{"column":"end_date","similarity":0.6221997161104192},{"column":"approved_by","similarity":0.6215934819128719}],"employee_training":[{"column":"employee_id","similarity":0.6274331689495648}],"project_expenses":[{"column":"employee_id","similarity":0.6273392978417786},{"column":"approved_by","similarity":0.6203248276453848}],"employee_certifications":[{"column":"employee_id","similarity":0.6267738548687827}],"customer_contacts":[{"column":"last_name","similarity":0.6264354504834614}],"sales_opportunities":[{"column":"owner_id","similarity":0.6219218812763582}],"sales_orders":[{"column":"sales_rep_id","similarity":0.6218079145108961}]},"fused_scores":[{"table":"employees","fused":0.8199993358725051,"table_sim":0.6689621520411647,"col_score":1.0465551116195153},{"table":"employee_salaries","fused":0.7489860985202351,"table_sim":0.6263125261558217,"col_score":0.9329964570668552},{"table":"departments","fused":0.677547391725478,"table_sim":0.6498039364272146,"col_score":0.7191625746728731},{"table":"business_units","fused":0.6652979687835916,"table_sim":0.629302299806744,"col_score":0.7192914722488631},{"table":"employment_history","fused":0.654459456849348,"table_sim":0.628562523709621,"col_score":0.6933048565589385},{"table":"sales_regions","fused":0.5669342941634572,"table_sim":0.633988075646392,"col_score":0.466353621939055},{"table":"project_expenses","fused":0.3359574327560029,"table_sim":0,"col_score":0.8398935818900073},{"table":"budgets","fused":0.3357649996697809,"table_sim":0,"col_score":0.8394124991744523},{"table":"warehouses","fused":0.2815023569914916,"table_sim":0,"col_score":0.703755892478729},{"table":"projects","fused":0.27507996375733673,"table_sim":0,"col_score":0.6876999093933418},{"table":"sales_territories","fused":0.2708121481189352,"table_sim":0,"col_score":0.677030370297338},{"table":"asset_maintenance","fused":0.25104757838921343,"table_sim":0,"col_score":0.6276189459730336},{"table":"customers","fused":0.18586210772197437,"table_sim":0,"col_score":0.4646552693049359},{"table":"vendors","fused":0.18076731457591383,"table_sim":0,"col_score":0.45191828643978454},{"table":"task_assignments","fused":0.17769082941283154,"table_sim":0,"col_score":0.4442270735320788}],"fk_expansion_candidates":111,"fk_expansion_added":2,"fk_expansion_blocked_count":105,"fk_expansion_blocked":[{"table":"employee_training","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"already_selected"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"sales_territories","reason":"already_selected"},{"table":"asset_maintenance","reason":"already_selected"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"already_selected"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":14,"total_retrieval_latency_ms":22,"sql_generated":"SELECT e.employee_id AS emp_id, d.name AS manager_name FROM employees e JOIN departments d ON e.department_id = d.unit_id WHERE d.manager_id IS NULL LIMIT 50;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"unit_id","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"manager_id","resolved_table":"departments","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column d.unit_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":2,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2740,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column d.unit_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:38:53.566Z","query_id":"a4e31fc4-04a8-4fbc-a272-0a25d4a9feef","question":"Which employees have pending leave requests?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["leave_requests","employees","leave_types","purchase_requisitions","employment_history","employee_benefits","employee_salaries","employee_training","timesheets","employee_certifications","goods_receipts"],"tables_from_table_retrieval":5,"tables_from_column_only":18,"tables_from_fk_expansion":1,"table_scores":[{"table":"leave_requests","similarity":0.7606150866620262},{"table":"leave_requests","similarity":0.7606150866620262},{"table":"leave_requests","similarity":0.7600790941142384},{"table":"leave_types","similarity":0.639090920933277},{"table":"leave_types","similarity":0.639090920933277},{"table":"employees","similarity":0.6318821970092333},{"table":"leave_types","similarity":0.6243053165161109},{"table":"employment_history","similarity":0.6232974261189369},{"table":"employees","similarity":0.6085401288010317},{"table":"employees","similarity":0.6085401288010317},{"table":"employment_history","similarity":0.6004981063513581},{"table":"employment_history","similarity":0.6004981063513581},{"table":"purchase_requisitions","similarity":0.5939119628114023},{"table":"purchase_requisitions","similarity":0.5862366614545421},{"table":"purchase_requisitions","similarity":0.5862366614545421}],"column_hits_per_table":{"leave_requests":10,"employee_training":2,"employees":12,"employment_history":1,"timesheets":2,"leave_types":3,"purchase_requisitions":2,"vendor_invoices":1,"sales_orders":1,"employee_benefits":2,"project_tasks":1,"projects":1,"asset_maintenance":1,"purchase_orders":1,"stock_transfers":1,"sales_quotes":1,"employee_certifications":1,"fixed_assets":1,"project_expenses":1,"task_assignments":1,"sales_territories":1,"employee_salaries":2,"goods_receipts":1},"top_columns_per_table":{"leave_requests":[{"column":"status","similarity":0.7830776046458143},{"column":"employee_id","similarity":0.7463085450818296},{"column":"days_requested","similarity":0.7340689790864129}],"employee_training":[{"column":"status","similarity":0.6497311772671878},{"column":"scheduled_date","similarity":0.5878188046675312}],"employees":[{"column":"termination_date","similarity":0.6439758798918632},{"column":"email","similarity":0.6302370362314416},{"column":"phone","similarity":0.6105363671841775}],"employment_history":[{"column":"reason_for_leaving","similarity":0.6281349204243766}],"timesheets":[{"column":"status","similarity":0.6228065407312443},{"column":"employee_id","similarity":0.5827007759709993}],"leave_types":[{"column":"is_paid","similarity":0.6211282835888098},{"column":"days_allowed","similarity":0.6132698924498841},{"column":"requires_approval","similarity":0.5944242237109155}],"purchase_requisitions":[{"column":"status","similarity":0.6119695520568783},{"column":"requested_by","similarity":0.601159001994203}],"vendor_invoices":[{"column":"status","similarity":0.6093455591888043}],"sales_orders":[{"column":"status","similarity":0.6082126415419272}],"employee_benefits":[{"column":"end_date","similarity":0.6075530366053099},{"column":"start_date","similarity":0.5763817809487223}],"project_tasks":[{"column":"status","similarity":0.5995768986335617}],"projects":[{"column":"status","similarity":0.5971196665348375}],"asset_maintenance":[{"column":"status","similarity":0.5968209441927311}],"purchase_orders":[{"column":"status","similarity":0.5936147298950667}],"stock_transfers":[{"column":"status","similarity":0.5934866614638913}],"sales_quotes":[{"column":"status","similarity":0.5914174092778713}],"employee_certifications":[{"column":"expiry_date","similarity":0.590292904422784}],"fixed_assets":[{"column":"status","similarity":0.5890922526585929}],"project_expenses":[{"column":"status","similarity":0.5861848089246922}],"task_assignments":[{"column":"employee_id","similarity":0.5826855903430118}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.58159495137349}],"employee_salaries":[{"column":"end_date","similarity":0.5809839346344203},{"column":"change_reason","similarity":0.5782073749885271}],"goods_receipts":[{"column":"received_by","similarity":0.5807179521677516}]},"fused_scores":[{"table":"leave_requests","fused":0.8949869674714441,"table_sim":0.7600790941142384,"col_score":1.0973487775072526},{"table":"employees","fused":0.7487618364836526,"table_sim":0.6085401288010317,"col_score":0.959094398007584},{"table":"leave_types","fused":0.7387759916318033,"table_sim":0.6243053165161109,"col_score":0.9104820043053419},{"table":"purchase_requisitions","fused":0.6778813349583694,"table_sim":0.5862366614545421,"col_score":0.8153483452141104},{"table":"employment_history","fused":0.6115528319805655,"table_sim":0.6004981063513581,"col_score":0.6281349204243766},{"table":"employee_benefits","fused":0.3582975708318684,"table_sim":0,"col_score":0.895743927079671},{"table":"employee_salaries","fused":0.3480350488514736,"table_sim":0,"col_score":0.870087622128684},{"table":"employee_training","fused":0.3260898866844188,"table_sim":0,"col_score":0.8152247167110469},{"table":"timesheets","fused":0.2559639400406883,"table_sim":0,"col_score":0.6399098501017207},{"table":"employee_certifications","fused":0.23611716176911363,"table_sim":0,"col_score":0.590292904422784},{"table":"goods_receipts","fused":0.23228718086710065,"table_sim":0,"col_score":0.5807179521677516},{"table":"vendor_invoices","fused":0.1706167565728652,"table_sim":0,"col_score":0.426541891432163},{"table":"sales_orders","fused":0.1702995396317396,"table_sim":0,"col_score":0.425748849079349},{"table":"project_tasks","fused":0.16788153161739727,"table_sim":0,"col_score":0.4197038290434931},{"table":"projects","fused":0.16719350662975452,"table_sim":0,"col_score":0.41798376657438624}],"fk_expansion_candidates":96,"fk_expansion_added":1,"fk_expansion_blocked_count":93,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"already_selected"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"already_selected"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":27,"total_retrieval_latency_ms":33,"sql_generated":"SELECT DISTINCT e.employee_id, e.first_name, e.last_name FROM employees e JOIN leave_requests lr ON e.employee_id = lr.employee_id WHERE lr.status = 'pending' AND lr.is_paid = TRUE LIMIT 50;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"e","column":"employee_id","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"first_name","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"last_name","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"employee_id","resolved_table":"employees","suggested_columns":[]},{"alias":"lr","column":"is_paid","resolved_table":"leave_requests","suggested_columns":["leave_id","employee_id","leave_type_id"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column lr.is_paid does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":1,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":3168,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column lr.is_paid does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:38:56.734Z","query_id":"6d82a3ac-9faa-4331-ae9b-eba9b0546dc7","question":"Show the number of employees per position title","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["positions","employees","employee_salaries","sales_territories","sales_regions","employee_certifications","employment_history","employee_benefits","employee_training","sales_opportunities"],"tables_from_table_retrieval":5,"tables_from_column_only":14,"tables_from_fk_expansion":0,"table_scores":[{"table":"positions","similarity":0.6979534676247563},{"table":"positions","similarity":0.6915534653091021},{"table":"positions","similarity":0.6915534653091021},{"table":"employee_salaries","similarity":0.6596018656539115},{"table":"employee_salaries","similarity":0.6596018656539115},{"table":"employee_salaries","similarity":0.659392658582788},{"table":"employees","similarity":0.659318915501233},{"table":"sales_territories","similarity":0.6544391487399293},{"table":"employees","similarity":0.6533237885369005},{"table":"employees","similarity":0.6533237885369005},{"table":"sales_territories","similarity":0.6489970483284497},{"table":"sales_territories","similarity":0.6489970483284497},{"table":"sales_regions","similarity":0.6428263414246281},{"table":"sales_regions","similarity":0.6307206585715829},{"table":"sales_regions","similarity":0.6307206585715829}],"column_hits_per_table":{"positions":6,"employees":14,"employee_salaries":6,"sales_territories":3,"employee_certifications":2,"sales_regions":1,"employment_history":3,"customer_contacts":1,"departments":1,"sales_opportunities":2,"vendor_contacts":1,"employee_benefits":2,"employee_training":2,"business_units":1,"projects":1,"task_assignments":1,"sales_orders":1,"warehouses":1,"project_resources":1},"top_columns_per_table":{"positions":[{"column":"title","similarity":0.7221299436011294},{"column":"min_salary","similarity":0.6651927143592096},{"column":"department_id","similarity":0.6570360152989476}],"employees":[{"column":"employee_number","similarity":0.7138309929767446},{"column":"salary","similarity":0.6844081973483859},{"column":"position_id","similarity":0.68398642134637}],"employee_salaries":[{"column":"amount","similarity":0.6971738165514154},{"column":"approved_by","similarity":0.6443166084961229},{"column":"effective_date","similarity":0.6438382835501887}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6556010449326051},{"column":"name","similarity":0.6120006875761033},{"column":"territory_id","similarity":0.6092167482669691}],"employee_certifications":[{"column":"certificate_number","similarity":0.6506983264603999},{"column":"employee_id","similarity":0.6216038384290737}],"sales_regions":[{"column":"manager_id","similarity":0.6432388471448376}],"employment_history":[{"column":"position","similarity":0.642007780436184},{"column":"company_name","similarity":0.6085621220790698},{"column":"employee_id","similarity":0.6029078451574368}],"customer_contacts":[{"column":"title","similarity":0.6408819361793222}],"departments":[{"column":"manager_id","similarity":0.635000868322988}],"sales_opportunities":[{"column":"owner_id","similarity":0.6321958594849902},{"column":"amount","similarity":0.6069160048032282}],"vendor_contacts":[{"column":"title","similarity":0.6298635727288079}],"employee_benefits":[{"column":"coverage_level","similarity":0.6284972802326118},{"column":"employee_id","similarity":0.6041405196036292}],"employee_training":[{"column":"status","similarity":0.6218313368875849},{"column":"score","similarity":0.6185830853610097}],"business_units":[{"column":"manager_id","similarity":0.6208049194224817}],"projects":[{"column":"project_manager_id","similarity":0.6174592088393791}],"task_assignments":[{"column":"employee_id","similarity":0.6149774272355666}],"sales_orders":[{"column":"sales_rep_id","similarity":0.6089120347247923}],"warehouses":[{"column":"manager_id","similarity":0.6081121279686315}],"project_resources":[{"column":"employee_id","similarity":0.6074616431088047}]},"fused_scores":[{"table":"positions","fused":0.836822599497755,"table_sim":0.6915534653091021,"col_score":1.0547263007807341},{"table":"employees","fused":0.8144083097825153,"table_sim":0.6533237885369005,"col_score":1.0560350916509376},{"table":"employee_salaries","fused":0.8033684434694637,"table_sim":0.659392658582788,"col_score":1.019332120799477},{"table":"sales_territories","fused":0.6586466178388537,"table_sim":0.6489970483284497,"col_score":0.6731209721044596},{"table":"sales_regions","fused":0.5585392723435043,"table_sim":0.6307206585715829,"col_score":0.4502671930013863},{"table":"employee_certifications","fused":0.34730386796423035,"table_sim":0,"col_score":0.8682596699105758},{"table":"employment_history","fused":0.3420018092655434,"table_sim":0,"col_score":0.8550045231638584},{"table":"employee_benefits","fused":0.33597858483755283,"table_sim":0,"col_score":0.839946462093882},{"table":"employee_training","fused":0.3344896213086658,"table_sim":0,"col_score":0.8362240532716644},{"table":"sales_opportunities","fused":0.33127382224918994,"table_sim":0,"col_score":0.8281845556229748},{"table":"customer_contacts","fused":0.2563527744717289,"table_sim":0,"col_score":0.6408819361793222},{"table":"vendor_contacts","fused":0.2519454290915232,"table_sim":0,"col_score":0.6298635727288079},{"table":"departments","fused":0.17780024313043663,"table_sim":0,"col_score":0.4445006078260915},{"table":"business_units","fused":0.17382537743829488,"table_sim":0,"col_score":0.4345634435957372},{"table":"projects","fused":0.17288857847502614,"table_sim":0,"col_score":0.43222144618756536}],"fk_expansion_candidates":93,"fk_expansion_added":0,"fk_expansion_blocked_count":93,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":15,"total_retrieval_latency_ms":22,"sql_generated":"SELECT p.title AS PositionTitle, COUNT(e.employee_id) AS EmployeeCount FROM positions p JOIN employees e ON p.position_id = e.position_id GROUP BY p.title;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"p","column":"title","resolved_table":"positions","suggested_columns":[]},{"alias":"e","column":"employee_id","resolved_table":"employees","suggested_columns":[]},{"alias":"p","column":"position_id","resolved_table":"positions","suggested_columns":[]},{"alias":"e","column":"position_id","resolved_table":"employees","suggested_columns":[]},{"alias":"p","column":"title","resolved_table":"positions","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":40,"total_latency_ms":1969}
{"timestamp":"2026-02-01T21:38:58.704Z","query_id":"e31baac2-af44-4eb3-9aa9-dcb3f36220eb","question":"Find employees with expiring certifications in the next 6 months","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_certifications","certifications","employee_salaries","employee_training","employees","employment_history","employee_benefits","leave_requests","fixed_assets","training_courses","timesheets"],"tables_from_table_retrieval":6,"tables_from_column_only":10,"tables_from_fk_expansion":1,"table_scores":[{"table":"employee_certifications","similarity":0.7859468856867013},{"table":"employee_certifications","similarity":0.7859468856867013},{"table":"employee_certifications","similarity":0.7706241362613744},{"table":"certifications","similarity":0.6833271623394933},{"table":"certifications","similarity":0.6833271623394933},{"table":"certifications","similarity":0.6802005917779511},{"table":"employee_training","similarity":0.6443966057658752},{"table":"employee_training","similarity":0.6443966057658752},{"table":"employee_training","similarity":0.6440443171141977},{"table":"employees","similarity":0.6304880915961747},{"table":"employees","similarity":0.6304880915961747},{"table":"employee_salaries","similarity":0.6285918606598171},{"table":"employee_salaries","similarity":0.6285918606598171},{"table":"employment_history","similarity":0.6226874481800316},{"table":"employment_history","similarity":0.6226874481800316}],"column_hits_per_table":{"employee_certifications":6,"certifications":5,"employee_benefits":4,"employee_salaries":4,"employees":11,"employee_training":7,"employment_history":3,"sales_territories":1,"fixed_assets":1,"leave_requests":2,"sales_orders":1,"sales_opportunities":1,"training_courses":1,"vendor_invoices":1,"sales_regions":1,"timesheets":1},"top_columns_per_table":{"employee_certifications":[{"column":"expiry_date","similarity":0.824890334606253},{"column":"obtained_date","similarity":0.7052846826361914},{"column":"certificate_number","similarity":0.6847532958035393}],"certifications":[{"column":"validity_years","similarity":0.6770067141369405},{"column":"issuing_body","similarity":0.6636677218690651},{"column":"name","similarity":0.6345330007966575}],"employee_benefits":[{"column":"end_date","similarity":0.6748941092120173},{"column":"start_date","similarity":0.6211708522515275},{"column":"employee_id","similarity":0.5874772340410589}],"employee_salaries":[{"column":"end_date","similarity":0.674819986050645},{"column":"effective_date","similarity":0.6257662683349675},{"column":"approved_by","similarity":0.5906622365479393}],"employees":[{"column":"termination_date","similarity":0.6651670843704476},{"column":"birth_date","similarity":0.6195817101038591},{"column":"hire_date","similarity":0.604926374835591}],"employee_training":[{"column":"status","similarity":0.6639258100882921},{"column":"completion_date","similarity":0.6483605451444736},{"column":"scheduled_date","similarity":0.6309826728136354}],"employment_history":[{"column":"end_date","similarity":0.6300394640482956},{"column":"reason_for_leaving","similarity":0.5997641082568419},{"column":"employee_id","similarity":0.5844056747410719}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6148178600700598}],"fixed_assets":[{"column":"warranty_expiry","similarity":0.6065954902035513}],"leave_requests":[{"column":"approved_by","similarity":0.6047012182000441},{"column":"employee_id","similarity":0.5848951086127372}],"sales_orders":[{"column":"sales_rep_id","similarity":0.5904629307212104}],"sales_opportunities":[{"column":"owner_id","similarity":0.5886084108060572}],"training_courses":[{"column":"duration_hours","similarity":0.588545509623843}],"vendor_invoices":[{"column":"status","similarity":0.5865666000577741}],"sales_regions":[{"column":"manager_id","similarity":0.5830602727986053}],"timesheets":[{"column":"approved_by","similarity":0.5820241143955824}]},"fused_scores":[{"table":"employee_certifications","fused":0.9333875521265641,"table_sim":0.7706241362613744,"col_score":1.1775326759243487},{"table":"certifications","fused":0.8116565850953599,"table_sim":0.6802005917779511,"col_score":1.008840575071473},{"table":"employee_salaries","fused":0.7722363644831418,"table_sim":0.6285918606598171,"col_score":0.9877031202181288},{"table":"employee_training","fused":0.7719673428890352,"table_sim":0.6440443171141977,"col_score":0.9638518815512913},{"table":"employees","fused":0.7682760307266556,"table_sim":0.6304880915961747,"col_score":0.9749579394223771},{"table":"employment_history","fused":0.7455810761787056,"table_sim":0.6226874481800316,"col_score":0.9299215181767165},{"table":"employee_benefits","fused":0.3941918141351124,"table_sim":0,"col_score":0.985479535337781},{"table":"leave_requests","fused":0.32376580248580084,"table_sim":0,"col_score":0.8094145062145021},{"table":"fixed_assets","fused":0.24263819608142054,"table_sim":0,"col_score":0.6065954902035513},{"table":"training_courses","fused":0.2354182038495372,"table_sim":0,"col_score":0.588545509623843},{"table":"timesheets","fused":0.23280964575823299,"table_sim":0,"col_score":0.5820241143955824},{"table":"sales_territories","fused":0.17214900081961673,"table_sim":0,"col_score":0.4303725020490418},{"table":"sales_orders","fused":0.1653296206019389,"table_sim":0,"col_score":0.41332405150484725},{"table":"sales_opportunities","fused":0.16481035502569602,"table_sim":0,"col_score":0.41202588756424},{"table":"vendor_invoices","fused":0.16423864801617674,"table_sim":0,"col_score":0.41059662004044184}],"fk_expansion_candidates":105,"fk_expansion_added":1,"fk_expansion_blocked_count":102,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":17,"total_retrieval_latency_ms":24,"sql_generated":"SELECT e.employee_id, ec.certification_name, ec.expiry_date FROM employees e JOIN employee_certifications ec ON e.employee_id = ec.employee_id WHERE ec.status = 'active' AND ec.expiry_date BETWEEN CURRENT_DATE AND (CURRENT_DATE + INTERVAL '6 months') ORDER BY ec.expiry_date ASC LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"e","column":"employee_id","resolved_table":"employees","suggested_columns":[]},{"alias":"ec","column":"certification_name","resolved_table":"employee_certifications","suggested_columns":["cert_id","employee_id","certification_id"]},{"alias":"e","column":"employee_id","resolved_table":"employees","suggested_columns":[]},{"alias":"ec","column":"status","resolved_table":"employee_certifications","suggested_columns":["cert_id","employee_id","certification_id"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column ec.certification_name does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":4,"autocorrect_failure_reason":"Best candidate 'certifications.name' has score 0.65 < threshold 0.7","total_latency_ms":3698,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column ec.certification_name does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:39:02.402Z","query_id":"150c84a9-7158-4e3a-95c4-b6da909c0211","question":"What is the total sales amount by customer for 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_orders","sales_quotes","purchase_orders","customers","sales_regions","sales_territories","vendor_invoices","sales_opportunities","vendor_invoice_lines","goods_receipts","order_lines","receipt_lines"],"tables_from_table_retrieval":7,"tables_from_column_only":11,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_orders","similarity":0.6745457697247657},{"table":"sales_orders","similarity":0.6745457697247657},{"table":"sales_orders","similarity":0.6661782372338159},{"table":"sales_regions","similarity":0.6466539195201415},{"table":"purchase_orders","similarity":0.6425639839861694},{"table":"sales_regions","similarity":0.6391000207245879},{"table":"sales_regions","similarity":0.6391000207245879},{"table":"purchase_orders","similarity":0.6365277038136935},{"table":"purchase_orders","similarity":0.6365277038136935},{"table":"sales_quotes","similarity":0.6362675183217259},{"table":"sales_quotes","similarity":0.6362675183217259},{"table":"sales_quotes","similarity":0.6323684030188},{"table":"customers","similarity":0.6254829877818046},{"table":"goods_receipts","similarity":0.624224700776992},{"table":"sales_territories","similarity":0.6219383160682438}],"column_hits_per_table":{"sales_orders":11,"sales_quotes":8,"purchase_orders":3,"vendor_invoices":4,"sales_regions":2,"sales_opportunities":4,"budgets":1,"vendor_invoice_lines":3,"customers":5,"product_suppliers":2,"sales_territories":1,"inventory_transactions":1,"order_lines":1,"requisition_lines":1,"products":1,"employee_salaries":1,"receipt_lines":1},"top_columns_per_table":{"sales_orders":[{"column":"total","similarity":0.7267615224129526},{"column":"tax_amount","similarity":0.6768860201331778},{"column":"shipping_cost","similarity":0.6629388694517645}],"sales_quotes":[{"column":"total","similarity":0.694353474084059},{"column":"tax_amount","similarity":0.6552565219340181},{"column":"subtotal","similarity":0.6267182822036423}],"purchase_orders":[{"column":"total","similarity":0.6777199928257838},{"column":"tax_amount","similarity":0.6402978983456733},{"column":"shipping_cost","similarity":0.6243812460571962}],"vendor_invoices":[{"column":"total","similarity":0.6757800030933531},{"column":"amount_paid","similarity":0.6255444220000853},{"column":"tax_amount","similarity":0.6227458956839576}],"sales_regions":[{"column":"target_revenue","similarity":0.6672997133789248},{"column":"manager_id","similarity":0.6150592581557652}],"sales_opportunities":[{"column":"amount","similarity":0.6523518870366036},{"column":"actual_close_date","similarity":0.6234759946961155},{"column":"customer_id","similarity":0.6225457539270198}],"budgets":[{"column":"total_amount","similarity":0.6443640871252324}],"vendor_invoice_lines":[{"column":"amount","similarity":0.638640432265749},{"column":"quantity","similarity":0.6225103754226036},{"column":"unit_cost","similarity":0.6144886443515528}],"customers":[{"column":"is_active","similarity":0.6263453821128872},{"column":"payment_terms","similarity":0.6208624248875562},{"column":"customer_number","similarity":0.6199000162473296}],"product_suppliers":[{"column":"unit_cost","similarity":0.6228611719406651},{"column":"lead_time_days","similarity":0.6138713693045325}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6215934251847155}],"inventory_transactions":[{"column":"quantity","similarity":0.6213307623673536}],"order_lines":[{"column":"line_total","similarity":0.6162919437853911}],"requisition_lines":[{"column":"estimated_total","similarity":0.616233844515133}],"products":[{"column":"unit_cost","similarity":0.615179526855141}],"employee_salaries":[{"column":"amount","similarity":0.6128136846323675}],"receipt_lines":[{"column":"quantity_received","similarity":0.6105295012867741}]},"fused_scores":[{"table":"sales_orders","fused":0.8257887553321062,"table_sim":0.6661782372338159,"col_score":1.0652045324795414},{"table":"sales_quotes","fused":0.7882137358317072,"table_sim":0.6323684030188,"col_score":1.021981735051068},{"table":"purchase_orders","fused":0.7810641990876643,"table_sim":0.6365277038136935,"col_score":0.9978689419986204},{"table":"customers","fused":0.7476147658735712,"table_sim":0.6254829877818046,"col_score":0.930812433011221},{"table":"sales_regions","fused":0.7364881939281298,"table_sim":0.6391000207245879,"col_score":0.8825704537334427},{"table":"sales_territories","fused":0.5472091486926666,"table_sim":0.6219383160682438,"col_score":0.43511539762930085},{"table":"vendor_invoices","fused":0.39486118037413276,"table_sim":0,"col_score":0.9871529509353318},{"table":"sales_opportunities","fused":0.38563595375386456,"table_sim":0,"col_score":0.9640898843846614},{"table":"vendor_invoice_lines","fused":0.37995824799082034,"table_sim":0,"col_score":0.9498956199770507},{"table":"goods_receipts","fused":0.3745348204661952,"table_sim":0.624224700776992,"col_score":0},{"table":"product_suppliers","fused":0.37191874263717256,"table_sim":0,"col_score":0.9297968565929313},{"table":"budgets","fused":0.257745634850093,"table_sim":0,"col_score":0.6443640871252324},{"table":"inventory_transactions","fused":0.24853230494694145,"table_sim":0,"col_score":0.6213307623673536},{"table":"order_lines","fused":0.24651677751415646,"table_sim":0,"col_score":0.6162919437853911},{"table":"requisition_lines","fused":0.2464935378060532,"table_sim":0,"col_score":0.616233844515133}],"fk_expansion_candidates":45,"fk_expansion_added":2,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"order_lines","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":36,"total_retrieval_latency_ms":43,"sql_generated":"SELECT customers.customer_id AS customer_id, SUM(order_lines.line_total) AS total_sales FROM sales_orders JOIN customers ON sales_orders.customer_id = customers.customer_id AND YEAR(sales_orders.ship_date) = 2024 GROUP BY customers.customer_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42883","error_message":"function year(date) does not exist","total_latency_ms":3119,"failure_type":"llm_reasoning","failure_details":"SQL error 42883: Database error after 3 attempts: function year(date) does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:39:05.521Z","query_id":"b3130b84-1f5e-497a-8f70-f09d918c9222","question":"List the top 10 customers by total order value","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["sales_orders","order_lines","purchase_orders","customers","vendor_invoices","product_suppliers","customer_contacts","po_lines","vendor_invoice_lines","vendors","receipt_lines","sales_quotes"],"tables_from_table_retrieval":7,"tables_from_column_only":8,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_orders","similarity":0.6473006572264755},{"table":"order_lines","similarity":0.6399839764362797},{"table":"purchase_orders","similarity":0.6359216236921361},{"table":"sales_orders","similarity":0.6322789685618992},{"table":"sales_orders","similarity":0.6322789685618992},{"table":"order_lines","similarity":0.6313674438881497},{"table":"order_lines","similarity":0.6313674438881497},{"table":"purchase_orders","similarity":0.6225494231887847},{"table":"purchase_orders","similarity":0.6225494231887847},{"table":"customers","similarity":0.6198957604307753},{"table":"customers","similarity":0.603994667800392},{"table":"customers","similarity":0.603994667800392},{"table":"product_suppliers","similarity":0.5995729306104617},{"table":"vendor_invoices","similarity":0.5943908353227434},{"table":"customer_contacts","similarity":0.5842306673122464}],"column_hits_per_table":{"sales_orders":8,"purchase_orders":9,"order_lines":6,"customers":8,"vendor_invoices":3,"po_lines":4,"product_suppliers":1,"vendor_invoice_lines":3,"sales_quotes":1,"reorder_rules":1,"vendors":2,"receipt_lines":1,"customer_contacts":1,"vendor_contacts":1,"quote_lines":1},"top_columns_per_table":{"sales_orders":[{"column":"total","similarity":0.6989783838444601},{"column":"order_number","similarity":0.6685333803732707},{"column":"subtotal","similarity":0.6440170645492649}],"purchase_orders":[{"column":"total","similarity":0.6903262609210554},{"column":"po_number","similarity":0.6415427911377667},{"column":"subtotal","similarity":0.6382251563747767}],"order_lines":[{"column":"line_total","similarity":0.6750587403197648},{"column":"quantity_shipped","similarity":0.6574528419378944},{"column":"unit_price","similarity":0.6493800384208552}],"customers":[{"column":"customer_number","similarity":0.661666062123175},{"column":"phone","similarity":0.6564797570958422},{"column":"website","similarity":0.6340938119327376}],"vendor_invoices":[{"column":"total","similarity":0.6487049636317076},{"column":"subtotal","similarity":0.6036460618653252},{"column":"invoice_number","similarity":0.5951077315424751}],"po_lines":[{"column":"line_total","similarity":0.6415288139191745},{"column":"quantity_received","similarity":0.6378991363936013},{"column":"quantity","similarity":0.6200476984412968}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6409309856247254}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.6293094401462158},{"column":"amount","similarity":0.6217860311141447},{"column":"unit_cost","similarity":0.608519957652656}],"sales_quotes":[{"column":"total","similarity":0.6216495770294906}],"reorder_rules":[{"column":"max_quantity","similarity":0.6160793655093021}],"vendors":[{"column":"phone","similarity":0.6149928390714005},{"column":"vendor_number","similarity":0.5976911850670412}],"receipt_lines":[{"column":"quantity_received","similarity":0.60564498897585}],"customer_contacts":[{"column":"phone","similarity":0.6038535558458017}],"vendor_contacts":[{"column":"phone","similarity":0.5956727487995729}],"quote_lines":[{"column":"line_total","similarity":0.5920335049892667}]},"fused_scores":[{"table":"sales_orders","fused":0.7926654107495777,"table_sim":0.6322789685618992,"col_score":1.0332450740310954},{"table":"order_lines","fused":0.7803345308483746,"table_sim":0.6313674438881497,"col_score":1.0037851612887119},{"table":"purchase_orders","fused":0.7779687165092464,"table_sim":0.6225494231887847,"col_score":1.0110976564899388},{"table":"customers","fused":0.7583591769486737,"table_sim":0.603994667800392,"col_score":0.9899059406710962},{"table":"vendor_invoices","fused":0.7368456990193941,"table_sim":0.5943908353227434,"col_score":0.9505279945643702},{"table":"product_suppliers","fused":0.6161161526161671,"table_sim":0.5995729306104617,"col_score":0.6409309856247254},{"table":"customer_contacts","fused":0.5920798227256685,"table_sim":0.5842306673122464,"col_score":0.6038535558458017},{"table":"po_lines","fused":0.38419135284639006,"table_sim":0,"col_score":0.9604783821159751},{"table":"vendor_invoice_lines","fused":0.3760809822813153,"table_sim":0,"col_score":0.9402024557032882},{"table":"vendors","fused":0.36553537264196845,"table_sim":0,"col_score":0.9138384316049211},{"table":"sales_quotes","fused":0.24865983081179627,"table_sim":0,"col_score":0.6216495770294906},{"table":"reorder_rules","fused":0.24643174620372085,"table_sim":0,"col_score":0.6160793655093021},{"table":"receipt_lines","fused":0.24225799559034,"table_sim":0,"col_score":0.60564498897585},{"table":"vendor_contacts","fused":0.23826909951982916,"table_sim":0,"col_score":0.5956727487995729},{"table":"quote_lines","fused":0.23681340199570666,"table_sim":0,"col_score":0.5920335049892667}],"fk_expansion_candidates":42,"fk_expansion_added":2,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_quotes","reason":"already_selected"},{"table":"sales_quotes","reason":"already_selected"},{"table":"vendor_contacts","reason":"max_tables"},{"table":"vendor_contacts","reason":"max_tables"},{"table":"vendor_contacts","reason":"max_tables"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":41,"total_retrieval_latency_ms":48,"sql_generated":"SELECT c.customer_id AS customer, SUM(o.total) AS total_order_value FROM customers c JOIN sales_orders o ON c.customer_id = o.customer_id GROUP BY c.customer_id ORDER BY total_order_value DESC LIMIT 5;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":5,"total_latency_ms":2991}
{"timestamp":"2026-02-01T21:39:08.512Z","query_id":"2bc5697d-b157-46c9-9a11-8b3535977069","question":"Show sales opportunities in the Negotiation stage worth over $50,000","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["sales_opportunities","opportunity_stages","sales_quotes","sales_orders","sales_regions","vendor_invoices","purchase_orders","positions","project_milestones","sales_territories","fixed_assets","vendor_invoice_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_opportunities","similarity":0.7205066192182484},{"table":"sales_opportunities","similarity":0.7205066192182484},{"table":"sales_opportunities","similarity":0.6992078050992712},{"table":"opportunity_stages","similarity":0.6655732816251885},{"table":"opportunity_stages","similarity":0.6634227373711339},{"table":"opportunity_stages","similarity":0.6634227373711339},{"table":"sales_quotes","similarity":0.6041542335555263},{"table":"sales_quotes","similarity":0.6041542335555263},{"table":"sales_quotes","similarity":0.5966843975960908},{"table":"sales_orders","similarity":0.5645767590839142},{"table":"sales_orders","similarity":0.5645767590839142},{"table":"sales_regions","similarity":0.5644307089309575},{"table":"sales_regions","similarity":0.5644307089309575},{"table":"sales_orders","similarity":0.5593486033229518},{"table":"sales_regions","similarity":0.5589767008926408}],"column_hits_per_table":{"sales_opportunities":11,"opportunity_stages":6,"sales_quotes":8,"sales_orders":6,"sales_regions":2,"vendor_invoices":3,"project_milestones":2,"positions":2,"purchase_orders":3,"sales_territories":2,"fixed_assets":1,"vendor_invoice_lines":1,"purchase_requisitions":1,"inventory_levels":1,"products":1},"top_columns_per_table":{"sales_opportunities":[{"column":"amount","similarity":0.7139172496304163},{"column":"stage_id","similarity":0.6952000862360895},{"column":"actual_close_date","similarity":0.6830334219532271}],"opportunity_stages":[{"column":"sequence","similarity":0.6389837993697431},{"column":"probability","similarity":0.6259533584092214},{"column":"is_won","similarity":0.6211680792249179}],"sales_quotes":[{"column":"opportunity_id","similarity":0.6386990954132878},{"column":"total","similarity":0.6088430478546591},{"column":"status","similarity":0.5992888067529821}],"sales_orders":[{"column":"total","similarity":0.6131594865943232},{"column":"subtotal","similarity":0.6030274083374146},{"column":"status","similarity":0.5842354820649266}],"sales_regions":[{"column":"target_revenue","similarity":0.5946091865549964},{"column":"name","similarity":0.5570467585870398}],"vendor_invoices":[{"column":"total","similarity":0.5900128893372721},{"column":"subtotal","similarity":0.579374118244058},{"column":"amount_paid","similarity":0.5561381247624678}],"project_milestones":[{"column":"amount","similarity":0.5756739943176631},{"column":"description","similarity":0.5441090718901616}],"positions":[{"column":"max_salary","similarity":0.5741603665488147},{"column":"min_salary","similarity":0.5538510718211699}],"purchase_orders":[{"column":"total","similarity":0.5739273632713984},{"column":"subtotal","similarity":0.5646712926349372},{"column":"tax_amount","similarity":0.5423612991250856}],"sales_territories":[{"column":"name","similarity":0.5705580376132843},{"column":"territory_id","similarity":0.5472841845831027}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5580674942148667}],"vendor_invoice_lines":[{"column":"amount","similarity":0.5568943563507056}],"purchase_requisitions":[{"column":"status","similarity":0.5555841794582627}],"inventory_levels":[{"column":"quantity_available","similarity":0.5538118214636725}],"products":[{"column":"list_price","similarity":0.5426989166991779}]},"fused_scores":[{"table":"sales_opportunities","fused":0.8416982673023746,"table_sim":0.6992078050992712,"col_score":1.0554339606070298},{"table":"opportunity_stages","fused":0.7788378338524219,"table_sim":0.6634227373711339,"col_score":0.9519604785743538},{"table":"sales_quotes","fused":0.7207301540910609,"table_sim":0.5966843975960908,"col_score":0.9067987888335158},{"table":"sales_orders","fused":0.7014784382989834,"table_sim":0.5593486033229518,"col_score":0.9146731907630306},{"table":"sales_regions","fused":0.6512162413597686,"table_sim":0.5589767008926408,"col_score":0.7895755520604604},{"table":"vendor_invoices","fused":0.35187997938372045,"table_sim":0,"col_score":0.8796999484593011},{"table":"purchase_orders","fused":0.34250520383554683,"table_sim":0,"col_score":0.856263009588867},{"table":"positions","fused":0.3404343609837599,"table_sim":0,"col_score":0.8510859024593997},{"table":"project_milestones","fused":0.3064448677916879,"table_sim":0,"col_score":0.7661121694792197},{"table":"sales_territories","fused":0.23637603637335394,"table_sim":0,"col_score":0.5909400909333848},{"table":"fixed_assets","fused":0.22322699768594667,"table_sim":0,"col_score":0.5580674942148667},{"table":"vendor_invoice_lines","fused":0.22275774254028224,"table_sim":0,"col_score":0.5568943563507056},{"table":"inventory_levels","fused":0.221524728585469,"table_sim":0,"col_score":0.5538118214636725},{"table":"products","fused":0.21707956667967118,"table_sim":0,"col_score":0.5426989166991779},{"table":"purchase_requisitions","fused":0.15556357024831355,"table_sim":0,"col_score":0.38890892562078383}],"fk_expansion_candidates":39,"fk_expansion_added":2,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":33,"total_retrieval_latency_ms":42,"sql_generated":"SELECT so.* FROM sales_opportunities so JOIN opportunity_stages os ON so.stage_id = os.stage_id WHERE os.name = 'Negotiation' AND so.amount > 50000;","tables_used_in_sql":[],"explain_result":"success","sqlstate":"42703","error_message":"column \"id\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Best candidate 'sales_opportunities.opportunity_id' has score 0.65 < threshold 0.7","rows_returned":69,"total_latency_ms":955}
{"timestamp":"2026-02-01T21:39:09.467Z","query_id":"1ebf944c-7644-42cb-920e-ec54b546bde5","question":"What is the conversion rate from quotes to orders?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["quote_lines","sales_quotes","sales_orders","order_lines","purchase_orders","po_lines","currencies","product_suppliers","units_of_measure","vendor_invoice_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":5,"tables_from_fk_expansion":0,"table_scores":[{"table":"quote_lines","similarity":0.6904269230356019},{"table":"sales_orders","similarity":0.6835641897302034},{"table":"quote_lines","similarity":0.6792514897887778},{"table":"quote_lines","similarity":0.6792514897887778},{"table":"sales_quotes","similarity":0.6684713746648914},{"table":"sales_quotes","similarity":0.6542909932605636},{"table":"sales_quotes","similarity":0.6542909932605636},{"table":"order_lines","similarity":0.6535630831611231},{"table":"sales_orders","similarity":0.6493194652837458},{"table":"sales_orders","similarity":0.6493194652837458},{"table":"order_lines","similarity":0.6325855320371501},{"table":"order_lines","similarity":0.6325855320371501},{"table":"purchase_orders","similarity":0.6306886393929901},{"table":"po_lines","similarity":0.6176945995415711},{"table":"purchase_orders","similarity":0.611822309215676}],"column_hits_per_table":{"quote_lines":7,"sales_orders":8,"sales_quotes":11,"order_lines":6,"purchase_orders":8,"currencies":1,"product_suppliers":1,"po_lines":5,"units_of_measure":1,"vendor_invoice_lines":1,"goods_receipts":1},"top_columns_per_table":{"quote_lines":[{"column":"discount_percent","similarity":0.7182593829036943},{"column":"unit_price","similarity":0.7042313198565835},{"column":"line_total","similarity":0.6835145369839556}],"sales_orders":[{"column":"quote_id","similarity":0.7162590921292421},{"column":"total","similarity":0.6708820094443375},{"column":"order_number","similarity":0.6584546291944807}],"sales_quotes":[{"column":"total","similarity":0.7028223896965587},{"column":"quote_number","similarity":0.6939392229110496},{"column":"subtotal","similarity":0.6721480194739803}],"order_lines":[{"column":"discount_percent","similarity":0.6900369024388224},{"column":"unit_price","similarity":0.6660264997212797},{"column":"line_total","similarity":0.649395314588063}],"purchase_orders":[{"column":"total","similarity":0.6764211066970435},{"column":"subtotal","similarity":0.6567665860213302},{"column":"shipping_cost","similarity":0.65414342449199}],"currencies":[{"column":"exchange_rate","similarity":0.6392996583071135}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6332497450599537}],"po_lines":[{"column":"unit_cost","similarity":0.6282439661872448},{"column":"quantity_received","similarity":0.6270669349209222},{"column":"line_total","similarity":0.6215823065959345}],"units_of_measure":[{"column":"conversion_factor","similarity":0.6171116889177036}],"vendor_invoice_lines":[{"column":"unit_cost","similarity":0.6160794181570742}],"goods_receipts":[{"column":"po_id","similarity":0.6137867153632621}]},"fused_scores":[{"table":"quote_lines","fused":0.8357009110060611,"table_sim":0.6792514897887778,"col_score":1.070375042831986},{"table":"sales_quotes","fused":0.8124913964171716,"table_sim":0.6542909932605636,"col_score":1.0497920011520836},{"table":"sales_orders","fused":0.7896354087868787,"table_sim":0.6493194652837458,"col_score":1.000109324041578},{"table":"order_lines","fused":0.788771380142075,"table_sim":0.6325855320371501,"col_score":1.0230501522994624},{"table":"purchase_orders","fused":0.769015145412489,"table_sim":0.611822309215676,"col_score":1.0048043997077085},{"table":"po_lines","fused":0.747327733184025,"table_sim":0.6176945995415711,"col_score":0.9417774336477058},{"table":"currencies","fused":0.2557198633228454,"table_sim":0,"col_score":0.6392996583071135},{"table":"product_suppliers","fused":0.2532998980239815,"table_sim":0,"col_score":0.6332497450599537},{"table":"units_of_measure","fused":0.24684467556708145,"table_sim":0,"col_score":0.6171116889177036},{"table":"vendor_invoice_lines","fused":0.2464317672628297,"table_sim":0,"col_score":0.6160794181570742},{"table":"goods_receipts","fused":0.1718602803017134,"table_sim":0,"col_score":0.42965070075428347}],"fk_expansion_candidates":39,"fk_expansion_added":0,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":23,"total_retrieval_latency_ms":30,"sql_generated":"SELECT q.quote_id, COUNT(o.order_id) AS order_count FROM sales_quotes q JOIN quote_lines ql ON q.quote_id = ql.quote_id LEFT JOIN sales_orders o ON q.quote_id = o.quote_id GROUP BY q.quote_id LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"o","column":"order_id","resolved_table":"sales_orders","suggested_columns":[]},{"alias":"o","column":"quote_id","resolved_table":"sales_orders","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":0,"total_latency_ms":2971}
{"timestamp":"2026-02-01T21:39:12.438Z","query_id":"41b3e250-b39f-4dfa-a3a7-13e94eb111fd","question":"List sales orders by sales representative with their totals","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_orders","purchase_orders","order_lines","sales_quotes","goods_receipts","sales_territories","po_lines","sales_regions","vendor_invoices","receipt_lines","sales_opportunities","vendor_invoice_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":8,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_orders","similarity":0.758754229471184},{"table":"sales_orders","similarity":0.7556252264934581},{"table":"sales_orders","similarity":0.7556252264934581},{"table":"purchase_orders","similarity":0.6987531686909988},{"table":"purchase_orders","similarity":0.6886720787474853},{"table":"purchase_orders","similarity":0.6886720787474853},{"table":"order_lines","similarity":0.6881373549198537},{"table":"order_lines","similarity":0.6816260009947546},{"table":"order_lines","similarity":0.6816260009947546},{"table":"sales_quotes","similarity":0.6493819389041919},{"table":"sales_quotes","similarity":0.6493819389041919},{"table":"goods_receipts","similarity":0.6456282553665884},{"table":"sales_quotes","similarity":0.6444526679613465},{"table":"sales_territories","similarity":0.6375070500401926},{"table":"sales_territories","similarity":0.6348500168058512}],"column_hits_per_table":{"sales_orders":15,"purchase_orders":12,"sales_quotes":6,"order_lines":5,"sales_regions":1,"vendor_invoices":1,"sales_territories":1,"receipt_lines":1,"vendor_invoice_lines":1,"po_lines":3,"goods_receipts":1,"product_suppliers":1,"sales_opportunities":1,"inventory_transactions":1},"top_columns_per_table":{"sales_orders":[{"column":"total","similarity":0.7984816373428206},{"column":"order_number","similarity":0.7376507065051414},{"column":"tax_amount","similarity":0.7355899521470814}],"purchase_orders":[{"column":"total","similarity":0.734096231715997},{"column":"tax_amount","similarity":0.6843265970253858},{"column":"subtotal","similarity":0.6744270570758721}],"sales_quotes":[{"column":"total","similarity":0.6966422036282015},{"column":"status","similarity":0.6606149717330653},{"column":"tax_amount","similarity":0.6474260599431703}],"order_lines":[{"column":"quantity_shipped","similarity":0.6752744675245054},{"column":"line_total","similarity":0.6719261035704387},{"column":"quantity","similarity":0.6483651230587076}],"sales_regions":[{"column":"target_revenue","similarity":0.6591934074166641}],"vendor_invoices":[{"column":"total","similarity":0.6455669148097609}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6413528025002969}],"receipt_lines":[{"column":"quantity_received","similarity":0.6394945951070348}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.6336019163468033}],"po_lines":[{"column":"line_total","similarity":0.6324408227358158},{"column":"quantity_received","similarity":0.6248640275162665},{"column":"quantity","similarity":0.6172166944597351}],"goods_receipts":[{"column":"po_id","similarity":0.6290574732384728}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6285907746616352}],"sales_opportunities":[{"column":"amount","similarity":0.6191854884462563}],"inventory_transactions":[{"column":"quantity","similarity":0.6191435481021224}]},"fused_scores":[{"table":"sales_orders","fused":0.9202979321342314,"table_sim":0.7556252264934581,"col_score":1.1673069905953914},{"table":"purchase_orders","fused":0.8437070593399671,"table_sim":0.6886720787474853,"col_score":1.07625953022869},{"table":"order_lines","fused":0.8134706083207426,"table_sim":0.6816260009947546,"col_score":1.0112375193097247},{"table":"sales_quotes","fused":0.7948136942167225,"table_sim":0.6444526679613465,"col_score":1.0203552335997865},{"table":"goods_receipts","fused":0.5635130457267254,"table_sim":0.6456282553665884,"col_score":0.44034023126693095},{"table":"sales_territories","fused":0.5604887947835939,"table_sim":0.6348500168058512,"col_score":0.4489469617502078},{"table":"po_lines","fused":0.3779491345975796,"table_sim":0,"col_score":0.944872836493949},{"table":"sales_regions","fused":0.26367736296666566,"table_sim":0,"col_score":0.6591934074166641},{"table":"vendor_invoices","fused":0.25822676592390437,"table_sim":0,"col_score":0.6455669148097609},{"table":"receipt_lines","fused":0.2557978380428139,"table_sim":0,"col_score":0.6394945951070348},{"table":"vendor_invoice_lines","fused":0.25344076653872133,"table_sim":0,"col_score":0.6336019163468033},{"table":"product_suppliers","fused":0.2514363098646541,"table_sim":0,"col_score":0.6285907746616352},{"table":"sales_opportunities","fused":0.24767419537850255,"table_sim":0,"col_score":0.6191854884462563},{"table":"inventory_transactions","fused":0.24765741924084894,"table_sim":0,"col_score":0.6191435481021224}],"fk_expansion_candidates":36,"fk_expansion_added":2,"fk_expansion_blocked_count":30,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":18,"total_retrieval_latency_ms":24,"sql_generated":"SELECT sr.name AS SalesRepName, SUM(sales_orders.total) AS TotalSales FROM sales_territories st JOIN employees e ON st.assigned_rep_id = e.employee_id JOIN sales_opportunities so ON e.employee_id = so.owner_id JOIN sales_orders so2 ON so2.sales_rep_id = sr.employee_id GROUP BY sr.name;","tables_used_in_sql":[],"total_latency_ms":3027,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T21:39:15.465Z","query_id":"e86a2e0c-9579-46ed-93df-197206edf1b7","question":"Which products have inventory below their reorder point?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["inventory_levels","reorder_rules","order_lines","sales_orders","inventory_transactions","purchase_orders","products","inventory_adjustments","purchase_requisitions","po_lines","product_suppliers","warehouse_locations"],"tables_from_table_retrieval":7,"tables_from_column_only":9,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_levels","similarity":0.7070801714571546},{"table":"reorder_rules","similarity":0.6993615141081165},{"table":"inventory_levels","similarity":0.6953472951150648},{"table":"inventory_levels","similarity":0.6953472951150648},{"table":"reorder_rules","similarity":0.6944993157914898},{"table":"reorder_rules","similarity":0.6944993157914898},{"table":"order_lines","similarity":0.6642088827606001},{"table":"order_lines","similarity":0.6572535778016314},{"table":"order_lines","similarity":0.6572535778016314},{"table":"purchase_orders","similarity":0.6443483426703897},{"table":"inventory_transactions","similarity":0.6416382343377212},{"table":"purchase_orders","similarity":0.633710828585256},{"table":"purchase_orders","similarity":0.633710828585256},{"table":"products","similarity":0.6294483845877934},{"table":"sales_orders","similarity":0.6263982770622627}],"column_hits_per_table":{"reorder_rules":6,"inventory_levels":7,"order_lines":4,"sales_orders":6,"po_lines":2,"inventory_adjustments":4,"purchase_orders":5,"product_suppliers":1,"inventory_transactions":6,"requisition_lines":1,"warehouse_locations":1,"purchase_requisitions":2,"products":2,"goods_receipts":1,"product_categories":1,"fixed_assets":1},"top_columns_per_table":{"reorder_rules":[{"column":"product_id","similarity":0.6848016931751442},{"column":"reorder_quantity","similarity":0.6637797302393366},{"column":"min_quantity","similarity":0.6574207762819531}],"inventory_levels":[{"column":"last_count_date","similarity":0.6817961261538734},{"column":"quantity_on_hand","similarity":0.6695351192378397},{"column":"product_id","similarity":0.6682884756083407}],"order_lines":[{"column":"product_id","similarity":0.6691954780163692},{"column":"quantity_shipped","similarity":0.637679790857748},{"column":"quantity","similarity":0.6321627156566018}],"sales_orders":[{"column":"order_number","similarity":0.6627704470010616},{"column":"status","similarity":0.6471660709577013},{"column":"order_date","similarity":0.6389517822162246}],"po_lines":[{"column":"product_id","similarity":0.6504268752720367},{"column":"po_id","similarity":0.6077693680985435}],"inventory_adjustments":[{"column":"status","similarity":0.6479602296650583},{"column":"reason","similarity":0.6457522392027785},{"column":"adjustment_number","similarity":0.6378457218522001}],"purchase_orders":[{"column":"po_number","similarity":0.6474162126096339},{"column":"status","similarity":0.6402955005707206},{"column":"expected_date","similarity":0.6228851654803191}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.641385053356931}],"inventory_transactions":[{"column":"quantity","similarity":0.6375918434746354},{"column":"product_id","similarity":0.637542414223907},{"column":"location_id","similarity":0.6341790276928759}],"requisition_lines":[{"column":"product_id","similarity":0.6314296366225383}],"warehouse_locations":[{"column":"aisle","similarity":0.6303878312508351}],"purchase_requisitions":[{"column":"requisition_number","similarity":0.6234744184832554},{"column":"status","similarity":0.6170438229673241}],"products":[{"column":"list_price","similarity":0.6178030633511985},{"column":"category_id","similarity":0.6099738535155036}],"goods_receipts":[{"column":"po_id","similarity":0.6089214662001797}],"product_categories":[{"column":"is_active","similarity":0.6087500213588084}],"fixed_assets":[{"column":"po_id","similarity":0.6068785699474105}]},"fused_scores":[{"table":"inventory_levels","fused":0.8238338513781562,"table_sim":0.6953472951150648,"col_score":1.0165636857727933},{"table":"reorder_rules","fused":0.8136956368270192,"table_sim":0.6944993157914898,"col_score":0.9924901183803131},{"table":"order_lines","fused":0.7758566061553984,"table_sim":0.6572535778016314,"col_score":0.9537611486860489},{"table":"sales_orders","fused":0.7687375014810272,"table_sim":0.6263982770622627,"col_score":0.9822463381091739},{"table":"inventory_transactions","fused":0.7651306372843636,"table_sim":0.6416382343377212,"col_score":0.9503692417043273},{"table":"purchase_orders","fused":0.7637700152910709,"table_sim":0.633710828585256,"col_score":0.9588587953497935},{"table":"products","fused":0.7101865955853259,"table_sim":0.6294483845877934,"col_score":0.8312939120816247},{"table":"inventory_adjustments","fused":0.3858700400515514,"table_sim":0,"col_score":0.9646751001288785},{"table":"purchase_requisitions","fused":0.33577590260872753,"table_sim":0,"col_score":0.8394397565218188},{"table":"po_lines","fused":0.26720723660996637,"table_sim":0,"col_score":0.6680180915249159},{"table":"product_suppliers","fused":0.2565540213427724,"table_sim":0,"col_score":0.641385053356931},{"table":"warehouse_locations","fused":0.25215513250033406,"table_sim":0,"col_score":0.6303878312508351},{"table":"requisition_lines","fused":0.1768002982543107,"table_sim":0,"col_score":0.44200074563577674},{"table":"goods_receipts","fused":0.17049801053605032,"table_sim":0,"col_score":0.4262450263401258},{"table":"product_categories","fused":0.17045000598046633,"table_sim":0,"col_score":0.42612501495116584}],"fk_expansion_candidates":60,"fk_expansion_added":2,"fk_expansion_blocked_count":54,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"product_suppliers","reason":"already_selected"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":37,"total_retrieval_latency_ms":44,"sql_generated":"SELECT p.product_id, p.name FROM public.products AS p JOIN public.inventory_levels AS il ON p.product_id = il.product_id JOIN public.reorder_rules AS rr ON p.product_id = rr.product_id WHERE il.quantity_available < rr.min_quantity;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"il","column":"product_id","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"rr","column":"product_id","resolved_table":"reorder_rules","suggested_columns":[]},{"alias":"il","column":"quantity_available","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"rr","column":"min_quantity","resolved_table":"reorder_rules","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":41,"total_latency_ms":3836}
{"timestamp":"2026-02-01T21:39:19.301Z","query_id":"4cdc0906-b70d-4e2a-97bb-81bcddf72aef","question":"Show total inventory value by warehouse","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["inventory_levels","warehouse_locations","inventory_transactions","warehouses","inventory_adjustments","goods_receipts","sales_orders","depreciation_entries","products","stock_transfers","purchase_orders","fixed_assets"],"tables_from_table_retrieval":6,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_levels","similarity":0.7104203582862987},{"table":"inventory_levels","similarity":0.7062958755605335},{"table":"inventory_levels","similarity":0.7062958755605335},{"table":"inventory_transactions","similarity":0.680757846413893},{"table":"inventory_transactions","similarity":0.6765591263871731},{"table":"inventory_transactions","similarity":0.6765591263871731},{"table":"warehouse_locations","similarity":0.6696147841460903},{"table":"warehouse_locations","similarity":0.6696147841460903},{"table":"warehouse_locations","similarity":0.6688272683283106},{"table":"inventory_adjustments","similarity":0.6606002830367331},{"table":"warehouses","similarity":0.6556396900395098},{"table":"warehouses","similarity":0.6549847651325709},{"table":"warehouses","similarity":0.6549847651325709},{"table":"goods_receipts","similarity":0.6485940357294664},{"table":"inventory_adjustments","similarity":0.6481714490174519}],"column_hits_per_table":{"inventory_levels":8,"inventory_transactions":7,"goods_receipts":1,"inventory_adjustments":2,"warehouse_locations":7,"warehouses":6,"sales_orders":4,"stock_transfers":2,"vendor_invoices":1,"purchase_orders":1,"budgets":1,"sales_quotes":1,"receipt_lines":1,"product_suppliers":1,"departments":1,"depreciation_entries":2,"reorder_rules":1,"products":2,"fixed_assets":1},"top_columns_per_table":{"inventory_levels":[{"column":"warehouse_id","similarity":0.708722514782743},{"column":"quantity_available","similarity":0.6604112553081857},{"column":"location_id","similarity":0.6602421519261215}],"inventory_transactions":[{"column":"warehouse_id","similarity":0.6993416090005563},{"column":"quantity","similarity":0.689333383144765},{"column":"location_id","similarity":0.660944351084026}],"goods_receipts":[{"column":"warehouse_id","similarity":0.688838466629484}],"inventory_adjustments":[{"column":"warehouse_id","similarity":0.6887282990877287},{"column":"adjusted_by","similarity":0.5981689946700227}],"warehouse_locations":[{"column":"capacity","similarity":0.6827158501951326},{"column":"warehouse_id","similarity":0.662666484484188},{"column":"aisle","similarity":0.6432371700626858}],"warehouses":[{"column":"warehouse_id","similarity":0.6820022612136065},{"column":"code","similarity":0.6539272965859065},{"column":"manager_id","similarity":0.6485538115680078}],"sales_orders":[{"column":"total","similarity":0.6722495952714556},{"column":"shipping_cost","similarity":0.60704061712735},{"column":"tax_amount","similarity":0.6052565462982356}],"stock_transfers":[{"column":"to_warehouse_id","similarity":0.6688782877276971},{"column":"from_warehouse_id","similarity":0.6625944072749643}],"vendor_invoices":[{"column":"total","similarity":0.6650649265799957}],"purchase_orders":[{"column":"total","similarity":0.6529876873319977}],"budgets":[{"column":"total_amount","similarity":0.6288992519439089}],"sales_quotes":[{"column":"total","similarity":0.6183165548964591}],"receipt_lines":[{"column":"location_id","similarity":0.6178862177295927}],"product_suppliers":[{"column":"unit_cost","similarity":0.6136774418242915}],"departments":[{"column":"budget","similarity":0.6126737864581466}],"depreciation_entries":[{"column":"book_value","similarity":0.6106026426926224},{"column":"amount","similarity":0.6023684484447284}],"reorder_rules":[{"column":"warehouse_id","similarity":0.6057139616644429}],"products":[{"column":"unit_cost","similarity":0.6047858628133291},{"column":"list_price","similarity":0.599736955772572}],"fixed_assets":[{"column":"disposal_amount","similarity":0.6025646944840113}]},"fused_scores":[{"table":"inventory_levels","fused":0.819440334599304,"table_sim":0.7062958755605335,"col_score":0.9891570231574598},{"table":"warehouse_locations","fused":0.8030301350875766,"table_sim":0.6688272683283106,"col_score":1.0043344352264754},{"table":"inventory_transactions","fused":0.7795766543502878,"table_sim":0.6765591263871731,"col_score":0.9341029462949597},{"table":"warehouses","fused":0.7500420942838101,"table_sim":0.6549847651325709,"col_score":0.8926280880106688},{"table":"inventory_adjustments","fused":0.7245924291507623,"table_sim":0.6481714490174519,"col_score":0.8392238993507277},{"table":"goods_receipts","fused":0.5820311920939354,"table_sim":0.6485940357294664,"col_score":0.4821869266406388},{"table":"sales_orders","fused":0.3903079615340523,"table_sim":0,"col_score":0.9757699038351306},{"table":"depreciation_entries","fused":0.3647147467659947,"table_sim":0,"col_score":0.9117868669149867},{"table":"products","fused":0.3618617362798461,"table_sim":0,"col_score":0.9046543406996151},{"table":"stock_transfers","fused":0.2800491375822502,"table_sim":0,"col_score":0.7001228439556254},{"table":"vendor_invoices","fused":0.2660259706319983,"table_sim":0,"col_score":0.6650649265799957},{"table":"purchase_orders","fused":0.2611950749327991,"table_sim":0,"col_score":0.6529876873319977},{"table":"budgets","fused":0.25155970077756357,"table_sim":0,"col_score":0.6288992519439089},{"table":"sales_quotes","fused":0.24732662195858365,"table_sim":0,"col_score":0.6183165548964591},{"table":"product_suppliers","fused":0.24547097672971663,"table_sim":0,"col_score":0.6136774418242915}],"fk_expansion_candidates":57,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"journal_entries","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"purchase_orders","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"fixed_assets","reason":"already_selected"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":16,"total_retrieval_latency_ms":23,"sql_generated":"SELECT wl.warehouse_id, SUM(il.quantity * il.purchase_cost) AS total_inventory_value FROM inventory_levels il JOIN warehouse_locations wl ON il.location_id = wl.warehouse_id GROUP BY wl.warehouse_id LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"il","column":"quantity","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"il","column":"purchase_cost","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"il","column":"location_id","resolved_table":"inventory_levels","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column il.quantity does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":0,"autocorrect_failure_reason":"No candidates found for column 'quantity'","total_latency_ms":3300,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column il.quantity does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:39:22.602Z","query_id":"b63cd28b-297c-4291-b6cd-68147a0f2ec5","question":"List products that had stock transfers in the last 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["stock_transfers","asset_transfers","product_suppliers","transfer_lines","products","goods_receipts","sales_orders","sales_opportunities","purchase_orders","bank_transactions","inventory_transactions","inventory_levels"],"tables_from_table_retrieval":6,"tables_from_column_only":12,"tables_from_fk_expansion":2,"table_scores":[{"table":"stock_transfers","similarity":0.7091850354041176},{"table":"stock_transfers","similarity":0.7011965090595027},{"table":"stock_transfers","similarity":0.7011965090595027},{"table":"transfer_lines","similarity":0.6496835362341594},{"table":"transfer_lines","similarity":0.6496835362341594},{"table":"transfer_lines","similarity":0.646870577681612},{"table":"asset_transfers","similarity":0.5968754380180706},{"table":"asset_transfers","similarity":0.5968754380180706},{"table":"asset_transfers","similarity":0.59288750153646},{"table":"product_suppliers","similarity":0.5817884382151997},{"table":"product_suppliers","similarity":0.5745779979943767},{"table":"product_suppliers","similarity":0.5745779979943767},{"table":"goods_receipts","similarity":0.5680812156740983},{"table":"products","similarity":0.5634067444500328},{"table":"goods_receipts","similarity":0.5627684399196974}],"column_hits_per_table":{"stock_transfers":9,"asset_transfers":4,"fixed_assets":1,"product_suppliers":2,"products":5,"goods_receipts":2,"sales_orders":4,"transfer_lines":3,"sales_opportunities":2,"purchase_orders":3,"bank_transactions":2,"inventory_adjustments":1,"inventory_transactions":3,"asset_maintenance":1,"purchase_requisitions":3,"sales_quotes":3,"inventory_levels":1,"vendor_invoices":1},"top_columns_per_table":{"stock_transfers":[{"column":"transfer_date","similarity":0.7499168921470162},{"column":"requested_date","similarity":0.7345265492490073},{"column":"status","similarity":0.7330447738209374}],"asset_transfers":[{"column":"transfer_date","similarity":0.6805213481174137},{"column":"reason","similarity":0.6364549306171452},{"column":"transferred_by","similarity":0.5760045825951514}],"fixed_assets":[{"column":"purchase_date","similarity":0.6273418627780806}],"product_suppliers":[{"column":"lead_time_days","similarity":0.6226272716760114},{"column":"vendor_sku","similarity":0.5886978994384543}],"products":[{"column":"sku","similarity":0.6116137990281642},{"column":"weight","similarity":0.6100903093863776},{"column":"name","similarity":0.6058188658015616}],"goods_receipts":[{"column":"receipt_date","similarity":0.6110182471068999},{"column":"notes","similarity":0.5904748926703712}],"sales_orders":[{"column":"ship_date","similarity":0.6099316067185375},{"column":"order_date","similarity":0.5959651780199162},{"column":"status","similarity":0.5956583941840918}],"transfer_lines":[{"column":"transfer_id","similarity":0.6075867978368561},{"column":"product_id","similarity":0.5992251210020744},{"column":"quantity_transferred","similarity":0.5858026631707312}],"sales_opportunities":[{"column":"actual_close_date","similarity":0.6030406652697254},{"column":"expected_close_date","similarity":0.5875094961690548}],"purchase_orders":[{"column":"status","similarity":0.5975839583778322},{"column":"order_date","similarity":0.5938817441678782},{"column":"expected_date","similarity":0.589876682073089}],"bank_transactions":[{"column":"transaction_date","similarity":0.5964828803092368},{"column":"reconciled","similarity":0.5699506323088029}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5938851055262241}],"inventory_transactions":[{"column":"transaction_date","similarity":0.5868513506524482},{"column":"transaction_type","similarity":0.5727879607007047},{"column":"reference_type","similarity":0.5713153140670767}],"asset_maintenance":[{"column":"completed_date","similarity":0.5867606193386766}],"purchase_requisitions":[{"column":"status","similarity":0.5827865883224072},{"column":"approved_date","similarity":0.5710456887653464},{"column":"notes","similarity":0.5705665600863868}],"sales_quotes":[{"column":"status","similarity":0.5826553998030811},{"column":"valid_until","similarity":0.5817087714931044},{"column":"quote_date","similarity":0.5733265296465615}],"inventory_levels":[{"column":"last_count_date","similarity":0.5783828724054709}],"vendor_invoices":[{"column":"status","similarity":0.5680190001288683}]},"fused_scores":[{"table":"stock_transfers","fused":0.8675899721443094,"table_sim":0.7011965090595027,"col_score":1.1171801667715198},{"table":"asset_transfers","fused":0.7552320262922705,"table_sim":0.59288750153646,"col_score":0.9987488134259863},{"table":"product_suppliers","fused":0.7115372873547214,"table_sim":0.5745779979943767,"col_score":0.9169762213952386},{"table":"transfer_lines","fused":0.7075055635744195,"table_sim":0.646870577681612,"col_score":0.7984580424136307},{"table":"products","fused":0.7047076281585609,"table_sim":0.5634067444500328,"col_score":0.916658953721353},{"table":"goods_receipts","fused":0.6647348477684304,"table_sim":0.5627684399196974,"col_score":0.8176844595415298},{"table":"sales_orders","fused":0.3631656782913983,"table_sim":0,"col_score":0.9079141957284956},{"table":"sales_opportunities","fused":0.35871816534170115,"table_sim":0,"col_score":0.8967954133542528},{"table":"purchase_orders","fused":0.3555280340817691,"table_sim":0,"col_score":0.8888200852044227},{"table":"bank_transactions","fused":0.35258327858545535,"table_sim":0,"col_score":0.8814581964636383},{"table":"inventory_transactions","fused":0.34929813240112023,"table_sim":0,"col_score":0.8732453310028006},{"table":"sales_quotes","fused":0.3473488145265541,"table_sim":0,"col_score":0.8683720363163852},{"table":"purchase_requisitions","fused":0.3100083978712756,"table_sim":0,"col_score":0.775020994678189},{"table":"fixed_assets","fused":0.25093674511123226,"table_sim":0,"col_score":0.6273418627780806},{"table":"inventory_adjustments","fused":0.23755404221048965,"table_sim":0,"col_score":0.5938851055262241}],"fk_expansion_candidates":69,"fk_expansion_added":2,"fk_expansion_blocked_count":54,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"sales_quotes","reason":"max_tables"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_levels","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":22,"total_retrieval_latency_ms":29,"sql_generated":"SELECT p.* FROM products p INNER JOIN transfer_lines tl ON p.product_id = tl.product_id INNER JOIN stock_transfers st ON tl.transfer_id = st.transfer_id WHERE st.transfer_date >= CURRENT_DATE - INTERVAL '30 days';","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":1042}
{"timestamp":"2026-02-01T21:39:23.645Z","query_id":"2bc151a1-6cef-4ce3-8a6f-4b661afb6f40","question":"What is the total spend by vendor this year?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["vendor_invoices","purchase_orders","vendors","project_expenses","product_suppliers","vendor_invoice_lines","project_budgets","sales_orders","sales_quotes","fixed_assets","vendor_contacts","products"],"tables_from_table_retrieval":6,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"vendor_invoices","similarity":0.6440970715159303},{"table":"vendor_invoices","similarity":0.6440970715159303},{"table":"vendor_invoices","similarity":0.639424435349415},{"table":"vendors","similarity":0.6244918790926227},{"table":"purchase_orders","similarity":0.6205493350711797},{"table":"purchase_orders","similarity":0.6205493350711797},{"table":"vendors","similarity":0.6183112819198846},{"table":"vendors","similarity":0.6183112819198846},{"table":"purchase_orders","similarity":0.6177456671712362},{"table":"product_suppliers","similarity":0.598703660216106},{"table":"fiscal_years","similarity":0.5958886040093712},{"table":"project_expenses","similarity":0.5917559199865416},{"table":"project_expenses","similarity":0.5906949409227156},{"table":"project_expenses","similarity":0.5906949409227156},{"table":"product_suppliers","similarity":0.5892637416806026}],"column_hits_per_table":{"vendor_invoices":10,"budgets":1,"purchase_orders":6,"vendor_invoice_lines":3,"project_expenses":2,"vendors":8,"sales_orders":2,"project_budgets":2,"product_suppliers":2,"sales_quotes":2,"projects":1,"fixed_assets":3,"products":1,"budget_lines":1,"purchase_requisitions":3,"depreciation_schedules":1,"asset_maintenance":1,"vendor_contacts":1},"top_columns_per_table":{"vendor_invoices":[{"column":"total","similarity":0.7062529607669469},{"column":"tax_amount","similarity":0.6569420170620686},{"column":"amount_paid","similarity":0.6525110251426526}],"budgets":[{"column":"total_amount","similarity":0.6533596429158817}],"purchase_orders":[{"column":"total","similarity":0.6425370855623833},{"column":"tax_amount","similarity":0.6174757294901109},{"column":"vendor_id","similarity":0.5942535542023611}],"vendor_invoice_lines":[{"column":"amount","similarity":0.6414203627446952},{"column":"unit_cost","similarity":0.6384854706402397},{"column":"quantity","similarity":0.6008819172893124}],"project_expenses":[{"column":"expense_date","similarity":0.6302596278500101},{"column":"amount","similarity":0.6115972025931361}],"vendors":[{"column":"payment_terms","similarity":0.6287317824441854},{"column":"vendor_number","similarity":0.616273209887938},{"column":"phone","similarity":0.6119598101701121}],"sales_orders":[{"column":"total","similarity":0.6273962434957814},{"column":"tax_amount","similarity":0.5927580498428531}],"project_budgets":[{"column":"actual_amount","similarity":0.6245219111397344},{"column":"planned_amount","similarity":0.6076385195194554}],"product_suppliers":[{"column":"unit_cost","similarity":0.6202704837989403},{"column":"vendor_id","similarity":0.5815547843350841}],"sales_quotes":[{"column":"total","similarity":0.6161006991687307},{"column":"tax_amount","similarity":0.587895729360088}],"projects":[{"column":"budget","similarity":0.6100628879936848}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5986646089942808},{"column":"purchase_date","similarity":0.5961819068723165},{"column":"vendor_id","similarity":0.5938842221789269}],"products":[{"column":"unit_cost","similarity":0.5940432927972419}],"budget_lines":[{"column":"amount","similarity":0.5917264745538887}],"purchase_requisitions":[{"column":"approved_date","similarity":0.5905370205856212},{"column":"request_date","similarity":0.5860336743159205},{"column":"required_date","similarity":0.5847709356931721}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.5876422769577351}],"asset_maintenance":[{"column":"vendor_id","similarity":0.5863680456887999}],"vendor_contacts":[{"column":"phone","similarity":0.5837764500936985}]},"fused_scores":[{"table":"vendor_invoices","fused":0.7975442489288413,"table_sim":0.639424435349415,"col_score":1.034723969297981},{"table":"purchase_orders","fused":0.7511573804257172,"table_sim":0.6177456671712362,"col_score":0.9512749503074387},{"table":"vendors","fused":0.7457341241071925,"table_sim":0.6183112819198846,"col_score":0.9368683873881544},{"table":"project_expenses","fused":0.7288402562122607,"table_sim":0.5906949409227156,"col_score":0.9360582291465782},{"table":"product_suppliers","fused":0.6830841083348494,"table_sim":0.5892637416806026,"col_score":0.8238146583162198},{"table":"vendor_invoice_lines","fused":0.38426523922592604,"table_sim":0,"col_score":0.960663098064815},{"table":"project_budgets","fused":0.37133646835978484,"table_sim":0,"col_score":0.9283411708994621},{"table":"sales_orders","fused":0.36951010736688317,"table_sim":0,"col_score":0.9237752684172079},{"table":"sales_quotes","fused":0.36401942553950994,"table_sim":0,"col_score":0.9100485638487747},{"table":"fixed_assets","fused":0.35870222497217563,"table_sim":0,"col_score":0.8967555624304391},{"table":"fiscal_years","fused":0.35753316240562266,"table_sim":0.5958886040093712,"col_score":0},{"table":"purchase_requisitions","fused":0.35342154309743257,"table_sim":0,"col_score":0.8835538577435814},{"table":"budgets","fused":0.26134385716635267,"table_sim":0,"col_score":0.6533596429158817},{"table":"projects","fused":0.24402515519747392,"table_sim":0,"col_score":0.6100628879936848},{"table":"products","fused":0.23761731711889678,"table_sim":0,"col_score":0.5940432927972419}],"fk_expansion_candidates":60,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"projects","reason":"max_tables"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"max_tables"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"products","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"vendor_contacts","reason":"already_selected"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"vendor_contacts","reason":"already_selected"},{"table":"employees","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"max_tables"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"max_tables"},{"table":"depreciation_schedules","reason":"max_tables"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"projects","reason":"max_tables"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":42,"total_retrieval_latency_ms":48,"sql_generated":"SELECT SUM(p.amount) AS total_spend FROM public.vendor_invoices v INNER JOIN public.product_suppliers p ON v.po_id = p.product_id WHERE EXTRACT(YEAR FROM v.invoice_date) = EXTRACT(YEAR FROM CURRENT_DATE);","tables_used_in_sql":[],"total_latency_ms":4091,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T21:39:27.736Z","query_id":"5d64665d-5832-4abf-8bff-0c07005ca96a","question":"List purchase orders that are overdue (expected date passed but not received)","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["purchase_orders","sales_orders","purchase_requisitions","goods_receipts","order_lines","vendor_invoices","performance_reviews","sales_quotes","po_lines","timesheets","fixed_assets","sales_opportunities"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"purchase_orders","similarity":0.6892780734130105},{"table":"purchase_orders","similarity":0.6877847923105723},{"table":"purchase_orders","similarity":0.6877847923105723},{"table":"sales_orders","similarity":0.6436897773327827},{"table":"goods_receipts","similarity":0.6352418457409176},{"table":"sales_orders","similarity":0.6345390772398959},{"table":"sales_orders","similarity":0.6345390772398959},{"table":"purchase_requisitions","similarity":0.6320653594363884},{"table":"purchase_requisitions","similarity":0.6281214571607268},{"table":"purchase_requisitions","similarity":0.6281214571607268},{"table":"order_lines","similarity":0.6266578306760409},{"table":"order_lines","similarity":0.6173850449941319},{"table":"order_lines","similarity":0.6173850449941319},{"table":"goods_receipts","similarity":0.6145302746290987},{"table":"goods_receipts","similarity":0.6145302746290987}],"column_hits_per_table":{"purchase_orders":15,"sales_orders":8,"purchase_requisitions":6,"vendor_invoices":3,"fixed_assets":1,"performance_reviews":3,"stock_transfers":1,"goods_receipts":2,"sales_opportunities":1,"po_lines":2,"order_lines":1,"sales_quotes":3,"timesheets":2,"inventory_transactions":1,"employee_certifications":1},"top_columns_per_table":{"purchase_orders":[{"column":"expected_date","similarity":0.7914963653938238},{"column":"order_date","similarity":0.7635502937685905},{"column":"status","similarity":0.747639644500421}],"sales_orders":[{"column":"order_date","similarity":0.7235546305466264},{"column":"required_date","similarity":0.7185386655573599},{"column":"ship_date","similarity":0.7100060695804065}],"purchase_requisitions":[{"column":"request_date","similarity":0.6846871495702603},{"column":"approved_date","similarity":0.6846235647380197},{"column":"required_date","similarity":0.6803613753458558}],"vendor_invoices":[{"column":"due_date","similarity":0.6486808836793426},{"column":"invoice_date","similarity":0.633314911035975},{"column":"status","similarity":0.6320046740385495}],"fixed_assets":[{"column":"purchase_date","similarity":0.6483597718886084}],"performance_reviews":[{"column":"review_date","similarity":0.6402500237578782},{"column":"review_period_end","similarity":0.6181137197537518},{"column":"review_period_start","similarity":0.6090541573304037}],"stock_transfers":[{"column":"requested_date","similarity":0.6397536436713247}],"goods_receipts":[{"column":"receipt_date","similarity":0.6320711731665748},{"column":"po_id","similarity":0.6150599127133874}],"sales_opportunities":[{"column":"expected_close_date","similarity":0.627425520789371}],"po_lines":[{"column":"po_id","similarity":0.621403776034774},{"column":"quantity_received","similarity":0.6133005378966102}],"order_lines":[{"column":"quantity_shipped","similarity":0.6213051311566832}],"sales_quotes":[{"column":"status","similarity":0.6196764702539621},{"column":"valid_until","similarity":0.6117760233170634},{"column":"quote_date","similarity":0.6084274483307646}],"timesheets":[{"column":"approved_date","similarity":0.6125536693705684},{"column":"status","similarity":0.6090778000186181}],"inventory_transactions":[{"column":"transaction_date","similarity":0.610775225230928}],"employee_certifications":[{"column":"obtained_date","similarity":0.6043033574871731}]},"fused_scores":[{"table":"purchase_orders","fused":0.8819794802975911,"table_sim":0.6877847923105723,"col_score":1.1732715122781192},{"table":"sales_orders","fused":0.81385303167406,"table_sim":0.6345390772398959,"col_score":1.0828239633253063},{"table":"purchase_requisitions","fused":0.7876724470721441,"table_sim":0.6281214571607268,"col_score":1.02699893193927},{"table":"goods_receipts","fused":0.7076550218239634,"table_sim":0.6145302746290987,"col_score":0.8473421426162604},{"table":"order_lines","fused":0.6189530794591525,"table_sim":0.6173850449941319,"col_score":0.6213051311566832},{"table":"vendor_invoices","fused":0.3861353356789321,"table_sim":0,"col_score":0.9653383391973301},{"table":"performance_reviews","fused":0.37972275345390166,"table_sim":0,"col_score":0.9493068836347541},{"table":"sales_quotes","fused":0.3663958989929783,"table_sim":0,"col_score":0.9159897474824457},{"table":"po_lines","fused":0.33231674380351245,"table_sim":0,"col_score":0.8307918595087811},{"table":"timesheets","fused":0.33029235975083393,"table_sim":0,"col_score":0.8257308993770848},{"table":"fixed_assets","fused":0.2593439087554434,"table_sim":0,"col_score":0.6483597718886084},{"table":"stock_transfers","fused":0.2559014574685299,"table_sim":0,"col_score":0.6397536436713247},{"table":"sales_opportunities","fused":0.2509702083157484,"table_sim":0,"col_score":0.627425520789371},{"table":"inventory_transactions","fused":0.2443100900923712,"table_sim":0,"col_score":0.610775225230928},{"table":"employee_certifications","fused":0.24172134299486925,"table_sim":0,"col_score":0.6043033574871731}],"fk_expansion_candidates":42,"fk_expansion_added":2,"fk_expansion_blocked_count":36,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":27,"sql_generated":"SELECT p.po_id AS order_id, p.order_date, s.required_date, DATEDIFF(s.required_date, p.order_date) AS days_overdue FROM sales_orders p JOIN sales_opportunities s ON p.po_id = s.opportunity_id WHERE p.status = 'Open' AND s.actual_close_date IS NULL;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"p","column":"po_id","resolved_table":"sales_orders","suggested_columns":["order_id","order_number","customer_id"]},{"alias":"s","column":"required_date","resolved_table":"sales_opportunities","suggested_columns":["opportunity_id","name","customer_id"]},{"alias":"s","column":"required_date","resolved_table":"sales_opportunities","suggested_columns":["opportunity_id","name","customer_id"]},{"alias":"p","column":"po_id","resolved_table":"sales_orders","suggested_columns":["order_id","order_number","customer_id"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column p.po_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":1,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":3398,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column p.po_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:39:31.134Z","query_id":"718fd77e-45b6-4cc1-b506-010181b10492","question":"Show the approval rate for purchase requisitions","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["purchase_requisitions","purchase_orders","requisition_lines","performance_reviews","sales_orders","vendor_invoices","fixed_assets","timesheets","product_suppliers","inventory_adjustments","order_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":11,"tables_from_fk_expansion":1,"table_scores":[{"table":"purchase_requisitions","similarity":0.7226292162446724},{"table":"purchase_requisitions","similarity":0.7226292162446724},{"table":"purchase_requisitions","similarity":0.7144537875190509},{"table":"purchase_orders","similarity":0.6838035609323098},{"table":"purchase_orders","similarity":0.6838035609323098},{"table":"purchase_orders","similarity":0.6754585362390629},{"table":"requisition_lines","similarity":0.6574096478940754},{"table":"requisition_lines","similarity":0.6574096478940754},{"table":"requisition_lines","similarity":0.6526067337493826},{"table":"performance_reviews","similarity":0.5761025171829891},{"table":"sales_orders","similarity":0.5687655577174364},{"table":"sales_orders","similarity":0.5687655577174364},{"table":"vendor_invoices","similarity":0.5649116344007853},{"table":"vendor_invoices","similarity":0.5649116344007853},{"table":"performance_reviews","similarity":0.5638451623641205}],"column_hits_per_table":{"purchase_requisitions":11,"purchase_orders":11,"requisition_lines":5,"performance_reviews":3,"inventory_adjustments":1,"fixed_assets":2,"order_lines":1,"budgets":1,"timesheets":2,"sales_orders":5,"employee_salaries":1,"project_expenses":1,"quote_lines":1,"tax_rates":1,"vendor_invoices":1,"product_suppliers":2,"project_resources":1},"top_columns_per_table":{"purchase_requisitions":[{"column":"approved_date","similarity":0.7766675210993076},{"column":"approved_by","similarity":0.7199034718995457},{"column":"status","similarity":0.7073786073810431}],"purchase_orders":[{"column":"approved_by","similarity":0.6705580315294349},{"column":"requisition_id","similarity":0.6613289750833529},{"column":"total","similarity":0.6594363248888107}],"requisition_lines":[{"column":"requisition_id","similarity":0.6370319480171334},{"column":"estimated_total","similarity":0.6269887433093003},{"column":"estimated_unit_cost","similarity":0.625934325952803}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.6195475886627112},{"column":"rating","similarity":0.5921179439607568},{"column":"review_date","similarity":0.5730063449640999}],"inventory_adjustments":[{"column":"approved_by","similarity":0.6149213210803182}],"fixed_assets":[{"column":"purchase_cost","similarity":0.6114883686057044},{"column":"purchase_date","similarity":0.5785038067743914}],"order_lines":[{"column":"discount_percent","similarity":0.6106530783790173}],"budgets":[{"column":"approved_by","similarity":0.602834670385188}],"timesheets":[{"column":"approved_date","similarity":0.5978626810289969},{"column":"approved_by","similarity":0.5903213401616674}],"sales_orders":[{"column":"total","similarity":0.5972436821987498},{"column":"status","similarity":0.5843282149659323},{"column":"tax_amount","similarity":0.5804608469563398}],"employee_salaries":[{"column":"approved_by","similarity":0.593883247254701}],"project_expenses":[{"column":"approved_by","similarity":0.5842337880872422}],"quote_lines":[{"column":"discount_percent","similarity":0.5811124096463001}],"tax_rates":[{"column":"rate","similarity":0.5763708905847392}],"vendor_invoices":[{"column":"total","similarity":0.5756181171303799}],"product_suppliers":[{"column":"is_preferred","similarity":0.5726740078455087},{"column":"minimum_order_qty","similarity":0.5720268431578629}],"project_resources":[{"column":"hourly_rate","similarity":0.5723431863834083}]},"fused_scores":[{"table":"purchase_requisitions","fused":0.8833199753310628,"table_sim":0.7144537875190509,"col_score":1.1366192570490805},{"table":"purchase_orders","fused":0.8053855993329739,"table_sim":0.6754585362390629,"col_score":1.0002761939738403},{"table":"requisition_lines","fused":0.7675464027639103,"table_sim":0.6526067337493826,"col_score":0.9399559062857018},{"table":"performance_reviews","fused":0.7045497216757082,"table_sim":0.5638451623641205,"col_score":0.9156065606430897},{"table":"sales_orders","fused":0.6962489769012297,"table_sim":0.5687655577174364,"col_score":0.8874741056769198},{"table":"vendor_invoices","fused":0.5691942274926232,"table_sim":0.5649116344007853,"col_score":0.5756181171303799},{"table":"fixed_assets","fused":0.36029610879716006,"table_sim":0,"col_score":0.9007402719929001},{"table":"timesheets","fused":0.35720934044393227,"table_sim":0,"col_score":0.8930233511098306},{"table":"product_suppliers","fused":0.3434749717697761,"table_sim":0,"col_score":0.8586874294244402},{"table":"inventory_adjustments","fused":0.24596852843212727,"table_sim":0,"col_score":0.6149213210803182},{"table":"order_lines","fused":0.24426123135160693,"table_sim":0,"col_score":0.6106530783790173},{"table":"budgets","fused":0.24113386815407523,"table_sim":0,"col_score":0.602834670385188},{"table":"employee_salaries","fused":0.2375532989018804,"table_sim":0,"col_score":0.593883247254701},{"table":"project_expenses","fused":0.2336935152348969,"table_sim":0,"col_score":0.5842337880872422},{"table":"quote_lines","fused":0.23244496385852004,"table_sim":0,"col_score":0.5811124096463001}],"fk_expansion_candidates":60,"fk_expansion_added":1,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"order_lines","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":26,"sql_generated":"SELECT COUNT(purchase_requisitions.id) AS total_requisitions, SUM(CASE WHEN purchase_orders.status = 'Approved' THEN 1 ELSE 0 END) AS approved_requisitions FROM purchase_requisitions JOIN purchase_orders ON purchase_requisitions.po_id = purchase_orders.po_id;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"purchase_requisitions","column":"id","resolved_table":"purchase_requisitions","suggested_columns":["requisition_id","requisition_number","requested_by"]},{"alias":"purchase_requisitions","column":"po_id","resolved_table":"purchase_requisitions","suggested_columns":["requisition_id","requisition_number","requested_by"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column purchase_requisitions.po_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":1,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":3620,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column purchase_requisitions.po_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:39:34.754Z","query_id":"184e64f1-6467-4dc4-80a9-061b01d8ddda","question":"What is the total debit and credit for each account in the current period?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["bank_accounts","depreciation_entries","depreciation_schedules","bank_transactions","chart_of_accounts","fiscal_periods","customers","project_budgets","project_expenses","budgets","journal_lines","sales_orders"],"tables_from_table_retrieval":7,"tables_from_column_only":20,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_accounts","similarity":0.6774767745272873},{"table":"bank_accounts","similarity":0.6637119412946053},{"table":"bank_accounts","similarity":0.6637119412946053},{"table":"depreciation_schedules","similarity":0.6498181514395631},{"table":"depreciation_schedules","similarity":0.6498181514395631},{"table":"depreciation_entries","similarity":0.648921875856853},{"table":"depreciation_entries","similarity":0.648921875856853},{"table":"depreciation_entries","similarity":0.6479655202571633},{"table":"depreciation_schedules","similarity":0.6391071490249879},{"table":"bank_transactions","similarity":0.6215432609525777},{"table":"bank_transactions","similarity":0.6186829982985472},{"table":"bank_transactions","similarity":0.6186829982985472},{"table":"fiscal_periods","similarity":0.6118740658020915},{"table":"chart_of_accounts","similarity":0.6113283904518393},{"table":"customers","similarity":0.6110220975215452}],"column_hits_per_table":{"bank_accounts":7,"depreciation_entries":8,"depreciation_schedules":7,"budgets":2,"purchase_orders":1,"bank_transactions":2,"vendor_invoices":1,"asset_categories":1,"timesheets":1,"sales_orders":1,"project_budgets":2,"po_lines":1,"requisition_lines":1,"order_lines":1,"chart_of_accounts":1,"quote_lines":1,"journal_lines":1,"departments":1,"sales_quotes":1,"fiscal_periods":1,"project_milestones":1,"account_types":1,"customers":1,"fixed_assets":1,"projects":1,"project_expenses":2,"inventory_levels":1},"top_columns_per_table":{"bank_accounts":[{"column":"current_balance","similarity":0.7091841928818097},{"column":"account_number","similarity":0.6419731099305319},{"column":"is_active","similarity":0.6295019659358201}],"depreciation_entries":[{"column":"amount","similarity":0.6872612675445888},{"column":"accumulated_depreciation","similarity":0.6792929796251425},{"column":"period_id","similarity":0.6616962014495356}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.6798083658343647},{"column":"monthly_amount","similarity":0.6722756292621933},{"column":"start_date","similarity":0.6548042836876464}],"budgets":[{"column":"total_amount","similarity":0.66266591023344},{"column":"status","similarity":0.6029088724565239}],"purchase_orders":[{"column":"total","similarity":0.6385670460750342}],"bank_transactions":[{"column":"amount","similarity":0.628826289554302},{"column":"transaction_date","similarity":0.5968086476507635}],"vendor_invoices":[{"column":"total","similarity":0.6243636979717804}],"asset_categories":[{"column":"depreciation_method","similarity":0.6240014992246529}],"timesheets":[{"column":"total_hours","similarity":0.6227337420930529}],"sales_orders":[{"column":"total","similarity":0.6223028921864684}],"project_budgets":[{"column":"actual_amount","similarity":0.617506824130773},{"column":"planned_amount","similarity":0.5941166158449659}],"po_lines":[{"column":"line_total","similarity":0.616731755167915}],"requisition_lines":[{"column":"estimated_total","similarity":0.6162717841911394}],"order_lines":[{"column":"line_total","similarity":0.6136225013161591}],"chart_of_accounts":[{"column":"account_number","similarity":0.6134827144686594}],"quote_lines":[{"column":"line_total","similarity":0.6119848744133741}],"journal_lines":[{"column":"debit","similarity":0.6106943672167331}],"departments":[{"column":"budget","similarity":0.6102538819136373}],"sales_quotes":[{"column":"total","similarity":0.6078976656380447}],"fiscal_periods":[{"column":"period_number","similarity":0.6051498655202864}],"project_milestones":[{"column":"amount","similarity":0.6026750191107226}],"account_types":[{"column":"normal_balance","similarity":0.6021368217241928}],"customers":[{"column":"credit_limit","similarity":0.6016687157986615}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5989518390574556}],"projects":[{"column":"budget","similarity":0.5989453113679677}],"project_expenses":[{"column":"amount","similarity":0.5956749512175924},{"column":"expense_date","similarity":0.5939500617562942}],"inventory_levels":[{"column":"last_count_date","similarity":0.5932624381452135}]},"fused_scores":[{"table":"bank_accounts","fused":0.8102954639155935,"table_sim":0.6637119412946053,"col_score":1.0301707478470756},{"table":"depreciation_entries","fused":0.799542415097162,"table_sim":0.6479655202571633,"col_score":1.0269077573571601},{"table":"depreciation_schedules","fused":0.7898427616011772,"table_sim":0.6391071490249879,"col_score":1.0159461804654613},{"table":"bank_transactions","fused":0.7421020443310018,"table_sim":0.6186829982985472,"col_score":0.9272306133796837},{"table":"chart_of_accounts","fused":0.6121901200585673,"table_sim":0.6113283904518393,"col_score":0.6134827144686594},{"table":"fiscal_periods","fused":0.6091843856893695,"table_sim":0.6118740658020915,"col_score":0.6051498655202864},{"table":"customers","fused":0.6072807448323918,"table_sim":0.6110220975215452,"col_score":0.6016687157986615},{"table":"project_budgets","fused":0.3658260528213024,"table_sim":0,"col_score":0.914565132053256},{"table":"project_expenses","fused":0.3570599928382958,"table_sim":0,"col_score":0.8926499820957394},{"table":"budgets","fused":0.3494736062372894,"table_sim":0,"col_score":0.8736840155932234},{"table":"purchase_orders","fused":0.2554268184300137,"table_sim":0,"col_score":0.6385670460750342},{"table":"vendor_invoices","fused":0.24974547918871215,"table_sim":0,"col_score":0.6243636979717804},{"table":"asset_categories","fused":0.24960059968986115,"table_sim":0,"col_score":0.6240014992246529},{"table":"timesheets","fused":0.24909349683722115,"table_sim":0,"col_score":0.6227337420930529},{"table":"sales_orders","fused":0.24892115687458738,"table_sim":0,"col_score":0.6223028921864684}],"fk_expansion_candidates":48,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"account_types","reason":"no_evidence"},{"table":"account_types","reason":"no_evidence"},{"table":"account_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_lines","reason":"already_selected"},{"table":"journal_lines","reason":"already_selected"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_orders","reason":"already_selected"},{"table":"sales_orders","reason":"already_selected"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":23,"total_retrieval_latency_ms":29,"sql_generated":"SELECT ca.name AS account_name, SUM(jl.debit) AS total_debit, SUM(jl.credit) AS total_credit FROM chart_of_accounts ca JOIN journal_lines jl ON ca.account_id = jl.account_id WHERE ca.is_active AND jl.transaction_date BETWEEN (SELECT start_date FROM fiscal_periods WHERE period_id = 1) AND (SELECT end_date FROM fiscal_periods WHERE period_id = 1) GROUP BY ca.name;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"jl","column":"transaction_date","resolved_table":"journal_lines","suggested_columns":["line_id","entry_id","account_id"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column jl.transaction_date does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":0,"autocorrect_failure_reason":"No candidates found for column 'transaction_date'","total_latency_ms":4883,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column jl.transaction_date does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:39:39.637Z","query_id":"dce912ef-6848-4c02-b182-3a9a13da45f3","question":"List all posted journal entries for the current month","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["journal_entries","journal_lines","depreciation_entries","timesheet_entries","depreciation_schedules","goods_receipts","performance_reviews","timesheets","purchase_orders","sales_orders","fiscal_periods"],"tables_from_table_retrieval":6,"tables_from_column_only":11,"tables_from_fk_expansion":1,"table_scores":[{"table":"journal_entries","similarity":0.7371200347881697},{"table":"journal_entries","similarity":0.7337575383913534},{"table":"journal_entries","similarity":0.7337575383913534},{"table":"depreciation_entries","similarity":0.6388628310824237},{"table":"journal_lines","similarity":0.6381042717949331},{"table":"journal_lines","similarity":0.6375228213542982},{"table":"journal_lines","similarity":0.6375228213542982},{"table":"depreciation_entries","similarity":0.620321548516075},{"table":"depreciation_entries","similarity":0.620321548516075},{"table":"timesheet_entries","similarity":0.591409348833156},{"table":"timesheet_entries","similarity":0.5779744014930662},{"table":"timesheet_entries","similarity":0.5779744014930662},{"table":"goods_receipts","similarity":0.5514372844287214},{"table":"goods_receipts","similarity":0.5514372844287214},{"table":"depreciation_schedules","similarity":0.5496411130563262}],"column_hits_per_table":{"journal_entries":9,"depreciation_entries":5,"journal_lines":7,"timesheet_entries":6,"timesheets":3,"goods_receipts":2,"performance_reviews":3,"purchase_orders":2,"project_budgets":1,"depreciation_schedules":3,"sales_orders":2,"inventory_adjustments":1,"project_milestones":2,"project_expenses":1,"asset_maintenance":1,"inventory_levels":1,"fiscal_periods":1},"top_columns_per_table":{"journal_entries":[{"column":"entry_date","similarity":0.7655855491601273},{"column":"status","similarity":0.7275626775552384},{"column":"description","similarity":0.6934262774097697}],"depreciation_entries":[{"column":"entry_date","similarity":0.6527378197389673},{"column":"journal_entry_id","similarity":0.6264997627243734},{"column":"period_id","similarity":0.5784124082329226}],"journal_lines":[{"column":"debit","similarity":0.6462162662227552},{"column":"entry_id","similarity":0.63445493384167},{"column":"credit","similarity":0.6302297921040358}],"timesheet_entries":[{"column":"entry_date","similarity":0.643149580648736},{"column":"description","similarity":0.5784471414475906},{"column":"is_billable","similarity":0.5646044939625099}],"timesheets":[{"column":"submitted_date","similarity":0.6071227188529923},{"column":"approved_date","similarity":0.558240470220022},{"column":"status","similarity":0.5546176605609148}],"goods_receipts":[{"column":"receipt_date","similarity":0.6069794047492042},{"column":"notes","similarity":0.5874873259337253}],"performance_reviews":[{"column":"review_date","similarity":0.5950094300516277},{"column":"review_period_start","similarity":0.5831041324802553},{"column":"review_period_end","similarity":0.5815085145824492}],"purchase_orders":[{"column":"expected_date","similarity":0.5699322697921354},{"column":"order_date","similarity":0.5626891014743185}],"project_budgets":[{"column":"notes","similarity":0.5673321472292275}],"depreciation_schedules":[{"column":"start_date","similarity":0.5658993130104887},{"column":"end_date","similarity":0.5657267369208648},{"column":"useful_life_months","similarity":0.55595733939211}],"sales_orders":[{"column":"order_date","similarity":0.5624106989815346},{"column":"ship_date","similarity":0.5530449744222993}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5603354872689613}],"project_milestones":[{"column":"due_date","similarity":0.5592106844491532},{"column":"completed_date","similarity":0.5526238895701121}],"project_expenses":[{"column":"expense_date","similarity":0.5579679430250829}],"asset_maintenance":[{"column":"completed_date","similarity":0.5568546149961348}],"inventory_levels":[{"column":"last_count_date","similarity":0.5485679778292861}],"fiscal_periods":[{"column":"start_date","similarity":0.5482872222538088}]},"fused_scores":[{"table":"journal_entries","fused":0.8831407330933849,"table_sim":0.7337575383913534,"col_score":1.1072155251464324},{"table":"journal_lines","fused":0.7670461577224882,"table_sim":0.6375228213542982,"col_score":0.9613311622747731},{"table":"depreciation_entries","fused":0.7482943452989723,"table_sim":0.620321548516075,"col_score":0.9402535404733183},{"table":"timesheet_entries","fused":0.7169653719478362,"table_sim":0.5779744014930662,"col_score":0.9254518276299909},{"table":"depreciation_schedules","fused":0.6692897404221642,"table_sim":0.5496411130563262,"col_score":0.848762681470921},{"table":"goods_receipts","fused":0.6559023581876361,"table_sim":0.5514372844287214,"col_score":0.812599968826008},{"table":"performance_reviews","fused":0.35462459851670214,"table_sim":0,"col_score":0.8865614962917553},{"table":"timesheets","fused":0.3544971815852013,"table_sim":0,"col_score":0.8862429539630032},{"table":"purchase_orders","fused":0.3405107282117179,"table_sim":0,"col_score":0.8512768205292947},{"table":"sales_orders","fused":0.33557327447707375,"table_sim":0,"col_score":0.8389331861926843},{"table":"project_milestones","fused":0.33420905169368376,"table_sim":0,"col_score":0.8355226292342093},{"table":"inventory_adjustments","fused":0.22413419490758454,"table_sim":0,"col_score":0.5603354872689613},{"table":"project_expenses","fused":0.22318717721003317,"table_sim":0,"col_score":0.5579679430250829},{"table":"asset_maintenance","fused":0.22274184599845392,"table_sim":0,"col_score":0.5568546149961348},{"table":"inventory_levels","fused":0.21942719113171447,"table_sim":0,"col_score":0.5485679778292861}],"fk_expansion_candidates":51,"fk_expansion_added":1,"fk_expansion_blocked_count":48,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"already_selected"},{"table":"fiscal_periods","reason":"already_selected"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":37,"total_retrieval_latency_ms":44,"sql_generated":"SELECT j.entry_id AS entry_id, j.entry_number AS entry_number, j.description AS description, j.status AS status, j.posted_at AS posted_at FROM journal_entries j JOIN fiscal_periods f ON j.period_id = f.period_id WHERE EXTRACT(MONTH FROM f.start_date) = EXTRACT(MONTH FROM CURRENT_DATE) AND EXTRACT(YEAR FROM f.start_date) = EXTRACT(YEAR FROM CURRENT_DATE);","tables_used_in_sql":[],"total_latency_ms":3899,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T21:39:43.536Z","query_id":"62a1d9e4-6c28-405d-a62c-594b7765edd8","question":"Show budget vs actual spending by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["budgets","project_budgets","departments","project_expenses","budget_lines","cost_centers","fiscal_periods","projects","fixed_assets","fiscal_years"],"tables_from_table_retrieval":6,"tables_from_column_only":9,"tables_from_fk_expansion":0,"table_scores":[{"table":"budgets","similarity":0.6743467953278661},{"table":"budgets","similarity":0.6696787142109972},{"table":"budgets","similarity":0.6696787142109972},{"table":"project_budgets","similarity":0.6399342167994372},{"table":"project_budgets","similarity":0.625479815809335},{"table":"project_budgets","similarity":0.625479815809335},{"table":"budget_lines","similarity":0.6120027063639643},{"table":"departments","similarity":0.6078621456074449},{"table":"budget_lines","similarity":0.5989246191783324},{"table":"budget_lines","similarity":0.5989246191783324},{"table":"cost_centers","similarity":0.5976264909955187},{"table":"project_expenses","similarity":0.5925480261881607},{"table":"departments","similarity":0.5844440352873819},{"table":"departments","similarity":0.5844440352873819},{"table":"cost_centers","similarity":0.5713648686111387}],"column_hits_per_table":{"departments":5,"budgets":8,"project_budgets":6,"projects":1,"cost_centers":4,"budget_lines":5,"project_expenses":10,"purchase_requisitions":1,"fiscal_periods":4,"employees":1,"fixed_assets":1,"positions":1,"journal_lines":1,"fiscal_years":1,"requisition_lines":1},"top_columns_per_table":{"departments":[{"column":"budget","similarity":0.7495917239034583},{"column":"name","similarity":0.5755650515829921},{"column":"parent_department_id","similarity":0.5706427726662122}],"budgets":[{"column":"department_id","similarity":0.6950775126936677},{"column":"total_amount","similarity":0.667786554654465},{"column":"status","similarity":0.6456108671424535}],"project_budgets":[{"column":"actual_amount","similarity":0.6672453210209517},{"column":"category","similarity":0.6364564423512089},{"column":"planned_amount","similarity":0.6313162099542824}],"projects":[{"column":"budget","similarity":0.6339398871894302}],"cost_centers":[{"column":"department_id","similarity":0.6309159447379118},{"column":"is_active","similarity":0.5725191475396931},{"column":"name","similarity":0.5342580632651498}],"budget_lines":[{"column":"amount","similarity":0.6270291557125669},{"column":"budget_id","similarity":0.6119783533872745},{"column":"period_id","similarity":0.5916602644004139}],"project_expenses":[{"column":"category","similarity":0.6091416233792963},{"column":"amount","similarity":0.608230851250711},{"column":"is_billable","similarity":0.6010086163947923}],"purchase_requisitions":[{"column":"department_id","similarity":0.5868126293907591}],"fiscal_periods":[{"column":"period_number","similarity":0.5573405580706999},{"column":"is_closed","similarity":0.5486176225532576},{"column":"fiscal_year_id","similarity":0.542120776396656}],"employees":[{"column":"department_id","similarity":0.549593783899725}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5426840706112633}],"positions":[{"column":"department_id","similarity":0.5422206846512622}],"journal_lines":[{"column":"cost_center_id","similarity":0.5404923386923173}],"fiscal_years":[{"column":"year","similarity":0.5379300104521342}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.5310951239241254}]},"fused_scores":[{"table":"budgets","fused":0.7927672704314797,"table_sim":0.6696787142109972,"col_score":0.9774001047622032},{"table":"project_budgets","fused":0.7694773063642235,"table_sim":0.625479815809335,"col_score":0.9854735421965561},{"table":"departments","fused":0.7310822179554313,"table_sim":0.5844440352873819,"col_score":0.9510394919575055},{"table":"project_expenses","fused":0.7208316353147572,"table_sim":0.5925480261881607,"col_score":0.9132570490046519},{"table":"budget_lines","fused":0.6958434032662446,"table_sim":0.5989246191783324,"col_score":0.8412215793981129},{"table":"cost_centers","fused":0.6440128307218487,"table_sim":0.5713648686111387,"col_score":0.7529847738879138},{"table":"fiscal_periods","fused":0.33265974773893153,"table_sim":0,"col_score":0.8316493693473288},{"table":"projects","fused":0.25357595487577206,"table_sim":0,"col_score":0.6339398871894302},{"table":"fixed_assets","fused":0.21707362824450535,"table_sim":0,"col_score":0.5426840706112633},{"table":"fiscal_years","fused":0.2151720041808537,"table_sim":0,"col_score":0.5379300104521342},{"table":"requisition_lines","fused":0.21243804956965018,"table_sim":0,"col_score":0.5310951239241254},{"table":"purchase_requisitions","fused":0.16430753622941252,"table_sim":0,"col_score":0.4107688405735313},{"table":"employees","fused":0.15388625949192303,"table_sim":0,"col_score":0.3847156487298075},{"table":"positions","fused":0.1518217917023534,"table_sim":0,"col_score":0.3795544792558835},{"table":"journal_lines","fused":0.15133785483384884,"table_sim":0,"col_score":0.37834463708462207}],"fk_expansion_candidates":57,"fk_expansion_added":0,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":15,"total_retrieval_latency_ms":21,"sql_generated":"SELECT d.name AS department_name, SUM(b.amount) AS total_budget, SUM(be.actual_amount) AS total_actual_spending FROM budgets b JOIN departments d ON b.department_id = d.department_id LEFT JOIN project_budgets pb ON b.budget_id = pb.budget_id LEFT JOIN budget_lines bl ON pb.project_id = bl.project_id AND pb.period_id = bl.period_id LEFT JOIN project_expenses be ON d.department_id = be.employee_id GROUP BY d.name, b.amount, be.actual_amount;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]},{"alias":"b","column":"amount","resolved_table":"budgets","suggested_columns":["budget_id","fiscal_year_id","department_id"]},{"alias":"be","column":"actual_amount","resolved_table":"project_expenses","suggested_columns":["expense_id","project_id","employee_id"]},{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"pb","column":"budget_id","resolved_table":"project_budgets","suggested_columns":[]},{"alias":"pb","column":"project_id","resolved_table":"project_budgets","suggested_columns":[]},{"alias":"bl","column":"project_id","resolved_table":"budget_lines","suggested_columns":["line_id","budget_id","account_id"]},{"alias":"pb","column":"period_id","resolved_table":"project_budgets","suggested_columns":[]},{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]},{"alias":"b","column":"amount","resolved_table":"budgets","suggested_columns":["budget_id","fiscal_year_id","department_id"]},{"alias":"be","column":"actual_amount","resolved_table":"project_expenses","suggested_columns":["expense_id","project_id","employee_id"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column bl.project_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":1,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":4684,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column bl.project_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:39:48.220Z","query_id":"0622a6cb-1423-4444-9f2d-637c18b14930","question":"What is the total expense amount per project?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["project_expenses","project_budgets","projects","project_resources","project_milestones","requisition_lines","vendor_invoices","project_tasks","purchase_orders","depreciation_schedules","products","vendor_invoice_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":19,"tables_from_fk_expansion":2,"table_scores":[{"table":"project_expenses","similarity":0.7579256306198433},{"table":"project_expenses","similarity":0.7579256306198433},{"table":"project_expenses","similarity":0.7357232557396823},{"table":"project_budgets","similarity":0.7265263943390426},{"table":"project_budgets","similarity":0.7265263943390426},{"table":"project_budgets","similarity":0.7124927404351951},{"table":"project_milestones","similarity":0.6341783562502439},{"table":"project_milestones","similarity":0.6327617739785869},{"table":"project_milestones","similarity":0.6327617739785869},{"table":"projects","similarity":0.621762698662178},{"table":"projects","similarity":0.621762698662178},{"table":"project_resources","similarity":0.6179077692716867},{"table":"project_resources","similarity":0.6179077692716867},{"table":"project_resources","similarity":0.6177078775243305},{"table":"projects","similarity":0.6089962100611707}],"column_hits_per_table":{"project_expenses":10,"project_budgets":6,"budgets":1,"projects":2,"project_milestones":3,"budget_lines":1,"project_resources":3,"vendor_invoices":3,"requisition_lines":2,"project_tasks":2,"asset_maintenance":1,"purchase_orders":2,"product_suppliers":1,"maintenance_types":1,"products":1,"depreciation_schedules":2,"sales_orders":1,"departments":1,"depreciation_entries":1,"employee_salaries":1,"fixed_assets":1,"vendor_invoice_lines":2,"cost_centers":1,"bank_transactions":1},"top_columns_per_table":{"project_expenses":[{"column":"amount","similarity":0.7981720469231877},{"column":"project_id","similarity":0.6993700351285576},{"column":"expense_date","similarity":0.6976862753776708}],"project_budgets":[{"column":"actual_amount","similarity":0.7544693731428739},{"column":"planned_amount","similarity":0.7475286878234714},{"column":"notes","similarity":0.6743372266880852}],"budgets":[{"column":"total_amount","similarity":0.7244402768016153}],"projects":[{"column":"budget","similarity":0.7063289030461566},{"column":"project_number","similarity":0.6281879793284453}],"project_milestones":[{"column":"amount","similarity":0.6973822743170455},{"column":"project_id","similarity":0.6134928683540164},{"column":"description","similarity":0.5964450815919577}],"budget_lines":[{"column":"amount","similarity":0.6474203598538232}],"project_resources":[{"column":"allocation_percent","similarity":0.6462989167237004},{"column":"hourly_rate","similarity":0.6385625515015617},{"column":"project_id","similarity":0.6168915789933885}],"vendor_invoices":[{"column":"total","similarity":0.6401126688839376},{"column":"tax_amount","similarity":0.6065038506039637},{"column":"amount_paid","similarity":0.6026309455729351}],"requisition_lines":[{"column":"estimated_total","similarity":0.6310334497515143},{"column":"estimated_unit_cost","similarity":0.6268164964734461}],"project_tasks":[{"column":"estimated_hours","similarity":0.6305074503163082},{"column":"actual_hours","similarity":0.6251982989877009}],"asset_maintenance":[{"column":"cost","similarity":0.6261574066715916}],"purchase_orders":[{"column":"total","similarity":0.6208795786058339},{"column":"tax_amount","similarity":0.6034316104821902}],"product_suppliers":[{"column":"unit_cost","similarity":0.6203195070815227}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6200443707585799}],"products":[{"column":"unit_cost","similarity":0.6147011653596138}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.614550945299665},{"column":"monthly_amount","similarity":0.6065005360138125}],"sales_orders":[{"column":"total","similarity":0.6137682710613002}],"departments":[{"column":"budget","similarity":0.6129728617339807}],"depreciation_entries":[{"column":"amount","similarity":0.6104740649740648}],"employee_salaries":[{"column":"amount","similarity":0.6103603528626569}],"fixed_assets":[{"column":"purchase_cost","similarity":0.6026468504879459}],"vendor_invoice_lines":[{"column":"amount","similarity":0.6003959822481075},{"column":"unit_cost","similarity":0.5981934490405764}],"cost_centers":[{"column":"department_id","similarity":0.6003827939727152}],"bank_transactions":[{"column":"amount","similarity":0.5987202435335099}]},"fused_scores":[{"table":"project_expenses","fused":0.9002400272886186,"table_sim":0.7357232557396823,"col_score":1.1470151846120231},{"table":"project_budgets","fused":0.8787891310829609,"table_sim":0.7124927404351951,"col_score":1.1282337170546095},{"table":"projects","fused":0.7735668831208542,"table_sim":0.6089962100611707,"col_score":1.0204228927103793},{"table":"project_resources","fused":0.7568568035043909,"table_sim":0.6177078775243305,"col_score":0.9655801924744813},{"table":"project_milestones","fused":0.7444989756835327,"table_sim":0.6327617739785869,"col_score":0.9121047782409513},{"table":"requisition_lines","fused":0.37777667919529495,"table_sim":0,"col_score":0.9444416979882373},{"table":"vendor_invoices","fused":0.3773458376743678,"table_sim":0,"col_score":0.9433645941859194},{"table":"project_tasks","fused":0.3772426399240635,"table_sim":0,"col_score":0.9431065998101587},{"table":"purchase_orders","fused":0.3690381535387716,"table_sim":0,"col_score":0.922595383846929},{"table":"depreciation_schedules","fused":0.36712048532262853,"table_sim":0,"col_score":0.9178012133065713},{"table":"vendor_invoice_lines","fused":0.35979708270735833,"table_sim":0,"col_score":0.8994927067683958},{"table":"budgets","fused":0.28977611072064613,"table_sim":0,"col_score":0.7244402768016153},{"table":"budget_lines","fused":0.2589681439415293,"table_sim":0,"col_score":0.6474203598538232},{"table":"asset_maintenance","fused":0.25046296266863666,"table_sim":0,"col_score":0.6261574066715916},{"table":"product_suppliers","fused":0.2481278028326091,"table_sim":0,"col_score":0.6203195070815227}],"fk_expansion_candidates":39,"fk_expansion_added":2,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"already_selected"},{"table":"products","reason":"already_selected"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":38,"total_retrieval_latency_ms":45,"sql_generated":"SELECT p.project_id AS ProjectID, SUM(pe.amount) AS TotalExpenses FROM projects p JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":100,"total_latency_ms":740}
{"timestamp":"2026-02-01T21:39:48.960Z","query_id":"8b7b84c7-a2ce-4230-9548-328810e6789d","question":"List projects that are over budget","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_budgets","project_expenses","projects","budgets","project_milestones","project_resources","project_tasks","budget_lines","departments"],"tables_from_table_retrieval":6,"tables_from_column_only":3,"tables_from_fk_expansion":0,"table_scores":[{"table":"project_budgets","similarity":0.722964742520668},{"table":"project_budgets","similarity":0.7149382810327576},{"table":"project_budgets","similarity":0.7149382810327576},{"table":"project_expenses","similarity":0.6616137568759273},{"table":"project_expenses","similarity":0.6616137568759273},{"table":"project_expenses","similarity":0.6612139885640923},{"table":"project_milestones","similarity":0.6086742516860566},{"table":"projects","similarity":0.6032117409064212},{"table":"projects","similarity":0.6032117409064212},{"table":"projects","similarity":0.603119867291799},{"table":"project_resources","similarity":0.597322584800267},{"table":"project_milestones","similarity":0.5963753466104804},{"table":"project_milestones","similarity":0.5963753466104804},{"table":"budgets","similarity":0.5962983646598873},{"table":"budgets","similarity":0.5962983646598873}],"column_hits_per_table":{"projects":10,"project_budgets":6,"project_expenses":9,"budgets":6,"budget_lines":3,"project_milestones":4,"project_tasks":8,"project_resources":3,"departments":1},"top_columns_per_table":{"projects":[{"column":"budget","similarity":0.7040586919716509},{"column":"planned_end_date","similarity":0.6178230121937325},{"column":"project_number","similarity":0.6141630378138243}],"project_budgets":[{"column":"notes","similarity":0.6952498482759191},{"column":"category","similarity":0.684511328503381},{"column":"planned_amount","similarity":0.6722268345754978}],"project_expenses":[{"column":"is_billable","similarity":0.6461941542288852},{"column":"category","similarity":0.6420132273918641},{"column":"expense_date","similarity":0.63434637160428}],"budgets":[{"column":"total_amount","similarity":0.614370809503817},{"column":"status","similarity":0.6108205553547363},{"column":"budget_id","similarity":0.5929594782171785}],"budget_lines":[{"column":"budget_id","similarity":0.6079961535935847},{"column":"amount","similarity":0.6077961190977996},{"column":"line_id","similarity":0.5893204834240592}],"project_milestones":[{"column":"is_billable","similarity":0.6071449572441574},{"column":"amount","similarity":0.588199497133572},{"column":"due_date","similarity":0.5812913433040277}],"project_tasks":[{"column":"estimated_hours","similarity":0.5963088711841054},{"column":"due_date","similarity":0.5950349513196225},{"column":"actual_hours","similarity":0.5923374564661072}],"project_resources":[{"column":"allocation_percent","similarity":0.5884306445284694},{"column":"project_id","similarity":0.584485395721684},{"column":"end_date","similarity":0.5723455956479002}],"departments":[{"column":"budget","similarity":0.5759799767407416}]},"fused_scores":[{"table":"project_budgets","fused":0.8372128669361065,"table_sim":0.7149382810327576,"col_score":1.02062474579113},{"table":"project_expenses","fused":0.7836087003083823,"table_sim":0.6612139885640923,"col_score":0.9672007679248171},{"table":"projects","fused":0.7670599996024863,"table_sim":0.603119867291799,"col_score":1.0129701980685173},{"table":"budgets","fused":0.7209543495760293,"table_sim":0.5962983646598873,"col_score":0.9079383269502421},{"table":"project_milestones","fused":0.7183230902906657,"table_sim":0.5963753466104804,"col_score":0.9012447058109434},{"table":"project_resources","fused":0.708234927821128,"table_sim":0.597322584800267,"col_score":0.8746034423524195},{"table":"project_tasks","fused":0.3575305387375667,"table_sim":0,"col_score":0.8938263468439166},{"table":"budget_lines","fused":0.32823790914222173,"table_sim":0,"col_score":0.8205947728555543},{"table":"departments","fused":0.23039199069629668,"table_sim":0,"col_score":0.5759799767407416}],"fk_expansion_candidates":33,"fk_expansion_added":0,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":32,"sql_generated":"SELECT p.* FROM projects p JOIN budgets b ON p.project_id = b.budget_id WHERE p.actual_end_date IS NOT NULL AND (p.actual_end_date - p.start_date) > 0 AND p.status = 'Completed' AND p.actual_amount < p.budget LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"b","column":"budget_id","resolved_table":"budgets","suggested_columns":[]},{"alias":"p","column":"actual_amount","resolved_table":"projects","suggested_columns":["project_id","project_number","name"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column p.actual_amount does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":2,"autocorrect_failure_reason":"Best candidate 'project_expenses.amount' has score 0.65 < threshold 0.7","total_latency_ms":3229,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column p.actual_amount does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:39:52.189Z","query_id":"bc32bb57-dc88-4d86-9c11-a4e01c9d40a9","question":"Show project resources and their allocation percentages","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["project_resources","project_budgets","projects","project_expenses","project_milestones","project_tasks","task_assignments","project_phases","asset_categories","order_lines"],"tables_from_table_retrieval":7,"tables_from_column_only":8,"tables_from_fk_expansion":0,"table_scores":[{"table":"project_resources","similarity":0.7742133717857291},{"table":"project_resources","similarity":0.7726017161069211},{"table":"project_resources","similarity":0.7726017161069211},{"table":"project_budgets","similarity":0.65507694472865},{"table":"project_budgets","similarity":0.6455070367212973},{"table":"project_budgets","similarity":0.6455070367212973},{"table":"project_expenses","similarity":0.6350034671876015},{"table":"projects","similarity":0.6288717870995568},{"table":"project_expenses","similarity":0.6218657368982583},{"table":"project_expenses","similarity":0.6218657368982583},{"table":"task_assignments","similarity":0.6137701156863598},{"table":"project_tasks","similarity":0.6095803048417692},{"table":"project_milestones","similarity":0.6065393117891723},{"table":"projects","similarity":0.6043704297265652},{"table":"projects","similarity":0.6043704297265652}],"column_hits_per_table":{"project_resources":8,"project_budgets":6,"projects":10,"asset_categories":1,"project_milestones":4,"project_expenses":7,"project_tasks":5,"order_lines":1,"quote_lines":1,"performance_reviews":1,"budgets":1,"project_phases":3,"currencies":1,"tax_rates":1},"top_columns_per_table":{"project_resources":[{"column":"allocation_percent","similarity":0.8633059160366073},{"column":"hourly_rate","similarity":0.7567099176701401},{"column":"role","similarity":0.6958791512171763}],"project_budgets":[{"column":"actual_amount","similarity":0.6563642230002711},{"column":"planned_amount","similarity":0.6553043653436582},{"column":"category","similarity":0.6379137974118141}],"projects":[{"column":"priority","similarity":0.6469555758830943},{"column":"budget","similarity":0.6427722399625124},{"column":"project_number","similarity":0.6401181954274701}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.6435021784071759}],"project_milestones":[{"column":"amount","similarity":0.6398826628819255},{"column":"due_date","similarity":0.6049153702959417},{"column":"description","similarity":0.5917008678550857}],"project_expenses":[{"column":"amount","similarity":0.6242586475384743},{"column":"category","similarity":0.6142015362068918},{"column":"description","similarity":0.6079819074448459}],"project_tasks":[{"column":"priority","similarity":0.6242534548890795},{"column":"actual_hours","similarity":0.6180862719180372},{"column":"due_date","similarity":0.6052605786793172}],"order_lines":[{"column":"discount_percent","similarity":0.5942047522544827}],"quote_lines":[{"column":"discount_percent","similarity":0.5937287046720631}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.5894147308873736}],"budgets":[{"column":"total_amount","similarity":0.5872817125068575}],"project_phases":[{"column":"project_id","similarity":0.5861825792508847},{"column":"sequence","similarity":0.5827342342492163},{"column":"description","similarity":0.5826479776722895}],"currencies":[{"column":"exchange_rate","similarity":0.5799546058797589}],"tax_rates":[{"column":"rate","similarity":0.5799367806129271}]},"fused_scores":[{"table":"project_resources","fused":0.9602253796128235,"table_sim":0.7726017161069211,"col_score":1.2416608748716773},{"table":"project_budgets","fused":0.7809107843016184,"table_sim":0.6455070367212973,"col_score":0.9840164056721001},{"table":"projects","fused":0.7499589361816793,"table_sim":0.6043704297265652,"col_score":0.9683416958643505},{"table":"project_expenses","fused":0.7456632083957231,"table_sim":0.6218657368982583,"col_score":0.9313594156419202},{"table":"project_milestones","fused":0.7408597262854619,"table_sim":0.6065393117891723,"col_score":0.9423403480298964},{"table":"project_tasks","fused":0.7390668192443008,"table_sim":0.6095803048417692,"col_score":0.9332965908480981},{"table":"task_assignments","fused":0.36826206941181583,"table_sim":0.6137701156863598,"col_score":0},{"table":"project_phases","fused":0.3151592547948104,"table_sim":0,"col_score":0.7878981369870259},{"table":"asset_categories","fused":0.2574008713628704,"table_sim":0,"col_score":0.6435021784071759},{"table":"order_lines","fused":0.2376819009017931,"table_sim":0,"col_score":0.5942047522544827},{"table":"quote_lines","fused":0.23749148186882524,"table_sim":0,"col_score":0.5937287046720631},{"table":"performance_reviews","fused":0.23576589235494946,"table_sim":0,"col_score":0.5894147308873736},{"table":"budgets","fused":0.23491268500274298,"table_sim":0,"col_score":0.5872817125068575},{"table":"currencies","fused":0.23198184235190356,"table_sim":0,"col_score":0.5799546058797589},{"table":"tax_rates","fused":0.23197471224517086,"table_sim":0,"col_score":0.5799367806129271}],"fk_expansion_candidates":18,"fk_expansion_added":0,"fk_expansion_blocked_count":18,"fk_expansion_blocked":[{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":32,"sql_generated":"SELECT pr.project_id AS project_id, pr.role AS role, pr.allocation_percent AS allocation_percent FROM public.project_resources pr;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"pr","column":"project_id","resolved_table":"project_resources","suggested_columns":[]},{"alias":"pr","column":"role","resolved_table":"project_resources","suggested_columns":[]},{"alias":"pr","column":"allocation_percent","resolved_table":"project_resources","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":300,"total_latency_ms":2089}
{"timestamp":"2026-02-01T21:39:54.279Z","query_id":"0444c6f8-a1c8-479b-8f57-3cd8a5c18e3f","question":"List fixed assets by category with their total purchase cost","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["fixed_assets","asset_categories","asset_maintenance","products","depreciation_schedules","purchase_orders","depreciation_entries","asset_transfers","purchase_requisitions","project_expenses","departments","maintenance_types"],"tables_from_table_retrieval":5,"tables_from_column_only":12,"tables_from_fk_expansion":2,"table_scores":[{"table":"fixed_assets","similarity":0.7671508108800839},{"table":"fixed_assets","similarity":0.7671508108800839},{"table":"fixed_assets","similarity":0.7654083493676195},{"table":"asset_categories","similarity":0.7259858085236982},{"table":"asset_categories","similarity":0.72092108607088},{"table":"asset_categories","similarity":0.72092108607088},{"table":"asset_maintenance","similarity":0.6539211907012796},{"table":"asset_maintenance","similarity":0.6348030204988977},{"table":"asset_maintenance","similarity":0.6348030204988977},{"table":"products","similarity":0.6262946781709159},{"table":"products","similarity":0.6262946781709159},{"table":"depreciation_schedules","similarity":0.6168004716425273},{"table":"depreciation_schedules","similarity":0.6168004716425273},{"table":"products","similarity":0.614929355062545},{"table":"depreciation_schedules","similarity":0.6121354509873786}],"column_hits_per_table":{"fixed_assets":17,"asset_maintenance":5,"asset_categories":5,"purchase_orders":5,"asset_transfers":2,"depreciation_entries":2,"project_expenses":1,"products":2,"depreciation_schedules":1,"project_budgets":1,"maintenance_types":1,"purchase_requisitions":3,"sales_orders":1,"budgets":1,"departments":1,"product_categories":1,"product_suppliers":1},"top_columns_per_table":{"fixed_assets":[{"column":"purchase_cost","similarity":0.8198772015639547},{"column":"purchase_date","similarity":0.7467731747895039},{"column":"category_id","similarity":0.7278001390498363}],"asset_maintenance":[{"column":"cost","similarity":0.6959112135520997},{"column":"asset_id","similarity":0.6605498780552402},{"column":"status","similarity":0.6365694723201099}],"asset_categories":[{"column":"depreciation_method","similarity":0.6914816579489624},{"column":"salvage_value_percent","similarity":0.6861491499470286},{"column":"name","similarity":0.680679494396876}],"purchase_orders":[{"column":"total","similarity":0.670586118670476},{"column":"shipping_cost","similarity":0.640379738676011},{"column":"subtotal","similarity":0.637971799251016}],"asset_transfers":[{"column":"asset_id","similarity":0.6625737391840324},{"column":"reason","similarity":0.6105152608091542}],"depreciation_entries":[{"column":"asset_id","similarity":0.661025419881134},{"column":"accumulated_depreciation","similarity":0.6155524514035258}],"project_expenses":[{"column":"category","similarity":0.6464899039427223}],"products":[{"column":"unit_cost","similarity":0.642832807024477},{"column":"list_price","similarity":0.6321686201995896}],"depreciation_schedules":[{"column":"asset_id","similarity":0.6414080766024978}],"project_budgets":[{"column":"category","similarity":0.6328605061405524}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6315283480937153}],"purchase_requisitions":[{"column":"status","similarity":0.62811109700508},{"column":"requisition_number","similarity":0.6166193497762641},{"column":"notes","similarity":0.6141499806901694}],"sales_orders":[{"column":"total","similarity":0.6248918377251549}],"budgets":[{"column":"total_amount","similarity":0.6163584124223674}],"departments":[{"column":"budget","similarity":0.615804850011434}],"product_categories":[{"column":"description","similarity":0.6126142026531948}],"product_suppliers":[{"column":"unit_cost","similarity":0.611791518325227}]},"fused_scores":[{"table":"fixed_assets","fused":0.9365505252040545,"table_sim":0.7654083493676195,"col_score":1.1932637889587068},{"table":"asset_categories","fused":0.8463751448115187,"table_sim":0.72092108607088,"col_score":1.0345562329224767},{"table":"asset_maintenance","fused":0.7831805519609546,"table_sim":0.6348030204988977,"col_score":1.00574684915404},{"table":"products","fused":0.7525244598872358,"table_sim":0.614929355062545,"col_score":0.9589171171242719},{"table":"depreciation_schedules","fused":0.5468755320411265,"table_sim":0.6121354509873786,"col_score":0.4489856536217484},{"table":"purchase_orders","fused":0.3963103952033926,"table_sim":0,"col_score":0.9907759880084814},{"table":"depreciation_entries","fused":0.3387645393447691,"table_sim":0,"col_score":0.8469113483619226},{"table":"asset_transfers","fused":0.3369664278094262,"table_sim":0,"col_score":0.8424160695235655},{"table":"purchase_requisitions","fused":0.33458329349121685,"table_sim":0,"col_score":0.8364582337280421},{"table":"project_expenses","fused":0.2585959615770889,"table_sim":0,"col_score":0.6464899039427223},{"table":"project_budgets","fused":0.253144202456221,"table_sim":0,"col_score":0.6328605061405524},{"table":"maintenance_types","fused":0.25261133923748613,"table_sim":0,"col_score":0.6315283480937153},{"table":"sales_orders","fused":0.24995673509006197,"table_sim":0,"col_score":0.6248918377251549},{"table":"budgets","fused":0.246543364968947,"table_sim":0,"col_score":0.6163584124223674},{"table":"departments","fused":0.24632194000457364,"table_sim":0,"col_score":0.615804850011434}],"fk_expansion_candidates":72,"fk_expansion_added":2,"fk_expansion_blocked_count":63,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"already_selected"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"departments","reason":"already_selected"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":34,"total_retrieval_latency_ms":41,"sql_generated":"SELECT af.category_id, af.name, SUM(fa.purchase_cost) AS total_purchase_cost FROM fixed_assets fa JOIN asset_categories af ON fa.asset_id = af.asset_id GROUP BY af.category_id, af.name LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"af","column":"asset_id","resolved_table":"asset_categories","suggested_columns":["category_id","name","depreciation_method"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column af.asset_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":3,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2818,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column af.asset_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:39:57.097Z","query_id":"483ce27f-caf5-4a34-b5a9-8032932d50cc","question":"List assets due for maintenance in the next 30 days","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["asset_maintenance","fixed_assets","depreciation_schedules","asset_transfers","maintenance_types","depreciation_entries","project_expenses","inventory_adjustments","project_tasks","employee_benefits","asset_categories"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":1,"table_scores":[{"table":"asset_maintenance","similarity":0.7135403855722379},{"table":"asset_maintenance","similarity":0.7135403855722379},{"table":"asset_maintenance","similarity":0.6994637000895678},{"table":"fixed_assets","similarity":0.6764596229184475},{"table":"fixed_assets","similarity":0.6733613177336575},{"table":"fixed_assets","similarity":0.6733613177336575},{"table":"depreciation_schedules","similarity":0.6273221911861584},{"table":"depreciation_schedules","similarity":0.6165498794694232},{"table":"depreciation_schedules","similarity":0.6165498794694232},{"table":"maintenance_types","similarity":0.5989446217445276},{"table":"maintenance_types","similarity":0.5989446217445276},{"table":"asset_transfers","similarity":0.5971719320807494},{"table":"maintenance_types","similarity":0.5961062154680403},{"table":"asset_transfers","similarity":0.5960224713409419},{"table":"asset_transfers","similarity":0.5960224713409419}],"column_hits_per_table":{"asset_maintenance":10,"fixed_assets":17,"depreciation_schedules":4,"asset_transfers":3,"project_expenses":2,"maintenance_types":2,"depreciation_entries":3,"inventory_adjustments":2,"project_tasks":1,"employee_benefits":1,"purchase_requisitions":1,"project_milestones":1,"asset_locations":1,"asset_categories":1,"budgets":1},"top_columns_per_table":{"asset_maintenance":[{"column":"scheduled_date","similarity":0.739898742205908},{"column":"completed_date","similarity":0.7284483792345208},{"column":"status","similarity":0.7101114444407461}],"fixed_assets":[{"column":"disposal_date","similarity":0.6888298809769268},{"column":"purchase_date","similarity":0.6863275066336678},{"column":"warranty_expiry","similarity":0.6767168006008178}],"depreciation_schedules":[{"column":"asset_id","similarity":0.6382143138838896},{"column":"end_date","similarity":0.6022449069977498},{"column":"start_date","similarity":0.5877836267018011}],"asset_transfers":[{"column":"transfer_date","similarity":0.629042679787289},{"column":"asset_id","similarity":0.6153656526379016},{"column":"reason","similarity":0.581820393022087}],"project_expenses":[{"column":"expense_date","similarity":0.6101532216190212},{"column":"status","similarity":0.5810411591332079}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6075361589401804},{"column":"frequency_months","similarity":0.5655954128168349}],"depreciation_entries":[{"column":"asset_id","similarity":0.6069641044175335},{"column":"entry_date","similarity":0.5764830727802217},{"column":"accumulated_depreciation","similarity":0.5729541876728412}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5914927180055287},{"column":"status","similarity":0.5710920004037154}],"project_tasks":[{"column":"due_date","similarity":0.572177501074105}],"employee_benefits":[{"column":"end_date","similarity":0.5674256643532543}],"purchase_requisitions":[{"column":"required_date","similarity":0.5649724847275831}],"project_milestones":[{"column":"due_date","similarity":0.5629639209729828}],"asset_locations":[{"column":"description","similarity":0.5623171240430319}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.5602795069744737}],"budgets":[{"column":"status","similarity":0.5600489740464554}]},"fused_scores":[{"table":"asset_maintenance","fused":0.8613273927830081,"table_sim":0.6994637000895678,"col_score":1.1041229318231685},{"table":"fixed_assets","fused":0.8168142443576987,"table_sim":0.6733613177336575,"col_score":1.0319936342937606},{"table":"depreciation_schedules","fused":0.728384615821114,"table_sim":0.6165498794694232,"col_score":0.8961367203486503},{"table":"asset_transfers","fused":0.7255946333238981,"table_sim":0.5960224713409419,"col_score":0.9199528762983324},{"table":"maintenance_types","fused":0.7137972754202634,"table_sim":0.5961062154680403,"col_score":0.8903338653485979},{"table":"depreciation_entries","fused":0.34518406664665696,"table_sim":0,"col_score":0.8629601666166423},{"table":"project_expenses","fused":0.3254070509262576,"table_sim":0,"col_score":0.8135176273156439},{"table":"inventory_adjustments","fused":0.3165499672587317,"table_sim":0,"col_score":0.7913749181468291},{"table":"project_tasks","fused":0.22887100042964204,"table_sim":0,"col_score":0.572177501074105},{"table":"employee_benefits","fused":0.22697026574130172,"table_sim":0,"col_score":0.5674256643532543},{"table":"purchase_requisitions","fused":0.22598899389103325,"table_sim":0,"col_score":0.5649724847275831},{"table":"project_milestones","fused":0.22518556838919312,"table_sim":0,"col_score":0.5629639209729828},{"table":"asset_categories","fused":0.22411180278978948,"table_sim":0,"col_score":0.5602795069744737},{"table":"asset_locations","fused":0.15744879473204895,"table_sim":0,"col_score":0.39362198683012234},{"table":"budgets","fused":0.1568137127330075,"table_sim":0,"col_score":0.39203428183251876}],"fk_expansion_candidates":42,"fk_expansion_added":1,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"asset_categories","reason":"already_selected"},{"table":"asset_categories","reason":"already_selected"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":16,"total_retrieval_latency_ms":22,"sql_generated":"SELECT af.asset_id, af.name, af.description, am.maintenance_type_id, am.scheduled_date, am.completed_date, am.cost, am.notes, am.status FROM fixed_assets af INNER JOIN asset_maintenance am ON af.asset_id = am.asset_id WHERE am.completed_date IS NULL AND am.scheduled_date <= CURRENT_DATE + INTERVAL '30 days' ORDER BY am.scheduled_date LIMIT 50;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"af","column":"asset_id","resolved_table":"fixed_assets","suggested_columns":[]},{"alias":"af","column":"name","resolved_table":"fixed_assets","suggested_columns":[]},{"alias":"af","column":"description","resolved_table":"fixed_assets","suggested_columns":[]},{"alias":"af","column":"asset_id","resolved_table":"fixed_assets","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":50,"total_latency_ms":4909}
{"timestamp":"2026-02-01T21:40:02.007Z","query_id":"b2aea584-1f13-45d1-9211-4487d0f51152","question":"How many documents are attached to each entity type?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["document_attachments","asset_categories","account_types","certifications","maintenance_types","benefit_types","inventory_transactions","inventory_levels","employee_certifications","asset_maintenance","chart_of_accounts"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":1,"table_scores":[{"table":"document_attachments","similarity":0.7393040203593138},{"table":"document_attachments","similarity":0.7393040203593138},{"table":"document_attachments","similarity":0.7352812742665428},{"table":"account_types","similarity":0.5981352749242909},{"table":"account_types","similarity":0.5981352749242909},{"table":"maintenance_types","similarity":0.5897465403330582},{"table":"maintenance_types","similarity":0.5897465403330582},{"table":"benefit_types","similarity":0.5853557438584527},{"table":"benefit_types","similarity":0.5853557438584527},{"table":"asset_categories","similarity":0.5755840603854031},{"table":"asset_categories","similarity":0.5755840603854031},{"table":"asset_categories","similarity":0.5753411818367143},{"table":"certifications","similarity":0.5748402961818171},{"table":"certifications","similarity":0.5748402961818171},{"table":"account_types","similarity":0.5738443826637069}],"column_hits_per_table":{"document_attachments":9,"inventory_transactions":3,"maintenance_types":3,"account_types":3,"employee_certifications":3,"asset_maintenance":2,"asset_categories":4,"benefit_types":3,"certifications":2,"chart_of_accounts":2,"employee_benefits":1,"departments":3,"warehouses":1,"sales_regions":1,"business_units":1,"product_categories":3,"asset_locations":1,"inventory_levels":2,"leave_types":1,"audit_log":1,"asset_transfers":1},"top_columns_per_table":{"document_attachments":[{"column":"entity_type","similarity":0.7979734617201061},{"column":"entity_id","similarity":0.7507212541180398},{"column":"attachment_id","similarity":0.6499131194867761}],"inventory_transactions":[{"column":"reference_type","similarity":0.5907758006474604},{"column":"transaction_type","similarity":0.5740359961697677},{"column":"created_by","similarity":0.5409655490497369}],"maintenance_types":[{"column":"description","similarity":0.5849404241337369},{"column":"type_id","similarity":0.5687464182699},{"column":"name","similarity":0.5466111937708543}],"account_types":[{"column":"category","similarity":0.5795842717697016},{"column":"type_id","similarity":0.572204772617412},{"column":"name","similarity":0.54522230629148}],"employee_certifications":[{"column":"certificate_number","similarity":0.570344611110217},{"column":"cert_id","similarity":0.5516333538250004},{"column":"employee_id","similarity":0.5450123538269055}],"asset_maintenance":[{"column":"maintenance_type_id","similarity":0.5695302816995195},{"column":"notes","similarity":0.5345241852289304}],"asset_categories":[{"column":"category_id","similarity":0.5686260353611468},{"column":"depreciation_method","similarity":0.5475874755164923},{"column":"name","similarity":0.5455049147965266}],"benefit_types":[{"column":"description","similarity":0.5684622522725375},{"column":"benefit_type_id","similarity":0.554474960208018},{"column":"name","similarity":0.5413044190115788}],"certifications":[{"column":"description","similarity":0.5628134265182438},{"column":"issuing_body","similarity":0.5519765334559635}],"chart_of_accounts":[{"column":"account_type_id","similarity":0.5590662505285231},{"column":"description","similarity":0.535907997292557}],"employee_benefits":[{"column":"benefit_type_id","similarity":0.5588809609991403}],"departments":[{"column":"manager_id","similarity":0.5524511044152465},{"column":"department_id","similarity":0.5490358819561373},{"column":"parent_department_id","similarity":0.5456710356874805}],"warehouses":[{"column":"manager_id","similarity":0.5486508621983892}],"sales_regions":[{"column":"manager_id","similarity":0.5473931431415607}],"business_units":[{"column":"manager_id","similarity":0.5472492280812445}],"product_categories":[{"column":"description","similarity":0.5469667414543651},{"column":"category_id","similarity":0.5469560360203749},{"column":"parent_category_id","similarity":0.5356836644445996}],"asset_locations":[{"column":"description","similarity":0.5460071186556418}],"inventory_levels":[{"column":"quantity_available","similarity":0.5401083097075305},{"column":"quantity_on_hand","similarity":0.5359471229919481}],"leave_types":[{"column":"leave_type_id","similarity":0.5379614368742229}],"audit_log":[{"column":"table_name","similarity":0.5362126705338817}],"asset_transfers":[{"column":"transfer_id","similarity":0.533307845538454}]},"fused_scores":[{"table":"document_attachments","fused":0.8890806280125436,"table_sim":0.7352812742665428,"col_score":1.1197796586315447},{"table":"asset_categories","fused":0.6714887456297062,"table_sim":0.5753411818367143,"col_score":0.8157100913191939},{"table":"account_types","fused":0.6562490064725425,"table_sim":0.5738443826637069,"col_score":0.7798559421857958},{"table":"certifications","fused":0.6444886708040298,"table_sim":0.5748402961818171,"col_score":0.7489612327373489},{"table":"maintenance_types","fused":0.5972557415150672,"table_sim":0.5897465403330582,"col_score":0.6085195432880808},{"table":"benefit_types","fused":0.5880093713805046,"table_sim":0.5853557438584527,"col_score":0.5919898126635825},{"table":"inventory_transactions","fused":0.35111751949293774,"table_sim":0,"col_score":0.8777937987323443},{"table":"inventory_levels","fused":0.3232327484814019,"table_sim":0,"col_score":0.8080818712035046},{"table":"employee_certifications","fused":0.30536651397958686,"table_sim":0,"col_score":0.7634162849489671},{"table":"asset_maintenance","fused":0.2343018648079157,"table_sim":0,"col_score":0.5857546620197892},{"table":"chart_of_accounts","fused":0.23156566976894444,"table_sim":0,"col_score":0.578914174422361},{"table":"departments","fused":0.23155133271012823,"table_sim":0,"col_score":0.5788783317753206},{"table":"product_categories","fused":0.22972453265007473,"table_sim":0,"col_score":0.5743113316251868},{"table":"employee_benefits","fused":0.15648666907975928,"table_sim":0,"col_score":0.3912166726993982},{"table":"warehouses","fused":0.15362224141554898,"table_sim":0,"col_score":0.3840556035388724}],"fk_expansion_candidates":24,"fk_expansion_added":1,"fk_expansion_blocked_count":21,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"already_selected"},{"table":"chart_of_accounts","reason":"already_selected"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":47,"total_retrieval_latency_ms":53,"sql_generated":"SELECT d.entity_type, COUNT(*) AS num_documents FROM document_attachments d GROUP BY d.entity_type;","tables_used_in_sql":[],"explain_result":"success","rows_returned":7,"total_latency_ms":1144}
{"timestamp":"2026-02-01T21:40:03.151Z","query_id":"82d029c3-8a24-4b5f-8237-2a7b4e556b94","question":"Calculate employee turnover rate by department for 2024","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","employee_salaries","departments","sales_regions","budgets","sales_territories","positions","employee_training","inventory_adjustments","asset_transfers","employee_certifications","employment_history"],"tables_from_table_retrieval":7,"tables_from_column_only":16,"tables_from_fk_expansion":2,"table_scores":[{"table":"employees","similarity":0.6359658673732379},{"table":"employees","similarity":0.6283128721980845},{"table":"employees","similarity":0.6283128721980845},{"table":"employee_salaries","similarity":0.6154920185256858},{"table":"employee_salaries","similarity":0.6154920185256858},{"table":"employee_salaries","similarity":0.6137332929756416},{"table":"departments","similarity":0.6101103038853555},{"table":"positions","similarity":0.5999463882310814},{"table":"positions","similarity":0.599093570754041},{"table":"positions","similarity":0.599093570754041},{"table":"sales_territories","similarity":0.5983156084770043},{"table":"departments","similarity":0.5980265380974776},{"table":"departments","similarity":0.5980265380974776},{"table":"sales_regions","similarity":0.5955253694234874},{"table":"budgets","similarity":0.5922652556433196}],"column_hits_per_table":{"departments":4,"sales_territories":1,"employees":7,"employee_salaries":7,"positions":1,"employee_training":4,"asset_maintenance":1,"goods_receipts":1,"sales_orders":1,"performance_reviews":2,"sales_regions":2,"asset_transfers":3,"budgets":2,"employee_certifications":2,"employee_benefits":2,"cost_centers":1,"inventory_adjustments":2,"purchase_requisitions":1,"currencies":1,"employment_history":2,"sales_opportunities":1,"business_units":1,"timesheets":1},"top_columns_per_table":{"departments":[{"column":"budget","similarity":0.6171215338559899},{"column":"manager_id","similarity":0.5961383943023354},{"column":"created_at","similarity":0.5650467732880422}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.613735339271099}],"employees":[{"column":"department_id","similarity":0.6128547771691438},{"column":"salary","similarity":0.601752847347806},{"column":"termination_date","similarity":0.5966071793770903}],"employee_salaries":[{"column":"end_date","similarity":0.6066714954048358},{"column":"amount","similarity":0.593388338491163},{"column":"effective_date","similarity":0.5928836468348673}],"positions":[{"column":"department_id","similarity":0.601081477446699}],"employee_training":[{"column":"score","similarity":0.5928527070079839},{"column":"scheduled_date","similarity":0.5735550391908764},{"column":"employee_id","similarity":0.5706780616174596}],"asset_maintenance":[{"column":"performed_by","similarity":0.5871347008280439}],"goods_receipts":[{"column":"received_by","similarity":0.5868493099400296}],"sales_orders":[{"column":"sales_rep_id","similarity":0.5843091252583017}],"performance_reviews":[{"column":"employee_id","similarity":0.5837580109083931},{"column":"reviewer_id","similarity":0.5714175766121258}],"sales_regions":[{"column":"manager_id","similarity":0.5798833108533066},{"column":"target_revenue","similarity":0.5574040652402492}],"asset_transfers":[{"column":"transferred_by","similarity":0.5794683807030565},{"column":"to_employee_id","similarity":0.5716790888698292},{"column":"from_employee_id","similarity":0.5709346468764337}],"budgets":[{"column":"department_id","similarity":0.5771392831310456},{"column":"approved_by","similarity":0.5582712309076955}],"employee_certifications":[{"column":"employee_id","similarity":0.5746489952027047},{"column":"expiry_date","similarity":0.5686582077330544}],"employee_benefits":[{"column":"end_date","similarity":0.5727875043304892},{"column":"employee_id","similarity":0.5623488537687561}],"cost_centers":[{"column":"department_id","similarity":0.5719328818068407}],"inventory_adjustments":[{"column":"adjusted_by","similarity":0.5712410647201211},{"column":"approved_by","similarity":0.5645446751844594}],"purchase_requisitions":[{"column":"department_id","similarity":0.5675362306468967}],"currencies":[{"column":"exchange_rate","similarity":0.566384286000632}],"employment_history":[{"column":"employee_id","similarity":0.5633517132005502},{"column":"reason_for_leaving","similarity":0.5587429277691088}],"sales_opportunities":[{"column":"owner_id","similarity":0.5617897810640338}],"business_units":[{"column":"manager_id","similarity":0.5600356791366401}],"timesheets":[{"column":"employee_id","similarity":0.5600062923329793}]},"fused_scores":[{"table":"employees","fused":0.7370102981333913,"table_sim":0.6283128721980845,"col_score":0.9000564370363511},{"table":"employee_salaries","fused":0.7295862416455519,"table_sim":0.6137332929756416,"col_score":0.9033656646504173},{"table":"departments","fused":0.6891239116032095,"table_sim":0.5980265380974776,"col_score":0.8257699718618072},{"table":"sales_regions","fused":0.661460511269655,"table_sim":0.5955253694234874,"col_score":0.7603632240389064},{"table":"budgets","fused":0.6594671453874164,"table_sim":0.5922652556433196,"col_score":0.7602699800035614},{"table":"sales_territories","fused":0.5308352600821102,"table_sim":0.5983156084770043,"col_score":0.4296147374897693},{"table":"positions","fused":0.5277589561375002,"table_sim":0.599093570754041,"col_score":0.4207570342126893},{"table":"employee_training","fused":0.35185209064136885,"table_sim":0,"col_score":0.879630226603422},{"table":"inventory_adjustments","fused":0.34140536092494034,"table_sim":0,"col_score":0.8535134023123508},{"table":"asset_transfers","fused":0.3118224247229987,"table_sim":0,"col_score":0.7795560618074967},{"table":"employee_certifications","fused":0.3079141424216005,"table_sim":0,"col_score":0.7697853560540011},{"table":"employee_benefits","fused":0.30784384125982156,"table_sim":0,"col_score":0.7696096031495538},{"table":"employment_history","fused":0.3023664109557206,"table_sim":0,"col_score":0.7559160273893014},{"table":"performance_reviews","fused":0.24345070378004766,"table_sim":0,"col_score":0.6086267594501191},{"table":"asset_maintenance","fused":0.23485388033121757,"table_sim":0,"col_score":0.5871347008280439}],"fk_expansion_candidates":96,"fk_expansion_added":2,"fk_expansion_blocked_count":78,"fk_expansion_blocked":[{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"already_selected"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"already_selected"},{"table":"performance_reviews","reason":"max_tables"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_certifications","reason":"already_selected"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"goods_receipts","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"max_tables"},{"table":"cost_centers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"already_selected"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":43,"total_retrieval_latency_ms":51,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":2603,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:40:05.754Z","query_id":"a73c167e-0be7-435b-9c4c-3d252f26671a","question":"Find the salary percentile ranking for each employee within their department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_salaries","employees","positions","departments","performance_reviews","sales_regions","project_resources","sales_orders","vendor_invoices","employee_benefits","budgets","employee_training"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":2,"table_scores":[{"table":"employee_salaries","similarity":0.7150971626527787},{"table":"employee_salaries","similarity":0.7150971626527787},{"table":"employee_salaries","similarity":0.708947353388894},{"table":"positions","similarity":0.673242751719371},{"table":"positions","similarity":0.6565261063268311},{"table":"positions","similarity":0.6565261063268311},{"table":"employees","similarity":0.6495295179488771},{"table":"departments","similarity":0.64741802797087},{"table":"employees","similarity":0.633369499345302},{"table":"employees","similarity":0.633369499345302},{"table":"departments","similarity":0.6328181923670926},{"table":"departments","similarity":0.6328181923670926},{"table":"sales_regions","similarity":0.6247633430026287},{"table":"performance_reviews","similarity":0.6201770986480979},{"table":"performance_reviews","similarity":0.6063045966524395}],"column_hits_per_table":{"employees":8,"employee_salaries":7,"departments":4,"positions":3,"employee_training":1,"project_resources":2,"sales_orders":4,"performance_reviews":4,"employee_benefits":2,"order_lines":1,"sales_territories":1,"employee_certifications":2,"currencies":1,"tax_rates":1,"sales_regions":1,"vendor_invoices":3,"asset_categories":1,"purchase_orders":1,"budgets":1,"quote_lines":1,"product_suppliers":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.7516999267912566},{"column":"employee_number","similarity":0.6475222105411707},{"column":"phone","similarity":0.6335347761920442}],"employee_salaries":[{"column":"amount","similarity":0.7335170013770521},{"column":"approved_by","similarity":0.6822708118932407},{"column":"effective_date","similarity":0.6739318834802893}],"departments":[{"column":"budget","similarity":0.677998212273291},{"column":"manager_id","similarity":0.6351459248984429},{"column":"parent_department_id","similarity":0.623290651523152}],"positions":[{"column":"min_salary","similarity":0.6744645855381992},{"column":"max_salary","similarity":0.6663214050707933},{"column":"department_id","similarity":0.6424140802376155}],"employee_training":[{"column":"score","similarity":0.6565621289067415}],"project_resources":[{"column":"hourly_rate","similarity":0.6430540971391342},{"column":"allocation_percent","similarity":0.621737392517516}],"sales_orders":[{"column":"total","similarity":0.6323044264651041},{"column":"subtotal","similarity":0.6231063815552383},{"column":"sales_rep_id","similarity":0.603951442295968}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.6309951342900396},{"column":"reviewer_id","similarity":0.6296156415374472},{"column":"employee_id","similarity":0.6270036415776163}],"employee_benefits":[{"column":"coverage_level","similarity":0.6291373504427914},{"column":"employee_id","similarity":0.608538154628989}],"order_lines":[{"column":"discount_percent","similarity":0.6288230405331483}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.626169512850208}],"employee_certifications":[{"column":"certificate_number","similarity":0.6179354657069774},{"column":"employee_id","similarity":0.6116376107330588}],"currencies":[{"column":"exchange_rate","similarity":0.6151317939764944}],"tax_rates":[{"column":"rate","similarity":0.6140263720536819}],"sales_regions":[{"column":"manager_id","similarity":0.6125537057406677}],"vendor_invoices":[{"column":"total","similarity":0.6094602269991619},{"column":"subtotal","similarity":0.604766812781768},{"column":"amount_paid","similarity":0.6027268036015034}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.6075033191187711}],"purchase_orders":[{"column":"total","similarity":0.6070169426521217}],"budgets":[{"column":"approved_by","similarity":0.6061548136762259}],"quote_lines":[{"column":"discount_percent","similarity":0.6047639324071958}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6034202600276743}]},"fused_scores":[{"table":"employee_salaries","fused":0.8552293749628055,"table_sim":0.708947353388894,"col_score":1.0746524073236725},{"table":"employees","fused":0.810206112431918,"table_sim":0.633369499345302,"col_score":1.0754610320618418},{"table":"positions","fused":0.7969657790255369,"table_sim":0.6565261063268311,"col_score":1.0076252880735959},{"table":"departments","fused":0.739810629815354,"table_sim":0.6328181923670926,"col_score":0.9002992859877461},{"table":"performance_reviews","fused":0.7380201350757962,"table_sim":0.6063045966524395,"col_score":0.9355934427108312},{"table":"sales_regions","fused":0.5463730434089642,"table_sim":0.6247633430026287,"col_score":0.4287875940184674},{"table":"project_resources","fused":0.3815691173591569,"table_sim":0,"col_score":0.9539227933978922},{"table":"sales_orders","fused":0.37754304689708934,"table_sim":0,"col_score":0.9438576172427233},{"table":"vendor_invoices","fused":0.36473745335601837,"table_sim":0,"col_score":0.9118436333900459},{"table":"employee_benefits","fused":0.33685028182517507,"table_sim":0,"col_score":0.8421257045629376},{"table":"employee_certifications","fused":0.33280345178541926,"table_sim":0,"col_score":0.832008629463548},{"table":"employee_training","fused":0.2626248515626966,"table_sim":0,"col_score":0.6565621289067415},{"table":"order_lines","fused":0.25152921621325935,"table_sim":0,"col_score":0.6288230405331483},{"table":"currencies","fused":0.24605271759059777,"table_sim":0,"col_score":0.6151317939764944},{"table":"tax_rates","fused":0.2456105488214728,"table_sim":0,"col_score":0.6140263720536819}],"fk_expansion_candidates":99,"fk_expansion_added":2,"fk_expansion_blocked_count":84,"fk_expansion_blocked":[{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"employee_certifications","reason":"max_tables"},{"table":"employment_history","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"max_tables"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"employment_history","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"benefit_types","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"order_lines","reason":"max_tables"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"max_tables"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"max_tables"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_training","reason":"already_selected"},{"table":"employee_certifications","reason":"max_tables"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"order_lines","reason":"max_tables"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"order_lines","reason":"max_tables"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"max_tables"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":33,"sql_generated":"SELECT e.employee_id, CONCAT(e.first_name, ' ', e.last_name) AS full_name, d.department_id, p.position_id, s.amount, r.salary, pricing schema for this question: What is the SQL query to answer the following question. Your responses. You are a financial. You are an AI. You are to generate a SQL. You are a company. You are a text-aspect. You are a financial. You are a table. You are a financial_table. You are a modeling. You are a text.\n## as a text-based on. Your. You. You. You. Your task. You. You.\n    and. You. Here. The context. You. You.\n.\n.\n. You. These tables. This. You.\n.\n. You.\n. You.\n. You. You;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"s","column":"salary","resolved_table":"employee_salaries","suggested_columns":["salary_id","employee_id","amount"]},{"alias":"s","column":"salary","resolved_table":"employee_salaries","suggested_columns":["salary_id","employee_id","amount"]},{"alias":"s2","column":"salary","resolved_table":"employee_salaries","suggested_columns":["salary_id","employee_id","amount"]},{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"s2","column":"department_id","resolved_table":"employee_salaries","suggested_columns":["salary_id","employee_id","amount"]},{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"p","column":"position","resolved_table":"positions","suggested_columns":["position_id","title","min_salary"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42601","error_message":"syntax error at or near \"this\"","total_latency_ms":6847,"failure_type":"llm_reasoning","failure_details":"SQL error 42601: Database error after 3 attempts: syntax error at or near \"this\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:40:12.601Z","query_id":"0aaea810-5e5a-414d-b60f-5fbec93c9126","question":"Identify employees who have not completed mandatory training","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_training","training_courses","employee_certifications","employees","employee_salaries","leave_requests","employee_benefits","asset_maintenance","fixed_assets","task_assignments"],"tables_from_table_retrieval":6,"tables_from_column_only":12,"tables_from_fk_expansion":0,"table_scores":[{"table":"employee_training","similarity":0.704722872966379},{"table":"employee_training","similarity":0.704722872966379},{"table":"employee_training","similarity":0.6889099730779654},{"table":"training_courses","similarity":0.6502538829600134},{"table":"training_courses","similarity":0.6479414954111261},{"table":"training_courses","similarity":0.6479414954111261},{"table":"employee_certifications","similarity":0.6250915878473813},{"table":"employee_certifications","similarity":0.6250915878473813},{"table":"employee_certifications","similarity":0.622622468299915},{"table":"employees","similarity":0.5917832723264214},{"table":"employees","similarity":0.5917832723264214},{"table":"employees","similarity":0.5856498095746774},{"table":"leave_requests","similarity":0.562719264388909},{"table":"employee_salaries","similarity":0.5602939159575271},{"table":"employee_salaries","similarity":0.5602939159575271}],"column_hits_per_table":{"employee_training":7,"training_courses":7,"employees":13,"employee_certifications":6,"employee_salaries":2,"task_assignments":1,"leave_requests":2,"leave_types":1,"certifications":1,"sales_territories":1,"warehouses":1,"business_units":1,"departments":1,"asset_maintenance":1,"emergency_contacts":1,"fixed_assets":1,"employee_benefits":2,"sales_regions":1},"top_columns_per_table":{"employee_training":[{"column":"completion_date","similarity":0.7097029109110412},{"column":"status","similarity":0.6976372257898822},{"column":"scheduled_date","similarity":0.6929640745659373}],"training_courses":[{"column":"is_mandatory","similarity":0.7012303940272651},{"column":"is_active","similarity":0.6332101562224836},{"column":"duration_hours","similarity":0.6052562024596296}],"employees":[{"column":"is_active","similarity":0.6199746938033394},{"column":"employee_id","similarity":0.5826338967861492},{"column":"hire_date","similarity":0.5802768513083864}],"employee_certifications":[{"column":"obtained_date","similarity":0.6093546957662352},{"column":"employee_id","similarity":0.6062132886742129},{"column":"expiry_date","similarity":0.5973898422628211}],"employee_salaries":[{"column":"effective_date","similarity":0.5735579062029842},{"column":"end_date","similarity":0.5734035938209808}],"task_assignments":[{"column":"employee_id","similarity":0.5697426551622571}],"leave_requests":[{"column":"employee_id","similarity":0.5660077016574807},{"column":"approved_by","similarity":0.5639076344538145}],"leave_types":[{"column":"is_paid","similarity":0.5643874982938306}],"certifications":[{"column":"description","similarity":0.5613971013724545}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.5601484599678442}],"warehouses":[{"column":"manager_id","similarity":0.559427574061162}],"business_units":[{"column":"manager_id","similarity":0.5583488075095108}],"departments":[{"column":"manager_id","similarity":0.5561382857923995}],"asset_maintenance":[{"column":"performed_by","similarity":0.5557857799870751}],"emergency_contacts":[{"column":"employee_id","similarity":0.5555155902473405}],"fixed_assets":[{"column":"assigned_to","similarity":0.5550951258692207}],"employee_benefits":[{"column":"start_date","similarity":0.5541815032041719},{"column":"end_date","similarity":0.5539179805848201}],"sales_regions":[{"column":"manager_id","similarity":0.5490780636724084}]},"fused_scores":[{"table":"employee_training","fused":0.8358199631243832,"table_sim":0.6889099730779654,"col_score":1.05618494819401},{"table":"training_courses","fused":0.7903082953495078,"table_sim":0.6479414954111261,"col_score":1.00385849525708},{"table":"employee_certifications","fused":0.7367933277390073,"table_sim":0.622622468299915,"col_score":0.9080496168976457},{"table":"employees","fused":0.6993894779630755,"table_sim":0.5856498095746774,"col_score":0.8699989805456727},{"table":"employee_salaries","fused":0.6802802308199061,"table_sim":0.5602939159575271,"col_score":0.8602597031134747},{"table":"leave_requests","fused":0.6424356906469184,"table_sim":0.562719264388909,"col_score":0.7620103300339327},{"table":"employee_benefits","fused":0.33245619739863286,"table_sim":0,"col_score":0.831140493496582},{"table":"asset_maintenance","fused":0.22231431199483007,"table_sim":0,"col_score":0.5557857799870751},{"table":"fixed_assets","fused":0.2220380503476883,"table_sim":0,"col_score":0.5550951258692207},{"table":"task_assignments","fused":0.15952794344543197,"table_sim":0,"col_score":0.39881985861357994},{"table":"leave_types","fused":0.15802849952227258,"table_sim":0,"col_score":0.3950712488056814},{"table":"certifications","fused":0.15719118838428725,"table_sim":0,"col_score":0.3929779709607181},{"table":"sales_territories","fused":0.1568415687909964,"table_sim":0,"col_score":0.39210392197749094},{"table":"warehouses","fused":0.15663972073712534,"table_sim":0,"col_score":0.39159930184281333},{"table":"business_units","fused":0.156337666102663,"table_sim":0,"col_score":0.3908441652566575}],"fk_expansion_candidates":111,"fk_expansion_added":0,"fk_expansion_blocked_count":111,"fk_expansion_blocked":[{"table":"certifications","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":40,"total_retrieval_latency_ms":47,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name FROM employees e LEFT JOIN employee_training et ON e.employee_id = et.employee_id WHERE et.is_active IS NULL LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"et","column":"is_active","resolved_table":"employee_training","suggested_columns":["training_id","employee_id","course_id"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column et.is_active does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":1,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2430,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column et.is_active does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:40:15.031Z","query_id":"c2a0affe-4db6-4e84-937f-1ccdaa7b48bf","question":"Calculate month-over-month sales growth rate for the past 12 months","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_opportunities","sales_orders","sales_quotes","project_milestones","performance_reviews","purchase_orders","sales_regions","depreciation_schedules","maintenance_types","product_suppliers","fixed_assets","goods_receipts"],"tables_from_table_retrieval":7,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_opportunities","similarity":0.6157116926794552},{"table":"sales_opportunities","similarity":0.6070846065624028},{"table":"sales_opportunities","similarity":0.6070846065624028},{"table":"sales_orders","similarity":0.6006459034551404},{"table":"sales_orders","similarity":0.5887441533450763},{"table":"sales_orders","similarity":0.5887441533450763},{"table":"sales_regions","similarity":0.5852419849044662},{"table":"sales_quotes","similarity":0.5842211564145057},{"table":"sales_regions","similarity":0.5757547372230886},{"table":"sales_regions","similarity":0.5757547372230886},{"table":"project_milestones","similarity":0.570290032024122},{"table":"sales_quotes","similarity":0.5681300155177891},{"table":"sales_quotes","similarity":0.5681300155177891},{"table":"purchase_orders","similarity":0.5671901529888976},{"table":"performance_reviews","similarity":0.5664270760489215}],"column_hits_per_table":{"sales_opportunities":8,"sales_regions":2,"sales_orders":9,"maintenance_types":1,"sales_quotes":7,"performance_reviews":4,"purchase_orders":3,"project_milestones":3,"product_suppliers":1,"depreciation_schedules":2,"sales_territories":1,"inventory_adjustments":1,"fixed_assets":1,"goods_receipts":1,"inventory_levels":1,"employee_salaries":1,"project_resources":1,"employee_benefits":1,"fiscal_years":1,"fiscal_periods":1},"top_columns_per_table":{"sales_opportunities":[{"column":"expected_close_date","similarity":0.6363002878299652},{"column":"actual_close_date","similarity":0.6293430551643405},{"column":"probability","similarity":0.6090506488590046}],"sales_regions":[{"column":"target_revenue","similarity":0.6231668309815453},{"column":"name","similarity":0.585191877724474}],"sales_orders":[{"column":"order_date","similarity":0.608157039227958},{"column":"ship_date","similarity":0.5938744066184168},{"column":"total","similarity":0.5899520680113397}],"maintenance_types":[{"column":"frequency_months","similarity":0.6034947907940172}],"sales_quotes":[{"column":"quote_date","similarity":0.6017792039675379},{"column":"status","similarity":0.5902208864403699},{"column":"valid_until","similarity":0.5831203611386355}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.5909294294176741},{"column":"review_period_start","similarity":0.5615927806546327},{"column":"review_date","similarity":0.5576939251570936}],"purchase_orders":[{"column":"expected_date","similarity":0.583020378163897},{"column":"order_date","similarity":0.5622198964497076},{"column":"total","similarity":0.5529608978561139}],"project_milestones":[{"column":"amount","similarity":0.5816574903010769},{"column":"completed_date","similarity":0.5747741736862505},{"column":"due_date","similarity":0.5699308185216523}],"product_suppliers":[{"column":"lead_time_days","similarity":0.5803736956944617}],"depreciation_schedules":[{"column":"useful_life_months","similarity":0.579285680033414},{"column":"monthly_amount","similarity":0.574824063929058}],"sales_territories":[{"column":"name","similarity":0.5781934127104026}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5725144040106267}],"fixed_assets":[{"column":"purchase_date","similarity":0.5697887482679104}],"goods_receipts":[{"column":"receipt_date","similarity":0.5676283184863925}],"inventory_levels":[{"column":"last_count_date","similarity":0.5634798348449386}],"employee_salaries":[{"column":"effective_date","similarity":0.5606593500435769}],"project_resources":[{"column":"hourly_rate","similarity":0.5590398909892947}],"employee_benefits":[{"column":"start_date","similarity":0.5585024004457627}],"fiscal_years":[{"column":"year","similarity":0.5573744243801744}],"fiscal_periods":[{"column":"period_number","similarity":0.5554732589241962}]},"fused_scores":[{"table":"sales_opportunities","fused":0.7446394901022959,"table_sim":0.6070846065624028,"col_score":0.9509718154121354},{"table":"sales_orders","fused":0.7152841890219124,"table_sim":0.5887441533450763,"col_score":0.9050942425371664},{"table":"sales_quotes","fused":0.6982137631254157,"table_sim":0.5681300155177891,"col_score":0.8933393845368557},{"table":"project_milestones","fused":0.689791850072154,"table_sim":0.570290032024122,"col_score":0.8690445771442021},{"table":"performance_reviews","fused":0.688546573527349,"table_sim":0.5664270760489215,"col_score":0.8717258197449904},{"table":"purchase_orders","fused":0.6859662223488389,"table_sim":0.5671901529888976,"col_score":0.8641303263887508},{"table":"sales_regions","fused":0.6766464376078977,"table_sim":0.5757547372230886,"col_score":0.8279839881851112},{"table":"depreciation_schedules","fused":0.3466790847991772,"table_sim":0,"col_score":0.866697711997943},{"table":"maintenance_types","fused":0.2413979163176069,"table_sim":0,"col_score":0.6034947907940172},{"table":"product_suppliers","fused":0.2321494782777847,"table_sim":0,"col_score":0.5803736956944617},{"table":"inventory_adjustments","fused":0.22900576160425068,"table_sim":0,"col_score":0.5725144040106267},{"table":"fixed_assets","fused":0.22791549930716415,"table_sim":0,"col_score":0.5697887482679104},{"table":"goods_receipts","fused":0.22705132739455702,"table_sim":0,"col_score":0.5676283184863925},{"table":"inventory_levels","fused":0.22539193393797544,"table_sim":0,"col_score":0.5634798348449386},{"table":"employee_salaries","fused":0.22426374001743077,"table_sim":0,"col_score":0.5606593500435769}],"fk_expansion_candidates":48,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"goods_receipts","reason":"already_selected"},{"table":"goods_receipts","reason":"already_selected"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":51,"total_retrieval_latency_ms":57,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":2267,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:40:17.298Z","query_id":"1d4a7123-dced-4f27-9105-98aad0117df6","question":"Find the average order value and order frequency for each customer segment based on credit limit","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["customers","order_lines","sales_orders","purchase_orders","po_lines","reorder_rules","vendor_invoice_lines","inventory_levels","quote_lines","product_suppliers","customer_contacts","receipt_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"customers","similarity":0.6806365809432632},{"table":"customers","similarity":0.6617339783713272},{"table":"customers","similarity":0.6617339783713272},{"table":"order_lines","similarity":0.6612582093852053},{"table":"sales_orders","similarity":0.6503570787641184},{"table":"order_lines","similarity":0.6440009106463637},{"table":"order_lines","similarity":0.6440009106463637},{"table":"sales_orders","similarity":0.6376795436737537},{"table":"sales_orders","similarity":0.6376795436737537},{"table":"purchase_orders","similarity":0.6350119894518774},{"table":"purchase_orders","similarity":0.626466775910568},{"table":"purchase_orders","similarity":0.626466775910568},{"table":"po_lines","similarity":0.6239700790357152},{"table":"po_lines","similarity":0.609465351537268},{"table":"po_lines","similarity":0.609465351537268}],"column_hits_per_table":{"customers":5,"order_lines":8,"purchase_orders":8,"sales_orders":7,"po_lines":5,"reorder_rules":3,"product_suppliers":1,"vendor_invoice_lines":3,"inventory_levels":3,"vendor_invoices":1,"customer_contacts":1,"quote_lines":2,"requisition_lines":1,"bank_transactions":1,"receipt_lines":1},"top_columns_per_table":{"customers":[{"column":"credit_limit","similarity":0.7562213296764043},{"column":"customer_number","similarity":0.6521520293534339},{"column":"payment_terms","similarity":0.6492525283356417}],"order_lines":[{"column":"line_total","similarity":0.6913816625333152},{"column":"unit_price","similarity":0.6750525139519165},{"column":"discount_percent","similarity":0.6707705169056545}],"purchase_orders":[{"column":"total","similarity":0.679308087050387},{"column":"po_number","similarity":0.65047868884927},{"column":"shipping_cost","similarity":0.6476903653884583}],"sales_orders":[{"column":"total","similarity":0.676144027149082},{"column":"order_number","similarity":0.6628715408716754},{"column":"shipping_cost","similarity":0.6417700268316578}],"po_lines":[{"column":"line_total","similarity":0.6567240233932621},{"column":"quantity","similarity":0.6366461345850174},{"column":"quantity_received","similarity":0.6338507022822304}],"reorder_rules":[{"column":"max_quantity","similarity":0.6445353762194392},{"column":"min_quantity","similarity":0.6258826394823849},{"column":"reorder_quantity","similarity":0.6145566972207888}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6397191137681456}],"vendor_invoice_lines":[{"column":"amount","similarity":0.6344433381575307},{"column":"quantity","similarity":0.6232178113301293},{"column":"unit_cost","similarity":0.6211589188193147}],"inventory_levels":[{"column":"quantity_reserved","similarity":0.6238969286133056},{"column":"last_count_date","similarity":0.6121516191920202},{"column":"quantity_on_hand","similarity":0.6120873561780505}],"vendor_invoices":[{"column":"total","similarity":0.6173072545374575}],"customer_contacts":[{"column":"phone","similarity":0.615865684240799}],"quote_lines":[{"column":"line_total","similarity":0.6146477438819443},{"column":"unit_price","similarity":0.6079234006312217}],"requisition_lines":[{"column":"estimated_total","similarity":0.6125923514934559}],"bank_transactions":[{"column":"amount","similarity":0.6096968542896204}],"receipt_lines":[{"column":"quantity_received","similarity":0.6070953158065068}]},"fused_scores":[{"table":"customers","fused":0.8299593247640449,"table_sim":0.6617339783713272,"col_score":1.0822973443531212},{"table":"order_lines","fused":0.7979637141915276,"table_sim":0.6440009106463637,"col_score":1.0289079195092734},{"table":"sales_orders","fused":0.7856396452382202,"table_sim":0.6376795436737537,"col_score":1.0075797975849197},{"table":"purchase_orders","fused":0.7776990381363496,"table_sim":0.626466775910568,"col_score":1.004547431475022},{"table":"po_lines","fused":0.7556980471966691,"table_sim":0.609465351537268,"col_score":0.9750470906857708},{"table":"reorder_rules","fused":0.3829906783842527,"table_sim":0,"col_score":0.9574766959606317},{"table":"vendor_invoice_lines","fused":0.3784208975290382,"table_sim":0,"col_score":0.9460522438225953},{"table":"inventory_levels","fused":0.3719890952837263,"table_sim":0,"col_score":0.9299727382093157},{"table":"quote_lines","fused":0.3674437776790221,"table_sim":0,"col_score":0.9186094441975552},{"table":"product_suppliers","fused":0.25588764550725823,"table_sim":0,"col_score":0.6397191137681456},{"table":"vendor_invoices","fused":0.246922901814983,"table_sim":0,"col_score":0.6173072545374575},{"table":"customer_contacts","fused":0.24634627369631962,"table_sim":0,"col_score":0.615865684240799},{"table":"requisition_lines","fused":0.24503694059738237,"table_sim":0,"col_score":0.6125923514934559},{"table":"bank_transactions","fused":0.24387874171584817,"table_sim":0,"col_score":0.6096968542896204},{"table":"receipt_lines","fused":0.2428381263226027,"table_sim":0,"col_score":0.6070953158065068}],"fk_expansion_candidates":51,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customer_contacts","reason":"already_selected"},{"table":"customer_contacts","reason":"already_selected"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":27,"sql_generated":"SELECT c.name AS customer_segment, AVG(o.total) AS avg_order_value, COUNT(*) / 365 AS order_frequency FROM customers c JOIN sales_orders o ON c.customer_id = o.customers.customer_id GROUP BY c.name LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"c","column":"name","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]},{"alias":"o","column":"customers","resolved_table":"sales_orders","suggested_columns":["order_id","order_number","customer_id"]},{"alias":"c","column":"name","resolved_table":"customers","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"customers\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Alias 'customers' not defined. Possible table: customers. Define alias in FROM/JOIN clause.","total_latency_ms":3085,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"customers\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:40:20.384Z","query_id":"e909f728-a7c9-4214-b7cc-5c8830627baa","question":"What is the sales pipeline weighted value by stage and expected close month?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_opportunities","sales_orders","vendor_invoices","purchase_orders","vendor_invoice_lines","opportunity_stages","sales_quotes","project_phases","inventory_levels","products","order_lines","projects"],"tables_from_table_retrieval":7,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_opportunities","similarity":0.6054695442586654},{"table":"sales_opportunities","similarity":0.5991342441914193},{"table":"sales_opportunities","similarity":0.5991342441914193},{"table":"opportunity_stages","similarity":0.5878194026125775},{"table":"purchase_orders","similarity":0.569620040129231},{"table":"opportunity_stages","similarity":0.5683265438173515},{"table":"opportunity_stages","similarity":0.5683265438173515},{"table":"sales_orders","similarity":0.5672773314428301},{"table":"vendor_invoices","similarity":0.5653986063661894},{"table":"sales_orders","similarity":0.5581057438001689},{"table":"sales_orders","similarity":0.5581057438001689},{"table":"vendor_invoices","similarity":0.5555915054629954},{"table":"vendor_invoices","similarity":0.5555915054629954},{"table":"vendor_invoice_lines","similarity":0.5524555005656138},{"table":"sales_quotes","similarity":0.550409683101325}],"column_hits_per_table":{"sales_opportunities":6,"sales_quotes":7,"vendor_invoice_lines":3,"sales_orders":8,"vendor_invoices":7,"products":1,"purchase_orders":4,"project_phases":3,"opportunity_stages":2,"sales_regions":1,"product_suppliers":1,"depreciation_schedules":1,"inventory_levels":2,"project_milestones":1,"performance_reviews":1,"projects":1,"order_lines":1},"top_columns_per_table":{"sales_opportunities":[{"column":"expected_close_date","similarity":0.668690771832423},{"column":"actual_close_date","similarity":0.6339245575123714},{"column":"probability","similarity":0.5692602631371995}],"sales_quotes":[{"column":"status","similarity":0.5921986529170727},{"column":"total","similarity":0.5752162059761756},{"column":"quote_date","similarity":0.5738522658738787}],"vendor_invoice_lines":[{"column":"amount","similarity":0.5845362816918436},{"column":"quantity","similarity":0.5763391839401236},{"column":"unit_cost","similarity":0.5761415252217038}],"sales_orders":[{"column":"subtotal","similarity":0.5845302560552877},{"column":"total","similarity":0.5825451432204839},{"column":"shipping_cost","similarity":0.5774331860294376}],"vendor_invoices":[{"column":"subtotal","similarity":0.5822705703803419},{"column":"total","similarity":0.582041980504164},{"column":"status","similarity":0.5656992120499805}],"products":[{"column":"weight","similarity":0.5815009424843107}],"purchase_orders":[{"column":"expected_date","similarity":0.5741026972061223},{"column":"total","similarity":0.5488581395929076},{"column":"subtotal","similarity":0.5484437995629727}],"project_phases":[{"column":"end_date","similarity":0.5687826504010404},{"column":"start_date","similarity":0.543726006663315},{"column":"status","similarity":0.542017684104051}],"opportunity_stages":[{"column":"is_closed","similarity":0.5678148186760426},{"column":"probability","similarity":0.5543864927330566}],"sales_regions":[{"column":"target_revenue","similarity":0.5654854838224989}],"product_suppliers":[{"column":"lead_time_days","similarity":0.5615731578476576}],"depreciation_schedules":[{"column":"monthly_amount","similarity":0.558713615169843}],"inventory_levels":[{"column":"last_count_date","similarity":0.5575421295633526},{"column":"quantity_on_hand","similarity":0.5419613068262183}],"project_milestones":[{"column":"amount","similarity":0.5518840450887265}],"performance_reviews":[{"column":"review_period_end","similarity":0.5513220446834107}],"projects":[{"column":"planned_end_date","similarity":0.5476762261808827}],"order_lines":[{"column":"discount_percent","similarity":0.545524369079207}]},"fused_scores":[{"table":"sales_opportunities","fused":0.753741766750295,"table_sim":0.5991342441914193,"col_score":0.9856530505886087},{"table":"sales_orders","fused":0.6851845773463132,"table_sim":0.5581057438001689,"col_score":0.8758028276655296},{"table":"vendor_invoices","fused":0.6826715275307668,"table_sim":0.5555915054629954,"col_score":0.8732915606324239},{"table":"purchase_orders","fused":0.681184730878569,"table_sim":0.569620040129231,"col_score":0.848531767002576},{"table":"vendor_invoice_lines","fused":0.6805556498041303,"table_sim":0.5524555005656138,"col_score":0.8727058736619053},{"table":"opportunity_stages","fused":0.6789991523074392,"table_sim":0.5683265438173515,"col_score":0.8450080650425709},{"table":"sales_quotes","fused":0.675102745426041,"table_sim":0.550409683101325,"col_score":0.862142338913115},{"table":"project_phases","fused":0.33625826149307914,"table_sim":0,"col_score":0.8406456537326978},{"table":"inventory_levels","fused":0.33140911319058475,"table_sim":0,"col_score":0.8285227829764618},{"table":"products","fused":0.2326003769937243,"table_sim":0,"col_score":0.5815009424843107},{"table":"sales_regions","fused":0.22619419352899955,"table_sim":0,"col_score":0.5654854838224989},{"table":"product_suppliers","fused":0.22462926313906306,"table_sim":0,"col_score":0.5615731578476576},{"table":"depreciation_schedules","fused":0.2234854460679372,"table_sim":0,"col_score":0.558713615169843},{"table":"project_milestones","fused":0.2207536180354906,"table_sim":0,"col_score":0.5518840450887265},{"table":"performance_reviews","fused":0.2205288178733643,"table_sim":0,"col_score":0.5513220446834107}],"fk_expansion_candidates":72,"fk_expansion_added":2,"fk_expansion_blocked_count":63,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"product_suppliers","reason":"max_tables"},{"table":"project_tasks","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":26,"sql_generated":"SELECT s.stage_name AS stage, SUM(p.subtotal * o.probability / 100) OVER (PARTITION BY p.stage_id ORDER BY DATE_TRUNC('month', s.expected_close_date)) AS weighted_value FROM sales_opportunities s JOIN opportunity_stages o ON s.stage_id = o.stage_id JOIN sales_orders p ON s.sales_order_id = p.sales_order_id JOIN products pr ON o.product_id = pr.product_id JOIN vendor_invoice_lines vll ON p.purchase_order_number = vll.vendor_invoice_number;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"s","column":"stage_name","resolved_table":"sales_opportunities","suggested_columns":[]},{"alias":"p","column":"subtotal","resolved_table":"sales_orders","suggested_columns":[]},{"alias":"o","column":"probability","resolved_table":"opportunity_stages","suggested_columns":[]},{"alias":"p","column":"stage_id","resolved_table":"sales_orders","suggested_columns":[]},{"alias":"s","column":"expected_close_date","resolved_table":"sales_opportunities","suggested_columns":[]},{"alias":"s","column":"stage_id","resolved_table":"sales_opportunities","suggested_columns":[]},{"alias":"o","column":"stage_id","resolved_table":"opportunity_stages","suggested_columns":[]},{"alias":"s","column":"sales_order_id","resolved_table":"sales_opportunities","suggested_columns":[]},{"alias":"p","column":"sales_order_id","resolved_table":"sales_orders","suggested_columns":[]},{"alias":"o","column":"product_id","resolved_table":"opportunity_stages","suggested_columns":[]},{"alias":"pr","column":"product_id","resolved_table":"products","suggested_columns":[]},{"alias":"p","column":"purchase_order_number","resolved_table":"sales_orders","suggested_columns":[]},{"alias":"vll","column":"vendor_invoice_number","resolved_table":"vendor_invoice_lines","suggested_columns":["line_id","invoice_id","po_line_id"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column s.sales_order_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":0,"autocorrect_failure_reason":"No candidates found for column 'sales_order_id'","total_latency_ms":6024,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column s.sales_order_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:40:26.408Z","query_id":"04b3acc0-2928-4e5d-9429-5bf3926d3a3e","question":"Calculate inventory turnover ratio by product category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["inventory_levels","inventory_transactions","asset_categories","products","product_categories","sales_orders","reorder_rules","inventory_adjustments","product_suppliers","depreciation_entries","order_lines","receipt_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_levels","similarity":0.6747561713408694},{"table":"inventory_levels","similarity":0.6691204463835779},{"table":"inventory_levels","similarity":0.6691204463835779},{"table":"products","similarity":0.6673866757064916},{"table":"asset_categories","similarity":0.6658822163690923},{"table":"inventory_transactions","similarity":0.6584332771076702},{"table":"products","similarity":0.6538676672378335},{"table":"products","similarity":0.6538676672378335},{"table":"product_categories","similarity":0.6501703787798785},{"table":"asset_categories","similarity":0.6498613946467077},{"table":"asset_categories","similarity":0.6498613946467077},{"table":"inventory_transactions","similarity":0.6496833625181302},{"table":"inventory_transactions","similarity":0.6496833625181302},{"table":"product_categories","similarity":0.6492322259777316},{"table":"product_categories","similarity":0.6492322259777316}],"column_hits_per_table":{"inventory_transactions":7,"inventory_levels":6,"asset_categories":4,"product_categories":5,"products":7,"sales_orders":4,"fixed_assets":1,"reorder_rules":3,"product_suppliers":2,"inventory_adjustments":4,"receipt_lines":2,"sales_regions":1,"depreciation_entries":2,"goods_receipts":1,"order_lines":1},"top_columns_per_table":{"inventory_transactions":[{"column":"quantity","similarity":0.6807888987316983},{"column":"transaction_type","similarity":0.6515365120278798},{"column":"reference_type","similarity":0.637828790421886}],"inventory_levels":[{"column":"quantity_reserved","similarity":0.671007230009608},{"column":"quantity_available","similarity":0.6650873994044184},{"column":"quantity_on_hand","similarity":0.6516421570126745}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.6641371665838605},{"column":"depreciation_method","similarity":0.6354419036675771},{"column":"useful_life_years","similarity":0.621287819824621}],"product_categories":[{"column":"description","similarity":0.6507497169789198},{"column":"is_active","similarity":0.649502344633669},{"column":"category_id","similarity":0.6475053642784276}],"products":[{"column":"category_id","similarity":0.6427715834682924},{"column":"weight","similarity":0.6295802003912835},{"column":"unit_cost","similarity":0.6162112154039736}],"sales_orders":[{"column":"total","similarity":0.6200420126879076},{"column":"subtotal","similarity":0.6007588555599288},{"column":"tax_amount","similarity":0.5987801944503532}],"fixed_assets":[{"column":"category_id","similarity":0.6184944064206663}],"reorder_rules":[{"column":"reorder_quantity","similarity":0.6154008693245504},{"column":"product_id","similarity":0.6044803841321819},{"column":"min_quantity","similarity":0.603522150399881}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6130859746943957},{"column":"unit_cost","similarity":0.5933645257338089}],"inventory_adjustments":[{"column":"adjustment_number","similarity":0.6089434793102139},{"column":"adjusted_by","similarity":0.6069731015030922},{"column":"status","similarity":0.6019433143183657}],"receipt_lines":[{"column":"quantity_received","similarity":0.6032347735819231},{"column":"product_id","similarity":0.6026462248777215}],"sales_regions":[{"column":"target_revenue","similarity":0.6030920394288763}],"depreciation_entries":[{"column":"accumulated_depreciation","similarity":0.6025970339514821},{"column":"book_value","similarity":0.5960312123863106}],"goods_receipts":[{"column":"receipt_number","similarity":0.5957984012288485}],"order_lines":[{"column":"quantity_shipped","similarity":0.5947556552108059}]},"fused_scores":[{"table":"inventory_levels","fused":0.8028926397148737,"table_sim":0.6691204463835779,"col_score":1.0035509297118173},{"table":"inventory_transactions","fused":0.7924328794091334,"table_sim":0.6496833625181302,"col_score":1.0065571547456382},{"table":"asset_categories","fused":0.7826600841550841,"table_sim":0.6498613946467077,"col_score":0.981858118417649},{"table":"products","fused":0.7673949235800083,"table_sim":0.6538676672378335,"col_score":0.9376858080932703},{"table":"product_categories","fused":0.6626795845894502,"table_sim":0.6492322259777316,"col_score":0.682850622507028},{"table":"sales_orders","fused":0.3681685761871488,"table_sim":0,"col_score":0.920421440467872},{"table":"reorder_rules","fused":0.3668647778097964,"table_sim":0,"col_score":0.917161944524491},{"table":"inventory_adjustments","fused":0.36497201202470403,"table_sim":0,"col_score":0.91243003006176},{"table":"product_suppliers","fused":0.3639072950245201,"table_sim":0,"col_score":0.9097682375613002},{"table":"depreciation_entries","fused":0.360245056057855,"table_sim":0,"col_score":0.9006126401446375},{"table":"receipt_lines","fused":0.3256643809156503,"table_sim":0,"col_score":0.8141609522891257},{"table":"sales_regions","fused":0.24123681577155054,"table_sim":0,"col_score":0.6030920394288763},{"table":"goods_receipts","fused":0.23831936049153943,"table_sim":0,"col_score":0.5957984012288485},{"table":"order_lines","fused":0.23790226208432236,"table_sim":0,"col_score":0.5947556552108059},{"table":"fixed_assets","fused":0.17317843379778658,"table_sim":0,"col_score":0.4329460844944664}],"fk_expansion_candidates":54,"fk_expansion_added":2,"fk_expansion_blocked_count":48,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"order_lines","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":32,"sql_generated":"SELECT pc.name AS product_category, SUM(it.quantity) / AVG(p.unit_cost * p.list_price) AS inventory_turnover_ratio FROM products p INNER JOIN inventory_transactions it ON p.product_id = it.product_id INNER JOIN product_categories pc ON p.category_id = pc.category_id GROUP BY pc.name;","tables_used_in_sql":[],"explain_result":"success","rows_returned":30,"total_latency_ms":1214}
{"timestamp":"2026-02-01T21:40:27.623Z","query_id":"102ff1ac-7fb9-4869-b078-d527aad923c8","question":"Identify products with significant inventory discrepancies (adjustment > 10% of stock)","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["inventory_adjustments","adjustment_lines","inventory_transactions","inventory_levels","products","fixed_assets","stock_transfers","asset_categories","sales_orders","product_suppliers","asset_locations","warehouse_locations"],"tables_from_table_retrieval":7,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_adjustments","similarity":0.6958975386244389},{"table":"inventory_adjustments","similarity":0.6915197337369523},{"table":"inventory_adjustments","similarity":0.6915197337369523},{"table":"adjustment_lines","similarity":0.6522288043937092},{"table":"adjustment_lines","similarity":0.6522288043937092},{"table":"adjustment_lines","similarity":0.651007722195867},{"table":"fixed_assets","similarity":0.5955860146307721},{"table":"inventory_levels","similarity":0.5926011478403523},{"table":"inventory_levels","similarity":0.5835973247906563},{"table":"inventory_levels","similarity":0.5835973247906563},{"table":"products","similarity":0.578715845938642},{"table":"stock_transfers","similarity":0.5760981592349576},{"table":"inventory_transactions","similarity":0.5750206157907899},{"table":"fixed_assets","similarity":0.5651757713023685},{"table":"fixed_assets","similarity":0.5651757713023685}],"column_hits_per_table":{"inventory_adjustments":8,"adjustment_lines":5,"inventory_transactions":4,"products":6,"inventory_levels":5,"stock_transfers":2,"sales_orders":2,"fixed_assets":4,"product_suppliers":1,"asset_categories":3,"product_categories":1,"project_expenses":1,"warehouse_locations":1,"goods_receipts":1,"sales_opportunities":1,"purchase_orders":1,"asset_maintenance":1,"purchase_requisitions":1,"asset_locations":1,"vendor_invoices":1},"top_columns_per_table":{"inventory_adjustments":[{"column":"adjustment_number","similarity":0.7341965834229129},{"column":"reason","similarity":0.7286392066545573},{"column":"status","similarity":0.7138688590653707}],"adjustment_lines":[{"column":"quantity_change","similarity":0.6392157712019857},{"column":"quantity_before","similarity":0.634171940504201},{"column":"quantity_after","similarity":0.6332989804641287}],"inventory_transactions":[{"column":"reference_type","similarity":0.6271412703735331},{"column":"transaction_type","similarity":0.6257663977952485},{"column":"quantity","similarity":0.6079063742265192}],"products":[{"column":"sku","similarity":0.6164491394343341},{"column":"name","similarity":0.6034174012104574},{"column":"weight","similarity":0.5959940766492622}],"inventory_levels":[{"column":"quantity_on_hand","similarity":0.608866183311948},{"column":"quantity_available","similarity":0.6051195357195316},{"column":"quantity_reserved","similarity":0.6037194678286041}],"stock_transfers":[{"column":"status","similarity":0.6079256845371828},{"column":"transfer_number","similarity":0.6034595992854049}],"sales_orders":[{"column":"order_number","similarity":0.6005608184497583},{"column":"status","similarity":0.5891804513517737}],"fixed_assets":[{"column":"serial_number","similarity":0.5959181419986975},{"column":"status","similarity":0.5830638318759733},{"column":"asset_tag","similarity":0.5821282768349391}],"product_suppliers":[{"column":"vendor_sku","similarity":0.5933274478553298}],"asset_categories":[{"column":"depreciation_method","similarity":0.5909825633152775},{"column":"salvage_value_percent","similarity":0.5765146715808612},{"column":"name","similarity":0.5610883455413478}],"product_categories":[{"column":"name","similarity":0.5904071610230438}],"project_expenses":[{"column":"category","similarity":0.5810751474323431}],"warehouse_locations":[{"column":"aisle","similarity":0.5786356735369311}],"goods_receipts":[{"column":"receipt_number","similarity":0.5779296040347197}],"sales_opportunities":[{"column":"source","similarity":0.5765090582142506}],"purchase_orders":[{"column":"status","similarity":0.5729152190846236}],"asset_maintenance":[{"column":"status","similarity":0.5721672810617285}],"purchase_requisitions":[{"column":"requisition_number","similarity":0.5665364323660178}],"asset_locations":[{"column":"floor","similarity":0.5662760777195117}],"vendor_invoices":[{"column":"invoice_number","similarity":0.560424242944695}]},"fused_scores":[{"table":"inventory_adjustments","fused":0.854318314942248,"table_sim":0.6915197337369523,"col_score":1.0985161867501916},{"table":"adjustment_lines","fused":0.7731253298991547,"table_sim":0.651007722195867,"col_score":0.9563017414540862},{"table":"inventory_transactions","fused":0.7210221571829369,"table_sim":0.5750206157907899,"col_score":0.9400244692711572},{"table":"inventory_levels","fused":0.7147287753430793,"table_sim":0.5835973247906563,"col_score":0.9114259511717138},{"table":"products","fused":0.7130079786667713,"table_sim":0.578715845938642,"col_score":0.9144461777589652},{"table":"fixed_assets","fused":0.693898374947888,"table_sim":0.5651757713023685,"col_score":0.8869822804161671},{"table":"stock_transfers","fused":0.6721523310903421,"table_sim":0.5760981592349576,"col_score":0.8162335888734189},{"table":"asset_categories","fused":0.3516959596422833,"table_sim":0,"col_score":0.8792398991057082},{"table":"sales_orders","fused":0.32270959056915166,"table_sim":0,"col_score":0.8067739764228791},{"table":"product_suppliers","fused":0.23733097914213191,"table_sim":0,"col_score":0.5933274478553298},{"table":"project_expenses","fused":0.23243005897293725,"table_sim":0,"col_score":0.5810751474323431},{"table":"warehouse_locations","fused":0.23145426941477246,"table_sim":0,"col_score":0.5786356735369311},{"table":"goods_receipts","fused":0.2311718416138879,"table_sim":0,"col_score":0.5779296040347197},{"table":"sales_opportunities","fused":0.23060362328570025,"table_sim":0,"col_score":0.5765090582142506},{"table":"purchase_requisitions","fused":0.22661457294640713,"table_sim":0,"col_score":0.5665364323660178}],"fk_expansion_candidates":66,"fk_expansion_added":2,"fk_expansion_blocked_count":60,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_locations","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"already_selected"},{"table":"order_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":17,"total_retrieval_latency_ms":24,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"i","column":"quantity_on_hand","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"quantity_reserved","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"quantity_available","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"a","column":"adjustment_number","resolved_table":"inventory_adjustments","suggested_columns":[]},{"alias":"a","column":"reason","resolved_table":"inventory_adjustments","suggested_columns":[]},{"alias":"i","column":"product_id","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"a","column":"product_id","resolved_table":"inventory_adjustments","suggested_columns":[]},{"alias":"i","column":"quantity_on_hand","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"quantity_reserved","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"a","column":"quantity_change","resolved_table":"inventory_adjustments","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":4638,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T21:40:32.262Z","query_id":"4e6d07ec-a17a-4f39-9db5-ee4500fafc0a","question":"Calculate vendor performance score based on on-time delivery and invoice accuracy","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["vendor_invoices","performance_reviews","vendor_invoice_lines","vendors","product_suppliers","purchase_orders","vendor_contacts","sales_orders","fixed_assets","asset_maintenance"],"tables_from_table_retrieval":6,"tables_from_column_only":4,"tables_from_fk_expansion":0,"table_scores":[{"table":"vendor_invoices","similarity":0.6955551654807471},{"table":"vendor_invoices","similarity":0.6877693444044282},{"table":"vendor_invoices","similarity":0.6877693444044282},{"table":"performance_reviews","similarity":0.6709085810677549},{"table":"performance_reviews","similarity":0.6616195213650082},{"table":"performance_reviews","similarity":0.6616195213650082},{"table":"purchase_orders","similarity":0.6347301134279532},{"table":"vendors","similarity":0.630909375510322},{"table":"purchase_orders","similarity":0.6231004988578854},{"table":"purchase_orders","similarity":0.6231004988578854},{"table":"vendor_invoice_lines","similarity":0.6204253750668519},{"table":"vendor_invoice_lines","similarity":0.6204253750668519},{"table":"product_suppliers","similarity":0.6192498236848171},{"table":"vendors","similarity":0.6155248174915915},{"table":"vendors","similarity":0.6155248174915915}],"column_hits_per_table":{"vendor_invoices":12,"vendor_invoice_lines":6,"performance_reviews":9,"vendors":9,"vendor_contacts":4,"purchase_orders":2,"product_suppliers":4,"fixed_assets":1,"sales_orders":2,"asset_maintenance":1},"top_columns_per_table":{"vendor_invoices":[{"column":"invoice_date","similarity":0.6765580061331256},{"column":"total","similarity":0.6764019740002268},{"column":"invoice_number","similarity":0.6636094388195389}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.6434932528090191},{"column":"amount","similarity":0.6366634169908185},{"column":"unit_cost","similarity":0.622904924682905}],"performance_reviews":[{"column":"review_date","similarity":0.6381782068433183},{"column":"goals_met_percent","similarity":0.6328139994418308},{"column":"review_period_start","similarity":0.6179144234098587}],"vendors":[{"column":"vendor_number","similarity":0.6328044268147751},{"column":"phone","similarity":0.6308043133506924},{"column":"website","similarity":0.6136264685506736}],"vendor_contacts":[{"column":"phone","similarity":0.6099312252856707},{"column":"email","similarity":0.5929107702232568},{"column":"title","similarity":0.5908148084239192}],"purchase_orders":[{"column":"vendor_id","similarity":0.6033254664913035},{"column":"expected_date","similarity":0.5718044755694628}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6007097500202866},{"column":"lead_time_days","similarity":0.6002656091547952},{"column":"vendor_id","similarity":0.5929190374101849}],"fixed_assets":[{"column":"vendor_id","similarity":0.5790519907978402}],"sales_orders":[{"column":"order_date","similarity":0.5770519982365088},{"column":"shipping_cost","similarity":0.5731083814243623}],"asset_maintenance":[{"column":"vendor_id","similarity":0.5763399733911833}]},"fused_scores":[{"table":"vendor_invoices","fused":0.8185652038959526,"table_sim":0.6877693444044282,"col_score":1.014758993133239},{"table":"performance_reviews","fused":0.7788057954446985,"table_sim":0.6616195213650082,"col_score":0.9545852065642337},{"table":"vendor_invoice_lines","fused":0.7569852095618825,"table_sim":0.6204253750668519,"col_score":0.9618249613044284},{"table":"vendors","fused":0.7485975238910034,"table_sim":0.6155248174915915,"col_score":0.9482065834901213},{"table":"product_suppliers","fused":0.7318869160499639,"table_sim":0.6192498236848171,"col_score":0.9008425545976841},{"table":"purchase_orders","fused":0.6870476548512989,"table_sim":0.6231004988578854,"col_score":0.782968388841419},{"table":"vendor_contacts","fused":0.36255464415891964,"table_sim":0,"col_score":0.9063866103972991},{"table":"sales_orders","fused":0.345442475579476,"table_sim":0,"col_score":0.8636061889486899},{"table":"fixed_assets","fused":0.16213455742339525,"table_sim":0,"col_score":0.4053363935584881},{"table":"asset_maintenance","fused":0.1613751925495313,"table_sim":0,"col_score":0.40343798137382825}],"fk_expansion_candidates":51,"fk_expansion_added":0,"fk_expansion_blocked_count":51,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":17,"total_retrieval_latency_ms":25,"sql_generated":"SELECT v.vendor_id AS vendor_id, pv.invoice_number AS invoice_number, COUNT(pv.po_line_id) AS total_lines, AVG(DATEDIFF(sales_orders.order_date, purchase_orders.due_date)) AS avg_days_late, SUM(CASE WHEN DATEDIFF(sales_orders.order_date, purchase_orders.due_date) <= 0 THEN 1 ELSE 0 END) / COUNT(pv.po_line_id) * 100 AS on_time_delivery_percentage FROM vendors v JOIN product_suppliers ps ON v.vendor_id = ps.vendor_id JOIN vendor_contacts vc ON v.vendor_id = vc.vendor_id JOIN purchase_orders po ON ps.product_id = po.product_id AND v.vendor_id;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"v","column":"vendor_id","resolved_table":"vendors","suggested_columns":[]},{"alias":"purchase_orders","column":"due_date","resolved_table":"purchase_orders","suggested_columns":[]},{"alias":"purchase_orders","column":"due_date","resolved_table":"purchase_orders","suggested_columns":[]},{"alias":"v","column":"vendor_id","resolved_table":"vendors","suggested_columns":[]},{"alias":"v","column":"vendor_id","resolved_table":"vendors","suggested_columns":[]},{"alias":"vc","column":"vendor_id","resolved_table":"vendor_contacts","suggested_columns":[]},{"alias":"po","column":"product_id","resolved_table":"purchase_orders","suggested_columns":[]},{"alias":"v","column":"vendor_id","resolved_table":"vendors","suggested_columns":[]}],"unresolved_aliases":["pv","sales_orders"]},"explain_result":"fail","sqlstate":"42703","error_message":"column po.product_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":1,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":7578,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column po.product_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:40:39.841Z","query_id":"b51aa333-fb2e-450a-be02-508375558c54","question":"Generate a trial balance for the current period showing debits and credits by account category","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["bank_accounts","depreciation_entries","depreciation_schedules","account_types","asset_categories","bank_transactions","journal_lines","fiscal_periods","purchase_orders","timesheets","fixed_assets","vendor_invoices"],"tables_from_table_retrieval":6,"tables_from_column_only":17,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_accounts","similarity":0.6367900839880641},{"table":"asset_categories","similarity":0.6346535809758647},{"table":"bank_accounts","similarity":0.6340482364220554},{"table":"bank_accounts","similarity":0.6340482364220554},{"table":"depreciation_schedules","similarity":0.6304903160077374},{"table":"depreciation_schedules","similarity":0.6304903160077374},{"table":"depreciation_entries","similarity":0.6297144045903278},{"table":"depreciation_entries","similarity":0.6297144045903278},{"table":"account_types","similarity":0.6272285653729832},{"table":"depreciation_entries","similarity":0.6225511215159643},{"table":"account_types","similarity":0.6193803416295194},{"table":"account_types","similarity":0.6193803416295194},{"table":"depreciation_schedules","similarity":0.6165057393727287},{"table":"bank_transactions","similarity":0.6150962404412702},{"table":"asset_categories","similarity":0.6102645047904957}],"column_hits_per_table":{"bank_accounts":4,"account_types":2,"depreciation_schedules":7,"depreciation_entries":6,"asset_categories":2,"project_budgets":1,"journal_lines":2,"benefit_types":1,"fiscal_periods":5,"project_expenses":1,"bank_transactions":4,"timesheets":2,"budgets":2,"departments":1,"projects":1,"asset_maintenance":1,"customers":1,"chart_of_accounts":1,"purchase_orders":2,"budget_lines":1,"vendor_invoices":1,"fixed_assets":1,"employee_benefits":1},"top_columns_per_table":{"bank_accounts":[{"column":"current_balance","similarity":0.6856207008937131},{"column":"account_name","similarity":0.6085119078521903},{"column":"bank_name","similarity":0.6052810360125528}],"account_types":[{"column":"normal_balance","similarity":0.6471004935426607},{"column":"category","similarity":0.6220382371057719}],"depreciation_schedules":[{"column":"monthly_amount","similarity":0.6453000273773885},{"column":"annual_amount","similarity":0.6430843573005959},{"column":"depreciation_method","similarity":0.6209191877039439}],"depreciation_entries":[{"column":"amount","similarity":0.6447408121789926},{"column":"period_id","similarity":0.643559649092342},{"column":"accumulated_depreciation","similarity":0.6397138442937423}],"asset_categories":[{"column":"depreciation_method","similarity":0.640600565078528},{"column":"salvage_value_percent","similarity":0.5872709992162598}],"project_budgets":[{"column":"category","similarity":0.6169569178206936}],"journal_lines":[{"column":"debit","similarity":0.615233183208468},{"column":"credit","similarity":0.5881297887352918}],"benefit_types":[{"column":"annual_cost","similarity":0.6144825624279615}],"fiscal_periods":[{"column":"name","similarity":0.6139653006720002},{"column":"start_date","similarity":0.5940557583983144},{"column":"period_id","similarity":0.593789594476675}],"project_expenses":[{"column":"category","similarity":0.6108512270852675}],"bank_transactions":[{"column":"amount","similarity":0.6009151929141651},{"column":"reference","similarity":0.5946297202608782},{"column":"transaction_type","similarity":0.5925000251285931}],"timesheets":[{"column":"total_hours","similarity":0.5953084784593494},{"column":"status","similarity":0.5824555063940192}],"budgets":[{"column":"status","similarity":0.5947490104323017},{"column":"total_amount","similarity":0.5858262812102382}],"departments":[{"column":"budget","similarity":0.5935516329426287}],"projects":[{"column":"budget","similarity":0.5933004396512298}],"asset_maintenance":[{"column":"cost","similarity":0.5920636317252489}],"customers":[{"column":"credit_limit","similarity":0.5881966845767086}],"chart_of_accounts":[{"column":"description","similarity":0.5871916379697032}],"purchase_orders":[{"column":"total","similarity":0.5864519649300926},{"column":"subtotal","similarity":0.5855426910442382}],"budget_lines":[{"column":"period_id","similarity":0.585414728590752}],"vendor_invoices":[{"column":"subtotal","similarity":0.5854109351756007}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5847057269059956}],"employee_benefits":[{"column":"coverage_level","similarity":0.5835880291391402}]},"fused_scores":[{"table":"bank_accounts","fused":0.7756396663227276,"table_sim":0.6340482364220554,"col_score":0.9880268111737361},{"table":"depreciation_entries","fused":0.7593697666399241,"table_sim":0.6225511215159643,"col_score":0.9645977343258638},{"table":"depreciation_schedules","fused":0.7566403260347119,"table_sim":0.6165057393727287,"col_score":0.9668422060276864},{"table":"account_types","fused":0.7548760498159303,"table_sim":0.6193803416295194,"col_score":0.9581196120955466},{"table":"asset_categories","fused":0.7398531287489605,"table_sim":0.6102645047904957,"col_score":0.9342360646866579},{"table":"bank_transactions","fused":0.7283497654826038,"table_sim":0.6150962404412702,"col_score":0.8982300530446041},{"table":"journal_lines","fused":0.36371923103044557,"table_sim":0,"col_score":0.9092980775761139},{"table":"fiscal_periods","fused":0.355317154334716,"table_sim":0,"col_score":0.8882928858367899},{"table":"purchase_orders","fused":0.35168932418088467,"table_sim":0,"col_score":0.8792233104522116},{"table":"timesheets","fused":0.31966716227890246,"table_sim":0,"col_score":0.7991679056972562},{"table":"budgets","fused":0.31759537394461756,"table_sim":0,"col_score":0.7939884348615438},{"table":"project_budgets","fused":0.24678276712827746,"table_sim":0,"col_score":0.6169569178206936},{"table":"benefit_types","fused":0.2457930249711846,"table_sim":0,"col_score":0.6144825624279615},{"table":"project_expenses","fused":0.24434049083410703,"table_sim":0,"col_score":0.6108512270852675},{"table":"departments","fused":0.2374206531770515,"table_sim":0,"col_score":0.5935516329426287}],"fk_expansion_candidates":45,"fk_expansion_added":2,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoices","reason":"already_selected"},{"table":"vendor_invoices","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":15,"total_retrieval_latency_ms":22,"sql_generated":"SELECT ac.name AS \"Category\", SUM(fa.purchase_cost) AS \"Debit\", 0 AS \"Credit\" FROM fixed_assets fa JOIN asset_categories ac ON fa.category_id = ac.category_id GROUP BY ac.name LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"ft","column":"category_name","resolved_table":"fixed_assets","suggested_columns":["asset_id","asset_tag","name"]},{"alias":"ft","column":"category_name","resolved_table":"fixed_assets","suggested_columns":["asset_id","asset_tag","name"]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":7,"total_latency_ms":1711}
{"timestamp":"2026-02-01T21:40:41.553Z","query_id":"6e80dbe6-b53b-48ba-8167-5f63873623b9","question":"Calculate cash flow from bank transactions grouped by transaction type and month","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["bank_transactions","bank_accounts","inventory_transactions","account_types","depreciation_entries","project_budgets","depreciation_schedules","asset_transfers","benefit_types","sales_orders","currencies","projects"],"tables_from_table_retrieval":6,"tables_from_column_only":16,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_transactions","similarity":0.7232703691525166},{"table":"bank_transactions","similarity":0.7144733407570569},{"table":"bank_transactions","similarity":0.7144733407570569},{"table":"bank_accounts","similarity":0.6412885484513536},{"table":"bank_accounts","similarity":0.6330427898995664},{"table":"bank_accounts","similarity":0.6330427898995664},{"table":"inventory_transactions","similarity":0.6130368701918206},{"table":"inventory_transactions","similarity":0.5906232287127622},{"table":"inventory_transactions","similarity":0.5906232287127622},{"table":"account_types","similarity":0.5890479368554123},{"table":"account_types","similarity":0.5890479368554123},{"table":"account_types","similarity":0.5746397921552414},{"table":"depreciation_entries","similarity":0.5640374269123315},{"table":"depreciation_entries","similarity":0.5640374269123315},{"table":"project_budgets","similarity":0.563995673637428}],"column_hits_per_table":{"bank_transactions":9,"inventory_transactions":5,"bank_accounts":8,"depreciation_schedules":2,"account_types":2,"depreciation_entries":4,"asset_transfers":4,"benefit_types":1,"sales_orders":1,"departments":1,"vendor_invoices":1,"asset_categories":1,"project_budgets":2,"customers":1,"chart_of_accounts":1,"vendors":1,"maintenance_types":1,"projects":1,"currencies":1,"stock_transfers":1,"project_expenses":1,"purchase_orders":1},"top_columns_per_table":{"bank_transactions":[{"column":"transaction_type","similarity":0.7300639775150025},{"column":"transaction_date","similarity":0.7100635579167792},{"column":"amount","similarity":0.6854638850683717}],"inventory_transactions":[{"column":"transaction_type","similarity":0.6356058298235756},{"column":"reference_type","similarity":0.5936573308025523},{"column":"transaction_date","similarity":0.5927457550817244}],"bank_accounts":[{"column":"bank_name","similarity":0.6149721846522818},{"column":"currency_id","similarity":0.6078267071474764},{"column":"account_name","similarity":0.6020854555355626}],"depreciation_schedules":[{"column":"monthly_amount","similarity":0.590534089672661},{"column":"annual_amount","similarity":0.556973315206173}],"account_types":[{"column":"category","similarity":0.5726836627158123},{"column":"normal_balance","similarity":0.5553730449724036}],"depreciation_entries":[{"column":"entry_date","similarity":0.5724732006538439},{"column":"amount","similarity":0.5657822173033439},{"column":"period_id","similarity":0.5574773293779076}],"asset_transfers":[{"column":"reason","similarity":0.5702229734035696},{"column":"transfer_date","similarity":0.5701831755618614},{"column":"transferred_by","similarity":0.5584118665702265}],"benefit_types":[{"column":"annual_cost","similarity":0.570209215995342}],"sales_orders":[{"column":"subtotal","similarity":0.5666578377274356}],"departments":[{"column":"budget","similarity":0.562686445646288}],"vendor_invoices":[{"column":"subtotal","similarity":0.5611108207005183}],"asset_categories":[{"column":"depreciation_method","similarity":0.5610490636648584}],"project_budgets":[{"column":"category","similarity":0.5583505425484427},{"column":"notes","similarity":0.556499900200207}],"customers":[{"column":"currency_id","similarity":0.5559130206307922}],"chart_of_accounts":[{"column":"account_type_id","similarity":0.554936668356843}],"vendors":[{"column":"currency_id","similarity":0.5537994023819492}],"maintenance_types":[{"column":"frequency_months","similarity":0.553500950186699}],"projects":[{"column":"budget","similarity":0.5534871574363848}],"currencies":[{"column":"symbol","similarity":0.5533906348014246}],"stock_transfers":[{"column":"status","similarity":0.5531469664212183}],"project_expenses":[{"column":"category","similarity":0.5508824364902253}],"purchase_orders":[{"column":"subtotal","similarity":0.5494862539767775}]},"fused_scores":[{"table":"bank_transactions","fused":0.862722307043591,"table_sim":0.7144733407570569,"col_score":1.085095756473392},{"table":"bank_accounts","fused":0.7362206212200488,"table_sim":0.6330427898995664,"col_score":0.8909873682007723},{"table":"inventory_transactions","fused":0.7273477353175981,"table_sim":0.5906232287127622,"col_score":0.9324344952248518},{"table":"account_types","fused":0.6849319493739505,"table_sim":0.5746397921552414,"col_score":0.850370185202014},{"table":"depreciation_entries","fused":0.6805681798696053,"table_sim":0.5640374269123315,"col_score":0.8553643093055159},{"table":"project_budgets","fused":0.6396476072298629,"table_sim":0.563995673637428,"col_score":0.7531255076185152},{"table":"depreciation_schedules","fused":0.347608298910299,"table_sim":0,"col_score":0.8690207472757474},{"table":"asset_transfers","fused":0.34212582447380013,"table_sim":0,"col_score":0.8553145611845003},{"table":"benefit_types","fused":0.2280836863981368,"table_sim":0,"col_score":0.570209215995342},{"table":"sales_orders","fused":0.22666313509097424,"table_sim":0,"col_score":0.5666578377274356},{"table":"departments","fused":0.2250745782585152,"table_sim":0,"col_score":0.562686445646288},{"table":"vendor_invoices","fused":0.22444432828020733,"table_sim":0,"col_score":0.5611108207005183},{"table":"asset_categories","fused":0.22441962546594338,"table_sim":0,"col_score":0.5610490636648584},{"table":"maintenance_types","fused":0.2214003800746796,"table_sim":0,"col_score":0.553500950186699},{"table":"projects","fused":0.2213948629745539,"table_sim":0,"col_score":0.5534871574363848}],"fk_expansion_candidates":48,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"already_selected"},{"table":"currencies","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"projects","reason":"already_selected"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":14,"total_retrieval_latency_ms":20,"sql_generated":"SELECT transaction_type, EXTRACT(MONTH FROM transaction_date) AS month, SUM(amount) as cash_flow \nFROM bank_transactions bt JOIN bank_accounts ba ON bt.bank_account_id = ba.bank_account_id \nGROUP BY transaction_type, month;","tables_used_in_sql":[],"total_latency_ms":2867,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T21:40:44.420Z","query_id":"6428a288-6458-4716-b85b-2fddd0a1f0d9","question":"Calculate project profitability comparing budget vs actual expenses","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_budgets","project_expenses","budgets","project_resources","budget_lines","projects","project_milestones","project_tasks","depreciation_schedules","departments","fixed_assets"],"tables_from_table_retrieval":5,"tables_from_column_only":13,"tables_from_fk_expansion":1,"table_scores":[{"table":"project_budgets","similarity":0.6969020680342091},{"table":"project_budgets","similarity":0.6957582349451407},{"table":"project_budgets","similarity":0.6957582349451407},{"table":"project_expenses","similarity":0.6915216956418679},{"table":"project_expenses","similarity":0.6915216956418679},{"table":"project_expenses","similarity":0.6901643358621746},{"table":"budgets","similarity":0.612258488134445},{"table":"budgets","similarity":0.612258488134445},{"table":"budgets","similarity":0.6054710146643664},{"table":"project_resources","similarity":0.5884392614999969},{"table":"project_resources","similarity":0.5805503579785858},{"table":"project_resources","similarity":0.5805503579785858},{"table":"budget_lines","similarity":0.5713392587016516},{"table":"budget_lines","similarity":0.5686398725889051},{"table":"budget_lines","similarity":0.5686398725889051}],"column_hits_per_table":{"project_budgets":6,"project_expenses":10,"projects":4,"budgets":8,"departments":1,"budget_lines":3,"project_resources":3,"project_tasks":3,"project_milestones":2,"product_suppliers":1,"fixed_assets":1,"products":1,"requisition_lines":1,"cost_centers":1,"asset_maintenance":1,"depreciation_schedules":2,"benefit_types":1,"maintenance_types":1},"top_columns_per_table":{"project_budgets":[{"column":"actual_amount","similarity":0.7262554064624759},{"column":"planned_amount","similarity":0.7004924793564835},{"column":"category","similarity":0.6694662055461488}],"project_expenses":[{"column":"amount","similarity":0.7114601809657055},{"column":"is_billable","similarity":0.6966630240889287},{"column":"status","similarity":0.6836007020930082}],"projects":[{"column":"budget","similarity":0.6970008685557271},{"column":"status","similarity":0.5629230171908491},{"column":"project_number","similarity":0.5622062989180432}],"budgets":[{"column":"total_amount","similarity":0.6493408476253937},{"column":"status","similarity":0.6263032542399831},{"column":"name","similarity":0.5916349551000758}],"departments":[{"column":"budget","similarity":0.6220086035822576}],"budget_lines":[{"column":"amount","similarity":0.6088101737210796},{"column":"budget_id","similarity":0.5755343306843482},{"column":"period_id","similarity":0.5433751751705854}],"project_resources":[{"column":"hourly_rate","similarity":0.6029252229063784},{"column":"allocation_percent","similarity":0.5808610647776508},{"column":"project_id","similarity":0.5585123041056318}],"project_tasks":[{"column":"actual_hours","similarity":0.5942018563156196},{"column":"estimated_hours","similarity":0.5835819683987098},{"column":"status","similarity":0.5534727998732568}],"project_milestones":[{"column":"is_billable","similarity":0.5918713032194266},{"column":"amount","similarity":0.5907992216686975}],"product_suppliers":[{"column":"unit_cost","similarity":0.5623878668953419}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5566543017155177}],"products":[{"column":"unit_cost","similarity":0.553864201344991}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.5527788351319599}],"cost_centers":[{"column":"is_active","similarity":0.5513344669503466}],"asset_maintenance":[{"column":"cost","similarity":0.5501460559859814}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.5496518172593629},{"column":"monthly_amount","similarity":0.5452582264469823}],"benefit_types":[{"column":"annual_cost","similarity":0.5430813519625031}],"maintenance_types":[{"column":"estimated_cost","similarity":0.540145737002778}]},"fused_scores":[{"table":"project_budgets","fused":0.8480555994233716,"table_sim":0.6957582349451407,"col_score":1.0765016461407177},{"table":"project_expenses","fused":0.8380152787213727,"table_sim":0.6901643358621746,"col_score":1.0597916930101698},{"table":"budgets","fused":0.7376052777790789,"table_sim":0.6054710146643664,"col_score":0.9358066724511477},{"table":"project_resources","fused":0.705672516905233,"table_sim":0.5805503579785858,"col_score":0.8933557552952038},{"table":"budget_lines","fused":0.6652827993375837,"table_sim":0.5686398725889051,"col_score":0.8102471894606015},{"table":"projects","fused":0.3912416072058995,"table_sim":0,"col_score":0.9781040180147487},{"table":"project_milestones","fused":0.3549083656215102,"table_sim":0,"col_score":0.8872709140537753},{"table":"project_tasks","fused":0.35439713620598984,"table_sim":0,"col_score":0.8859928405149745},{"table":"depreciation_schedules","fused":0.3289123721931416,"table_sim":0,"col_score":0.822280930482854},{"table":"departments","fused":0.24880344143290306,"table_sim":0,"col_score":0.6220086035822576},{"table":"product_suppliers","fused":0.22495514675813677,"table_sim":0,"col_score":0.5623878668953419},{"table":"fixed_assets","fused":0.22266172068620707,"table_sim":0,"col_score":0.5566543017155177},{"table":"products","fused":0.22154568053799642,"table_sim":0,"col_score":0.553864201344991},{"table":"requisition_lines","fused":0.22111153405278397,"table_sim":0,"col_score":0.5527788351319599},{"table":"asset_maintenance","fused":0.22005842239439258,"table_sim":0,"col_score":0.5501460559859814}],"fk_expansion_candidates":36,"fk_expansion_added":1,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":12,"total_retrieval_latency_ms":19,"sql_generated":"SELECT pb.project_id, pb.name AS project_name, SUM(pb.planned_amount) AS planned_budget, SUM(pe.actual_amount) AS actual_expenses, (SUM(pb.planned_amount) - SUM(pe.actual_amount)) AS budget_vs_actual\nFROM projects pb\nLEFT JOIN project_expenses pe ON pb.project_id = pe.project_id\nGROUP BY pb.project_id, pb.name;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"pb","column":"project_id","resolved_table":"projects","suggested_columns":[]},{"alias":"pb","column":"name","resolved_table":"projects","suggested_columns":[]},{"alias":"pb","column":"planned_amount","resolved_table":"projects","suggested_columns":[]},{"alias":"pe","column":"actual_amount","resolved_table":"project_expenses","suggested_columns":["expense_id","project_id","employee_id"]},{"alias":"pb","column":"planned_amount","resolved_table":"projects","suggested_columns":[]},{"alias":"pe","column":"actual_amount","resolved_table":"project_expenses","suggested_columns":["expense_id","project_id","employee_id"]},{"alias":"pb","column":"project_id","resolved_table":"projects","suggested_columns":[]},{"alias":"pb","column":"project_id","resolved_table":"projects","suggested_columns":[]},{"alias":"pb","column":"name","resolved_table":"projects","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column pb.planned_amount does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":1,"autocorrect_failure_reason":"Best candidate 'project_expenses.amount' has score 0.65 < threshold 0.7","total_latency_ms":4712,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column pb.planned_amount does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:40:49.132Z","query_id":"c0fcc4a6-bd5b-48d7-8aa2-99eb190d04df","question":"Find resource allocation by employee across all active projects","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_resources","projects","project_expenses","employees","employee_salaries","task_assignments","project_tasks","inventory_adjustments","purchase_requisitions","asset_transfers","budgets","timesheets"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":2,"table_scores":[{"table":"project_resources","similarity":0.7731177943741443},{"table":"project_resources","similarity":0.7614596035707293},{"table":"project_resources","similarity":0.7614596035707293},{"table":"task_assignments","similarity":0.6903320131383612},{"table":"project_expenses","similarity":0.6860669651962393},{"table":"task_assignments","similarity":0.6782316484776133},{"table":"task_assignments","similarity":0.6782316484776133},{"table":"projects","similarity":0.6699593096880756},{"table":"projects","similarity":0.6633532658939397},{"table":"projects","similarity":0.6633532658939397},{"table":"project_expenses","similarity":0.6627460444190597},{"table":"project_expenses","similarity":0.6627460444190597},{"table":"employee_salaries","similarity":0.6405071946271549},{"table":"employees","similarity":0.6339025803715616},{"table":"employee_salaries","similarity":0.6310176470805876}],"column_hits_per_table":{"project_resources":7,"projects":5,"project_expenses":3,"task_assignments":1,"asset_maintenance":1,"fixed_assets":1,"asset_transfers":3,"project_tasks":4,"budgets":1,"leave_requests":2,"sales_territories":1,"employees":8,"inventory_adjustments":2,"employee_salaries":1,"purchase_requisitions":2,"employee_benefits":2,"timesheets":2,"departments":1,"performance_reviews":1,"inventory_transactions":1,"sales_regions":1},"top_columns_per_table":{"project_resources":[{"column":"allocation_percent","similarity":0.728757432780467},{"column":"employee_id","similarity":0.7255842747784741},{"column":"role","similarity":0.6783516003676235}],"projects":[{"column":"project_manager_id","similarity":0.6839282490004714},{"column":"priority","similarity":0.6427573172941073},{"column":"project_number","similarity":0.6341632426692734}],"project_expenses":[{"column":"approved_by","similarity":0.6823442671200762},{"column":"employee_id","similarity":0.67150172783302},{"column":"status","similarity":0.6242036195337299}],"task_assignments":[{"column":"employee_id","similarity":0.6605806631335326}],"asset_maintenance":[{"column":"performed_by","similarity":0.657596774025439}],"fixed_assets":[{"column":"assigned_to","similarity":0.6547948182113684}],"asset_transfers":[{"column":"transferred_by","similarity":0.6477089129448399},{"column":"to_employee_id","similarity":0.6397881646168211},{"column":"from_employee_id","similarity":0.632962477097971}],"project_tasks":[{"column":"actual_hours","similarity":0.6402444434475},{"column":"estimated_hours","similarity":0.6283389400715463},{"column":"priority","similarity":0.6271077493801277}],"budgets":[{"column":"approved_by","similarity":0.6395498605286063}],"leave_requests":[{"column":"approved_by","similarity":0.6361902211226609},{"column":"employee_id","similarity":0.6137651256012868}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6322095184817824}],"employees":[{"column":"employee_number","similarity":0.6295903417489341},{"column":"manager_id","similarity":0.6247850569740808},{"column":"position_id","similarity":0.6238476921771267}],"inventory_adjustments":[{"column":"approved_by","similarity":0.6261133068410986},{"column":"adjusted_by","similarity":0.6181901122068721}],"employee_salaries":[{"column":"approved_by","similarity":0.6259053995932096}],"purchase_requisitions":[{"column":"approved_by","similarity":0.6204631562858176},{"column":"requested_by","similarity":0.6143387196019348}],"employee_benefits":[{"column":"employee_id","similarity":0.6197903020961568},{"column":"coverage_level","similarity":0.6109362115850033}],"timesheets":[{"column":"approved_by","similarity":0.6175242206652112},{"column":"employee_id","similarity":0.6147088479677592}],"departments":[{"column":"manager_id","similarity":0.616788142923364}],"performance_reviews":[{"column":"employee_id","similarity":0.6128993747418323}],"inventory_transactions":[{"column":"created_by","similarity":0.6125536347226702}],"sales_regions":[{"column":"manager_id","similarity":0.6111362570848077}]},"fused_scores":[{"table":"project_resources","fused":0.884049055328149,"table_sim":0.7614596035707293,"col_score":1.0679332329642788},{"table":"projects","fused":0.7819475349878615,"table_sim":0.6633532658939397,"col_score":0.959838938628744},{"table":"project_expenses","fused":0.7645955753960891,"table_sim":0.6627460444190597,"col_score":0.9173698718616332},{"table":"employees","fused":0.7560292383950562,"table_sim":0.6339025803715616,"col_score":0.9392192254302982},{"table":"employee_salaries","fused":0.6289727480856364,"table_sim":0.6310176470805876,"col_score":0.6259053995932096},{"table":"task_assignments","fused":0.5919015747639571,"table_sim":0.6782316484776133,"col_score":0.46240646419347275},{"table":"project_tasks","fused":0.3817655653933093,"table_sim":0,"col_score":0.9544139134832732},{"table":"inventory_adjustments","fused":0.3740833451778139,"table_sim":0,"col_score":0.9352083629445347},{"table":"purchase_requisitions","fused":0.371053006434714,"table_sim":0,"col_score":0.927632516086785},{"table":"asset_transfers","fused":0.34865390822429093,"table_sim":0,"col_score":0.8716347705607272},{"table":"leave_requests","fused":0.3404032060332445,"table_sim":0,"col_score":0.8510080150831112},{"table":"timesheets","fused":0.33306892698157076,"table_sim":0,"col_score":0.8326723174539269},{"table":"employee_benefits","fused":0.3311451269274633,"table_sim":0,"col_score":0.8278628173186582},{"table":"asset_maintenance","fused":0.2630387096101756,"table_sim":0,"col_score":0.657596774025439},{"table":"fixed_assets","fused":0.2619179272845474,"table_sim":0,"col_score":0.6547948182113684}],"fk_expansion_candidates":105,"fk_expansion_added":2,"fk_expansion_blocked_count":87,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"max_tables"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"leave_requests","reason":"max_tables"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"employee_benefits","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_requests","reason":"max_tables"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"employee_benefits","reason":"max_tables"},{"table":"fixed_assets","reason":"max_tables"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":38,"total_retrieval_latency_ms":45,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":4833,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T21:40:53.965Z","query_id":"1297ba17-5440-4fc2-9607-11a4e6bb06a9","question":"List all fixed assets with their assigned employees and current locations","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["fixed_assets","asset_locations","asset_maintenance","asset_transfers","employees","sales_territories","project_expenses","depreciation_schedules","stock_transfers","adjustment_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":5,"tables_from_fk_expansion":0,"table_scores":[{"table":"fixed_assets","similarity":0.7199454700518836},{"table":"fixed_assets","similarity":0.7148515452309757},{"table":"fixed_assets","similarity":0.7148515452309757},{"table":"asset_locations","similarity":0.7140253439243075},{"table":"asset_locations","similarity":0.7140253439243075},{"table":"asset_locations","similarity":0.6993840670281728},{"table":"asset_transfers","similarity":0.6681876163750934},{"table":"asset_maintenance","similarity":0.6662441365446851},{"table":"asset_transfers","similarity":0.6646799369428842},{"table":"asset_transfers","similarity":0.6646799369428842},{"table":"asset_maintenance","similarity":0.6520664008414063},{"table":"asset_maintenance","similarity":0.6520664008414063},{"table":"sales_territories","similarity":0.6138568966711586},{"table":"employees","similarity":0.6041748893811374},{"table":"sales_territories","similarity":0.6032467851960226}],"column_hits_per_table":{"fixed_assets":17,"asset_locations":6,"asset_maintenance":8,"asset_transfers":7,"employees":6,"sales_territories":1,"depreciation_schedules":1,"project_expenses":1,"stock_transfers":1,"adjustment_lines":1,"employee_training":1},"top_columns_per_table":{"fixed_assets":[{"column":"assigned_to","similarity":0.7309660903600991},{"column":"status","similarity":0.7290998988380747},{"column":"location_id","similarity":0.727307286621006}],"asset_locations":[{"column":"building","similarity":0.7055757855424262},{"column":"floor","similarity":0.6952344209513786},{"column":"room","similarity":0.6866855307465951}],"asset_maintenance":[{"column":"status","similarity":0.6627607281665651},{"column":"performed_by","similarity":0.655208869514037},{"column":"asset_id","similarity":0.650844110389269}],"asset_transfers":[{"column":"to_location_id","similarity":0.6598091379381406},{"column":"asset_id","similarity":0.648915686961598},{"column":"from_location_id","similarity":0.6453059808359782}],"employees":[{"column":"email","similarity":0.6222128415310486},{"column":"is_active","similarity":0.6099795955898375},{"column":"created_at","similarity":0.6087545437137886}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6151626798031035}],"depreciation_schedules":[{"column":"asset_id","similarity":0.609072695972689}],"project_expenses":[{"column":"approved_by","similarity":0.5891477196810594}],"stock_transfers":[{"column":"created_by","similarity":0.5885257652007055}],"adjustment_lines":[{"column":"location_id","similarity":0.5880278471168174}],"employee_training":[{"column":"status","similarity":0.5864804082369928}]},"fused_scores":[{"table":"fixed_assets","fused":0.8604937201613337,"table_sim":0.7148515452309757,"col_score":1.0789569825568708},{"table":"asset_locations","fused":0.8409076386241499,"table_sim":0.6993840670281728,"col_score":1.0531929960181154},{"table":"asset_maintenance","fused":0.7790907068878921,"table_sim":0.6520664008414063,"col_score":0.9696271659576206},{"table":"asset_transfers","fused":0.7712951274831453,"table_sim":0.6646799369428842,"col_score":0.931217913293537},{"table":"employees","fused":0.7306585636601679,"table_sim":0.6041748893811374,"col_score":0.9203840750787138},{"table":"sales_territories","fused":0.5341936214624825,"table_sim":0.6032467851960226,"col_score":0.4306138758621724},{"table":"project_expenses","fused":0.23565908787242376,"table_sim":0,"col_score":0.5891477196810594},{"table":"depreciation_schedules","fused":0.17054035487235292,"table_sim":0,"col_score":0.42635088718088227},{"table":"stock_transfers","fused":0.16478721425619755,"table_sim":0,"col_score":0.41196803564049383},{"table":"adjustment_lines","fused":0.1646477971927089,"table_sim":0,"col_score":0.4116194929817722},{"table":"employee_training","fused":0.16421451430635797,"table_sim":0,"col_score":0.4105362857658949}],"fk_expansion_candidates":108,"fk_expansion_added":0,"fk_expansion_blocked_count":108,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":16,"total_retrieval_latency_ms":23,"sql_generated":"SELECT fa.asset_id AS asset_id, fa.name AS name, fa.description AS description, e.employee_number AS employee_number, e.first_name AS first_name, e.last_name AS last_name, fa.location_id AS location_id, loc.name AS location_name FROM fixed_assets fa JOIN employees e ON fa.assigned_to = e.employee_id JOIN asset_locations loc ON fa.location_id = loc.location_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":1490}
{"timestamp":"2026-02-01T21:40:55.456Z","query_id":"96dafc2f-5ad8-40ec-a060-e04a90937966","question":"Create a comprehensive employee cost report including salary and benefits by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_salaries","employee_benefits","employees","project_expenses","budgets","departments","vendor_invoices","project_budgets","project_resources","employee_training","positions","benefit_types"],"tables_from_table_retrieval":6,"tables_from_column_only":18,"tables_from_fk_expansion":2,"table_scores":[{"table":"employee_salaries","similarity":0.722375473943176},{"table":"employee_salaries","similarity":0.722375473943176},{"table":"employee_benefits","similarity":0.705595592348026},{"table":"employee_benefits","similarity":0.705595592348026},{"table":"employee_benefits","similarity":0.7033203083522601},{"table":"employee_salaries","similarity":0.7004330807404299},{"table":"project_expenses","similarity":0.6709016284087207},{"table":"project_expenses","similarity":0.6668157727165617},{"table":"project_expenses","similarity":0.6668157727165617},{"table":"employees","similarity":0.6665648484199336},{"table":"employees","similarity":0.6665648484199336},{"table":"employees","similarity":0.6573833023433696},{"table":"budgets","similarity":0.647440451476846},{"table":"budgets","similarity":0.647440451476846},{"table":"departments","similarity":0.6467717005028588}],"column_hits_per_table":{"employees":4,"employee_salaries":7,"employee_benefits":6,"departments":2,"benefit_types":1,"project_expenses":4,"project_resources":2,"cost_centers":1,"budgets":3,"goods_receipts":1,"sales_territories":1,"asset_maintenance":1,"performance_reviews":1,"employment_history":1,"sales_regions":1,"positions":1,"vendor_invoices":4,"product_suppliers":1,"project_budgets":2,"requisition_lines":1,"employee_certifications":1,"employee_training":2,"vendor_invoice_lines":1,"products":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.7361416760164768},{"column":"department_id","similarity":0.643475236115711},{"column":"employee_number","similarity":0.6268915453560163}],"employee_salaries":[{"column":"amount","similarity":0.7283991668176124},{"column":"effective_date","similarity":0.6740447561967371},{"column":"employee_id","similarity":0.6634321666385734}],"employee_benefits":[{"column":"coverage_level","similarity":0.6930697298081193},{"column":"employee_id","similarity":0.6823515721494041},{"column":"benefit_id","similarity":0.6763225886423792}],"departments":[{"column":"budget","similarity":0.6828503188805319},{"column":"manager_id","similarity":0.6345520008976717}],"benefit_types":[{"column":"annual_cost","similarity":0.6699186739305134}],"project_expenses":[{"column":"employee_id","similarity":0.6672105776168827},{"column":"approved_by","similarity":0.657595738784029},{"column":"amount","similarity":0.64664507348676}],"project_resources":[{"column":"hourly_rate","similarity":0.6397016874167624},{"column":"employee_id","similarity":0.6182816053207806}],"cost_centers":[{"column":"department_id","similarity":0.6391395639861553}],"budgets":[{"column":"approved_by","similarity":0.6383618398519554},{"column":"total_amount","similarity":0.6226660734244392},{"column":"department_id","similarity":0.6205743891433299}],"goods_receipts":[{"column":"received_by","similarity":0.6322934653710801}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6291100859650857}],"asset_maintenance":[{"column":"cost","similarity":0.6284459886126739}],"performance_reviews":[{"column":"employee_id","similarity":0.62586180623406}],"employment_history":[{"column":"employee_id","similarity":0.6257662452515415}],"sales_regions":[{"column":"manager_id","similarity":0.6249326800266781}],"positions":[{"column":"min_salary","similarity":0.6243487687260623}],"vendor_invoices":[{"column":"subtotal","similarity":0.6229204399409228},{"column":"amount_paid","similarity":0.6225701829476908},{"column":"total","similarity":0.6212865306083739}],"product_suppliers":[{"column":"unit_cost","similarity":0.6215630296727815}],"project_budgets":[{"column":"actual_amount","similarity":0.6210869451422038},{"column":"planned_amount","similarity":0.6161072096529497}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.6201015589432831}],"employee_certifications":[{"column":"employee_id","similarity":0.6199040218225059}],"employee_training":[{"column":"score","similarity":0.6191389283848391},{"column":"status","similarity":0.6156063942576597}],"vendor_invoice_lines":[{"column":"unit_cost","similarity":0.6184622029186051}],"products":[{"column":"unit_cost","similarity":0.6160894325566642}]},"fused_scores":[{"table":"employee_salaries","fused":0.8464284664106503,"table_sim":0.7004330807404299,"col_score":1.065421544915981},{"table":"employee_benefits","fused":0.8314440780203399,"table_sim":0.7033203083522601,"col_score":1.0236297325224597},{"table":"employees","fused":0.8142649608838157,"table_sim":0.6573833023433696,"col_score":1.049587448694485},{"table":"project_expenses","fused":0.7924567738409006,"table_sim":0.6668157727165617,"col_score":0.9809182755274091},{"table":"budgets","fused":0.7683422215117777,"table_sim":0.647440451476846,"col_score":0.9496948765641751},{"table":"departments","fused":0.7500404279796021,"table_sim":0.6467717005028588,"col_score":0.904943519194717},{"table":"vendor_invoices","fused":0.37342548209804394,"table_sim":0,"col_score":0.9335637052451098},{"table":"project_budgets","fused":0.3716562199874715,"table_sim":0,"col_score":0.9291405499686787},{"table":"project_resources","fused":0.3424400997116142,"table_sim":0,"col_score":0.8561002492790355},{"table":"employee_training","fused":0.333840466550008,"table_sim":0,"col_score":0.8346011663750199},{"table":"benefit_types","fused":0.26796746957220535,"table_sim":0,"col_score":0.6699186739305134},{"table":"goods_receipts","fused":0.25291738614843207,"table_sim":0,"col_score":0.6322934653710801},{"table":"asset_maintenance","fused":0.25137839544506957,"table_sim":0,"col_score":0.6284459886126739},{"table":"positions","fused":0.24973950749042492,"table_sim":0,"col_score":0.6243487687260623},{"table":"product_suppliers","fused":0.24862521186911263,"table_sim":0,"col_score":0.6215630296727815}],"fk_expansion_candidates":105,"fk_expansion_added":2,"fk_expansion_blocked_count":90,"fk_expansion_blocked":[{"table":"employee_certifications","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"max_tables"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"positions","reason":"already_selected"},{"table":"sales_regions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"already_selected"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"already_selected"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"max_tables"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"max_tables"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"already_selected"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":49,"total_retrieval_latency_ms":56,"sql_generated":"SELECT d.name AS department_name, SUM(es.amount) + COALESCE(SUM(eb.total_amount), 0) AS total_employee_cost FROM departments d LEFT JOIN employees e ON d.department_id = e.department_id GROUP BY d.name;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"es\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Alias 'es' not defined. Possible table: employee_salaries. Define alias in FROM/JOIN clause.","total_latency_ms":2999,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"es\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:48:58.888Z","query_id":"0eb0ebb9-c596-4a01-93c0-03a2a039665a","question":"List all employees in the Sales department","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","departments","employee_salaries","positions","sales_regions","business_units","inventory_adjustments","budgets","project_expenses","asset_transfers","purchase_requisitions","purchase_orders"],"tables_from_table_retrieval":6,"tables_from_column_only":22,"tables_from_fk_expansion":2,"table_scores":[{"table":"departments","similarity":0.7018819264422769},{"table":"departments","similarity":0.7018809856996423},{"table":"departments","similarity":0.7018809856996423},{"table":"employees","similarity":0.6969056798657691},{"table":"employees","similarity":0.6969056798657691},{"table":"employees","similarity":0.6963141569337209},{"table":"positions","similarity":0.6626028150240685},{"table":"positions","similarity":0.6626028150240685},{"table":"positions","similarity":0.6581594168559208},{"table":"employee_salaries","similarity":0.639257259916862},{"table":"employee_salaries","similarity":0.6331504110227327},{"table":"employee_salaries","similarity":0.6331504110227327},{"table":"sales_regions","similarity":0.6312030956746659},{"table":"business_units","similarity":0.6275257997321859},{"table":"business_units","similarity":0.6275257997321859}],"column_hits_per_table":{"employees":12,"departments":6,"positions":1,"goods_receipts":1,"employee_certifications":1,"sales_territories":1,"asset_maintenance":1,"business_units":1,"sales_orders":1,"sales_regions":1,"budgets":2,"employee_salaries":2,"employee_benefits":1,"emergency_contacts":1,"sales_opportunities":1,"purchase_orders":1,"employment_history":1,"warehouses":1,"project_expenses":2,"task_assignments":1,"timesheets":1,"purchase_requisitions":2,"asset_transfers":2,"employee_training":1,"performance_reviews":1,"project_resources":1,"cost_centers":1,"inventory_adjustments":2},"top_columns_per_table":{"employees":[{"column":"department_id","similarity":0.735001357845775},{"column":"is_active","similarity":0.6824266007737122},{"column":"phone","similarity":0.6820773795858707}],"departments":[{"column":"manager_id","similarity":0.7128207565780478},{"column":"department_id","similarity":0.6738854611767785},{"column":"name","similarity":0.6712424359101222}],"positions":[{"column":"department_id","similarity":0.6857971226858616}],"goods_receipts":[{"column":"received_by","similarity":0.6663294574985136}],"employee_certifications":[{"column":"employee_id","similarity":0.6640250010412727}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6613024875559992}],"asset_maintenance":[{"column":"performed_by","similarity":0.6598502094385292}],"business_units":[{"column":"manager_id","similarity":0.6585890351995057}],"sales_orders":[{"column":"sales_rep_id","similarity":0.656355730755163}],"sales_regions":[{"column":"manager_id","similarity":0.651620763380058}],"budgets":[{"column":"department_id","similarity":0.6491888190918373},{"column":"approved_by","similarity":0.6408129025308686}],"employee_salaries":[{"column":"employee_id","similarity":0.6446873957227627},{"column":"approved_by","similarity":0.6412425865510403}],"employee_benefits":[{"column":"employee_id","similarity":0.6443003044498334}],"emergency_contacts":[{"column":"employee_id","similarity":0.6440387734827813}],"sales_opportunities":[{"column":"owner_id","similarity":0.6430794490143532}],"purchase_orders":[{"column":"approved_by","similarity":0.6403338556046323}],"employment_history":[{"column":"employee_id","similarity":0.6402113357955537}],"warehouses":[{"column":"manager_id","similarity":0.640071893991035}],"project_expenses":[{"column":"employee_id","similarity":0.6396257939989354},{"column":"approved_by","similarity":0.6362133375007298}],"task_assignments":[{"column":"employee_id","similarity":0.6378956895245772}],"timesheets":[{"column":"employee_id","similarity":0.6371144466739936}],"purchase_requisitions":[{"column":"department_id","similarity":0.6363011046304633},{"column":"requested_by","similarity":0.6278867865824495}],"asset_transfers":[{"column":"transferred_by","similarity":0.6359325869686036},{"column":"to_employee_id","similarity":0.6349553746224262}],"employee_training":[{"column":"employee_id","similarity":0.6355833505843332}],"performance_reviews":[{"column":"employee_id","similarity":0.63456613058686}],"project_resources":[{"column":"employee_id","similarity":0.6337024295197778}],"cost_centers":[{"column":"department_id","similarity":0.6303629689770469}],"inventory_adjustments":[{"column":"approved_by","similarity":0.629334756944109},{"column":"adjusted_by","similarity":0.6285561154578985}]},"fused_scores":[{"table":"employees","fused":0.8262904239927295,"table_sim":0.6963141569337209,"col_score":1.0212548245812423},{"table":"departments","fused":0.7878762122676308,"table_sim":0.7018809856996423,"col_score":0.9168690521196134},{"table":"employee_salaries","fused":0.7266435166352425,"table_sim":0.6331504110227327,"col_score":0.8668831750540071},{"table":"positions","fused":0.5869188444655937,"table_sim":0.6581594168559208,"col_score":0.48005798588010307},{"table":"sales_regions","fused":0.5611756711512157,"table_sim":0.6312030956746659,"col_score":0.45613453436604057},{"table":"business_units","fused":0.5609204096951732,"table_sim":0.6275257997321859,"col_score":0.46101232463965397},{"table":"inventory_adjustments","fused":0.3774451258692233,"table_sim":0,"col_score":0.9436128146730582},{"table":"budgets","fused":0.3472115956852047,"table_sim":0,"col_score":0.8680289892130117},{"table":"project_expenses","fused":0.3440329461601429,"table_sim":0,"col_score":0.8600823654003572},{"table":"asset_transfers","fused":0.34326678723458115,"table_sim":0,"col_score":0.8581669680864528},{"table":"purchase_requisitions","fused":0.3402368692812447,"table_sim":0,"col_score":0.8505921732031116},{"table":"goods_receipts","fused":0.26653178299940544,"table_sim":0,"col_score":0.6663294574985136},{"table":"asset_maintenance","fused":0.2639400837754117,"table_sim":0,"col_score":0.6598502094385292},{"table":"purchase_orders","fused":0.2561335422418529,"table_sim":0,"col_score":0.6403338556046323},{"table":"employee_certifications","fused":0.18592700029155637,"table_sim":0,"col_score":0.4648175007288909}],"fk_expansion_candidates":93,"fk_expansion_added":2,"fk_expansion_blocked_count":81,"fk_expansion_blocked":[{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":1045,"total_retrieval_latency_ms":1074,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":6689,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T21:49:05.577Z","query_id":"3a9409c0-3069-49bd-babd-aaf11c81176a","question":"How many employees were hired in 2024?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","employee_salaries","employment_history","employee_certifications","timesheets","purchase_requisitions","sales_regions","employee_training","employee_benefits","budgets","purchase_orders"],"tables_from_table_retrieval":7,"tables_from_column_only":11,"tables_from_fk_expansion":1,"table_scores":[{"table":"employees","similarity":0.6144292223525214},{"table":"employees","similarity":0.6051164949883834},{"table":"employees","similarity":0.6051164949883834},{"table":"employment_history","similarity":0.5990869260811272},{"table":"employee_salaries","similarity":0.5957232611905978},{"table":"employee_salaries","similarity":0.5904865404348112},{"table":"employee_salaries","similarity":0.5904865404348112},{"table":"employee_certifications","similarity":0.5847149077570227},{"table":"employment_history","similarity":0.5797780797563227},{"table":"employment_history","similarity":0.5797780797563227},{"table":"timesheets","similarity":0.575594643141534},{"table":"employee_certifications","similarity":0.5707873299156627},{"table":"employee_certifications","similarity":0.5707873299156627},{"table":"sales_regions","similarity":0.5687908420029388},{"table":"purchase_requisitions","similarity":0.5664402915390976}],"column_hits_per_table":{"employees":15,"employee_salaries":5,"employee_certifications":4,"employment_history":6,"employee_training":5,"employee_benefits":2,"sales_regions":1,"timesheets":2,"sales_territories":1,"stock_transfers":1,"purchase_requisitions":1,"departments":1,"budgets":1,"business_units":1,"purchase_orders":1,"warehouses":1,"sales_quotes":1,"task_assignments":1},"top_columns_per_table":{"employees":[{"column":"hire_date","similarity":0.6980546950586765},{"column":"birth_date","similarity":0.6452273174827853},{"column":"employee_number","similarity":0.6269481438884994}],"employee_salaries":[{"column":"effective_date","similarity":0.6283609386062775},{"column":"end_date","similarity":0.6083160129025792},{"column":"approved_by","similarity":0.5688287621893034}],"employee_certifications":[{"column":"obtained_date","similarity":0.6112747812345073},{"column":"expiry_date","similarity":0.5987411982779576},{"column":"certificate_number","similarity":0.5648835141060903}],"employment_history":[{"column":"start_date","similarity":0.6077686915830489},{"column":"end_date","similarity":0.594029514188949},{"column":"position","similarity":0.5797629516147992}],"employee_training":[{"column":"completion_date","similarity":0.5993457235478621},{"column":"scheduled_date","similarity":0.5986570544817782},{"column":"status","similarity":0.5703874888669422}],"employee_benefits":[{"column":"start_date","similarity":0.5984117020896914},{"column":"end_date","similarity":0.5728619821736786}],"sales_regions":[{"column":"manager_id","similarity":0.566199362048764}],"timesheets":[{"column":"approved_by","similarity":0.5644583860713249},{"column":"employee_id","similarity":0.5477605761420901}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.5605386386424432}],"stock_transfers":[{"column":"created_by","similarity":0.5581236941064073}],"purchase_requisitions":[{"column":"approved_by","similarity":0.5579497247157277}],"departments":[{"column":"manager_id","similarity":0.5578824438248059}],"budgets":[{"column":"approved_by","similarity":0.5567179667007113}],"business_units":[{"column":"manager_id","similarity":0.5534149159450399}],"purchase_orders":[{"column":"approved_by","similarity":0.5491015848221577}],"warehouses":[{"column":"manager_id","similarity":0.5466175241906261}],"sales_quotes":[{"column":"created_by","similarity":0.5464636248275542}],"task_assignments":[{"column":"employee_id","similarity":0.5462303463892537}]},"fused_scores":[{"table":"employees","fused":0.7713372385130577,"table_sim":0.6051164949883834,"col_score":1.0206683538000692},{"table":"employee_salaries","fused":0.7272995022839135,"table_sim":0.5904865404348112,"col_score":0.932518945057567},{"table":"employment_history","fused":0.7097802273248031,"table_sim":0.5797780797563227,"col_score":0.9047834486775235},{"table":"employee_certifications","fused":0.706730550098792,"table_sim":0.5707873299156627,"col_score":0.9106453803734861},{"table":"timesheets","fused":0.647826620973343,"table_sim":0.575594643141534,"col_score":0.7561745877210564},{"table":"purchase_requisitions","fused":0.5630440648097497,"table_sim":0.5664402915390976,"col_score":0.5579497247157277},{"table":"sales_regions","fused":0.4998103265754172,"table_sim":0.5687908420029388,"col_score":0.39633955343413474},{"table":"employee_training","fused":0.3594697003155005,"table_sim":0,"col_score":0.8986742507887512},{"table":"employee_benefits","fused":0.3539370772706123,"table_sim":0,"col_score":0.8848426931765307},{"table":"budgets","fused":0.22268718668028453,"table_sim":0,"col_score":0.5567179667007113},{"table":"purchase_orders","fused":0.21964063392886307,"table_sim":0,"col_score":0.5491015848221577},{"table":"sales_territories","fused":0.15695081881988412,"table_sim":0,"col_score":0.39237704704971027},{"table":"stock_transfers","fused":0.15627463434979405,"table_sim":0,"col_score":0.39068658587448507},{"table":"departments","fused":0.15620708427094565,"table_sim":0,"col_score":0.3905177106773641},{"table":"business_units","fused":0.15495617646461116,"table_sim":0,"col_score":0.3873904411615279}],"fk_expansion_candidates":99,"fk_expansion_added":1,"fk_expansion_blocked_count":96,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":34,"total_retrieval_latency_ms":42,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":309,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:05.887Z","query_id":"88570498-5562-4685-8b6a-48525981217d","question":"What is the average salary by department?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["positions","employee_salaries","employees","departments","budgets","cost_centers","requisition_lines","sales_orders","goods_receipts","vendor_invoices","employee_training","employee_certifications"],"tables_from_table_retrieval":6,"tables_from_column_only":18,"tables_from_fk_expansion":2,"table_scores":[{"table":"positions","similarity":0.6472399264470684},{"table":"positions","similarity":0.6452537561635636},{"table":"positions","similarity":0.6452537561635636},{"table":"employee_salaries","similarity":0.6285395131693224},{"table":"employee_salaries","similarity":0.6285395131693224},{"table":"employee_salaries","similarity":0.6163489777991259},{"table":"departments","similarity":0.6143006157633061},{"table":"departments","similarity":0.6029940665123251},{"table":"departments","similarity":0.6029940665123251},{"table":"employees","similarity":0.5843710762372889},{"table":"employees","similarity":0.5671015993256167},{"table":"employees","similarity":0.5671015993256167},{"table":"cost_centers","similarity":0.5579264629700211},{"table":"budgets","similarity":0.5571964787833181},{"table":"cost_centers","similarity":0.5368058805619271}],"column_hits_per_table":{"employees":8,"departments":6,"employee_salaries":7,"positions":4,"cost_centers":1,"budgets":2,"employee_benefits":1,"requisition_lines":2,"purchase_requisitions":1,"project_resources":1,"sales_orders":2,"employment_history":1,"project_budgets":1,"goods_receipts":2,"currencies":1,"employee_certifications":1,"vendor_invoices":2,"employee_training":1,"journal_entries":1,"product_suppliers":1,"project_expenses":1,"sales_quotes":1,"depreciation_schedules":1,"sales_territories":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.665761067669807},{"column":"department_id","similarity":0.5815151415615687},{"column":"employee_number","similarity":0.5512734022930011}],"departments":[{"column":"budget","similarity":0.6619984421106927},{"column":"name","similarity":0.6123868694663578},{"column":"parent_department_id","similarity":0.5859717891490452}],"employee_salaries":[{"column":"amount","similarity":0.6500990551890313},{"column":"effective_date","similarity":0.611770947186606},{"column":"salary_id","similarity":0.5985853421960141}],"positions":[{"column":"department_id","similarity":0.6269881859529215},{"column":"max_salary","similarity":0.6246839022090498},{"column":"min_salary","similarity":0.6230151577349895}],"cost_centers":[{"column":"department_id","similarity":0.5896621626840974}],"budgets":[{"column":"department_id","similarity":0.580591842420962},{"column":"total_amount","similarity":0.5338274885049906}],"employee_benefits":[{"column":"coverage_level","similarity":0.5654079472210596}],"requisition_lines":[{"column":"estimated_total","similarity":0.5582588991716904},{"column":"estimated_unit_cost","similarity":0.5441338218091372}],"purchase_requisitions":[{"column":"department_id","similarity":0.5572144875437345}],"project_resources":[{"column":"hourly_rate","similarity":0.5514441085734471}],"sales_orders":[{"column":"total","similarity":0.5427163382142084},{"column":"subtotal","similarity":0.5223697723709152}],"employment_history":[{"column":"position","similarity":0.5420691639730986}],"project_budgets":[{"column":"actual_amount","similarity":0.5393341879647957}],"goods_receipts":[{"column":"received_by","similarity":0.5349267147302068},{"column":"receipt_number","similarity":0.5279798899236793}],"currencies":[{"column":"exchange_rate","similarity":0.5332608603311223}],"employee_certifications":[{"column":"certificate_number","similarity":0.5305395669595222}],"vendor_invoices":[{"column":"amount_paid","similarity":0.5304764397719846},{"column":"total","similarity":0.5272326757338365}],"employee_training":[{"column":"score","similarity":0.530103302594991}],"journal_entries":[{"column":"posted_by","similarity":0.5291393373857585}],"product_suppliers":[{"column":"unit_cost","similarity":0.52770578346072}],"project_expenses":[{"column":"amount","similarity":0.5237759228326622}],"sales_quotes":[{"column":"total","similarity":0.5219832277482833}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.5219116192563482}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.5218538792844735}]},"fused_scores":[{"table":"positions","fused":0.761628846128756,"table_sim":0.6452537561635636,"col_score":0.9361914810765446},{"table":"employee_salaries","fused":0.7522031981924093,"table_sim":0.6163489777991259,"col_score":0.9559845287823343},{"table":"employees","fused":0.7168200671218931,"table_sim":0.5671015993256167,"col_score":0.9413977688163075},{"table":"departments","fused":0.7123299784769622,"table_sim":0.6029940665123251,"col_score":0.8763338464239179},{"table":"budgets","fused":0.6291317406109218,"table_sim":0.5571964787833181,"col_score":0.7370346333523273},{"table":"cost_centers","fused":0.48718893388870355,"table_sim":0.5368058805619271,"col_score":0.41276351387886817},{"table":"requisition_lines","fused":0.3321303240305036,"table_sim":0,"col_score":0.8303258100762589},{"table":"sales_orders","fused":0.3215604897598664,"table_sim":0,"col_score":0.8039012243996659},{"table":"goods_receipts","fused":0.31956666387681865,"table_sim":0,"col_score":0.7989166596920465},{"table":"vendor_invoices","fused":0.28515977186161245,"table_sim":0,"col_score":0.7128994296540311},{"table":"employee_benefits","fused":0.22616317888842385,"table_sim":0,"col_score":0.5654079472210596},{"table":"project_resources","fused":0.22057764342937883,"table_sim":0,"col_score":0.5514441085734471},{"table":"employment_history","fused":0.21682766558923944,"table_sim":0,"col_score":0.5420691639730986},{"table":"project_budgets","fused":0.2157336751859183,"table_sim":0,"col_score":0.5393341879647957},{"table":"currencies","fused":0.21330434413244892,"table_sim":0,"col_score":0.5332608603311223}],"fk_expansion_candidates":114,"fk_expansion_added":2,"fk_expansion_blocked_count":93,"fk_expansion_blocked":[{"table":"employment_history","reason":"max_tables"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"employment_history","reason":"max_tables"},{"table":"products","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"max_tables"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"max_tables"},{"table":"order_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"project_resources","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"max_tables"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"employee_certifications","reason":"already_selected"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"project_expenses","reason":"max_tables"},{"table":"employee_training","reason":"already_selected"},{"table":"employee_certifications","reason":"already_selected"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"max_tables"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"max_tables"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":60,"total_retrieval_latency_ms":68,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":353,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:06.240Z","query_id":"30477f0e-6887-4020-9eff-8b54a7ae720b","question":"List all customers with credit limit over $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["customers","customer_contacts","purchase_requisitions","sales_quotes","certifications","budget_lines","sales_regions","bank_transactions","bank_accounts","purchase_orders","budgets","quote_lines"],"tables_from_table_retrieval":7,"tables_from_column_only":22,"tables_from_fk_expansion":2,"table_scores":[{"table":"customers","similarity":0.6490529391143375},{"table":"customers","similarity":0.6490529391143375},{"table":"customers","similarity":0.6422232823454113},{"table":"customer_contacts","similarity":0.5702946339617082},{"table":"sales_regions","similarity":0.5667997703273866},{"table":"customer_contacts","similarity":0.5609682931182661},{"table":"customer_contacts","similarity":0.5609682931182661},{"table":"certifications","similarity":0.5571072107976042},{"table":"sales_quotes","similarity":0.5491541498727729},{"table":"purchase_requisitions","similarity":0.5478589409950445},{"table":"purchase_requisitions","similarity":0.5459857460749011},{"table":"purchase_requisitions","similarity":0.5459857460749011},{"table":"budget_lines","similarity":0.5454449382794198},{"table":"sales_regions","similarity":0.5450307067379918},{"table":"sales_regions","similarity":0.5450307067379918}],"column_hits_per_table":{"customers":10,"customer_contacts":7,"projects":1,"sales_opportunities":1,"reorder_rules":1,"sales_quotes":2,"quote_lines":1,"bank_transactions":2,"sales_orders":2,"vendor_invoices":1,"budget_lines":1,"bank_accounts":2,"budgets":1,"positions":1,"purchase_orders":2,"certifications":1,"order_lines":1,"vendor_invoice_lines":1,"journal_lines":1,"warehouse_locations":1,"cost_centers":1,"purchase_requisitions":2,"project_expenses":1,"project_milestones":1,"requisition_lines":1,"po_lines":1,"sales_regions":1,"project_budgets":1,"vendors":1},"top_columns_per_table":{"customers":[{"column":"credit_limit","similarity":0.8264130571427136},{"column":"payment_terms","similarity":0.6589990489867001},{"column":"customer_number","similarity":0.6394526735948951}],"customer_contacts":[{"column":"phone","similarity":0.606368805831685},{"column":"title","similarity":0.5970373914759594},{"column":"customer_id","similarity":0.5956864569852515}],"projects":[{"column":"customer_id","similarity":0.5928916239987955}],"sales_opportunities":[{"column":"customer_id","similarity":0.5902627586172409}],"reorder_rules":[{"column":"max_quantity","similarity":0.5899919735657247}],"sales_quotes":[{"column":"customer_id","similarity":0.5891584566690409},{"column":"total","similarity":0.5586703861991749}],"quote_lines":[{"column":"line_total","similarity":0.5801866487795829}],"bank_transactions":[{"column":"amount","similarity":0.578099883266191},{"column":"reference","similarity":0.5598602335402326}],"sales_orders":[{"column":"customer_id","similarity":0.5763949820310496},{"column":"total","similarity":0.5622977399772391}],"vendor_invoices":[{"column":"total","similarity":0.574486333008983}],"budget_lines":[{"column":"amount","similarity":0.5741121544432773}],"bank_accounts":[{"column":"current_balance","similarity":0.5735872293568434},{"column":"account_number","similarity":0.5649953609091014}],"budgets":[{"column":"approved_by","similarity":0.5731556505145398}],"positions":[{"column":"max_salary","similarity":0.5725523876248747}],"purchase_orders":[{"column":"total","similarity":0.5714278025144766},{"column":"approved_by","similarity":0.5659425523622221}],"certifications":[{"column":"validity_years","similarity":0.5702505536109264}],"order_lines":[{"column":"line_total","similarity":0.5698151919963369}],"vendor_invoice_lines":[{"column":"amount","similarity":0.5693578249080868}],"journal_lines":[{"column":"credit","similarity":0.5674218657230614}],"warehouse_locations":[{"column":"capacity","similarity":0.5662115513809343}],"cost_centers":[{"column":"code","similarity":0.5650327130492546}],"purchase_requisitions":[{"column":"approved_by","similarity":0.5649975444535725},{"column":"requisition_number","similarity":0.5569267046602896}],"project_expenses":[{"column":"approved_by","similarity":0.5647321953724768}],"project_milestones":[{"column":"amount","similarity":0.5630219436026808}],"requisition_lines":[{"column":"estimated_total","similarity":0.5598201507599695}],"po_lines":[{"column":"line_total","similarity":0.5594451313327365}],"sales_regions":[{"column":"manager_id","similarity":0.5580159655063975}],"project_budgets":[{"column":"actual_amount","similarity":0.5578517497187595}],"vendors":[{"column":"payment_terms","similarity":0.557438207097068}]},"fused_scores":[{"table":"customers","fused":0.8476990020616721,"table_sim":0.6422232823454113,"col_score":1.1559125816360636},{"table":"customer_contacts","fused":0.6985359764988255,"table_sim":0.5609682931182661,"col_score":0.9048875015696647},{"table":"purchase_requisitions","fused":0.6649758063584277,"table_sim":0.5459857460749011,"col_score":0.8434608967837174},{"table":"sales_quotes","fused":0.6354428283369994,"table_sim":0.5491541498727729,"col_score":0.7648758460333391},{"table":"certifications","fused":0.562364547922933,"table_sim":0.5571072107976042,"col_score":0.5702505536109264},{"table":"budget_lines","fused":0.5569118247449628,"table_sim":0.5454449382794198,"col_score":0.5741121544432773},{"table":"sales_regions","fused":0.48326289438458636,"table_sim":0.5450307067379918,"col_score":0.39061117585447824},{"table":"bank_transactions","fused":0.3432120000145229,"table_sim":0,"col_score":0.8580300000363072},{"table":"bank_accounts","fused":0.34243396392455766,"table_sim":0,"col_score":0.8560849098113941},{"table":"purchase_orders","fused":0.34175963147823507,"table_sim":0,"col_score":0.8543990786955876},{"table":"sales_orders","fused":0.3056143934752426,"table_sim":0,"col_score":0.7640359836881064},{"table":"reorder_rules","fused":0.2359967894262899,"table_sim":0,"col_score":0.5899919735657247},{"table":"quote_lines","fused":0.23207465951183318,"table_sim":0,"col_score":0.5801866487795829},{"table":"vendor_invoices","fused":0.22979453320359322,"table_sim":0,"col_score":0.574486333008983},{"table":"budgets","fused":0.22926226020581592,"table_sim":0,"col_score":0.5731556505145398}],"fk_expansion_candidates":57,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"budgets","reason":"already_selected"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"quote_lines","reason":"already_selected"},{"table":"quote_lines","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_orders","reason":"max_tables"},{"table":"sales_orders","reason":"max_tables"},{"table":"sales_orders","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":39,"total_retrieval_latency_ms":46,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":337,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:06.577Z","query_id":"430d6c6f-de16-4d11-aae3-3627eb50d18e","question":"How many sales orders are in pending status?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_orders","purchase_orders","sales_opportunities","order_lines","vendor_invoices","goods_receipts","sales_quotes","fixed_assets","product_suppliers","purchase_requisitions"],"tables_from_table_retrieval":6,"tables_from_column_only":17,"tables_from_fk_expansion":0,"table_scores":[{"table":"sales_orders","similarity":0.6912680172561704},{"table":"sales_orders","similarity":0.6912680172561704},{"table":"sales_orders","similarity":0.6863020331203206},{"table":"purchase_orders","similarity":0.6720782086239174},{"table":"purchase_orders","similarity":0.671648599917699},{"table":"purchase_orders","similarity":0.671648599917699},{"table":"order_lines","similarity":0.6262436019663461},{"table":"order_lines","similarity":0.6262436019663461},{"table":"order_lines","similarity":0.620432904007153},{"table":"sales_opportunities","similarity":0.6139945509337431},{"table":"sales_opportunities","similarity":0.6139945509337431},{"table":"vendor_invoices","similarity":0.6085185379492049},{"table":"goods_receipts","similarity":0.6053687360586439},{"table":"sales_opportunities","similarity":0.601388904869088},{"table":"vendor_invoices","similarity":0.5991801878593713}],"column_hits_per_table":{"sales_orders":13,"purchase_orders":10,"sales_quotes":2,"vendor_invoices":3,"purchase_requisitions":1,"stock_transfers":1,"timesheets":1,"sales_opportunities":2,"leave_requests":1,"project_phases":1,"journal_entries":1,"projects":1,"inventory_adjustments":1,"order_lines":2,"asset_maintenance":1,"fixed_assets":2,"employee_training":1,"goods_receipts":1,"project_expenses":1,"project_tasks":1,"po_lines":1,"vendors":1,"product_suppliers":1},"top_columns_per_table":{"sales_orders":[{"column":"status","similarity":0.8125049395316426},{"column":"order_date","similarity":0.6991484254489689},{"column":"ship_date","similarity":0.6886132471169295}],"purchase_orders":[{"column":"status","similarity":0.7670301060080371},{"column":"po_number","similarity":0.6444732305183548},{"column":"order_date","similarity":0.642184556061974}],"sales_quotes":[{"column":"status","similarity":0.7069048526459094},{"column":"valid_until","similarity":0.5929304827772888}],"vendor_invoices":[{"column":"status","similarity":0.6889977754690522},{"column":"po_id","similarity":0.5964353910929457},{"column":"due_date","similarity":0.5954346294411716}],"purchase_requisitions":[{"column":"status","similarity":0.6807720764825977}],"stock_transfers":[{"column":"status","similarity":0.6558342866682164}],"timesheets":[{"column":"status","similarity":0.6365165724449758}],"sales_opportunities":[{"column":"expected_close_date","similarity":0.6279055578746939},{"column":"actual_close_date","similarity":0.6251199223215209}],"leave_requests":[{"column":"status","similarity":0.6264128005664035}],"project_phases":[{"column":"status","similarity":0.6226177091436476}],"journal_entries":[{"column":"status","similarity":0.6141546900695833}],"projects":[{"column":"status","similarity":0.6138551966717181}],"inventory_adjustments":[{"column":"status","similarity":0.6120310910949274}],"order_lines":[{"column":"quantity_shipped","similarity":0.6088823006735591},{"column":"order_id","similarity":0.5974249918500518}],"asset_maintenance":[{"column":"status","similarity":0.6074441869634195}],"fixed_assets":[{"column":"status","similarity":0.6064051928483505},{"column":"po_id","similarity":0.5944902489845791}],"employee_training":[{"column":"status","similarity":0.6031990688486019}],"goods_receipts":[{"column":"po_id","similarity":0.599781547117576}],"project_expenses":[{"column":"status","similarity":0.5986821650659566}],"project_tasks":[{"column":"status","similarity":0.5978682233232903}],"po_lines":[{"column":"po_id","similarity":0.5909874685299387}],"vendors":[{"column":"is_active","similarity":0.589527003021394}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.5886391733536503}]},"fused_scores":[{"table":"sales_orders","fused":0.8291632394751658,"table_sim":0.6863020331203206,"col_score":1.0434550490074337},{"table":"purchase_orders","fused":0.7892153633703561,"table_sim":0.671648599917699,"col_score":0.9655655085493418},{"table":"sales_opportunities","fused":0.7370195505356345,"table_sim":0.601388904869088,"col_score":0.9404655190354544},{"table":"order_lines","fused":0.6994521615327227,"table_sim":0.620432904007153,"col_score":0.8179810478210772},{"table":"vendor_invoices","fused":0.6941416530577588,"table_sim":0.5991801878593713,"col_score":0.8365838508553399},{"table":"goods_receipts","fused":0.5311600748281077,"table_sim":0.6053687360586439,"col_score":0.4198470829823032},{"table":"sales_quotes","fused":0.33613887248134283,"table_sim":0,"col_score":0.840347181203357},{"table":"fixed_assets","fused":0.25302208885537925,"table_sim":0,"col_score":0.6325552221384481},{"table":"product_suppliers","fused":0.23545566934146014,"table_sim":0,"col_score":0.5886391733536503},{"table":"purchase_requisitions","fused":0.19061618141512737,"table_sim":0,"col_score":0.4765404535378184},{"table":"stock_transfers","fused":0.1836336002671006,"table_sim":0,"col_score":0.45908400066775146},{"table":"timesheets","fused":0.17822464028459323,"table_sim":0,"col_score":0.44556160071148304},{"table":"leave_requests","fused":0.17539558415859297,"table_sim":0,"col_score":0.4384889603964824},{"table":"project_phases","fused":0.17433295856022132,"table_sim":0,"col_score":0.43583239640055327},{"table":"journal_entries","fused":0.17196331321948333,"table_sim":0,"col_score":0.4299082830487083}],"fk_expansion_candidates":57,"fk_expansion_added":0,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":29,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":285,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:06.862Z","query_id":"dc547a4c-7140-47e9-aad2-d1da349d4f83","question":"List all products in the Electronics category","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["products","asset_categories","product_categories","product_suppliers","inventory_levels","inventory_transactions","purchase_orders","benefit_types","project_budgets","project_expenses","purchase_requisitions"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":1,"table_scores":[{"table":"product_categories","similarity":0.7440966262295596},{"table":"product_categories","similarity":0.7440966262295596},{"table":"product_categories","similarity":0.7247710633179223},{"table":"products","similarity":0.6936914033913907},{"table":"products","similarity":0.6936914033913907},{"table":"products","similarity":0.6925442846427379},{"table":"asset_categories","similarity":0.675092849342745},{"table":"asset_categories","similarity":0.675092849342745},{"table":"asset_categories","similarity":0.6732299389573608},{"table":"product_suppliers","similarity":0.6167763468166113},{"table":"product_suppliers","similarity":0.6167763468166113},{"table":"product_suppliers","similarity":0.6030261734368682},{"table":"inventory_levels","similarity":0.5983462217768915},{"table":"benefit_types","similarity":0.5912987652121153},{"table":"benefit_types","similarity":0.5912987652121153}],"column_hits_per_table":{"product_categories":5,"products":11,"asset_categories":5,"fixed_assets":1,"project_budgets":1,"project_expenses":1,"product_suppliers":5,"inventory_levels":3,"goods_receipts":1,"purchase_orders":3,"projects":1,"inventory_transactions":4,"receipt_lines":1,"purchase_requisitions":2,"sales_orders":1,"order_lines":1,"account_types":1,"po_lines":1,"transfer_lines":1,"requisition_lines":1},"top_columns_per_table":{"product_categories":[{"column":"description","similarity":0.768646064681113},{"column":"is_active","similarity":0.7548223288686364},{"column":"name","similarity":0.7489199069567996}],"products":[{"column":"description","similarity":0.7240057799645775},{"column":"category_id","similarity":0.7136649617093936},{"column":"weight","similarity":0.704192443561975}],"asset_categories":[{"column":"category_id","similarity":0.6604362615120926},{"column":"name","similarity":0.6520432448665474},{"column":"useful_life_years","similarity":0.6398787756615528}],"fixed_assets":[{"column":"category_id","similarity":0.6558423387788446}],"project_budgets":[{"column":"category","similarity":0.6525796799281143}],"project_expenses":[{"column":"category","similarity":0.651685931963324}],"product_suppliers":[{"column":"is_preferred","similarity":0.6277409629474681},{"column":"minimum_order_qty","similarity":0.6258886931415574},{"column":"product_id","similarity":0.6174175455514888}],"inventory_levels":[{"column":"product_id","similarity":0.621493522445592},{"column":"quantity_available","similarity":0.6048918603546654},{"column":"quantity_reserved","similarity":0.5998511349920754}],"goods_receipts":[{"column":"notes","similarity":0.6198539940312029}],"purchase_orders":[{"column":"status","similarity":0.6188603430058831},{"column":"subtotal","similarity":0.6038932710888189},{"column":"total","similarity":0.6013038985767659}],"projects":[{"column":"description","similarity":0.6151455561431391}],"inventory_transactions":[{"column":"transaction_type","similarity":0.6146449355403084},{"column":"product_id","similarity":0.608914428966703},{"column":"quantity","similarity":0.6047816235748863}],"receipt_lines":[{"column":"product_id","similarity":0.6133835901571644}],"purchase_requisitions":[{"column":"notes","similarity":0.6125383879595175},{"column":"status","similarity":0.6080888182045856}],"sales_orders":[{"column":"status","similarity":0.6123902626754091}],"order_lines":[{"column":"product_id","similarity":0.610487520300843}],"account_types":[{"column":"category","similarity":0.609393081886742}],"po_lines":[{"column":"product_id","similarity":0.60542865156565}],"transfer_lines":[{"column":"product_id","similarity":0.6047891394005516}],"requisition_lines":[{"column":"product_id","similarity":0.6021201253496539}]},"fused_scores":[{"table":"products","fused":0.8343480462306,"table_sim":0.6925442846427379,"col_score":1.0470536886123931},{"table":"asset_categories","fused":0.7867425373127976,"table_sim":0.6732299389573608,"col_score":0.9570114348459529},{"table":"product_categories","fused":0.7557586621430741,"table_sim":0.7247710633179223,"col_score":0.8022400603808018},{"table":"product_suppliers","fused":0.7380898278694197,"table_sim":0.6030261734368682,"col_score":0.9406853095182468},{"table":"inventory_levels","fused":0.7209347042064161,"table_sim":0.5983462217768915,"col_score":0.9048174278507031},{"table":"inventory_transactions","fused":0.3668142989311006,"table_sim":0,"col_score":0.9170357473277515},{"table":"purchase_orders","fused":0.36181808815088073,"table_sim":0,"col_score":0.9045452203772018},{"table":"benefit_types","fused":0.3547792591272692,"table_sim":0.5912987652121153,"col_score":0},{"table":"project_budgets","fused":0.2610318719712457,"table_sim":0,"col_score":0.6525796799281143},{"table":"project_expenses","fused":0.2606743727853296,"table_sim":0,"col_score":0.651685931963324},{"table":"purchase_requisitions","fused":0.2566431831773069,"table_sim":0,"col_score":0.6416079579432672},{"table":"account_types","fused":0.24375723275469682,"table_sim":0,"col_score":0.609393081886742},{"table":"fixed_assets","fused":0.18363585485807649,"table_sim":0,"col_score":0.4590896371451912},{"table":"goods_receipts","fused":0.17355911832873683,"table_sim":0,"col_score":0.433897795821842},{"table":"projects","fused":0.17224075572007896,"table_sim":0,"col_score":0.4306018893001974}],"fk_expansion_candidates":60,"fk_expansion_added":1,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":22,"total_retrieval_latency_ms":30,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":271,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:07.133Z","query_id":"b48271b8-95c1-4a24-8259-c151903ef02e","question":"What are the names of all warehouses?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["warehouse_locations","warehouses","asset_locations","inventory_levels","stock_transfers","product_suppliers","inventory_transactions","vendor_contacts","goods_receipts","receipt_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":24,"tables_from_fk_expansion":0,"table_scores":[{"table":"warehouse_locations","similarity":0.7285498737313786},{"table":"warehouse_locations","similarity":0.7256245774024009},{"table":"warehouse_locations","similarity":0.7256245774024009},{"table":"warehouses","similarity":0.7204359296605657},{"table":"warehouses","similarity":0.7204359296605657},{"table":"warehouses","similarity":0.6792134543197855},{"table":"asset_locations","similarity":0.6061979025779698},{"table":"asset_locations","similarity":0.6061979025779698},{"table":"inventory_levels","similarity":0.6028416640616783},{"table":"stock_transfers","similarity":0.5855227429535015},{"table":"inventory_levels","similarity":0.5815423542782951},{"table":"inventory_levels","similarity":0.5815423542782951},{"table":"asset_locations","similarity":0.5811905860356016},{"table":"stock_transfers","similarity":0.5781619306329983},{"table":"stock_transfers","similarity":0.5781619306329983}],"column_hits_per_table":{"warehouses":6,"warehouse_locations":7,"stock_transfers":2,"goods_receipts":1,"inventory_levels":2,"inventory_transactions":2,"receipt_lines":1,"asset_locations":6,"adjustment_lines":1,"departments":1,"inventory_adjustments":1,"vendors":1,"business_units":1,"cities":1,"cost_centers":1,"reorder_rules":1,"sales_territories":1,"sales_regions":1,"product_categories":1,"products":1,"currencies":1,"units_of_measure":1,"asset_categories":1,"projects":1,"project_phases":1,"vendor_contacts":2,"product_suppliers":2,"states_provinces":1,"budgets":1},"top_columns_per_table":{"warehouses":[{"column":"name","similarity":0.8239837132539246},{"column":"warehouse_id","similarity":0.7389525085782149},{"column":"code","similarity":0.7372924825805767}],"warehouse_locations":[{"column":"bin","similarity":0.7369462714727907},{"column":"rack","similarity":0.7301028923076418},{"column":"aisle","similarity":0.7270563176306292}],"stock_transfers":[{"column":"to_warehouse_id","similarity":0.6201896532931714},{"column":"from_warehouse_id","similarity":0.6108572482417348}],"goods_receipts":[{"column":"warehouse_id","similarity":0.6194093569001528}],"inventory_levels":[{"column":"warehouse_id","similarity":0.6129809657152051},{"column":"location_id","similarity":0.6110605538163267}],"inventory_transactions":[{"column":"location_id","similarity":0.6117765492932795},{"column":"warehouse_id","similarity":0.6045036778290787}],"receipt_lines":[{"column":"location_id","similarity":0.6044988749396849}],"asset_locations":[{"column":"name","similarity":0.5995259669429954},{"column":"building","similarity":0.5699431267066559},{"column":"description","similarity":0.5635470294472803}],"adjustment_lines":[{"column":"location_id","similarity":0.5925704006095981}],"departments":[{"column":"name","similarity":0.5916804481850862}],"inventory_adjustments":[{"column":"warehouse_id","similarity":0.5911141126040913}],"vendors":[{"column":"name","similarity":0.5896534915318243}],"business_units":[{"column":"name","similarity":0.5874482869568506}],"cities":[{"column":"name","similarity":0.5788506113941311}],"cost_centers":[{"column":"name","similarity":0.57825487466543}],"reorder_rules":[{"column":"warehouse_id","similarity":0.5761515648038772}],"sales_territories":[{"column":"name","similarity":0.5747925339792243}],"sales_regions":[{"column":"name","similarity":0.5726917211289799}],"product_categories":[{"column":"name","similarity":0.5635071676942313}],"products":[{"column":"name","similarity":0.563172892076737}],"currencies":[{"column":"name","similarity":0.5626835257654214}],"units_of_measure":[{"column":"name","similarity":0.5515381017275516}],"asset_categories":[{"column":"name","similarity":0.5512975889483408}],"projects":[{"column":"name","similarity":0.548957856266308}],"project_phases":[{"column":"name","similarity":0.547495677729703}],"vendor_contacts":[{"column":"first_name","similarity":0.5469148670018114},{"column":"last_name","similarity":0.544268531581012}],"product_suppliers":[{"column":"supplier_id","similarity":0.5445688274826966},{"column":"is_preferred","similarity":0.5407228032470287}],"states_provinces":[{"column":"name","similarity":0.5416799146294229}],"budgets":[{"column":"name","similarity":0.5394362709333709}]},"fused_scores":[{"table":"warehouse_locations","fused":0.8761738334920852,"table_sim":0.7256245774024009,"col_score":1.1019977176266116},{"table":"warehouses","fused":0.8178027854796515,"table_sim":0.6792134543197855,"col_score":1.0256867822194502},{"table":"asset_locations","fused":0.6860681088252738,"table_sim":0.5811905860356016,"col_score":0.8433843930097823},{"table":"inventory_levels","fused":0.6061085605015202,"table_sim":0.5815423542782951,"col_score":0.6429578698363578},{"table":"stock_transfers","fused":0.6060702760557298,"table_sim":0.5781619306329983,"col_score":0.6479327941898272},{"table":"product_suppliers","fused":0.292528757146389,"table_sim":0,"col_score":0.7313218928659725},{"table":"inventory_transactions","fused":0.2559279486981893,"table_sim":0,"col_score":0.6398198717454732},{"table":"vendor_contacts","fused":0.22933375718184884,"table_sim":0,"col_score":0.5733343929546221},{"table":"goods_receipts","fused":0.1734346199320428,"table_sim":0,"col_score":0.4335865498301069},{"table":"receipt_lines","fused":0.16925968498311178,"table_sim":0,"col_score":0.4231492124577794},{"table":"adjustment_lines","fused":0.16591971217068746,"table_sim":0,"col_score":0.41479928042671865},{"table":"departments","fused":0.16567052549182415,"table_sim":0,"col_score":0.4141763137295604},{"table":"inventory_adjustments","fused":0.16551195152914555,"table_sim":0,"col_score":0.4137798788228639},{"table":"vendors","fused":0.1651029776289108,"table_sim":0,"col_score":0.412757444072277},{"table":"business_units","fused":0.16448552034791816,"table_sim":0,"col_score":0.41121380086979537}],"fk_expansion_candidates":36,"fk_expansion_added":0,"fk_expansion_blocked_count":36,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":21,"total_retrieval_latency_ms":28,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":247,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:07.380Z","query_id":"95946b1e-cddc-47f4-923d-fd4162f9702b","question":"List all active vendors","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["vendors","vendor_contacts","vendor_invoices","product_suppliers","vendor_invoice_lines","purchase_orders","customers","employees","products","warehouses"],"tables_from_table_retrieval":6,"tables_from_column_only":12,"tables_from_fk_expansion":0,"table_scores":[{"table":"vendors","similarity":0.6962726298258062},{"table":"vendors","similarity":0.6962726298258062},{"table":"vendors","similarity":0.6880006513779018},{"table":"vendor_contacts","similarity":0.6580029100551065},{"table":"vendor_contacts","similarity":0.6580029100551065},{"table":"vendor_invoices","similarity":0.6543823921120047},{"table":"vendor_contacts","similarity":0.6543707733450305},{"table":"vendor_invoices","similarity":0.6537617498498873},{"table":"vendor_invoices","similarity":0.6537617498498873},{"table":"product_suppliers","similarity":0.639369742368815},{"table":"product_suppliers","similarity":0.639369742368815},{"table":"product_suppliers","similarity":0.6368613960189783},{"table":"vendor_invoice_lines","similarity":0.6064291468302401},{"table":"vendor_invoice_lines","similarity":0.6064291468302401},{"table":"purchase_orders","similarity":0.6046285681195724}],"column_hits_per_table":{"vendors":12,"vendor_invoices":11,"vendor_contacts":8,"customers":1,"product_suppliers":3,"employees":1,"products":1,"warehouses":1,"fixed_assets":1,"asset_maintenance":1,"purchase_orders":1,"vendor_invoice_lines":3,"positions":1,"business_units":1,"sales_orders":1,"product_categories":1,"bank_accounts":1,"benefit_types":1},"top_columns_per_table":{"vendors":[{"column":"is_active","similarity":0.8082741906985379},{"column":"vendor_id","similarity":0.696608570908196},{"column":"vendor_number","similarity":0.690104216983127}],"vendor_invoices":[{"column":"status","similarity":0.6807922132677474},{"column":"total","similarity":0.655474212549299},{"column":"subtotal","similarity":0.6431967210368317}],"vendor_contacts":[{"column":"is_primary","similarity":0.6594024190023925},{"column":"email","similarity":0.649863249101007},{"column":"vendor_id","similarity":0.6441969797065956}],"customers":[{"column":"is_active","similarity":0.6476421054003765}],"product_suppliers":[{"column":"vendor_id","similarity":0.6444561335438413},{"column":"vendor_sku","similarity":0.621198911356786},{"column":"is_preferred","similarity":0.6007180783650777}],"employees":[{"column":"is_active","similarity":0.6437737649411213}],"products":[{"column":"is_active","similarity":0.6412563586748957}],"warehouses":[{"column":"is_active","similarity":0.6361520848821371}],"fixed_assets":[{"column":"vendor_id","similarity":0.6358205697022895}],"asset_maintenance":[{"column":"vendor_id","similarity":0.6314938869527287}],"purchase_orders":[{"column":"vendor_id","similarity":0.629774324610349}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.618005483305915},{"column":"amount","similarity":0.6046802848122621},{"column":"line_id","similarity":0.6033856438304122}],"positions":[{"column":"is_active","similarity":0.6113698702425924}],"business_units":[{"column":"is_active","similarity":0.6078912202143344}],"sales_orders":[{"column":"status","similarity":0.6008435501749047}],"product_categories":[{"column":"is_active","similarity":0.6002220998224144}],"bank_accounts":[{"column":"is_active","similarity":0.5939215808610938}],"benefit_types":[{"column":"is_active","similarity":0.5936815548559959}]},"fused_scores":[{"table":"vendors","fused":0.8266718004696496,"table_sim":0.6880006513779018,"col_score":1.0346785241072713},{"table":"vendor_contacts","fused":0.7863560814281767,"table_sim":0.6543707733450305,"col_score":0.984334043552896},{"table":"vendor_invoices","fused":0.7830860791370183,"table_sim":0.6537617498498873,"col_score":0.9770725730677149},{"table":"product_suppliers","fused":0.7507400178271169,"table_sim":0.6368613960189783,"col_score":0.9215579505393248},{"table":"vendor_invoice_lines","fused":0.7319957383829625,"table_sim":0.6064291468302401,"col_score":0.920345625712046},{"table":"purchase_orders","fused":0.5391139517626411,"table_sim":0.6046285681195724,"col_score":0.44084202722724425},{"table":"customers","fused":0.18133978951210541,"table_sim":0,"col_score":0.4533494737802635},{"table":"employees","fused":0.18025665418351394,"table_sim":0,"col_score":0.45064163545878483},{"table":"products","fused":0.1795517804289708,"table_sim":0,"col_score":0.448879451072427},{"table":"warehouses","fused":0.1781225837669984,"table_sim":0,"col_score":0.44530645941749597},{"table":"fixed_assets","fused":0.17802975951664105,"table_sim":0,"col_score":0.4450743987916026},{"table":"asset_maintenance","fused":0.17681828834676402,"table_sim":0,"col_score":0.44204572086691},{"table":"positions","fused":0.17118356366792586,"table_sim":0,"col_score":0.42795890916981466},{"table":"business_units","fused":0.17020954166001365,"table_sim":0,"col_score":0.4255238541500341},{"table":"sales_orders","fused":0.1682361940489733,"table_sim":0,"col_score":0.42059048512243324}],"fk_expansion_candidates":144,"fk_expansion_added":0,"fk_expansion_blocked_count":144,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":49,"total_retrieval_latency_ms":56,"sql_generated":"SELECT v.* FROM vendors v WHERE v.is_active = TRUE;","tables_used_in_sql":[],"explain_result":"success","rows_returned":200,"total_latency_ms":414}
{"timestamp":"2026-02-01T21:49:07.794Z","query_id":"6c882c66-e77d-4621-9eb7-071b23fbfe8b","question":"What are the different account types in the chart of accounts?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["account_types","chart_of_accounts","bank_accounts","bank_transactions","asset_categories","benefit_types","journal_lines","inventory_transactions","audit_log","sales_orders","employee_benefits","journal_entries"],"tables_from_table_retrieval":7,"tables_from_column_only":15,"tables_from_fk_expansion":2,"table_scores":[{"table":"chart_of_accounts","similarity":0.819203299985527},{"table":"account_types","similarity":0.7988075557394306},{"table":"account_types","similarity":0.7988075557394306},{"table":"account_types","similarity":0.7962345365841693},{"table":"chart_of_accounts","similarity":0.791340822956156},{"table":"chart_of_accounts","similarity":0.791340822956156},{"table":"bank_accounts","similarity":0.724679255065619},{"table":"bank_accounts","similarity":0.6999646723589786},{"table":"bank_accounts","similarity":0.6999646723589786},{"table":"benefit_types","similarity":0.6283185597811837},{"table":"benefit_types","similarity":0.6283185597811837},{"table":"journal_lines","similarity":0.625444495321535},{"table":"asset_categories","similarity":0.618359452764169},{"table":"benefit_types","similarity":0.6179653147868353},{"table":"bank_transactions","similarity":0.6154557182401941}],"column_hits_per_table":{"chart_of_accounts":8,"account_types":4,"bank_accounts":8,"journal_lines":1,"vendor_invoice_lines":1,"budget_lines":1,"bank_transactions":2,"inventory_transactions":2,"audit_log":2,"benefit_types":5,"asset_categories":3,"document_attachments":1,"sales_orders":2,"employee_benefits":2,"employee_certifications":1,"journal_entries":1,"goods_receipts":1,"maintenance_types":1,"stock_transfers":1,"sales_regions":1,"tax_rates":1,"leave_types":1},"top_columns_per_table":{"chart_of_accounts":[{"column":"account_number","similarity":0.8095156463967756},{"column":"account_type_id","similarity":0.798110199670143},{"column":"name","similarity":0.7773267996543431}],"account_types":[{"column":"category","similarity":0.8061873869514127},{"column":"name","similarity":0.7882152226403916},{"column":"normal_balance","similarity":0.7709865775976293}],"bank_accounts":[{"column":"account_number","similarity":0.7225117774089481},{"column":"gl_account_id","similarity":0.7192196319887921},{"column":"account_name","similarity":0.7058296402253736}],"journal_lines":[{"column":"account_id","similarity":0.701492184125104}],"vendor_invoice_lines":[{"column":"account_id","similarity":0.6899217649690905}],"budget_lines":[{"column":"account_id","similarity":0.6890433704798434}],"bank_transactions":[{"column":"transaction_type","similarity":0.6522339567052419},{"column":"bank_account_id","similarity":0.6000475548322007}],"inventory_transactions":[{"column":"transaction_type","similarity":0.6508100548275718},{"column":"reference_type","similarity":0.618652619489597}],"audit_log":[{"column":"table_name","similarity":0.6299560725437857},{"column":"action","similarity":0.6176881303455621}],"benefit_types":[{"column":"name","similarity":0.6239559576047775},{"column":"benefit_type_id","similarity":0.6003585729270258},{"column":"description","similarity":0.5966507437046684}],"asset_categories":[{"column":"name","similarity":0.6229758631758117},{"column":"depreciation_method","similarity":0.6228780437653545},{"column":"category_id","similarity":0.600618839267168}],"document_attachments":[{"column":"entity_type","similarity":0.6083808106337816}],"sales_orders":[{"column":"order_number","similarity":0.600482029089641},{"column":"status","similarity":0.5849045118154812}],"employee_benefits":[{"column":"benefit_type_id","similarity":0.5984395501956566},{"column":"coverage_level","similarity":0.5909152043760861}],"employee_certifications":[{"column":"certificate_number","similarity":0.5954716152085089}],"journal_entries":[{"column":"entry_number","similarity":0.5900733476704529}],"goods_receipts":[{"column":"receipt_number","similarity":0.5886087045282947}],"maintenance_types":[{"column":"name","similarity":0.5883275771703451}],"stock_transfers":[{"column":"transfer_number","similarity":0.5878568492842889}],"sales_regions":[{"column":"name","similarity":0.5863467044405402}],"tax_rates":[{"column":"tax_type","similarity":0.5861960576726192}],"leave_types":[{"column":"is_paid","similarity":0.5841987409383301}]},"fused_scores":[{"table":"account_types","fused":0.9544129922505925,"table_sim":0.7962345365841693,"col_score":1.1916806757502274},{"table":"chart_of_accounts","fused":0.9103461802862239,"table_sim":0.791340822956156,"col_score":1.0888542162813257},{"table":"bank_accounts","fused":0.8325558126592646,"table_sim":0.6999646723589786,"col_score":1.0314425231096935},{"table":"bank_transactions","fused":0.7141736713027212,"table_sim":0.6154557182401941,"col_score":0.8622506008965121},{"table":"asset_categories","fused":0.7073835100092569,"table_sim":0.618359452764169,"col_score":0.8409195958768886},{"table":"benefit_types","fused":0.6929005069143089,"table_sim":0.6179653147868353,"col_score":0.8053032951055195},{"table":"journal_lines","fused":0.5716845087479501,"table_sim":0.625444495321535,"col_score":0.4910445288875727},{"table":"inventory_transactions","fused":0.38405454582894816,"table_sim":0,"col_score":0.9601363645723704},{"table":"audit_log","fused":0.33526910229435486,"table_sim":0,"col_score":0.8381727557358871},{"table":"sales_orders","fused":0.3220794432900238,"table_sim":0,"col_score":0.8051986082250594},{"table":"employee_benefits","fused":0.3201476187778264,"table_sim":0,"col_score":0.8003690469445659},{"table":"document_attachments","fused":0.24335232425351264,"table_sim":0,"col_score":0.6083808106337816},{"table":"employee_certifications","fused":0.23818864608340357,"table_sim":0,"col_score":0.5954716152085089},{"table":"journal_entries","fused":0.2360293390681812,"table_sim":0,"col_score":0.5900733476704529},{"table":"goods_receipts","fused":0.2354434818113179,"table_sim":0,"col_score":0.5886087045282947}],"fk_expansion_candidates":45,"fk_expansion_added":2,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employee_benefits","reason":"already_selected"},{"table":"employee_benefits","reason":"already_selected"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"already_selected"},{"table":"journal_entries","reason":"already_selected"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":45,"total_retrieval_latency_ms":52,"sql_generated":"SELECT name FROM public.chart_of_accounts LIMIT 1000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":33,"total_latency_ms":770}
{"timestamp":"2026-02-01T21:49:08.564Z","query_id":"2b82a08f-6c48-49c9-994a-672f8915477b","question":"List all bank accounts and their current balances","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["bank_accounts","bank_transactions","account_types","chart_of_accounts","budget_lines","depreciation_entries","budgets","fixed_assets","asset_maintenance","departments","currencies","purchase_orders"],"tables_from_table_retrieval":5,"tables_from_column_only":14,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_accounts","similarity":0.7380467958544561},{"table":"bank_accounts","similarity":0.7380467958544561},{"table":"bank_accounts","similarity":0.7329690151560269},{"table":"bank_transactions","similarity":0.6524691990877824},{"table":"bank_transactions","similarity":0.6524691990877824},{"table":"bank_transactions","similarity":0.6432688918493359},{"table":"account_types","similarity":0.637683130876762},{"table":"account_types","similarity":0.637683130876762},{"table":"account_types","similarity":0.631508179872346},{"table":"chart_of_accounts","similarity":0.6020063005251778},{"table":"chart_of_accounts","similarity":0.5912086370703393},{"table":"chart_of_accounts","similarity":0.5912086370703393},{"table":"budget_lines","similarity":0.5681702031015662},{"table":"budget_lines","similarity":0.5681702031015662},{"table":"budget_lines","similarity":0.5651962639440569}],"column_hits_per_table":{"bank_accounts":8,"account_types":3,"bank_transactions":9,"chart_of_accounts":7,"budget_lines":1,"fixed_assets":3,"asset_maintenance":4,"budgets":2,"departments":1,"stock_transfers":1,"purchase_orders":1,"depreciation_entries":3,"sales_orders":1,"asset_transfers":1,"inventory_adjustments":1,"po_lines":1,"depreciation_schedules":1,"currencies":1,"order_lines":1},"top_columns_per_table":{"bank_accounts":[{"column":"current_balance","similarity":0.8089444456145792},{"column":"account_number","similarity":0.6893990880283144},{"column":"bank_name","similarity":0.6886932207378867}],"account_types":[{"column":"normal_balance","similarity":0.6577826771573285},{"column":"name","similarity":0.576305558574986},{"column":"category","similarity":0.5660103860090229}],"bank_transactions":[{"column":"bank_account_id","similarity":0.6320865570574266},{"column":"amount","similarity":0.622087497357687},{"column":"reconciled","similarity":0.6119209268904576}],"chart_of_accounts":[{"column":"account_number","similarity":0.6021310044416771},{"column":"description","similarity":0.5849860017700876},{"column":"name","similarity":0.5833355191945212}],"budget_lines":[{"column":"account_id","similarity":0.5872059668461254}],"fixed_assets":[{"column":"status","similarity":0.5828378769160532},{"column":"purchase_cost","similarity":0.5582567197440901},{"column":"po_id","similarity":0.5544635441821786}],"asset_maintenance":[{"column":"status","similarity":0.5812112019616437},{"column":"notes","similarity":0.5653592975237859},{"column":"cost","similarity":0.5583403793159406}],"budgets":[{"column":"status","similarity":0.5799927736493256},{"column":"total_amount","similarity":0.579980842065588}],"departments":[{"column":"budget","similarity":0.570906870993348}],"stock_transfers":[{"column":"status","similarity":0.5643478756295153}],"purchase_orders":[{"column":"total","similarity":0.5631649012660114}],"depreciation_entries":[{"column":"accumulated_depreciation","similarity":0.5623941152149342},{"column":"asset_id","similarity":0.5608072311992653},{"column":"amount","similarity":0.5531774591650637}],"sales_orders":[{"column":"total","similarity":0.5608168283032534}],"asset_transfers":[{"column":"asset_id","similarity":0.559768695814554}],"inventory_adjustments":[{"column":"status","similarity":0.5585885430147457}],"po_lines":[{"column":"line_total","similarity":0.5528051580745316}],"depreciation_schedules":[{"column":"asset_id","similarity":0.5500261207297255}],"currencies":[{"column":"code","similarity":0.5464221335552627}],"order_lines":[{"column":"line_total","similarity":0.5449514399298908}]},"fused_scores":[{"table":"bank_accounts","fused":0.9012390049451107,"table_sim":0.7329690151560269,"col_score":1.1536439896287365},{"table":"bank_transactions","fused":0.7571805194307678,"table_sim":0.6432688918493359,"col_score":0.9280479608029157},{"table":"account_types","fused":0.7552200559881436,"table_sim":0.631508179872346,"col_score":0.94078787016184},{"table":"chart_of_accounts","fused":0.6774756242666866,"table_sim":0.5912086370703393,"col_score":0.8068761050612078},{"table":"budget_lines","fused":0.5035354290833491,"table_sim":0.5651962639440569,"col_score":0.4110441767922877},{"table":"depreciation_entries","fused":0.3355931379189865,"table_sim":0,"col_score":0.8389828447974661},{"table":"budgets","fused":0.31319132513714076,"table_sim":0,"col_score":0.7829783128428519},{"table":"fixed_assets","fused":0.30489999066588347,"table_sim":0,"col_score":0.7622499766647086},{"table":"asset_maintenance","fused":0.3047057200010064,"table_sim":0,"col_score":0.7617643000025158},{"table":"departments","fused":0.22836274839733922,"table_sim":0,"col_score":0.570906870993348},{"table":"purchase_orders","fused":0.22526596050640457,"table_sim":0,"col_score":0.5631649012660114},{"table":"sales_orders","fused":0.22432673132130138,"table_sim":0,"col_score":0.5608168283032534},{"table":"po_lines","fused":0.22112206322981265,"table_sim":0,"col_score":0.5528051580745316},{"table":"currencies","fused":0.21856885342210508,"table_sim":0,"col_score":0.5464221335552627},{"table":"order_lines","fused":0.21798057597195633,"table_sim":0,"col_score":0.5449514399298908}],"fk_expansion_candidates":51,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"currencies","reason":"already_selected"},{"table":"currencies","reason":"already_selected"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"purchase_orders","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":19,"total_retrieval_latency_ms":25,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":263,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:08.828Z","query_id":"7aa5aafa-4964-405c-a438-fb9a94a76639","question":"How many projects are currently active?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_tasks","projects","project_phases","project_milestones","project_resources","products","positions","product_categories","project_expenses","employees"],"tables_from_table_retrieval":5,"tables_from_column_only":12,"tables_from_fk_expansion":0,"table_scores":[{"table":"project_tasks","similarity":0.650275467821731},{"table":"project_tasks","similarity":0.650275467821731},{"table":"project_tasks","similarity":0.6324363750327547},{"table":"project_phases","similarity":0.6314559839975916},{"table":"project_phases","similarity":0.6314559839975916},{"table":"projects","similarity":0.6310645209358304},{"table":"projects","similarity":0.6310645209358304},{"table":"project_milestones","similarity":0.6170314556998037},{"table":"project_phases","similarity":0.6128862225489412},{"table":"project_milestones","similarity":0.6077049222719266},{"table":"project_milestones","similarity":0.6077049222719266},{"table":"projects","similarity":0.6020298260872147},{"table":"project_resources","similarity":0.6015867769428557},{"table":"project_resources","similarity":0.5959055344150135},{"table":"project_resources","similarity":0.5959055344150135}],"column_hits_per_table":{"projects":11,"project_tasks":9,"project_phases":8,"project_milestones":8,"products":1,"positions":1,"project_resources":2,"product_categories":1,"project_expenses":1,"employees":1,"training_courses":1,"warehouses":1,"business_units":1,"vendors":1,"cost_centers":1,"customers":1,"fixed_assets":1},"top_columns_per_table":{"projects":[{"column":"status","similarity":0.6952554925044898},{"column":"start_date","similarity":0.6596027658706693},{"column":"actual_end_date","similarity":0.6401830267542961}],"project_tasks":[{"column":"status","similarity":0.6606100908218507},{"column":"completed_date","similarity":0.6368229786219834},{"column":"start_date","similarity":0.6292582567736982}],"project_phases":[{"column":"status","similarity":0.6604885270610856},{"column":"start_date","similarity":0.6275125782071443},{"column":"end_date","similarity":0.6163385340144646}],"project_milestones":[{"column":"completed_date","similarity":0.6338543569092513},{"column":"is_billable","similarity":0.6066078433244196},{"column":"due_date","similarity":0.601484675349934}],"products":[{"column":"is_active","similarity":0.629479953126807}],"positions":[{"column":"is_active","similarity":0.619668256339286}],"project_resources":[{"column":"start_date","similarity":0.6175570072174423},{"column":"end_date","similarity":0.605459362777849}],"product_categories":[{"column":"is_active","similarity":0.6174448230737236}],"project_expenses":[{"column":"status","similarity":0.6174103092825096}],"employees":[{"column":"is_active","similarity":0.6056786473130706}],"training_courses":[{"column":"is_active","similarity":0.5954094641374467}],"warehouses":[{"column":"is_active","similarity":0.5938282349648681}],"business_units":[{"column":"is_active","similarity":0.5882189740487279}],"vendors":[{"column":"is_active","similarity":0.5817936740365313}],"cost_centers":[{"column":"is_active","similarity":0.5775357194130835}],"customers":[{"column":"is_active","similarity":0.5750701102281962}],"fixed_assets":[{"column":"status","similarity":0.5743195300084423}]},"fused_scores":[{"table":"project_tasks","fused":0.7600426678231859,"table_sim":0.6324363750327547,"col_score":0.9514521070088325},{"table":"projects","fused":0.7530956073514559,"table_sim":0.6020298260872147,"col_score":0.9796942792478174},{"table":"project_phases","fused":0.7420044716151154,"table_sim":0.6128862225489412,"col_score":0.9356818452143767},{"table":"project_milestones","fused":0.7394862647917404,"table_sim":0.6077049222719266,"col_score":0.9371582785714612},{"table":"project_resources","fused":0.7256579960915548,"table_sim":0.5959055344150135,"col_score":0.9202866886063668},{"table":"products","fused":0.176254386875506,"table_sim":0,"col_score":0.4406359671887649},{"table":"positions","fused":0.17350711177500008,"table_sim":0,"col_score":0.43376777943750017},{"table":"product_categories","fused":0.1728845504606426,"table_sim":0,"col_score":0.4322113761516065},{"table":"project_expenses","fused":0.1728748865991027,"table_sim":0,"col_score":0.4321872164977567},{"table":"employees","fused":0.16959002124765976,"table_sim":0,"col_score":0.4239750531191494},{"table":"training_courses","fused":0.16671464995848506,"table_sim":0,"col_score":0.41678662489621265},{"table":"warehouses","fused":0.16627190579016307,"table_sim":0,"col_score":0.41567976447540766},{"table":"business_units","fused":0.16470131273364383,"table_sim":0,"col_score":0.41175328183410953},{"table":"vendors","fused":0.16290222873022875,"table_sim":0,"col_score":0.40725557182557187},{"table":"cost_centers","fused":0.1617100014356634,"table_sim":0,"col_score":0.4042750035891584}],"fk_expansion_candidates":135,"fk_expansion_added":0,"fk_expansion_blocked_count":135,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"product_suppliers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"product_suppliers","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"product_suppliers","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":39,"total_retrieval_latency_ms":46,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":277,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:09.105Z","query_id":"71ea06a9-e12c-4c3d-9a99-26520ab6b89e","question":"List all fixed assets with their purchase cost","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["fixed_assets","asset_maintenance","asset_categories","asset_transfers","depreciation_schedules","purchase_orders","products","project_budgets","sales_orders","purchase_requisitions","maintenance_types","projects"],"tables_from_table_retrieval":5,"tables_from_column_only":11,"tables_from_fk_expansion":2,"table_scores":[{"table":"fixed_assets","similarity":0.7343654134072136},{"table":"fixed_assets","similarity":0.7343654134072136},{"table":"fixed_assets","similarity":0.7209497053888301},{"table":"asset_maintenance","similarity":0.6308058404117752},{"table":"asset_maintenance","similarity":0.6179697125570032},{"table":"asset_maintenance","similarity":0.6179697125570032},{"table":"asset_categories","similarity":0.5912281177120349},{"table":"asset_categories","similarity":0.5908629711394363},{"table":"asset_categories","similarity":0.5908629711394363},{"table":"depreciation_schedules","similarity":0.5847667500423093},{"table":"depreciation_schedules","similarity":0.5847667500423093},{"table":"depreciation_schedules","similarity":0.5814813777494169},{"table":"asset_transfers","similarity":0.5814400142884585},{"table":"asset_transfers","similarity":0.5814400142884585},{"table":"asset_transfers","similarity":0.5810308594815269}],"column_hits_per_table":{"fixed_assets":17,"asset_maintenance":8,"asset_transfers":2,"purchase_orders":5,"depreciation_entries":1,"depreciation_schedules":1,"maintenance_types":1,"purchase_requisitions":3,"asset_categories":2,"products":2,"project_expenses":1,"project_budgets":2,"product_suppliers":1,"sales_orders":2,"budgets":1,"projects":1},"top_columns_per_table":{"fixed_assets":[{"column":"purchase_cost","similarity":0.8336730962249834},{"column":"purchase_date","similarity":0.757030591227503},{"column":"disposal_amount","similarity":0.7115957358886795}],"asset_maintenance":[{"column":"cost","similarity":0.7001413961532815},{"column":"asset_id","similarity":0.646620164429287},{"column":"status","similarity":0.623064430931896}],"asset_transfers":[{"column":"asset_id","similarity":0.6507271021855611},{"column":"reason","similarity":0.5954539547440019}],"purchase_orders":[{"column":"total","similarity":0.6201708065577443},{"column":"shipping_cost","similarity":0.6103074039927893},{"column":"subtotal","similarity":0.592057979964163}],"depreciation_entries":[{"column":"asset_id","similarity":0.6167046419250045}],"depreciation_schedules":[{"column":"asset_id","similarity":0.6131913844659764}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6035554909402351}],"purchase_requisitions":[{"column":"status","similarity":0.5957030209752325},{"column":"notes","similarity":0.579593954206422},{"column":"requisition_number","similarity":0.5641816400766758}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.5901071514451579},{"column":"depreciation_method","similarity":0.5734492552613173}],"products":[{"column":"unit_cost","similarity":0.5893978216060566},{"column":"list_price","similarity":0.5715240580401271}],"project_expenses":[{"column":"amount","similarity":0.5714967061817042}],"project_budgets":[{"column":"planned_amount","similarity":0.5691947438967756},{"column":"actual_amount","similarity":0.5658605972140979}],"product_suppliers":[{"column":"unit_cost","similarity":0.5664134865556345}],"sales_orders":[{"column":"total","similarity":0.5647711756811595},{"column":"shipping_cost","similarity":0.5642246655101619}],"budgets":[{"column":"total_amount","similarity":0.5646227718053173}],"projects":[{"column":"budget","similarity":0.5640102092352354}]},"fused_scores":[{"table":"fixed_assets","fused":0.917445179968792,"table_sim":0.7209497053888301,"col_score":1.212188391838735},{"table":"asset_maintenance","fused":0.7733901622742586,"table_sim":0.6179697125570032,"col_score":1.0065208368501417},{"table":"asset_categories","fused":0.7052504943139885,"table_sim":0.5908629711394363,"col_score":0.8768317790758166},{"table":"asset_transfers","fused":0.6779018918924955,"table_sim":0.5810308594815269,"col_score":0.8232084405089483},{"table":"depreciation_schedules","fused":0.5205824143001235,"table_sim":0.5814813777494169,"col_score":0.4292339691261835},{"table":"purchase_orders","fused":0.3701298034216556,"table_sim":0,"col_score":0.9253245085541388},{"table":"products","fused":0.35006394025044807,"table_sim":0,"col_score":0.8751598506261201},{"table":"project_budgets","fused":0.34085001700152984,"table_sim":0,"col_score":0.8521250425038245},{"table":"sales_orders","fused":0.3387534033744962,"table_sim":0,"col_score":0.8468835084362405},{"table":"purchase_requisitions","fused":0.3090710789672029,"table_sim":0,"col_score":0.7726776974180072},{"table":"maintenance_types","fused":0.24142219637609405,"table_sim":0,"col_score":0.6035554909402351},{"table":"project_expenses","fused":0.2285986824726817,"table_sim":0,"col_score":0.5714967061817042},{"table":"product_suppliers","fused":0.2265653946222538,"table_sim":0,"col_score":0.5664134865556345},{"table":"budgets","fused":0.22584910872212693,"table_sim":0,"col_score":0.5646227718053173},{"table":"projects","fused":0.22560408369409415,"table_sim":0,"col_score":0.5640102092352354}],"fk_expansion_candidates":75,"fk_expansion_added":2,"fk_expansion_blocked_count":66,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"product_suppliers","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":19,"total_retrieval_latency_ms":25,"sql_generated":"SELECT f.asset_id, a.asset_tag, a.name, a.description, ac.category_id, a.location_id, a.assigned_to, a.purchase_date, a.purchase_cost FROM fixed_assets f JOIN asset_categories ac ON f.asset_category_id = ac.category_id LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"ac","column":"category_id","resolved_table":"asset_categories","suggested_columns":[]},{"alias":"f","column":"asset_category_id","resolved_table":"fixed_assets","suggested_columns":["asset_id","asset_tag","name"]},{"alias":"ac","column":"category_id","resolved_table":"asset_categories","suggested_columns":[]}],"unresolved_aliases":["a"]},"explain_result":"fail","sqlstate":"42703","error_message":"column f.asset_category_id does not exist","autocorrect_attempted":true,"autocorrect_success":true,"autocorrect_correction":"Replaced 'asset_category_id' with 'category_id' (suffix, score: 0.80)","autocorrect_candidates":1,"total_latency_ms":3510,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column f.asset_category_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:49:12.615Z","query_id":"b0d4759d-7a7a-42ed-9901-7ace815533bd","question":"What are all the available leave types?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["leave_types","leave_requests","maintenance_types","account_types","benefit_types","employment_history","positions","employee_benefits","asset_maintenance","employees","inventory_transactions","sales_opportunities"],"tables_from_table_retrieval":5,"tables_from_column_only":18,"tables_from_fk_expansion":2,"table_scores":[{"table":"leave_types","similarity":0.8153120238871665},{"table":"leave_types","similarity":0.8153120238871665},{"table":"leave_types","similarity":0.7907961003152969},{"table":"leave_requests","similarity":0.7190219066933456},{"table":"leave_requests","similarity":0.7190219066933456},{"table":"leave_requests","similarity":0.7143778015997992},{"table":"maintenance_types","similarity":0.6503054333039201},{"table":"maintenance_types","similarity":0.6503054333039201},{"table":"maintenance_types","similarity":0.6481400096068088},{"table":"benefit_types","similarity":0.6322231020121719},{"table":"benefit_types","similarity":0.6322231020121719},{"table":"benefit_types","similarity":0.6269933285396667},{"table":"account_types","similarity":0.6207464005230485},{"table":"account_types","similarity":0.6207464005230485},{"table":"account_types","similarity":0.6192881819056906}],"column_hits_per_table":{"leave_types":5,"leave_requests":10,"maintenance_types":5,"benefit_types":4,"employment_history":2,"account_types":4,"employee_training":1,"asset_maintenance":2,"employee_benefits":2,"timesheets":1,"sales_orders":1,"positions":2,"employees":1,"fixed_assets":1,"purchase_requisitions":1,"vendor_invoices":1,"chart_of_accounts":1,"inventory_transactions":1,"bank_transactions":1,"stock_transfers":1,"sales_quotes":1,"sales_opportunities":1,"inventory_adjustments":1},"top_columns_per_table":{"leave_types":[{"column":"is_paid","similarity":0.7612464678618273},{"column":"days_allowed","similarity":0.7601500998124394},{"column":"leave_type_id","similarity":0.7404804728319255}],"leave_requests":[{"column":"status","similarity":0.7396795189172545},{"column":"leave_type_id","similarity":0.7183447876062181},{"column":"days_requested","similarity":0.6924150250540297}],"maintenance_types":[{"column":"description","similarity":0.6353856248912257},{"column":"name","similarity":0.6275362006518306},{"column":"type_id","similarity":0.6101423562940161}],"benefit_types":[{"column":"is_active","similarity":0.6202574050902354},{"column":"name","similarity":0.613970586164775},{"column":"description","similarity":0.609536513053858}],"employment_history":[{"column":"reason_for_leaving","similarity":0.6149236134137261},{"column":"position","similarity":0.5557487204215079}],"account_types":[{"column":"normal_balance","similarity":0.608424842651833},{"column":"category","similarity":0.5965050820828129},{"column":"name","similarity":0.5862630113315467}],"employee_training":[{"column":"status","similarity":0.595192045369969}],"asset_maintenance":[{"column":"status","similarity":0.58756583227351},{"column":"maintenance_type_id","similarity":0.5836180049613157}],"employee_benefits":[{"column":"benefit_type_id","similarity":0.5860432161043488},{"column":"end_date","similarity":0.5609092285346757}],"timesheets":[{"column":"status","similarity":0.5817907952742775}],"sales_orders":[{"column":"status","similarity":0.5754670907458482}],"positions":[{"column":"is_active","similarity":0.5753948179884102},{"column":"title","similarity":0.5728139979402822}],"employees":[{"column":"termination_date","similarity":0.570986454201654}],"fixed_assets":[{"column":"status","similarity":0.5698997906492048}],"purchase_requisitions":[{"column":"status","similarity":0.5624648292687259}],"vendor_invoices":[{"column":"status","similarity":0.5603695727011545}],"chart_of_accounts":[{"column":"account_type_id","similarity":0.5595433836798172}],"inventory_transactions":[{"column":"transaction_type","similarity":0.5589784724046583}],"bank_transactions":[{"column":"transaction_type","similarity":0.5583149392151486}],"stock_transfers":[{"column":"status","similarity":0.556932657372917}],"sales_quotes":[{"column":"status","similarity":0.5558161462227229}],"sales_opportunities":[{"column":"source","similarity":0.5553635771952049}],"inventory_adjustments":[{"column":"status","similarity":0.5541098667634835}]},"fused_scores":[{"table":"leave_types","fused":0.92249438434967,"table_sim":0.7907961003152969,"col_score":1.1200418104012295},{"table":"leave_requests","fused":0.8400325985595832,"table_sim":0.7143778015997992,"col_score":1.0285147939992592},{"table":"maintenance_types","fused":0.7441095655709671,"table_sim":0.6481400096068088,"col_score":0.8880638995172044},{"table":"account_types","fused":0.7342438626207102,"table_sim":0.6192881819056906,"col_score":0.9066773836932396},{"table":"benefit_types","fused":0.6358239526121345,"table_sim":0.6269933285396667,"col_score":0.649069888720836},{"table":"employment_history","fused":0.35711918944979204,"table_sim":0,"col_score":0.8927979736244801},{"table":"positions","fused":0.3096808736944903,"table_sim":0,"col_score":0.7742021842362258},{"table":"employee_benefits","fused":0.3064097416684792,"table_sim":0,"col_score":0.7660243541711979},{"table":"asset_maintenance","fused":0.24622495373116698,"table_sim":0,"col_score":0.6155623843279174},{"table":"employees","fused":0.2283945816806616,"table_sim":0,"col_score":0.570986454201654},{"table":"inventory_transactions","fused":0.2235913889618633,"table_sim":0,"col_score":0.5589784724046583},{"table":"bank_transactions","fused":0.22332597568605947,"table_sim":0,"col_score":0.5583149392151486},{"table":"sales_opportunities","fused":0.22214543087808197,"table_sim":0,"col_score":0.5553635771952049},{"table":"employee_training","fused":0.1666537727035913,"table_sim":0,"col_score":0.41663443175897824},{"table":"timesheets","fused":0.1629014226767977,"table_sim":0,"col_score":0.4072535566919942}],"fk_expansion_candidates":96,"fk_expansion_added":2,"fk_expansion_blocked_count":90,"fk_expansion_blocked":[{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":51,"total_retrieval_latency_ms":59,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":289,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:12.904Z","query_id":"38df6d12-c407-43cd-b493-7fe9de244ea0","question":"List all training courses that are mandatory","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["training_courses","employee_training","certifications","employee_certifications","maintenance_types","leave_types","product_suppliers","purchase_requisitions","project_milestones","sales_orders"],"tables_from_table_retrieval":5,"tables_from_column_only":15,"tables_from_fk_expansion":0,"table_scores":[{"table":"training_courses","similarity":0.7873697953142612},{"table":"training_courses","similarity":0.7873697953142612},{"table":"training_courses","similarity":0.7832587829851695},{"table":"employee_training","similarity":0.6622740415541937},{"table":"employee_training","similarity":0.6622740415541937},{"table":"employee_training","similarity":0.6570057454586046},{"table":"certifications","similarity":0.5965030477585557},{"table":"certifications","similarity":0.5965030477585557},{"table":"certifications","similarity":0.5900939338505992},{"table":"employee_certifications","similarity":0.5760162077924663},{"table":"employee_certifications","similarity":0.5662772014922313},{"table":"employee_certifications","similarity":0.5662772014922313},{"table":"maintenance_types","similarity":0.5048094520010439},{"table":"maintenance_types","similarity":0.5048094520010439},{"table":"maintenance_types","similarity":0.49281971341629327}],"column_hits_per_table":{"training_courses":7,"employee_training":7,"certifications":5,"employee_certifications":6,"leave_types":3,"sales_orders":1,"purchase_requisitions":2,"maintenance_types":5,"emergency_contacts":1,"project_milestones":2,"benefit_types":1,"business_units":1,"product_suppliers":2,"units_of_measure":1,"requisition_lines":1,"asset_maintenance":1,"project_resources":1,"project_tasks":1,"vendor_contacts":1,"reorder_rules":1},"top_columns_per_table":{"training_courses":[{"column":"is_mandatory","similarity":0.814547688206976},{"column":"description","similarity":0.7210520541882913},{"column":"is_active","similarity":0.6998661786347449}],"employee_training":[{"column":"course_id","similarity":0.6460785266021282},{"column":"scheduled_date","similarity":0.6379019386890121},{"column":"completion_date","similarity":0.6234909008328433}],"certifications":[{"column":"description","similarity":0.6095125615154784},{"column":"issuing_body","similarity":0.57698393195182},{"column":"validity_years","similarity":0.5591744479508656}],"employee_certifications":[{"column":"certificate_number","similarity":0.5514558044255654},{"column":"certification_id","similarity":0.549379266890378},{"column":"cert_id","similarity":0.5486469080412996}],"leave_types":[{"column":"requires_approval","similarity":0.536554743713736},{"column":"is_paid","similarity":0.5021468966647877},{"column":"days_allowed","similarity":0.4821299724271749}],"sales_orders":[{"column":"required_date","similarity":0.5223999513586965}],"purchase_requisitions":[{"column":"required_date","similarity":0.5174102340873212},{"column":"notes","similarity":0.4846003356482508}],"maintenance_types":[{"column":"description","similarity":0.5119510628120414},{"column":"frequency_months","similarity":0.4922702669089287},{"column":"estimated_cost","similarity":0.48121611757654414}],"emergency_contacts":[{"column":"is_primary","similarity":0.5002447464244713}],"project_milestones":[{"column":"is_billable","similarity":0.49541387707350004},{"column":"description","similarity":0.4782212883173893}],"benefit_types":[{"column":"is_active","similarity":0.4905257359031393}],"business_units":[{"column":"is_active","similarity":0.4871697428534034}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.48362340098118217},{"column":"is_preferred","similarity":0.4765496659303714}],"units_of_measure":[{"column":"base_uom_id","similarity":0.4831180064251368}],"requisition_lines":[{"column":"quantity","similarity":0.48169140071868866}],"asset_maintenance":[{"column":"notes","similarity":0.47855041994114966}],"project_resources":[{"column":"hourly_rate","similarity":0.47812599772471986}],"project_tasks":[{"column":"priority","similarity":0.4780592694168637}],"vendor_contacts":[{"column":"is_primary","similarity":0.477243459923855}],"reorder_rules":[{"column":"max_quantity","similarity":0.4768456096343272}]},"fused_scores":[{"table":"training_courses","fused":0.9347595035621551,"table_sim":0.7832587829851695,"col_score":1.1620105844276334},{"table":"employee_training","fused":0.7740624029173362,"table_sim":0.6570057454586046,"col_score":0.9496473891054338},{"table":"certifications","fused":0.6966848226812605,"table_sim":0.5900939338505992,"col_score":0.8565711559272527},{"table":"employee_certifications","fused":0.6688391740505231,"table_sim":0.5662772014922313,"col_score":0.8226821328879609},{"table":"maintenance_types","fused":0.5888431583286563,"table_sim":0.49281971341629327,"col_score":0.7328783256972008},{"table":"leave_types","fused":0.3110478919709294,"table_sim":0,"col_score":0.7776197299273235},{"table":"product_suppliers","fused":0.2887592935785472,"table_sim":0,"col_score":0.7218982339463679},{"table":"purchase_requisitions","fused":0.27480814062568365,"table_sim":0,"col_score":0.687020351564209},{"table":"project_milestones","fused":0.26511653119383455,"table_sim":0,"col_score":0.6627913279845863},{"table":"sales_orders","fused":0.20895998054347864,"table_sim":0,"col_score":0.5223999513586965},{"table":"emergency_contacts","fused":0.20009789856978852,"table_sim":0,"col_score":0.5002447464244713},{"table":"requisition_lines","fused":0.19267656028747548,"table_sim":0,"col_score":0.48169140071868866},{"table":"project_resources","fused":0.19125039908988795,"table_sim":0,"col_score":0.47812599772471986},{"table":"project_tasks","fused":0.1912237077667455,"table_sim":0,"col_score":0.4780592694168637},{"table":"vendor_contacts","fused":0.190897383969542,"table_sim":0,"col_score":0.477243459923855}],"fk_expansion_candidates":39,"fk_expansion_added":0,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":22,"total_retrieval_latency_ms":29,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":240,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:13.144Z","query_id":"e94abc0e-05cf-41d1-acde-1e828005b96f","question":"What are the different opportunity stages?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["opportunity_stages","sales_opportunities","project_phases","project_tasks","positions","projects","vendor_contacts","sales_quotes","employment_history","performance_reviews","task_assignments"],"tables_from_table_retrieval":5,"tables_from_column_only":17,"tables_from_fk_expansion":1,"table_scores":[{"table":"opportunity_stages","similarity":0.8221357699980866},{"table":"opportunity_stages","similarity":0.8176629035369016},{"table":"opportunity_stages","similarity":0.8176629035369016},{"table":"sales_opportunities","similarity":0.705452578214936},{"table":"sales_opportunities","similarity":0.6734243089266532},{"table":"sales_opportunities","similarity":0.6734243089266532},{"table":"project_phases","similarity":0.5910011427333453},{"table":"project_tasks","similarity":0.5856436723604402},{"table":"project_phases","similarity":0.5850374728279742},{"table":"project_phases","similarity":0.5850374728279742},{"table":"project_tasks","similarity":0.5669780419060751},{"table":"project_tasks","similarity":0.5669780419060751},{"table":"positions","similarity":0.5469043796027597},{"table":"positions","similarity":0.5469043796027597},{"table":"positions","similarity":0.5399052196547368}],"column_hits_per_table":{"opportunity_stages":6,"sales_opportunities":11,"project_phases":7,"sales_quotes":2,"project_tasks":4,"projects":3,"positions":1,"stock_transfers":1,"employment_history":1,"vendor_invoices":1,"sales_orders":1,"purchase_requisitions":1,"performance_reviews":1,"timesheets":1,"vendor_contacts":2,"employee_training":1,"purchase_orders":1,"task_assignments":1,"project_expenses":1,"journal_entries":1,"warehouse_locations":1,"leave_requests":1},"top_columns_per_table":{"opportunity_stages":[{"column":"name","similarity":0.7995522492175101},{"column":"probability","similarity":0.775558879369367},{"column":"sequence","similarity":0.7708343654238288}],"sales_opportunities":[{"column":"stage_id","similarity":0.7059415983640481},{"column":"source","similarity":0.6711321363690625},{"column":"name","similarity":0.6452724499361098}],"project_phases":[{"column":"status","similarity":0.6232576702180161},{"column":"description","similarity":0.6034091478912608},{"column":"start_date","similarity":0.6030372572830889}],"sales_quotes":[{"column":"opportunity_id","similarity":0.6147463179178642},{"column":"status","similarity":0.54330303115206}],"project_tasks":[{"column":"priority","similarity":0.5858528199183252},{"column":"status","similarity":0.5730801962534186},{"column":"phase_id","similarity":0.5607037044154554}],"projects":[{"column":"priority","similarity":0.5810811398487153},{"column":"status","similarity":0.5620351291324196},{"column":"start_date","similarity":0.5420441244772041}],"positions":[{"column":"title","similarity":0.5721393185558201}],"stock_transfers":[{"column":"status","similarity":0.5591229145906735}],"employment_history":[{"column":"position","similarity":0.5582251887233417}],"vendor_invoices":[{"column":"status","similarity":0.5574741035348497}],"sales_orders":[{"column":"status","similarity":0.5556357399820548}],"purchase_requisitions":[{"column":"status","similarity":0.5554818743499551}],"performance_reviews":[{"column":"review_period_start","similarity":0.5509040784070887}],"timesheets":[{"column":"status","similarity":0.5496387852297092}],"vendor_contacts":[{"column":"title","similarity":0.5480716599019128},{"column":"first_name","similarity":0.5390129346005467}],"employee_training":[{"column":"status","similarity":0.5462098751481785}],"purchase_orders":[{"column":"status","similarity":0.5452189780991694}],"task_assignments":[{"column":"role","similarity":0.5440927669761538}],"project_expenses":[{"column":"status","similarity":0.5419099926956821}],"journal_entries":[{"column":"status","similarity":0.541055083798884}],"warehouse_locations":[{"column":"aisle","similarity":0.5391761865875615}],"leave_requests":[{"column":"status","similarity":0.5379293041870119}]},"fused_scores":[{"table":"opportunity_stages","fused":0.9549881669546535,"table_sim":0.8176629035369016,"col_score":1.1609760620812812},{"table":"sales_opportunities","fused":0.8004357023749251,"table_sim":0.6734243089266532,"col_score":0.9909527925473333},{"table":"project_phases","fused":0.7083626528142624,"table_sim":0.5850374728279742,"col_score":0.8933504227936944},{"table":"project_tasks","fused":0.6842981253519156,"table_sim":0.5669780419060751,"col_score":0.8602782505206762},{"table":"positions","fused":0.5527988592151701,"table_sim":0.5399052196547368,"col_score":0.5721393185558201},{"table":"projects","fused":0.340841280834927,"table_sim":0,"col_score":0.8521032020873174},{"table":"vendor_contacts","fused":0.2946904748048416,"table_sim":0,"col_score":0.736726187012104},{"table":"sales_quotes","fused":0.24819139337829035,"table_sim":0,"col_score":0.6204784834457259},{"table":"employment_history","fused":0.2232900754893367,"table_sim":0,"col_score":0.5582251887233417},{"table":"performance_reviews","fused":0.2203616313628355,"table_sim":0,"col_score":0.5509040784070887},{"table":"task_assignments","fused":0.21763710679046155,"table_sim":0,"col_score":0.5440927669761538},{"table":"warehouse_locations","fused":0.21567047463502462,"table_sim":0,"col_score":0.5391761865875615},{"table":"stock_transfers","fused":0.1565544160853886,"table_sim":0,"col_score":0.39138604021347145},{"table":"vendor_invoices","fused":0.15609274898975792,"table_sim":0,"col_score":0.3902318724743948},{"table":"sales_orders","fused":0.15557800719497536,"table_sim":0,"col_score":0.38894501798743836}],"fk_expansion_candidates":36,"fk_expansion_added":1,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"task_assignments","reason":"already_selected"},{"table":"task_assignments","reason":"already_selected"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":23,"total_retrieval_latency_ms":29,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":280,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:13.424Z","query_id":"323bebf7-afbb-456c-b637-76ba9f4c1427","question":"List all countries in the system","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["countries","states_provinces","currencies","tax_rates","sales_territories","fiscal_periods","opportunity_stages","bank_transactions","sales_regions","cities","bank_accounts"],"tables_from_table_retrieval":5,"tables_from_column_only":19,"tables_from_fk_expansion":1,"table_scores":[{"table":"countries","similarity":0.7023951106153551},{"table":"countries","similarity":0.7023951106153551},{"table":"countries","similarity":0.7008865097920517},{"table":"states_provinces","similarity":0.6734638308582259},{"table":"states_provinces","similarity":0.6591125545328295},{"table":"states_provinces","similarity":0.6591125545328295},{"table":"tax_rates","similarity":0.6116670532927957},{"table":"tax_rates","similarity":0.6061652945068768},{"table":"tax_rates","similarity":0.6061652945068768},{"table":"currencies","similarity":0.6020049493436493},{"table":"currencies","similarity":0.6020049493436493},{"table":"sales_territories","similarity":0.5947794602061558},{"table":"sales_territories","similarity":0.5849505696482399},{"table":"sales_territories","similarity":0.5849505696482399},{"table":"currencies","similarity":0.5771716778997639}],"column_hits_per_table":{"countries":4,"states_provinces":4,"tax_rates":3,"sales_regions":3,"currencies":5,"sales_territories":3,"cities":2,"fiscal_periods":5,"departments":1,"opportunity_stages":3,"bank_accounts":2,"certifications":1,"customers":1,"bank_transactions":2,"chart_of_accounts":2,"purchase_orders":1,"depreciation_schedules":1,"asset_categories":1,"employee_certifications":1,"budgets":1,"purchase_requisitions":1,"business_units":1,"sales_orders":1,"units_of_measure":1},"top_columns_per_table":{"countries":[{"column":"iso_code","similarity":0.7083775622560948},{"column":"country_id","similarity":0.7028095022039754},{"column":"name","similarity":0.6970026208946949}],"states_provinces":[{"column":"country_id","similarity":0.6563023532078734},{"column":"abbreviation","similarity":0.610560847165871},{"column":"state_id","similarity":0.6086767321787677}],"tax_rates":[{"column":"country_id","similarity":0.6387496649533285},{"column":"is_active","similarity":0.5264660070125073},{"column":"tax_type","similarity":0.5228388468873347}],"sales_regions":[{"column":"region_id","similarity":0.5880376169487528},{"column":"name","similarity":0.5823393740796537},{"column":"target_revenue","similarity":0.5801802361991993}],"currencies":[{"column":"code","similarity":0.5822359917761808},{"column":"symbol","similarity":0.581336012492315},{"column":"currency_id","similarity":0.5776652580200841}],"sales_territories":[{"column":"territory_id","similarity":0.579860320592295},{"column":"region_id","similarity":0.5750186636565423},{"column":"name","similarity":0.5543913807302997}],"cities":[{"column":"state_id","similarity":0.561394466233867},{"column":"postal_code","similarity":0.5370910514815247}],"fiscal_periods":[{"column":"period_id","similarity":0.5496379201904278},{"column":"period_number","similarity":0.5424020784794457},{"column":"is_closed","similarity":0.5331943381268962}],"departments":[{"column":"budget","similarity":0.548192913887592}],"opportunity_stages":[{"column":"is_won","similarity":0.5424096057947908},{"column":"is_closed","similarity":0.5277608595146904},{"column":"stage_id","similarity":0.5252744287271072}],"bank_accounts":[{"column":"currency_id","similarity":0.5421220565667533},{"column":"account_number","similarity":0.5251662683345438}],"certifications":[{"column":"issuing_body","similarity":0.5363419232957559}],"customers":[{"column":"currency_id","similarity":0.5360168510784518}],"bank_transactions":[{"column":"reconciled","similarity":0.5347524839098835},{"column":"reference","similarity":0.522643358832243}],"chart_of_accounts":[{"column":"account_number","similarity":0.5329009773739953},{"column":"is_active","similarity":0.5235896571283579}],"purchase_orders":[{"column":"total","similarity":0.5290507808378154}],"depreciation_schedules":[{"column":"depreciation_method","similarity":0.5287294649500551}],"asset_categories":[{"column":"depreciation_method","similarity":0.5276413708583213}],"employee_certifications":[{"column":"certificate_number","similarity":0.5267762383677346}],"budgets":[{"column":"total_amount","similarity":0.5266785560945311}],"purchase_requisitions":[{"column":"requisition_number","similarity":0.5257685863079752}],"business_units":[{"column":"is_active","similarity":0.523602018511161}],"sales_orders":[{"column":"total","similarity":0.5224556777614774}],"units_of_measure":[{"column":"conversion_factor","similarity":0.5222786094381444}]},"fused_scores":[{"table":"countries","fused":0.8427695063608152,"table_sim":0.7008865097920517,"col_score":1.0555940012139602},{"table":"states_provinces","fused":0.7315742010351484,"table_sim":0.6591125545328295,"col_score":0.8402666707886267},{"table":"currencies","fused":0.6954646059487937,"table_sim":0.5771716778997639,"col_score":0.8729039980223383},{"table":"tax_rates","fused":0.6622596685525259,"table_sim":0.6061652945068768,"col_score":0.7464012296209996},{"table":"sales_territories","fused":0.5938338444667024,"table_sim":0.5849505696482399,"col_score":0.6071587566943962},{"table":"fiscal_periods","fused":0.3235996990171575,"table_sim":0,"col_score":0.8089992475428938},{"table":"opportunity_stages","fused":0.32251601422085446,"table_sim":0,"col_score":0.8062900355521361},{"table":"bank_transactions","fused":0.318429665330402,"table_sim":0,"col_score":0.796074163326005},{"table":"sales_regions","fused":0.31439736085250514,"table_sim":0,"col_score":0.7859934021312628},{"table":"cities","fused":0.29343164586535125,"table_sim":0,"col_score":0.7335791146633781},{"table":"chart_of_accounts","fused":0.28646294294756824,"table_sim":0,"col_score":0.7161573573689206},{"table":"bank_accounts","fused":0.285963595253163,"table_sim":0,"col_score":0.7149089881329075},{"table":"departments","fused":0.2192771655550368,"table_sim":0,"col_score":0.548192913887592},{"table":"certifications","fused":0.21453676931830237,"table_sim":0,"col_score":0.5363419232957559},{"table":"purchase_orders","fused":0.21162031233512618,"table_sim":0,"col_score":0.5290507808378154}],"fk_expansion_candidates":30,"fk_expansion_added":1,"fk_expansion_blocked_count":27,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"bank_accounts","reason":"already_selected"},{"table":"bank_accounts","reason":"already_selected"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":28,"total_retrieval_latency_ms":35,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":237,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:13.661Z","query_id":"6d4b70fd-10ea-4036-bf68-01d311bf62fe","question":"How many departments are there?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["departments","inventory_levels","employees","sales_territories","positions","budgets","cost_centers","warehouse_locations","asset_locations","asset_categories","employee_certifications","sales_orders"],"tables_from_table_retrieval":7,"tables_from_column_only":16,"tables_from_fk_expansion":2,"table_scores":[{"table":"departments","similarity":0.6535557627991134},{"table":"departments","similarity":0.6535557627991134},{"table":"departments","similarity":0.6407681888721862},{"table":"positions","similarity":0.5959740852224922},{"table":"positions","similarity":0.5959740852224922},{"table":"positions","similarity":0.5909863911053447},{"table":"cost_centers","similarity":0.574249226454042},{"table":"inventory_levels","similarity":0.5635818909554858},{"table":"cost_centers","similarity":0.562339325750535},{"table":"cost_centers","similarity":0.562339325750535},{"table":"budgets","similarity":0.5602507290061229},{"table":"sales_territories","similarity":0.5569437466660422},{"table":"employees","similarity":0.5540635075766074},{"table":"sales_territories","similarity":0.5531933158048384},{"table":"sales_territories","similarity":0.5531933158048384}],"column_hits_per_table":{"departments":6,"positions":1,"budgets":1,"purchase_requisitions":1,"cost_centers":1,"employees":3,"warehouse_locations":4,"inventory_levels":5,"sales_orders":2,"business_units":2,"employee_certifications":1,"countries":2,"receipt_lines":1,"asset_categories":4,"sales_territories":2,"goods_receipts":1,"asset_locations":4,"states_provinces":3,"product_categories":2,"journal_entries":1,"chart_of_accounts":1,"sales_regions":1,"inventory_transactions":1},"top_columns_per_table":{"departments":[{"column":"name","similarity":0.678380475338454},{"column":"department_id","similarity":0.6593894511959907},{"column":"budget","similarity":0.631673223767257}],"positions":[{"column":"department_id","similarity":0.6072106973795759}],"budgets":[{"column":"department_id","similarity":0.5890663072722551}],"purchase_requisitions":[{"column":"department_id","similarity":0.5855616262286726}],"cost_centers":[{"column":"department_id","similarity":0.5801677807148357}],"employees":[{"column":"department_id","similarity":0.5766911086411527},{"column":"phone","similarity":0.5295780565782041},{"column":"employee_number","similarity":0.5251671661617511}],"warehouse_locations":[{"column":"capacity","similarity":0.5507916811505368},{"column":"aisle","similarity":0.5346342650807901},{"column":"bin","similarity":0.5344635750630128}],"inventory_levels":[{"column":"quantity_available","similarity":0.5467954154024948},{"column":"location_id","similarity":0.532130309929655},{"column":"quantity_reserved","similarity":0.5279718840166341}],"sales_orders":[{"column":"order_number","similarity":0.5423432633706802},{"column":"status","similarity":0.5226058429697297}],"business_units":[{"column":"is_active","similarity":0.5413660134598213},{"column":"name","similarity":0.5225405146150363}],"employee_certifications":[{"column":"certificate_number","similarity":0.5375188956698979}],"countries":[{"column":"name","similarity":0.5369300526104707},{"column":"iso_code","similarity":0.5206752985321579}],"receipt_lines":[{"column":"location_id","similarity":0.5363959514134431}],"asset_categories":[{"column":"category_id","similarity":0.5357603627459196},{"column":"depreciation_method","similarity":0.5284195914126985},{"column":"name","similarity":0.5197745476582827}],"sales_territories":[{"column":"territory_id","similarity":0.5346785292416978},{"column":"name","similarity":0.5288174476965474}],"goods_receipts":[{"column":"receipt_number","similarity":0.5337386452781889}],"asset_locations":[{"column":"room","similarity":0.5330969405978414},{"column":"description","similarity":0.5283506129509129},{"column":"building","similarity":0.5225884931150223}],"states_provinces":[{"column":"abbreviation","similarity":0.5328751078215296},{"column":"name","similarity":0.5263993354834775},{"column":"country_id","similarity":0.5203449985844515}],"product_categories":[{"column":"is_active","similarity":0.5291272971983432},{"column":"category_id","similarity":0.5230748940289889}],"journal_entries":[{"column":"entry_number","similarity":0.5229571409622702}],"chart_of_accounts":[{"column":"account_number","similarity":0.522049128691497}],"sales_regions":[{"column":"name","similarity":0.5218640467095127}],"inventory_transactions":[{"column":"location_id","similarity":0.52026154765506}]},"fused_scores":[{"table":"departments","fused":0.7321034693775981,"table_sim":0.6407681888721862,"col_score":0.8691063901357159},{"table":"inventory_levels","fused":0.6624616775376162,"table_sim":0.5635818909554858,"col_score":0.8107813574108118},{"table":"employees","fused":0.6493027604095962,"table_sim":0.5540635075766074,"col_score":0.7921616396590796},{"table":"sales_territories","fused":0.555660420348095,"table_sim":0.5531933158048384,"col_score":0.55936107716298},{"table":"positions","fused":0.524610829929488,"table_sim":0.5909863911053447,"col_score":0.4250474881657031},{"table":"budgets","fused":0.5010890034399051,"table_sim":0.5602507290061229,"col_score":0.4123464150905785},{"table":"cost_centers","fused":0.499850574050475,"table_sim":0.562339325750535,"col_score":0.40611744650038495},{"table":"warehouse_locations","fused":0.32724352547637275,"table_sim":0,"col_score":0.8181088136909318},{"table":"asset_locations","fused":0.3177564748621411,"table_sim":0,"col_score":0.7943911871553526},{"table":"asset_categories","fused":0.3151618766771569,"table_sim":0,"col_score":0.7879046916928921},{"table":"sales_orders","fused":0.29010212336403424,"table_sim":0,"col_score":0.7252553084100856},{"table":"states_provinces","fused":0.2868459500962987,"table_sim":0,"col_score":0.7171148752407467},{"table":"countries","fused":0.2834403267783291,"table_sim":0,"col_score":0.7086008169458227},{"table":"business_units","fused":0.22473815581485504,"table_sim":0,"col_score":0.5618453895371376},{"table":"product_categories","fused":0.2213861283795945,"table_sim":0,"col_score":0.5534653209489863}],"fk_expansion_candidates":111,"fk_expansion_added":2,"fk_expansion_blocked_count":96,"fk_expansion_blocked":[{"table":"employee_training","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"max_tables"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"max_tables"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"employee_certifications","reason":"already_selected"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"already_selected"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"already_selected"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":40,"total_retrieval_latency_ms":49,"sql_generated":"SELECT COUNT(*) FROM hr.departments;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"relation \"hr.departments\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Unknown table or alias 'hr.departments'. Available tables: departments, inventory_levels, employees, sales_territories, positions, budgets, cost_centers, warehouse_locations, asset_locations, asset_categories, employee_certifications, sales_orders","total_latency_ms":857,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: relation \"hr.departments\" does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T21:49:14.518Z","query_id":"57864c12-a1a8-4a1a-b0be-87b1a0c5da55","question":"List all units of measure","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["units_of_measure","products","business_units","currencies","sales_regions","requisition_lines","purchase_orders","sales_orders","order_lines","vendor_invoice_lines","adjustment_lines","inventory_levels"],"tables_from_table_retrieval":7,"tables_from_column_only":19,"tables_from_fk_expansion":2,"table_scores":[{"table":"units_of_measure","similarity":0.8089934324181249},{"table":"units_of_measure","similarity":0.7895937174937386},{"table":"units_of_measure","similarity":0.7895937174937386},{"table":"products","similarity":0.6263866411837252},{"table":"business_units","similarity":0.6082946070315649},{"table":"products","similarity":0.6051913757119329},{"table":"products","similarity":0.6051913757119329},{"table":"business_units","similarity":0.5900234669630597},{"table":"business_units","similarity":0.5900234669630597},{"table":"currencies","similarity":0.5785280842826401},{"table":"currencies","similarity":0.5720700199289973},{"table":"currencies","similarity":0.5720700199289973},{"table":"sales_regions","similarity":0.5709271404332362},{"table":"sales_territories","similarity":0.5693966691739235},{"table":"countries","similarity":0.5676275319870521}],"column_hits_per_table":{"units_of_measure":5,"products":3,"requisition_lines":3,"business_units":5,"purchase_orders":3,"sales_orders":3,"product_suppliers":1,"departments":1,"inventory_transactions":1,"sales_regions":1,"currencies":1,"order_lines":3,"vendor_invoice_lines":2,"po_lines":2,"quote_lines":2,"adjustment_lines":3,"inventory_levels":3,"reorder_rules":1,"asset_categories":1,"transfer_lines":2,"tax_rates":1,"project_milestones":1,"budgets":1,"receipt_lines":1},"top_columns_per_table":{"units_of_measure":[{"column":"abbreviation","similarity":0.7905971303186856},{"column":"conversion_factor","similarity":0.7833828440035688},{"column":"name","similarity":0.7549748821453383}],"products":[{"column":"uom_id","similarity":0.7018268610085459},{"column":"unit_cost","similarity":0.6357703641175493},{"column":"weight","similarity":0.597521277353181}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.6362527169972213},{"column":"quantity","similarity":0.608908951408363},{"column":"estimated_total","similarity":0.598798666730362}],"business_units":[{"column":"unit_id","similarity":0.6283846620229621},{"column":"name","similarity":0.6160237054357993},{"column":"parent_unit_id","similarity":0.6074989732588798}],"purchase_orders":[{"column":"total","similarity":0.6147119133982193},{"column":"tax_amount","similarity":0.6002595814679341},{"column":"subtotal","similarity":0.5887334871771862}],"sales_orders":[{"column":"total","similarity":0.606574371601994},{"column":"tax_amount","similarity":0.592411431937674},{"column":"subtotal","similarity":0.585337724387252}],"product_suppliers":[{"column":"unit_cost","similarity":0.6058427693449309}],"departments":[{"column":"budget","similarity":0.6046532256680471}],"inventory_transactions":[{"column":"quantity","similarity":0.6037555563643355}],"sales_regions":[{"column":"target_revenue","similarity":0.6026638163293001}],"currencies":[{"column":"exchange_rate","similarity":0.6025841949257517}],"order_lines":[{"column":"unit_price","similarity":0.6016699280890015},{"column":"quantity","similarity":0.5822554877944045},{"column":"line_total","similarity":0.5819165003498858}],"vendor_invoice_lines":[{"column":"unit_cost","similarity":0.6013213563918418},{"column":"quantity","similarity":0.57804483639951}],"po_lines":[{"column":"unit_cost","similarity":0.597312540023666},{"column":"quantity","similarity":0.5779166241917584}],"quote_lines":[{"column":"unit_price","similarity":0.5965595055733411},{"column":"quantity","similarity":0.5837858568841348}],"adjustment_lines":[{"column":"quantity_before","similarity":0.5945081677052466},{"column":"quantity_change","similarity":0.5890466100435946},{"column":"quantity_after","similarity":0.587875110907794}],"inventory_levels":[{"column":"quantity_available","similarity":0.5904376058765937},{"column":"quantity_reserved","similarity":0.5894690175037719},{"column":"quantity_on_hand","similarity":0.5808299611130434}],"reorder_rules":[{"column":"reorder_quantity","similarity":0.5875427358229924}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.5860444284970066}],"transfer_lines":[{"column":"quantity_transferred","similarity":0.5836411952827008},{"column":"quantity_requested","similarity":0.577863082344162}],"tax_rates":[{"column":"rate","similarity":0.5831694594676794}],"project_milestones":[{"column":"amount","similarity":0.5831155463251225}],"budgets":[{"column":"total_amount","similarity":0.5816261216703643}],"receipt_lines":[{"column":"quantity_received","similarity":0.5799887522477924}]},"fused_scores":[{"table":"units_of_measure","fused":0.9466716514244312,"table_sim":0.7895937174937386,"col_score":1.18228855232047},{"table":"products","fused":0.7369272265448157,"table_sim":0.6051913757119329,"col_score":0.9345310027941398},{"table":"business_units","fused":0.6162051043052771,"table_sim":0.5900234669630597,"col_score":0.6554775603186032},{"table":"currencies","fused":0.5842756899276991,"table_sim":0.5720700199289973,"col_score":0.6025841949257517},{"table":"sales_regions","fused":0.5836218107916618,"table_sim":0.5709271404332362,"col_score":0.6026638163293001},{"table":"requisition_lines","fused":0.37628287708056113,"table_sim":0,"col_score":0.9407071927014028},{"table":"purchase_orders","fused":0.3659366816528746,"table_sim":0,"col_score":0.9148417041321864},{"table":"sales_orders","fused":0.3611120350283324,"table_sim":0,"col_score":0.902780087570831},{"table":"order_lines","fused":0.3571190687944816,"table_sim":0,"col_score":0.8927976719862039},{"table":"vendor_invoice_lines","fused":0.3561375098366387,"table_sim":0,"col_score":0.8903437745915967},{"table":"adjustment_lines","fused":0.35561258909081755,"table_sim":0,"col_score":0.8890314727270439},{"table":"quote_lines","fused":0.35538097360616344,"table_sim":0,"col_score":0.8884524340154085},{"table":"po_lines","fused":0.35450834084781807,"table_sim":0,"col_score":0.8862708521195451},{"table":"inventory_levels","fused":0.35406884585139187,"table_sim":0,"col_score":0.8851721146284797},{"table":"transfer_lines","fused":0.3490290945819127,"table_sim":0,"col_score":0.8725727364547817}],"fk_expansion_candidates":66,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"already_selected"},{"table":"adjustment_lines","reason":"already_selected"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"inventory_levels","reason":"already_selected"},{"table":"inventory_levels","reason":"already_selected"},{"table":"inventory_transactions","reason":"max_tables"},{"table":"inventory_transactions","reason":"max_tables"},{"table":"inventory_transactions","reason":"max_tables"},{"table":"po_lines","reason":"max_tables"},{"table":"po_lines","reason":"max_tables"},{"table":"po_lines","reason":"max_tables"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"product_suppliers","reason":"max_tables"},{"table":"product_suppliers","reason":"max_tables"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"max_tables"},{"table":"quote_lines","reason":"max_tables"},{"table":"quote_lines","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_territories","reason":"max_tables"},{"table":"sales_territories","reason":"max_tables"},{"table":"sales_territories","reason":"max_tables"},{"table":"transfer_lines","reason":"max_tables"},{"table":"transfer_lines","reason":"max_tables"},{"table":"transfer_lines","reason":"max_tables"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":50,"total_retrieval_latency_ms":57,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":280,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:14.798Z","query_id":"86399094-e421-4806-9734-9a44e21ed5f5","question":"What fiscal years exist in the system?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["fiscal_years","fiscal_periods","budgets","budget_lines","journal_entries","depreciation_schedules","project_expenses","depreciation_entries","project_budgets","departments","projects"],"tables_from_table_retrieval":5,"tables_from_column_only":14,"tables_from_fk_expansion":1,"table_scores":[{"table":"fiscal_years","similarity":0.8183387248728355},{"table":"fiscal_years","similarity":0.8183387248728355},{"table":"fiscal_years","similarity":0.7923960498118316},{"table":"fiscal_periods","similarity":0.7699028512495149},{"table":"fiscal_periods","similarity":0.7699028512495149},{"table":"fiscal_periods","similarity":0.7616670856526071},{"table":"budgets","similarity":0.6929504016420824},{"table":"budgets","similarity":0.6929504016420824},{"table":"budgets","similarity":0.6911637589323553},{"table":"journal_entries","similarity":0.6311027258951736},{"table":"journal_entries","similarity":0.6311027258951736},{"table":"journal_entries","similarity":0.6269724979465695},{"table":"budget_lines","similarity":0.6265695821327767},{"table":"budget_lines","similarity":0.6265695821327767},{"table":"budget_lines","similarity":0.6218203134963756}],"column_hits_per_table":{"fiscal_years":5,"fiscal_periods":7,"budgets":8,"budget_lines":2,"depreciation_entries":3,"journal_entries":1,"depreciation_schedules":7,"departments":1,"project_expenses":2,"tax_rates":1,"project_budgets":5,"goods_receipts":1,"project_milestones":1,"projects":1,"timesheet_entries":1,"certifications":1,"inventory_levels":1,"asset_categories":1,"performance_reviews":1},"top_columns_per_table":{"fiscal_years":[{"column":"year","similarity":0.7902938308136325},{"column":"start_date","similarity":0.7844335948238378},{"column":"is_closed","similarity":0.7638424844354721}],"fiscal_periods":[{"column":"start_date","similarity":0.7601567095836461},{"column":"period_number","similarity":0.7434306851749984},{"column":"fiscal_year_id","similarity":0.7373948668168524}],"budgets":[{"column":"fiscal_year_id","similarity":0.7068934556378452},{"column":"status","similarity":0.6300839143318829},{"column":"created_at","similarity":0.6147789265228972}],"budget_lines":[{"column":"period_id","similarity":0.6839294330886287},{"column":"amount","similarity":0.5950811318817956}],"depreciation_entries":[{"column":"period_id","similarity":0.6671048533605741},{"column":"entry_date","similarity":0.6166792618330323},{"column":"accumulated_depreciation","similarity":0.5915536252801723}],"journal_entries":[{"column":"period_id","similarity":0.6645913597158091}],"depreciation_schedules":[{"column":"start_date","similarity":0.6314787914062867},{"column":"annual_amount","similarity":0.6313190612846479},{"column":"useful_life_months","similarity":0.6308778018363276}],"departments":[{"column":"budget","similarity":0.6263454768284962}],"project_expenses":[{"column":"expense_date","similarity":0.6141262646464515},{"column":"is_billable","similarity":0.5998077038798406}],"tax_rates":[{"column":"is_active","similarity":0.6079363851045628}],"project_budgets":[{"column":"category","similarity":0.6067101243827773},{"column":"actual_amount","similarity":0.6035940113028686},{"column":"planned_amount","similarity":0.5909686825338804}],"goods_receipts":[{"column":"receipt_date","similarity":0.5995701019739215}],"project_milestones":[{"column":"is_billable","similarity":0.5993047255562765}],"projects":[{"column":"budget","similarity":0.598827943777881}],"timesheet_entries":[{"column":"is_billable","similarity":0.5944565914670504}],"certifications":[{"column":"validity_years","similarity":0.5933814278726485}],"inventory_levels":[{"column":"last_count_date","similarity":0.5777729074188763}],"asset_categories":[{"column":"useful_life_years","similarity":0.5760847255808716}],"performance_reviews":[{"column":"review_period_start","similarity":0.5749621953817389}]},"fused_scores":[{"table":"fiscal_years","fused":0.9484418811773195,"table_sim":0.7923960498118316,"col_score":1.1825106282255513},{"table":"fiscal_periods","fused":0.9097490722600224,"table_sim":0.7616670856526071,"col_score":1.1318720521711454},{"table":"budgets","fused":0.7755758986289861,"table_sim":0.6911637589323553,"col_score":0.9021941081739324},{"table":"budget_lines","fused":0.7068747614829516,"table_sim":0.6218203134963756,"col_score":0.8344564334628156},{"table":"journal_entries","fused":0.5622690794883682,"table_sim":0.6269724979465695,"col_score":0.46521395180106634},{"table":"depreciation_schedules","fused":0.3788553288194443,"table_sim":0,"col_score":0.9471383220486107},{"table":"project_expenses","fused":0.3656120466345487,"table_sim":0,"col_score":0.9140301165863718},{"table":"depreciation_entries","fused":0.36498242978924744,"table_sim":0,"col_score":0.9124560744731185},{"table":"project_budgets","fused":0.36340285201368466,"table_sim":0,"col_score":0.9085071300342116},{"table":"departments","fused":0.2505381907313985,"table_sim":0,"col_score":0.6263454768284962},{"table":"goods_receipts","fused":0.2398280407895686,"table_sim":0,"col_score":0.5995701019739215},{"table":"project_milestones","fused":0.2397218902225106,"table_sim":0,"col_score":0.5993047255562765},{"table":"projects","fused":0.23953117751115238,"table_sim":0,"col_score":0.598827943777881},{"table":"timesheet_entries","fused":0.2377826365868202,"table_sim":0,"col_score":0.5944565914670504},{"table":"certifications","fused":0.2373525711490594,"table_sim":0,"col_score":0.5933814278726485}],"fk_expansion_candidates":24,"fk_expansion_added":1,"fk_expansion_blocked_count":21,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"projects","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":28,"total_retrieval_latency_ms":35,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":258,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:15.056Z","query_id":"70674245-6860-45bb-80c4-fd57d670b6f7","question":"What are the different asset categories?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["asset_categories","account_types","asset_locations","fixed_assets","asset_maintenance","product_categories","asset_transfers","benefit_types","project_expenses","project_budgets"],"tables_from_table_retrieval":6,"tables_from_column_only":7,"tables_from_fk_expansion":0,"table_scores":[{"table":"asset_categories","similarity":0.8168827711422647},{"table":"asset_categories","similarity":0.8134793431523083},{"table":"asset_categories","similarity":0.8134793431523083},{"table":"fixed_assets","similarity":0.6620037919617541},{"table":"asset_locations","similarity":0.6468082033879321},{"table":"asset_locations","similarity":0.6468082033879321},{"table":"account_types","similarity":0.6392335414992715},{"table":"account_types","similarity":0.6392335414992715},{"table":"asset_locations","similarity":0.6390829860060242},{"table":"account_types","similarity":0.6334397842726383},{"table":"fixed_assets","similarity":0.6332464262776372},{"table":"fixed_assets","similarity":0.6332464262776372},{"table":"product_categories","similarity":0.622177487707741},{"table":"asset_maintenance","similarity":0.621270551657517},{"table":"product_categories","similarity":0.6161228444008824}],"column_hits_per_table":{"asset_categories":5,"fixed_assets":10,"account_types":4,"product_categories":5,"asset_locations":6,"asset_transfers":5,"asset_maintenance":6,"project_expenses":1,"project_budgets":1,"depreciation_entries":1,"benefit_types":4,"inventory_transactions":1,"depreciation_schedules":1},"top_columns_per_table":{"asset_categories":[{"column":"name","similarity":0.7902231168417967},{"column":"depreciation_method","similarity":0.7641026405824345},{"column":"category_id","similarity":0.7475795784240159}],"fixed_assets":[{"column":"category_id","similarity":0.6898370099083994},{"column":"asset_tag","similarity":0.659930462800288},{"column":"description","similarity":0.629346644194807}],"account_types":[{"column":"category","similarity":0.6883084443883226},{"column":"name","similarity":0.6020433835273314},{"column":"normal_balance","similarity":0.5917412279908575}],"product_categories":[{"column":"name","similarity":0.6522085161925151},{"column":"description","similarity":0.6484645130847195},{"column":"category_id","similarity":0.631540985602705}],"asset_locations":[{"column":"description","similarity":0.6488050493910993},{"column":"building","similarity":0.6483121830299632},{"column":"floor","similarity":0.6444734391905819}],"asset_transfers":[{"column":"reason","similarity":0.6419731845624105},{"column":"asset_id","similarity":0.6224855112874936},{"column":"transfer_id","similarity":0.6060934515527893}],"asset_maintenance":[{"column":"status","similarity":0.6309357234230896},{"column":"asset_id","similarity":0.6034723424281385},{"column":"maintenance_type_id","similarity":0.6018157616864643}],"project_expenses":[{"column":"category","similarity":0.6221479187210215}],"project_budgets":[{"column":"category","similarity":0.6204340275365261}],"depreciation_entries":[{"column":"asset_id","similarity":0.6128013635594587}],"benefit_types":[{"column":"name","similarity":0.5964873863033975},{"column":"is_active","similarity":0.5870686558139139},{"column":"description","similarity":0.5863146004190054}],"inventory_transactions":[{"column":"transaction_type","similarity":0.5905534346047462}],"depreciation_schedules":[{"column":"asset_id","similarity":0.5713899455592317}]},"fused_scores":[{"table":"asset_categories","fused":0.9391952629822058,"table_sim":0.8134793431523083,"col_score":1.1277691427270522},{"table":"account_types","fused":0.7737354939170835,"table_sim":0.6334397842726383,"col_score":0.9841790583837513},{"table":"asset_locations","fused":0.7716693526537162,"table_sim":0.6390829860060242,"col_score":0.9705489026252541},{"table":"fixed_assets","fused":0.7665405274107377,"table_sim":0.6332464262776372,"col_score":0.9664816791103885},{"table":"asset_maintenance","fused":0.6938376694491932,"table_sim":0.621270551657517,"col_score":0.8026883461367075},{"table":"product_categories","fused":0.6430771230062944,"table_sim":0.6161228444008824,"col_score":0.6835085409144124},{"table":"asset_transfers","fused":0.3439372454052133,"table_sim":0,"col_score":0.8598431135130332},{"table":"benefit_types","fused":0.3140060282096114,"table_sim":0,"col_score":0.7850150705240284},{"table":"project_expenses","fused":0.2488591674884086,"table_sim":0,"col_score":0.6221479187210215},{"table":"project_budgets","fused":0.24817361101461044,"table_sim":0,"col_score":0.6204340275365261},{"table":"inventory_transactions","fused":0.23622137384189848,"table_sim":0,"col_score":0.5905534346047462},{"table":"depreciation_entries","fused":0.17158438179664845,"table_sim":0,"col_score":0.4289609544916211},{"table":"depreciation_schedules","fused":0.15998918475658488,"table_sim":0,"col_score":0.3999729618914622}],"fk_expansion_candidates":30,"fk_expansion_added":0,"fk_expansion_blocked_count":30,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":32,"total_retrieval_latency_ms":39,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":699,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T21:49:15.755Z","query_id":"defce93f-0b96-4c36-a31f-d7f537324c95","question":"Find employees who have been with the company for more than 5 years and earn above $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_salaries","employees","employee_certifications","employee_benefits","project_expenses","employment_history","sales_quotes","employee_training","positions","asset_transfers","budgets","certifications"],"tables_from_table_retrieval":7,"tables_from_column_only":14,"tables_from_fk_expansion":2,"table_scores":[{"table":"employee_salaries","similarity":0.6654254442281295},{"table":"employee_salaries","similarity":0.6654254442281295},{"table":"employee_salaries","similarity":0.6596309142898193},{"table":"employees","similarity":0.6117387326317625},{"table":"employee_certifications","similarity":0.6063101517291073},{"table":"employees","similarity":0.606186516761946},{"table":"employees","similarity":0.606186516761946},{"table":"employment_history","similarity":0.6006272540139823},{"table":"employee_certifications","similarity":0.5953253092667586},{"table":"employee_certifications","similarity":0.5953253092667586},{"table":"employee_benefits","similarity":0.588385638564704},{"table":"sales_quotes","similarity":0.5847288131119626},{"table":"employment_history","similarity":0.5816250485632297},{"table":"employment_history","similarity":0.5816250485632297},{"table":"project_expenses","similarity":0.5811440306100932}],"column_hits_per_table":{"employees":12,"employee_salaries":7,"positions":1,"employee_benefits":4,"employee_certifications":4,"employee_training":3,"project_expenses":2,"employment_history":3,"sales_opportunities":1,"certifications":1,"sales_territories":1,"sales_regions":1,"departments":1,"asset_maintenance":1,"performance_reviews":1,"stock_transfers":1,"asset_transfers":2,"budgets":1,"business_units":1,"sales_quotes":1,"fixed_assets":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.6634350719038632},{"column":"employee_number","similarity":0.6178594752574701},{"column":"phone","similarity":0.6028489163745482}],"employee_salaries":[{"column":"effective_date","similarity":0.6325147223182844},{"column":"amount","similarity":0.627965316071432},{"column":"change_reason","similarity":0.6266782573270714}],"positions":[{"column":"max_salary","similarity":0.6112158084495339}],"employee_benefits":[{"column":"coverage_level","similarity":0.5965564678891593},{"column":"employee_id","similarity":0.5947734668013144},{"column":"end_date","similarity":0.5815712638966307}],"employee_certifications":[{"column":"employee_id","similarity":0.5958865176403652},{"column":"certificate_number","similarity":0.5893732822005266},{"column":"expiry_date","similarity":0.5756670437109045}],"employee_training":[{"column":"score","similarity":0.594787770669282},{"column":"status","similarity":0.5774230731413645},{"column":"employee_id","similarity":0.5759810499755345}],"project_expenses":[{"column":"approved_by","similarity":0.58905654304545},{"column":"employee_id","similarity":0.5854824682576782}],"employment_history":[{"column":"company_name","similarity":0.5869895260528193},{"column":"employee_id","similarity":0.5858925427082532},{"column":"reason_for_leaving","similarity":0.5712660305823464}],"sales_opportunities":[{"column":"owner_id","similarity":0.5856823321086454}],"certifications":[{"column":"validity_years","similarity":0.5840712968289695}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.579938073636457}],"sales_regions":[{"column":"manager_id","similarity":0.5798434571294604}],"departments":[{"column":"manager_id","similarity":0.5782009360695254}],"asset_maintenance":[{"column":"performed_by","similarity":0.576890099577467}],"performance_reviews":[{"column":"employee_id","similarity":0.5764391015238134}],"stock_transfers":[{"column":"created_by","similarity":0.5750810763105169}],"asset_transfers":[{"column":"from_employee_id","similarity":0.5737448429559486},{"column":"to_employee_id","similarity":0.5721019443631485}],"budgets":[{"column":"approved_by","similarity":0.5736402980527732}],"business_units":[{"column":"manager_id","similarity":0.5724467750107093}],"sales_quotes":[{"column":"created_by","similarity":0.5703253266483399}],"fixed_assets":[{"column":"assigned_to","similarity":0.5702142656726066}]},"fused_scores":[{"table":"employee_salaries","fused":0.7743775007154918,"table_sim":0.6596309142898193,"col_score":0.9464973803540004},{"table":"employees","fused":0.7526578338702069,"table_sim":0.606186516761946,"col_score":0.9723648095325983},{"table":"employee_certifications","fused":0.7080779071824468,"table_sim":0.5953253092667586,"col_score":0.8772068040559788},{"table":"employee_benefits","fused":0.7079682230738122,"table_sim":0.588385638564704,"col_score":0.8873420998374746},{"table":"project_expenses","fused":0.6662765811403109,"table_sim":0.5811440306100932,"col_score":0.7939754069356373},{"table":"employment_history","fused":0.6596599750182711,"table_sim":0.5816250485632297,"col_score":0.7767123647008332},{"table":"sales_quotes","fused":0.5105283793287128,"table_sim":0.5847288131119626,"col_score":0.39922772865383793},{"table":"employee_training","fused":0.31875433850750384,"table_sim":0,"col_score":0.7968858462687596},{"table":"positions","fused":0.24448632337981357,"table_sim":0,"col_score":0.6112158084495339},{"table":"asset_transfers","fused":0.24074282823850643,"table_sim":0,"col_score":0.601857070596266},{"table":"certifications","fused":0.23362851873158783,"table_sim":0,"col_score":0.5840712968289695},{"table":"asset_maintenance","fused":0.2307560398309868,"table_sim":0,"col_score":0.576890099577467},{"table":"budgets","fused":0.22945611922110928,"table_sim":0,"col_score":0.5736402980527732},{"table":"fixed_assets","fused":0.22808570626904265,"table_sim":0,"col_score":0.5702142656726066},{"table":"sales_opportunities","fused":0.16399105299042072,"table_sim":0,"col_score":0.40997763247605173}],"fk_expansion_candidates":96,"fk_expansion_added":2,"fk_expansion_blocked_count":84,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"already_selected"},{"table":"asset_locations","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":60,"total_retrieval_latency_ms":66,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":376,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:16.131Z","query_id":"432b7deb-cc18-46c7-acff-ebdd82884937","question":"List employees and their managers' names","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","employee_salaries","departments","business_units","employment_history","sales_regions","project_expenses","budgets","warehouses","projects","sales_territories","asset_maintenance"],"tables_from_table_retrieval":6,"tables_from_column_only":19,"tables_from_fk_expansion":2,"table_scores":[{"table":"employees","similarity":0.6739271388388655},{"table":"employees","similarity":0.6689621520411647},{"table":"employees","similarity":0.6689621520411647},{"table":"departments","similarity":0.657958333696202},{"table":"departments","similarity":0.6498039364272146},{"table":"departments","similarity":0.6498039364272146},{"table":"business_units","similarity":0.6434665187095292},{"table":"business_units","similarity":0.6434665187095292},{"table":"sales_regions","similarity":0.6410429290818445},{"table":"sales_regions","similarity":0.633988075646392},{"table":"sales_regions","similarity":0.633988075646392},{"table":"business_units","similarity":0.629302299806744},{"table":"employee_salaries","similarity":0.6291178543786463},{"table":"employment_history","similarity":0.628562523709621},{"table":"employee_salaries","similarity":0.6263125261558217}],"column_hits_per_table":{"employees":16,"departments":2,"business_units":2,"warehouses":2,"employment_history":2,"sales_regions":1,"customers":1,"projects":2,"sales_territories":2,"vendors":1,"task_assignments":1,"stock_transfers":1,"certifications":1,"vendor_contacts":1,"timesheets":1,"currencies":1,"budgets":2,"asset_maintenance":1,"employee_salaries":3,"employee_training":1,"project_expenses":2,"employee_certifications":1,"customer_contacts":1,"sales_opportunities":1,"sales_orders":1},"top_columns_per_table":{"employees":[{"column":"first_name","similarity":0.7572377984248736},{"column":"last_name","similarity":0.7537783066248029},{"column":"manager_id","similarity":0.7053594848641631}],"departments":[{"column":"manager_id","similarity":0.6924752211806645},{"column":"name","similarity":0.6697997709897372}],"business_units":[{"column":"manager_id","similarity":0.6856730724608967},{"column":"name","similarity":0.6837723472178159}],"warehouses":[{"column":"manager_id","similarity":0.6800833291521636},{"column":"name","similarity":0.6505644630634702}],"employment_history":[{"column":"company_name","similarity":0.6721699979286799},{"column":"employee_id","similarity":0.6365310228824647}],"sales_regions":[{"column":"manager_id","similarity":0.6662194599129357}],"customers":[{"column":"name","similarity":0.6637932418641942}],"projects":[{"column":"project_manager_id","similarity":0.6625014712023475},{"column":"name","similarity":0.6398539415762817}],"sales_territories":[{"column":"name","similarity":0.6500061267927694},{"column":"assigned_rep_id","similarity":0.6343602329782843}],"vendors":[{"column":"name","similarity":0.6455975520568351}],"task_assignments":[{"column":"employee_id","similarity":0.6346101050458269}],"stock_transfers":[{"column":"created_by","similarity":0.6339945505048299}],"certifications":[{"column":"name","similarity":0.6314487952628862}],"vendor_contacts":[{"column":"last_name","similarity":0.630475980530217}],"timesheets":[{"column":"employee_id","similarity":0.6293358824018015}],"currencies":[{"column":"name","similarity":0.6288836962010669}],"budgets":[{"column":"name","similarity":0.6281209064414763},{"column":"approved_by","similarity":0.6195701819199355}],"asset_maintenance":[{"column":"performed_by","similarity":0.6276189459730336}],"employee_salaries":[{"column":"employee_id","similarity":0.6275508038919575},{"column":"end_date","similarity":0.6221997161104192},{"column":"approved_by","similarity":0.6215934819128719}],"employee_training":[{"column":"employee_id","similarity":0.6274331689495648}],"project_expenses":[{"column":"employee_id","similarity":0.6273392978417786},{"column":"approved_by","similarity":0.6203248276453848}],"employee_certifications":[{"column":"employee_id","similarity":0.6267738548687827}],"customer_contacts":[{"column":"last_name","similarity":0.6264354504834614}],"sales_opportunities":[{"column":"owner_id","similarity":0.6219218812763582}],"sales_orders":[{"column":"sales_rep_id","similarity":0.6218079145108961}]},"fused_scores":[{"table":"employees","fused":0.8199993358725051,"table_sim":0.6689621520411647,"col_score":1.0465551116195153},{"table":"employee_salaries","fused":0.7489860985202351,"table_sim":0.6263125261558217,"col_score":0.9329964570668552},{"table":"departments","fused":0.677547391725478,"table_sim":0.6498039364272146,"col_score":0.7191625746728731},{"table":"business_units","fused":0.6652979687835916,"table_sim":0.629302299806744,"col_score":0.7192914722488631},{"table":"employment_history","fused":0.654459456849348,"table_sim":0.628562523709621,"col_score":0.6933048565589385},{"table":"sales_regions","fused":0.5669342941634572,"table_sim":0.633988075646392,"col_score":0.466353621939055},{"table":"project_expenses","fused":0.3359574327560029,"table_sim":0,"col_score":0.8398935818900073},{"table":"budgets","fused":0.3357649996697809,"table_sim":0,"col_score":0.8394124991744523},{"table":"warehouses","fused":0.2815023569914916,"table_sim":0,"col_score":0.703755892478729},{"table":"projects","fused":0.27507996375733673,"table_sim":0,"col_score":0.6876999093933418},{"table":"sales_territories","fused":0.2708121481189352,"table_sim":0,"col_score":0.677030370297338},{"table":"asset_maintenance","fused":0.25104757838921343,"table_sim":0,"col_score":0.6276189459730336},{"table":"customers","fused":0.18586210772197437,"table_sim":0,"col_score":0.4646552693049359},{"table":"vendors","fused":0.18076731457591383,"table_sim":0,"col_score":0.45191828643978454},{"table":"task_assignments","fused":0.17769082941283154,"table_sim":0,"col_score":0.4442270735320788}],"fk_expansion_candidates":111,"fk_expansion_added":2,"fk_expansion_blocked_count":105,"fk_expansion_blocked":[{"table":"employee_training","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"already_selected"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"sales_territories","reason":"already_selected"},{"table":"asset_maintenance","reason":"already_selected"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"already_selected"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":39,"total_retrieval_latency_ms":46,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":322,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:16.454Z","query_id":"717cc190-c176-4b23-a7e4-8c3d8d3ed6d5","question":"Which employees have pending leave requests?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["leave_requests","employees","leave_types","purchase_requisitions","employment_history","employee_benefits","employee_salaries","employee_training","timesheets","employee_certifications","goods_receipts"],"tables_from_table_retrieval":5,"tables_from_column_only":18,"tables_from_fk_expansion":1,"table_scores":[{"table":"leave_requests","similarity":0.7606150866620262},{"table":"leave_requests","similarity":0.7606150866620262},{"table":"leave_requests","similarity":0.7600790941142384},{"table":"leave_types","similarity":0.639090920933277},{"table":"leave_types","similarity":0.639090920933277},{"table":"employees","similarity":0.6318821970092333},{"table":"leave_types","similarity":0.6243053165161109},{"table":"employment_history","similarity":0.6232974261189369},{"table":"employees","similarity":0.6085401288010317},{"table":"employees","similarity":0.6085401288010317},{"table":"employment_history","similarity":0.6004981063513581},{"table":"employment_history","similarity":0.6004981063513581},{"table":"purchase_requisitions","similarity":0.5939119628114023},{"table":"purchase_requisitions","similarity":0.5862366614545421},{"table":"purchase_requisitions","similarity":0.5862366614545421}],"column_hits_per_table":{"leave_requests":10,"employee_training":2,"employees":12,"employment_history":1,"timesheets":2,"leave_types":3,"purchase_requisitions":2,"vendor_invoices":1,"sales_orders":1,"employee_benefits":2,"project_tasks":1,"projects":1,"asset_maintenance":1,"purchase_orders":1,"stock_transfers":1,"sales_quotes":1,"employee_certifications":1,"fixed_assets":1,"project_expenses":1,"task_assignments":1,"sales_territories":1,"employee_salaries":2,"goods_receipts":1},"top_columns_per_table":{"leave_requests":[{"column":"status","similarity":0.7830776046458143},{"column":"employee_id","similarity":0.7463085450818296},{"column":"days_requested","similarity":0.7340689790864129}],"employee_training":[{"column":"status","similarity":0.6497311772671878},{"column":"scheduled_date","similarity":0.5878188046675312}],"employees":[{"column":"termination_date","similarity":0.6439758798918632},{"column":"email","similarity":0.6302370362314416},{"column":"phone","similarity":0.6105363671841775}],"employment_history":[{"column":"reason_for_leaving","similarity":0.6281349204243766}],"timesheets":[{"column":"status","similarity":0.6228065407312443},{"column":"employee_id","similarity":0.5827007759709993}],"leave_types":[{"column":"is_paid","similarity":0.6211282835888098},{"column":"days_allowed","similarity":0.6132698924498841},{"column":"requires_approval","similarity":0.5944242237109155}],"purchase_requisitions":[{"column":"status","similarity":0.6119695520568783},{"column":"requested_by","similarity":0.601159001994203}],"vendor_invoices":[{"column":"status","similarity":0.6093455591888043}],"sales_orders":[{"column":"status","similarity":0.6082126415419272}],"employee_benefits":[{"column":"end_date","similarity":0.6075530366053099},{"column":"start_date","similarity":0.5763817809487223}],"project_tasks":[{"column":"status","similarity":0.5995768986335617}],"projects":[{"column":"status","similarity":0.5971196665348375}],"asset_maintenance":[{"column":"status","similarity":0.5968209441927311}],"purchase_orders":[{"column":"status","similarity":0.5936147298950667}],"stock_transfers":[{"column":"status","similarity":0.5934866614638913}],"sales_quotes":[{"column":"status","similarity":0.5914174092778713}],"employee_certifications":[{"column":"expiry_date","similarity":0.590292904422784}],"fixed_assets":[{"column":"status","similarity":0.5890922526585929}],"project_expenses":[{"column":"status","similarity":0.5861848089246922}],"task_assignments":[{"column":"employee_id","similarity":0.5826855903430118}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.58159495137349}],"employee_salaries":[{"column":"end_date","similarity":0.5809839346344203},{"column":"change_reason","similarity":0.5782073749885271}],"goods_receipts":[{"column":"received_by","similarity":0.5807179521677516}]},"fused_scores":[{"table":"leave_requests","fused":0.8949869674714441,"table_sim":0.7600790941142384,"col_score":1.0973487775072526},{"table":"employees","fused":0.7487618364836526,"table_sim":0.6085401288010317,"col_score":0.959094398007584},{"table":"leave_types","fused":0.7387759916318033,"table_sim":0.6243053165161109,"col_score":0.9104820043053419},{"table":"purchase_requisitions","fused":0.6778813349583694,"table_sim":0.5862366614545421,"col_score":0.8153483452141104},{"table":"employment_history","fused":0.6115528319805655,"table_sim":0.6004981063513581,"col_score":0.6281349204243766},{"table":"employee_benefits","fused":0.3582975708318684,"table_sim":0,"col_score":0.895743927079671},{"table":"employee_salaries","fused":0.3480350488514736,"table_sim":0,"col_score":0.870087622128684},{"table":"employee_training","fused":0.3260898866844188,"table_sim":0,"col_score":0.8152247167110469},{"table":"timesheets","fused":0.2559639400406883,"table_sim":0,"col_score":0.6399098501017207},{"table":"employee_certifications","fused":0.23611716176911363,"table_sim":0,"col_score":0.590292904422784},{"table":"goods_receipts","fused":0.23228718086710065,"table_sim":0,"col_score":0.5807179521677516},{"table":"vendor_invoices","fused":0.1706167565728652,"table_sim":0,"col_score":0.426541891432163},{"table":"sales_orders","fused":0.1702995396317396,"table_sim":0,"col_score":0.425748849079349},{"table":"project_tasks","fused":0.16788153161739727,"table_sim":0,"col_score":0.4197038290434931},{"table":"projects","fused":0.16719350662975452,"table_sim":0,"col_score":0.41798376657438624}],"fk_expansion_candidates":96,"fk_expansion_added":1,"fk_expansion_blocked_count":93,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"already_selected"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"already_selected"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":22,"total_retrieval_latency_ms":30,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":323,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:16.777Z","query_id":"5c1aeb43-194d-4a9b-9c7c-3bec67850c33","question":"Show the number of employees per position title","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["positions","employees","employee_salaries","sales_territories","sales_regions","employee_certifications","employment_history","employee_benefits","employee_training","sales_opportunities"],"tables_from_table_retrieval":5,"tables_from_column_only":14,"tables_from_fk_expansion":0,"table_scores":[{"table":"positions","similarity":0.6979534676247563},{"table":"positions","similarity":0.6915534653091021},{"table":"positions","similarity":0.6915534653091021},{"table":"employee_salaries","similarity":0.6596018656539115},{"table":"employee_salaries","similarity":0.6596018656539115},{"table":"employee_salaries","similarity":0.659392658582788},{"table":"employees","similarity":0.659318915501233},{"table":"sales_territories","similarity":0.6544391487399293},{"table":"employees","similarity":0.6533237885369005},{"table":"employees","similarity":0.6533237885369005},{"table":"sales_territories","similarity":0.6489970483284497},{"table":"sales_territories","similarity":0.6489970483284497},{"table":"sales_regions","similarity":0.6428263414246281},{"table":"sales_regions","similarity":0.6307206585715829},{"table":"sales_regions","similarity":0.6307206585715829}],"column_hits_per_table":{"positions":6,"employees":14,"employee_salaries":6,"sales_territories":3,"employee_certifications":2,"sales_regions":1,"employment_history":3,"customer_contacts":1,"departments":1,"sales_opportunities":2,"vendor_contacts":1,"employee_benefits":2,"employee_training":2,"business_units":1,"projects":1,"task_assignments":1,"sales_orders":1,"warehouses":1,"project_resources":1},"top_columns_per_table":{"positions":[{"column":"title","similarity":0.7221299436011294},{"column":"min_salary","similarity":0.6651927143592096},{"column":"department_id","similarity":0.6570360152989476}],"employees":[{"column":"employee_number","similarity":0.7138309929767446},{"column":"salary","similarity":0.6844081973483859},{"column":"position_id","similarity":0.68398642134637}],"employee_salaries":[{"column":"amount","similarity":0.6971738165514154},{"column":"approved_by","similarity":0.6443166084961229},{"column":"effective_date","similarity":0.6438382835501887}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6556010449326051},{"column":"name","similarity":0.6120006875761033},{"column":"territory_id","similarity":0.6092167482669691}],"employee_certifications":[{"column":"certificate_number","similarity":0.6506983264603999},{"column":"employee_id","similarity":0.6216038384290737}],"sales_regions":[{"column":"manager_id","similarity":0.6432388471448376}],"employment_history":[{"column":"position","similarity":0.642007780436184},{"column":"company_name","similarity":0.6085621220790698},{"column":"employee_id","similarity":0.6029078451574368}],"customer_contacts":[{"column":"title","similarity":0.6408819361793222}],"departments":[{"column":"manager_id","similarity":0.635000868322988}],"sales_opportunities":[{"column":"owner_id","similarity":0.6321958594849902},{"column":"amount","similarity":0.6069160048032282}],"vendor_contacts":[{"column":"title","similarity":0.6298635727288079}],"employee_benefits":[{"column":"coverage_level","similarity":0.6284972802326118},{"column":"employee_id","similarity":0.6041405196036292}],"employee_training":[{"column":"status","similarity":0.6218313368875849},{"column":"score","similarity":0.6185830853610097}],"business_units":[{"column":"manager_id","similarity":0.6208049194224817}],"projects":[{"column":"project_manager_id","similarity":0.6174592088393791}],"task_assignments":[{"column":"employee_id","similarity":0.6149774272355666}],"sales_orders":[{"column":"sales_rep_id","similarity":0.6089120347247923}],"warehouses":[{"column":"manager_id","similarity":0.6081121279686315}],"project_resources":[{"column":"employee_id","similarity":0.6074616431088047}]},"fused_scores":[{"table":"positions","fused":0.836822599497755,"table_sim":0.6915534653091021,"col_score":1.0547263007807341},{"table":"employees","fused":0.8144083097825153,"table_sim":0.6533237885369005,"col_score":1.0560350916509376},{"table":"employee_salaries","fused":0.8033684434694637,"table_sim":0.659392658582788,"col_score":1.019332120799477},{"table":"sales_territories","fused":0.6586466178388537,"table_sim":0.6489970483284497,"col_score":0.6731209721044596},{"table":"sales_regions","fused":0.5585392723435043,"table_sim":0.6307206585715829,"col_score":0.4502671930013863},{"table":"employee_certifications","fused":0.34730386796423035,"table_sim":0,"col_score":0.8682596699105758},{"table":"employment_history","fused":0.3420018092655434,"table_sim":0,"col_score":0.8550045231638584},{"table":"employee_benefits","fused":0.33597858483755283,"table_sim":0,"col_score":0.839946462093882},{"table":"employee_training","fused":0.3344896213086658,"table_sim":0,"col_score":0.8362240532716644},{"table":"sales_opportunities","fused":0.33127382224918994,"table_sim":0,"col_score":0.8281845556229748},{"table":"customer_contacts","fused":0.2563527744717289,"table_sim":0,"col_score":0.6408819361793222},{"table":"vendor_contacts","fused":0.2519454290915232,"table_sim":0,"col_score":0.6298635727288079},{"table":"departments","fused":0.17780024313043663,"table_sim":0,"col_score":0.4445006078260915},{"table":"business_units","fused":0.17382537743829488,"table_sim":0,"col_score":0.4345634435957372},{"table":"projects","fused":0.17288857847502614,"table_sim":0,"col_score":0.43222144618756536}],"fk_expansion_candidates":93,"fk_expansion_added":0,"fk_expansion_blocked_count":93,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":37,"total_retrieval_latency_ms":44,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":282,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:17.059Z","query_id":"ef1c15c5-ca0e-40dd-af3f-252d4c0370d2","question":"Find employees with expiring certifications in the next 6 months","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_certifications","certifications","employee_salaries","employee_training","employees","employment_history","employee_benefits","leave_requests","fixed_assets","training_courses","timesheets"],"tables_from_table_retrieval":6,"tables_from_column_only":10,"tables_from_fk_expansion":1,"table_scores":[{"table":"employee_certifications","similarity":0.7859468856867013},{"table":"employee_certifications","similarity":0.7859468856867013},{"table":"employee_certifications","similarity":0.7706241362613744},{"table":"certifications","similarity":0.6833271623394933},{"table":"certifications","similarity":0.6833271623394933},{"table":"certifications","similarity":0.6802005917779511},{"table":"employee_training","similarity":0.6443966057658752},{"table":"employee_training","similarity":0.6443966057658752},{"table":"employee_training","similarity":0.6440443171141977},{"table":"employees","similarity":0.6304880915961747},{"table":"employees","similarity":0.6304880915961747},{"table":"employee_salaries","similarity":0.6285918606598171},{"table":"employee_salaries","similarity":0.6285918606598171},{"table":"employment_history","similarity":0.6226874481800316},{"table":"employment_history","similarity":0.6226874481800316}],"column_hits_per_table":{"employee_certifications":6,"certifications":5,"employee_benefits":4,"employee_salaries":4,"employees":11,"employee_training":7,"employment_history":3,"sales_territories":1,"fixed_assets":1,"leave_requests":2,"sales_orders":1,"sales_opportunities":1,"training_courses":1,"vendor_invoices":1,"sales_regions":1,"timesheets":1},"top_columns_per_table":{"employee_certifications":[{"column":"expiry_date","similarity":0.824890334606253},{"column":"obtained_date","similarity":0.7052846826361914},{"column":"certificate_number","similarity":0.6847532958035393}],"certifications":[{"column":"validity_years","similarity":0.6770067141369405},{"column":"issuing_body","similarity":0.6636677218690651},{"column":"name","similarity":0.6345330007966575}],"employee_benefits":[{"column":"end_date","similarity":0.6748941092120173},{"column":"start_date","similarity":0.6211708522515275},{"column":"employee_id","similarity":0.5874772340410589}],"employee_salaries":[{"column":"end_date","similarity":0.674819986050645},{"column":"effective_date","similarity":0.6257662683349675},{"column":"approved_by","similarity":0.5906622365479393}],"employees":[{"column":"termination_date","similarity":0.6651670843704476},{"column":"birth_date","similarity":0.6195817101038591},{"column":"hire_date","similarity":0.604926374835591}],"employee_training":[{"column":"status","similarity":0.6639258100882921},{"column":"completion_date","similarity":0.6483605451444736},{"column":"scheduled_date","similarity":0.6309826728136354}],"employment_history":[{"column":"end_date","similarity":0.6300394640482956},{"column":"reason_for_leaving","similarity":0.5997641082568419},{"column":"employee_id","similarity":0.5844056747410719}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6148178600700598}],"fixed_assets":[{"column":"warranty_expiry","similarity":0.6065954902035513}],"leave_requests":[{"column":"approved_by","similarity":0.6047012182000441},{"column":"employee_id","similarity":0.5848951086127372}],"sales_orders":[{"column":"sales_rep_id","similarity":0.5904629307212104}],"sales_opportunities":[{"column":"owner_id","similarity":0.5886084108060572}],"training_courses":[{"column":"duration_hours","similarity":0.588545509623843}],"vendor_invoices":[{"column":"status","similarity":0.5865666000577741}],"sales_regions":[{"column":"manager_id","similarity":0.5830602727986053}],"timesheets":[{"column":"approved_by","similarity":0.5820241143955824}]},"fused_scores":[{"table":"employee_certifications","fused":0.9333875521265641,"table_sim":0.7706241362613744,"col_score":1.1775326759243487},{"table":"certifications","fused":0.8116565850953599,"table_sim":0.6802005917779511,"col_score":1.008840575071473},{"table":"employee_salaries","fused":0.7722363644831418,"table_sim":0.6285918606598171,"col_score":0.9877031202181288},{"table":"employee_training","fused":0.7719673428890352,"table_sim":0.6440443171141977,"col_score":0.9638518815512913},{"table":"employees","fused":0.7682760307266556,"table_sim":0.6304880915961747,"col_score":0.9749579394223771},{"table":"employment_history","fused":0.7455810761787056,"table_sim":0.6226874481800316,"col_score":0.9299215181767165},{"table":"employee_benefits","fused":0.3941918141351124,"table_sim":0,"col_score":0.985479535337781},{"table":"leave_requests","fused":0.32376580248580084,"table_sim":0,"col_score":0.8094145062145021},{"table":"fixed_assets","fused":0.24263819608142054,"table_sim":0,"col_score":0.6065954902035513},{"table":"training_courses","fused":0.2354182038495372,"table_sim":0,"col_score":0.588545509623843},{"table":"timesheets","fused":0.23280964575823299,"table_sim":0,"col_score":0.5820241143955824},{"table":"sales_territories","fused":0.17214900081961673,"table_sim":0,"col_score":0.4303725020490418},{"table":"sales_orders","fused":0.1653296206019389,"table_sim":0,"col_score":0.41332405150484725},{"table":"sales_opportunities","fused":0.16481035502569602,"table_sim":0,"col_score":0.41202588756424},{"table":"vendor_invoices","fused":0.16423864801617674,"table_sim":0,"col_score":0.41059662004044184}],"fk_expansion_candidates":105,"fk_expansion_added":1,"fk_expansion_blocked_count":102,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":31,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":298,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:17.358Z","query_id":"62944060-caf8-474c-855d-f4fbd9f2112f","question":"What is the total sales amount by customer for 2024?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_orders","sales_quotes","purchase_orders","customers","sales_regions","sales_territories","vendor_invoices","sales_opportunities","vendor_invoice_lines","goods_receipts","order_lines","receipt_lines"],"tables_from_table_retrieval":7,"tables_from_column_only":11,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_orders","similarity":0.6745457697247657},{"table":"sales_orders","similarity":0.6745457697247657},{"table":"sales_orders","similarity":0.6661782372338159},{"table":"sales_regions","similarity":0.6466539195201415},{"table":"purchase_orders","similarity":0.6425639839861694},{"table":"sales_regions","similarity":0.6391000207245879},{"table":"sales_regions","similarity":0.6391000207245879},{"table":"purchase_orders","similarity":0.6365277038136935},{"table":"purchase_orders","similarity":0.6365277038136935},{"table":"sales_quotes","similarity":0.6362675183217259},{"table":"sales_quotes","similarity":0.6362675183217259},{"table":"sales_quotes","similarity":0.6323684030188},{"table":"customers","similarity":0.6254829877818046},{"table":"goods_receipts","similarity":0.624224700776992},{"table":"sales_territories","similarity":0.6219383160682438}],"column_hits_per_table":{"sales_orders":11,"sales_quotes":8,"purchase_orders":3,"vendor_invoices":4,"sales_regions":2,"sales_opportunities":4,"budgets":1,"vendor_invoice_lines":3,"customers":5,"product_suppliers":2,"sales_territories":1,"inventory_transactions":1,"order_lines":1,"requisition_lines":1,"products":1,"employee_salaries":1,"receipt_lines":1},"top_columns_per_table":{"sales_orders":[{"column":"total","similarity":0.7267615224129526},{"column":"tax_amount","similarity":0.6768860201331778},{"column":"shipping_cost","similarity":0.6629388694517645}],"sales_quotes":[{"column":"total","similarity":0.694353474084059},{"column":"tax_amount","similarity":0.6552565219340181},{"column":"subtotal","similarity":0.6267182822036423}],"purchase_orders":[{"column":"total","similarity":0.6777199928257838},{"column":"tax_amount","similarity":0.6402978983456733},{"column":"shipping_cost","similarity":0.6243812460571962}],"vendor_invoices":[{"column":"total","similarity":0.6757800030933531},{"column":"amount_paid","similarity":0.6255444220000853},{"column":"tax_amount","similarity":0.6227458956839576}],"sales_regions":[{"column":"target_revenue","similarity":0.6672997133789248},{"column":"manager_id","similarity":0.6150592581557652}],"sales_opportunities":[{"column":"amount","similarity":0.6523518870366036},{"column":"actual_close_date","similarity":0.6234759946961155},{"column":"customer_id","similarity":0.6225457539270198}],"budgets":[{"column":"total_amount","similarity":0.6443640871252324}],"vendor_invoice_lines":[{"column":"amount","similarity":0.638640432265749},{"column":"quantity","similarity":0.6225103754226036},{"column":"unit_cost","similarity":0.6144886443515528}],"customers":[{"column":"is_active","similarity":0.6263453821128872},{"column":"payment_terms","similarity":0.6208624248875562},{"column":"customer_number","similarity":0.6199000162473296}],"product_suppliers":[{"column":"unit_cost","similarity":0.6228611719406651},{"column":"lead_time_days","similarity":0.6138713693045325}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6215934251847155}],"inventory_transactions":[{"column":"quantity","similarity":0.6213307623673536}],"order_lines":[{"column":"line_total","similarity":0.6162919437853911}],"requisition_lines":[{"column":"estimated_total","similarity":0.616233844515133}],"products":[{"column":"unit_cost","similarity":0.615179526855141}],"employee_salaries":[{"column":"amount","similarity":0.6128136846323675}],"receipt_lines":[{"column":"quantity_received","similarity":0.6105295012867741}]},"fused_scores":[{"table":"sales_orders","fused":0.8257887553321062,"table_sim":0.6661782372338159,"col_score":1.0652045324795414},{"table":"sales_quotes","fused":0.7882137358317072,"table_sim":0.6323684030188,"col_score":1.021981735051068},{"table":"purchase_orders","fused":0.7810641990876643,"table_sim":0.6365277038136935,"col_score":0.9978689419986204},{"table":"customers","fused":0.7476147658735712,"table_sim":0.6254829877818046,"col_score":0.930812433011221},{"table":"sales_regions","fused":0.7364881939281298,"table_sim":0.6391000207245879,"col_score":0.8825704537334427},{"table":"sales_territories","fused":0.5472091486926666,"table_sim":0.6219383160682438,"col_score":0.43511539762930085},{"table":"vendor_invoices","fused":0.39486118037413276,"table_sim":0,"col_score":0.9871529509353318},{"table":"sales_opportunities","fused":0.38563595375386456,"table_sim":0,"col_score":0.9640898843846614},{"table":"vendor_invoice_lines","fused":0.37995824799082034,"table_sim":0,"col_score":0.9498956199770507},{"table":"goods_receipts","fused":0.3745348204661952,"table_sim":0.624224700776992,"col_score":0},{"table":"product_suppliers","fused":0.37191874263717256,"table_sim":0,"col_score":0.9297968565929313},{"table":"budgets","fused":0.257745634850093,"table_sim":0,"col_score":0.6443640871252324},{"table":"inventory_transactions","fused":0.24853230494694145,"table_sim":0,"col_score":0.6213307623673536},{"table":"order_lines","fused":0.24651677751415646,"table_sim":0,"col_score":0.6162919437853911},{"table":"requisition_lines","fused":0.2464935378060532,"table_sim":0,"col_score":0.616233844515133}],"fk_expansion_candidates":45,"fk_expansion_added":2,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"order_lines","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":40,"total_retrieval_latency_ms":47,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":343,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:17.701Z","query_id":"7db86264-f347-43e2-a7e2-2ccc47b2aa6f","question":"List the top 10 customers by total order value","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_orders","order_lines","purchase_orders","customers","vendor_invoices","product_suppliers","customer_contacts","po_lines","vendor_invoice_lines","vendors","receipt_lines","sales_quotes"],"tables_from_table_retrieval":7,"tables_from_column_only":8,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_orders","similarity":0.6473006572264755},{"table":"order_lines","similarity":0.6399839764362797},{"table":"purchase_orders","similarity":0.6359216236921361},{"table":"sales_orders","similarity":0.6322789685618992},{"table":"sales_orders","similarity":0.6322789685618992},{"table":"order_lines","similarity":0.6313674438881497},{"table":"order_lines","similarity":0.6313674438881497},{"table":"purchase_orders","similarity":0.6225494231887847},{"table":"purchase_orders","similarity":0.6225494231887847},{"table":"customers","similarity":0.6198957604307753},{"table":"customers","similarity":0.603994667800392},{"table":"customers","similarity":0.603994667800392},{"table":"product_suppliers","similarity":0.5995729306104617},{"table":"vendor_invoices","similarity":0.5943908353227434},{"table":"customer_contacts","similarity":0.5842306673122464}],"column_hits_per_table":{"sales_orders":8,"purchase_orders":9,"order_lines":6,"customers":8,"vendor_invoices":3,"po_lines":4,"product_suppliers":1,"vendor_invoice_lines":3,"sales_quotes":1,"reorder_rules":1,"vendors":2,"receipt_lines":1,"customer_contacts":1,"vendor_contacts":1,"quote_lines":1},"top_columns_per_table":{"sales_orders":[{"column":"total","similarity":0.6989783838444601},{"column":"order_number","similarity":0.6685333803732707},{"column":"subtotal","similarity":0.6440170645492649}],"purchase_orders":[{"column":"total","similarity":0.6903262609210554},{"column":"po_number","similarity":0.6415427911377667},{"column":"subtotal","similarity":0.6382251563747767}],"order_lines":[{"column":"line_total","similarity":0.6750587403197648},{"column":"quantity_shipped","similarity":0.6574528419378944},{"column":"unit_price","similarity":0.6493800384208552}],"customers":[{"column":"customer_number","similarity":0.661666062123175},{"column":"phone","similarity":0.6564797570958422},{"column":"website","similarity":0.6340938119327376}],"vendor_invoices":[{"column":"total","similarity":0.6487049636317076},{"column":"subtotal","similarity":0.6036460618653252},{"column":"invoice_number","similarity":0.5951077315424751}],"po_lines":[{"column":"line_total","similarity":0.6415288139191745},{"column":"quantity_received","similarity":0.6378991363936013},{"column":"quantity","similarity":0.6200476984412968}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6409309856247254}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.6293094401462158},{"column":"amount","similarity":0.6217860311141447},{"column":"unit_cost","similarity":0.608519957652656}],"sales_quotes":[{"column":"total","similarity":0.6216495770294906}],"reorder_rules":[{"column":"max_quantity","similarity":0.6160793655093021}],"vendors":[{"column":"phone","similarity":0.6149928390714005},{"column":"vendor_number","similarity":0.5976911850670412}],"receipt_lines":[{"column":"quantity_received","similarity":0.60564498897585}],"customer_contacts":[{"column":"phone","similarity":0.6038535558458017}],"vendor_contacts":[{"column":"phone","similarity":0.5956727487995729}],"quote_lines":[{"column":"line_total","similarity":0.5920335049892667}]},"fused_scores":[{"table":"sales_orders","fused":0.7926654107495777,"table_sim":0.6322789685618992,"col_score":1.0332450740310954},{"table":"order_lines","fused":0.7803345308483746,"table_sim":0.6313674438881497,"col_score":1.0037851612887119},{"table":"purchase_orders","fused":0.7779687165092464,"table_sim":0.6225494231887847,"col_score":1.0110976564899388},{"table":"customers","fused":0.7583591769486737,"table_sim":0.603994667800392,"col_score":0.9899059406710962},{"table":"vendor_invoices","fused":0.7368456990193941,"table_sim":0.5943908353227434,"col_score":0.9505279945643702},{"table":"product_suppliers","fused":0.6161161526161671,"table_sim":0.5995729306104617,"col_score":0.6409309856247254},{"table":"customer_contacts","fused":0.5920798227256685,"table_sim":0.5842306673122464,"col_score":0.6038535558458017},{"table":"po_lines","fused":0.38419135284639006,"table_sim":0,"col_score":0.9604783821159751},{"table":"vendor_invoice_lines","fused":0.3760809822813153,"table_sim":0,"col_score":0.9402024557032882},{"table":"vendors","fused":0.36553537264196845,"table_sim":0,"col_score":0.9138384316049211},{"table":"sales_quotes","fused":0.24865983081179627,"table_sim":0,"col_score":0.6216495770294906},{"table":"reorder_rules","fused":0.24643174620372085,"table_sim":0,"col_score":0.6160793655093021},{"table":"receipt_lines","fused":0.24225799559034,"table_sim":0,"col_score":0.60564498897585},{"table":"vendor_contacts","fused":0.23826909951982916,"table_sim":0,"col_score":0.5956727487995729},{"table":"quote_lines","fused":0.23681340199570666,"table_sim":0,"col_score":0.5920335049892667}],"fk_expansion_candidates":42,"fk_expansion_added":2,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_quotes","reason":"already_selected"},{"table":"sales_quotes","reason":"already_selected"},{"table":"vendor_contacts","reason":"max_tables"},{"table":"vendor_contacts","reason":"max_tables"},{"table":"vendor_contacts","reason":"max_tables"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":26,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"name","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":1590,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:19.291Z","query_id":"2ae7af51-ad89-45fb-8ec4-377a349a5070","question":"Show sales opportunities in the Negotiation stage worth over $50,000","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_opportunities","opportunity_stages","sales_quotes","sales_orders","sales_regions","vendor_invoices","purchase_orders","positions","project_milestones","sales_territories","fixed_assets","vendor_invoice_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_opportunities","similarity":0.7205066192182484},{"table":"sales_opportunities","similarity":0.7205066192182484},{"table":"sales_opportunities","similarity":0.6992078050992712},{"table":"opportunity_stages","similarity":0.6655732816251885},{"table":"opportunity_stages","similarity":0.6634227373711339},{"table":"opportunity_stages","similarity":0.6634227373711339},{"table":"sales_quotes","similarity":0.6041542335555263},{"table":"sales_quotes","similarity":0.6041542335555263},{"table":"sales_quotes","similarity":0.5966843975960908},{"table":"sales_orders","similarity":0.5645767590839142},{"table":"sales_orders","similarity":0.5645767590839142},{"table":"sales_regions","similarity":0.5644307089309575},{"table":"sales_regions","similarity":0.5644307089309575},{"table":"sales_orders","similarity":0.5593486033229518},{"table":"sales_regions","similarity":0.5589767008926408}],"column_hits_per_table":{"sales_opportunities":11,"opportunity_stages":6,"sales_quotes":8,"sales_orders":6,"sales_regions":2,"vendor_invoices":3,"project_milestones":2,"positions":2,"purchase_orders":3,"sales_territories":2,"fixed_assets":1,"vendor_invoice_lines":1,"purchase_requisitions":1,"inventory_levels":1,"products":1},"top_columns_per_table":{"sales_opportunities":[{"column":"amount","similarity":0.7139172496304163},{"column":"stage_id","similarity":0.6952000862360895},{"column":"actual_close_date","similarity":0.6830334219532271}],"opportunity_stages":[{"column":"sequence","similarity":0.6389837993697431},{"column":"probability","similarity":0.6259533584092214},{"column":"is_won","similarity":0.6211680792249179}],"sales_quotes":[{"column":"opportunity_id","similarity":0.6386990954132878},{"column":"total","similarity":0.6088430478546591},{"column":"status","similarity":0.5992888067529821}],"sales_orders":[{"column":"total","similarity":0.6131594865943232},{"column":"subtotal","similarity":0.6030274083374146},{"column":"status","similarity":0.5842354820649266}],"sales_regions":[{"column":"target_revenue","similarity":0.5946091865549964},{"column":"name","similarity":0.5570467585870398}],"vendor_invoices":[{"column":"total","similarity":0.5900128893372721},{"column":"subtotal","similarity":0.579374118244058},{"column":"amount_paid","similarity":0.5561381247624678}],"project_milestones":[{"column":"amount","similarity":0.5756739943176631},{"column":"description","similarity":0.5441090718901616}],"positions":[{"column":"max_salary","similarity":0.5741603665488147},{"column":"min_salary","similarity":0.5538510718211699}],"purchase_orders":[{"column":"total","similarity":0.5739273632713984},{"column":"subtotal","similarity":0.5646712926349372},{"column":"tax_amount","similarity":0.5423612991250856}],"sales_territories":[{"column":"name","similarity":0.5705580376132843},{"column":"territory_id","similarity":0.5472841845831027}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5580674942148667}],"vendor_invoice_lines":[{"column":"amount","similarity":0.5568943563507056}],"purchase_requisitions":[{"column":"status","similarity":0.5555841794582627}],"inventory_levels":[{"column":"quantity_available","similarity":0.5538118214636725}],"products":[{"column":"list_price","similarity":0.5426989166991779}]},"fused_scores":[{"table":"sales_opportunities","fused":0.8416982673023746,"table_sim":0.6992078050992712,"col_score":1.0554339606070298},{"table":"opportunity_stages","fused":0.7788378338524219,"table_sim":0.6634227373711339,"col_score":0.9519604785743538},{"table":"sales_quotes","fused":0.7207301540910609,"table_sim":0.5966843975960908,"col_score":0.9067987888335158},{"table":"sales_orders","fused":0.7014784382989834,"table_sim":0.5593486033229518,"col_score":0.9146731907630306},{"table":"sales_regions","fused":0.6512162413597686,"table_sim":0.5589767008926408,"col_score":0.7895755520604604},{"table":"vendor_invoices","fused":0.35187997938372045,"table_sim":0,"col_score":0.8796999484593011},{"table":"purchase_orders","fused":0.34250520383554683,"table_sim":0,"col_score":0.856263009588867},{"table":"positions","fused":0.3404343609837599,"table_sim":0,"col_score":0.8510859024593997},{"table":"project_milestones","fused":0.3064448677916879,"table_sim":0,"col_score":0.7661121694792197},{"table":"sales_territories","fused":0.23637603637335394,"table_sim":0,"col_score":0.5909400909333848},{"table":"fixed_assets","fused":0.22322699768594667,"table_sim":0,"col_score":0.5580674942148667},{"table":"vendor_invoice_lines","fused":0.22275774254028224,"table_sim":0,"col_score":0.5568943563507056},{"table":"inventory_levels","fused":0.221524728585469,"table_sim":0,"col_score":0.5538118214636725},{"table":"products","fused":0.21707956667967118,"table_sim":0,"col_score":0.5426989166991779},{"table":"purchase_requisitions","fused":0.15556357024831355,"table_sim":0,"col_score":0.38890892562078383}],"fk_expansion_candidates":39,"fk_expansion_added":2,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":28,"total_retrieval_latency_ms":34,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":300,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:19.592Z","query_id":"8f7c8afe-b50b-465a-ad31-604927b04d74","question":"What is the conversion rate from quotes to orders?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["quote_lines","sales_quotes","sales_orders","order_lines","purchase_orders","po_lines","currencies","product_suppliers","units_of_measure","vendor_invoice_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":5,"tables_from_fk_expansion":0,"table_scores":[{"table":"quote_lines","similarity":0.6904269230356019},{"table":"sales_orders","similarity":0.6835641897302034},{"table":"quote_lines","similarity":0.6792514897887778},{"table":"quote_lines","similarity":0.6792514897887778},{"table":"sales_quotes","similarity":0.6684713746648914},{"table":"sales_quotes","similarity":0.6542909932605636},{"table":"sales_quotes","similarity":0.6542909932605636},{"table":"order_lines","similarity":0.6535630831611231},{"table":"sales_orders","similarity":0.6493194652837458},{"table":"sales_orders","similarity":0.6493194652837458},{"table":"order_lines","similarity":0.6325855320371501},{"table":"order_lines","similarity":0.6325855320371501},{"table":"purchase_orders","similarity":0.6306886393929901},{"table":"po_lines","similarity":0.6176945995415711},{"table":"purchase_orders","similarity":0.611822309215676}],"column_hits_per_table":{"quote_lines":7,"sales_orders":8,"sales_quotes":11,"order_lines":6,"purchase_orders":8,"currencies":1,"product_suppliers":1,"po_lines":5,"units_of_measure":1,"vendor_invoice_lines":1,"goods_receipts":1},"top_columns_per_table":{"quote_lines":[{"column":"discount_percent","similarity":0.7182593829036943},{"column":"unit_price","similarity":0.7042313198565835},{"column":"line_total","similarity":0.6835145369839556}],"sales_orders":[{"column":"quote_id","similarity":0.7162590921292421},{"column":"total","similarity":0.6708820094443375},{"column":"order_number","similarity":0.6584546291944807}],"sales_quotes":[{"column":"total","similarity":0.7028223896965587},{"column":"quote_number","similarity":0.6939392229110496},{"column":"subtotal","similarity":0.6721480194739803}],"order_lines":[{"column":"discount_percent","similarity":0.6900369024388224},{"column":"unit_price","similarity":0.6660264997212797},{"column":"line_total","similarity":0.649395314588063}],"purchase_orders":[{"column":"total","similarity":0.6764211066970435},{"column":"subtotal","similarity":0.6567665860213302},{"column":"shipping_cost","similarity":0.65414342449199}],"currencies":[{"column":"exchange_rate","similarity":0.6392996583071135}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6332497450599537}],"po_lines":[{"column":"unit_cost","similarity":0.6282439661872448},{"column":"quantity_received","similarity":0.6270669349209222},{"column":"line_total","similarity":0.6215823065959345}],"units_of_measure":[{"column":"conversion_factor","similarity":0.6171116889177036}],"vendor_invoice_lines":[{"column":"unit_cost","similarity":0.6160794181570742}],"goods_receipts":[{"column":"po_id","similarity":0.6137867153632621}]},"fused_scores":[{"table":"quote_lines","fused":0.8357009110060611,"table_sim":0.6792514897887778,"col_score":1.070375042831986},{"table":"sales_quotes","fused":0.8124913964171716,"table_sim":0.6542909932605636,"col_score":1.0497920011520836},{"table":"sales_orders","fused":0.7896354087868787,"table_sim":0.6493194652837458,"col_score":1.000109324041578},{"table":"order_lines","fused":0.788771380142075,"table_sim":0.6325855320371501,"col_score":1.0230501522994624},{"table":"purchase_orders","fused":0.769015145412489,"table_sim":0.611822309215676,"col_score":1.0048043997077085},{"table":"po_lines","fused":0.747327733184025,"table_sim":0.6176945995415711,"col_score":0.9417774336477058},{"table":"currencies","fused":0.2557198633228454,"table_sim":0,"col_score":0.6392996583071135},{"table":"product_suppliers","fused":0.2532998980239815,"table_sim":0,"col_score":0.6332497450599537},{"table":"units_of_measure","fused":0.24684467556708145,"table_sim":0,"col_score":0.6171116889177036},{"table":"vendor_invoice_lines","fused":0.2464317672628297,"table_sim":0,"col_score":0.6160794181570742},{"table":"goods_receipts","fused":0.1718602803017134,"table_sim":0,"col_score":0.42965070075428347}],"fk_expansion_candidates":39,"fk_expansion_added":0,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":54,"total_retrieval_latency_ms":61,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":364,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:19.956Z","query_id":"cc5e5365-6a65-4bac-8873-0c8745ec0d00","question":"List sales orders by sales representative with their totals","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_orders","purchase_orders","order_lines","sales_quotes","goods_receipts","sales_territories","po_lines","sales_regions","vendor_invoices","receipt_lines","sales_opportunities","vendor_invoice_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":8,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_orders","similarity":0.758754229471184},{"table":"sales_orders","similarity":0.7556252264934581},{"table":"sales_orders","similarity":0.7556252264934581},{"table":"purchase_orders","similarity":0.6987531686909988},{"table":"purchase_orders","similarity":0.6886720787474853},{"table":"purchase_orders","similarity":0.6886720787474853},{"table":"order_lines","similarity":0.6881373549198537},{"table":"order_lines","similarity":0.6816260009947546},{"table":"order_lines","similarity":0.6816260009947546},{"table":"sales_quotes","similarity":0.6493819389041919},{"table":"sales_quotes","similarity":0.6493819389041919},{"table":"goods_receipts","similarity":0.6456282553665884},{"table":"sales_quotes","similarity":0.6444526679613465},{"table":"sales_territories","similarity":0.6375070500401926},{"table":"sales_territories","similarity":0.6348500168058512}],"column_hits_per_table":{"sales_orders":15,"purchase_orders":12,"sales_quotes":6,"order_lines":5,"sales_regions":1,"vendor_invoices":1,"sales_territories":1,"receipt_lines":1,"vendor_invoice_lines":1,"po_lines":3,"goods_receipts":1,"product_suppliers":1,"sales_opportunities":1,"inventory_transactions":1},"top_columns_per_table":{"sales_orders":[{"column":"total","similarity":0.7984816373428206},{"column":"order_number","similarity":0.7376507065051414},{"column":"tax_amount","similarity":0.7355899521470814}],"purchase_orders":[{"column":"total","similarity":0.734096231715997},{"column":"tax_amount","similarity":0.6843265970253858},{"column":"subtotal","similarity":0.6744270570758721}],"sales_quotes":[{"column":"total","similarity":0.6966422036282015},{"column":"status","similarity":0.6606149717330653},{"column":"tax_amount","similarity":0.6474260599431703}],"order_lines":[{"column":"quantity_shipped","similarity":0.6752744675245054},{"column":"line_total","similarity":0.6719261035704387},{"column":"quantity","similarity":0.6483651230587076}],"sales_regions":[{"column":"target_revenue","similarity":0.6591934074166641}],"vendor_invoices":[{"column":"total","similarity":0.6455669148097609}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6413528025002969}],"receipt_lines":[{"column":"quantity_received","similarity":0.6394945951070348}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.6336019163468033}],"po_lines":[{"column":"line_total","similarity":0.6324408227358158},{"column":"quantity_received","similarity":0.6248640275162665},{"column":"quantity","similarity":0.6172166944597351}],"goods_receipts":[{"column":"po_id","similarity":0.6290574732384728}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6285907746616352}],"sales_opportunities":[{"column":"amount","similarity":0.6191854884462563}],"inventory_transactions":[{"column":"quantity","similarity":0.6191435481021224}]},"fused_scores":[{"table":"sales_orders","fused":0.9202979321342314,"table_sim":0.7556252264934581,"col_score":1.1673069905953914},{"table":"purchase_orders","fused":0.8437070593399671,"table_sim":0.6886720787474853,"col_score":1.07625953022869},{"table":"order_lines","fused":0.8134706083207426,"table_sim":0.6816260009947546,"col_score":1.0112375193097247},{"table":"sales_quotes","fused":0.7948136942167225,"table_sim":0.6444526679613465,"col_score":1.0203552335997865},{"table":"goods_receipts","fused":0.5635130457267254,"table_sim":0.6456282553665884,"col_score":0.44034023126693095},{"table":"sales_territories","fused":0.5604887947835939,"table_sim":0.6348500168058512,"col_score":0.4489469617502078},{"table":"po_lines","fused":0.3779491345975796,"table_sim":0,"col_score":0.944872836493949},{"table":"sales_regions","fused":0.26367736296666566,"table_sim":0,"col_score":0.6591934074166641},{"table":"vendor_invoices","fused":0.25822676592390437,"table_sim":0,"col_score":0.6455669148097609},{"table":"receipt_lines","fused":0.2557978380428139,"table_sim":0,"col_score":0.6394945951070348},{"table":"vendor_invoice_lines","fused":0.25344076653872133,"table_sim":0,"col_score":0.6336019163468033},{"table":"product_suppliers","fused":0.2514363098646541,"table_sim":0,"col_score":0.6285907746616352},{"table":"sales_opportunities","fused":0.24767419537850255,"table_sim":0,"col_score":0.6191854884462563},{"table":"inventory_transactions","fused":0.24765741924084894,"table_sim":0,"col_score":0.6191435481021224}],"fk_expansion_candidates":36,"fk_expansion_added":2,"fk_expansion_blocked_count":30,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":24,"total_retrieval_latency_ms":30,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":328,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:20.284Z","query_id":"ffa9aa12-696d-44f1-9e2f-a9e2a32fdcef","question":"Which products have inventory below their reorder point?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["inventory_levels","reorder_rules","order_lines","sales_orders","inventory_transactions","purchase_orders","products","inventory_adjustments","purchase_requisitions","po_lines","product_suppliers","warehouse_locations"],"tables_from_table_retrieval":7,"tables_from_column_only":9,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_levels","similarity":0.7070801714571546},{"table":"reorder_rules","similarity":0.6993615141081165},{"table":"inventory_levels","similarity":0.6953472951150648},{"table":"inventory_levels","similarity":0.6953472951150648},{"table":"reorder_rules","similarity":0.6944993157914898},{"table":"reorder_rules","similarity":0.6944993157914898},{"table":"order_lines","similarity":0.6642088827606001},{"table":"order_lines","similarity":0.6572535778016314},{"table":"order_lines","similarity":0.6572535778016314},{"table":"purchase_orders","similarity":0.6443483426703897},{"table":"inventory_transactions","similarity":0.6416382343377212},{"table":"purchase_orders","similarity":0.633710828585256},{"table":"purchase_orders","similarity":0.633710828585256},{"table":"products","similarity":0.6294483845877934},{"table":"sales_orders","similarity":0.6263982770622627}],"column_hits_per_table":{"reorder_rules":6,"inventory_levels":7,"order_lines":4,"sales_orders":6,"po_lines":2,"inventory_adjustments":4,"purchase_orders":5,"product_suppliers":1,"inventory_transactions":6,"requisition_lines":1,"warehouse_locations":1,"purchase_requisitions":2,"products":2,"goods_receipts":1,"product_categories":1,"fixed_assets":1},"top_columns_per_table":{"reorder_rules":[{"column":"product_id","similarity":0.6848016931751442},{"column":"reorder_quantity","similarity":0.6637797302393366},{"column":"min_quantity","similarity":0.6574207762819531}],"inventory_levels":[{"column":"last_count_date","similarity":0.6817961261538734},{"column":"quantity_on_hand","similarity":0.6695351192378397},{"column":"product_id","similarity":0.6682884756083407}],"order_lines":[{"column":"product_id","similarity":0.6691954780163692},{"column":"quantity_shipped","similarity":0.637679790857748},{"column":"quantity","similarity":0.6321627156566018}],"sales_orders":[{"column":"order_number","similarity":0.6627704470010616},{"column":"status","similarity":0.6471660709577013},{"column":"order_date","similarity":0.6389517822162246}],"po_lines":[{"column":"product_id","similarity":0.6504268752720367},{"column":"po_id","similarity":0.6077693680985435}],"inventory_adjustments":[{"column":"status","similarity":0.6479602296650583},{"column":"reason","similarity":0.6457522392027785},{"column":"adjustment_number","similarity":0.6378457218522001}],"purchase_orders":[{"column":"po_number","similarity":0.6474162126096339},{"column":"status","similarity":0.6402955005707206},{"column":"expected_date","similarity":0.6228851654803191}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.641385053356931}],"inventory_transactions":[{"column":"quantity","similarity":0.6375918434746354},{"column":"product_id","similarity":0.637542414223907},{"column":"location_id","similarity":0.6341790276928759}],"requisition_lines":[{"column":"product_id","similarity":0.6314296366225383}],"warehouse_locations":[{"column":"aisle","similarity":0.6303878312508351}],"purchase_requisitions":[{"column":"requisition_number","similarity":0.6234744184832554},{"column":"status","similarity":0.6170438229673241}],"products":[{"column":"list_price","similarity":0.6178030633511985},{"column":"category_id","similarity":0.6099738535155036}],"goods_receipts":[{"column":"po_id","similarity":0.6089214662001797}],"product_categories":[{"column":"is_active","similarity":0.6087500213588084}],"fixed_assets":[{"column":"po_id","similarity":0.6068785699474105}]},"fused_scores":[{"table":"inventory_levels","fused":0.8238338513781562,"table_sim":0.6953472951150648,"col_score":1.0165636857727933},{"table":"reorder_rules","fused":0.8136956368270192,"table_sim":0.6944993157914898,"col_score":0.9924901183803131},{"table":"order_lines","fused":0.7758566061553984,"table_sim":0.6572535778016314,"col_score":0.9537611486860489},{"table":"sales_orders","fused":0.7687375014810272,"table_sim":0.6263982770622627,"col_score":0.9822463381091739},{"table":"inventory_transactions","fused":0.7651306372843636,"table_sim":0.6416382343377212,"col_score":0.9503692417043273},{"table":"purchase_orders","fused":0.7637700152910709,"table_sim":0.633710828585256,"col_score":0.9588587953497935},{"table":"products","fused":0.7101865955853259,"table_sim":0.6294483845877934,"col_score":0.8312939120816247},{"table":"inventory_adjustments","fused":0.3858700400515514,"table_sim":0,"col_score":0.9646751001288785},{"table":"purchase_requisitions","fused":0.33577590260872753,"table_sim":0,"col_score":0.8394397565218188},{"table":"po_lines","fused":0.26720723660996637,"table_sim":0,"col_score":0.6680180915249159},{"table":"product_suppliers","fused":0.2565540213427724,"table_sim":0,"col_score":0.641385053356931},{"table":"warehouse_locations","fused":0.25215513250033406,"table_sim":0,"col_score":0.6303878312508351},{"table":"requisition_lines","fused":0.1768002982543107,"table_sim":0,"col_score":0.44200074563577674},{"table":"goods_receipts","fused":0.17049801053605032,"table_sim":0,"col_score":0.4262450263401258},{"table":"product_categories","fused":0.17045000598046633,"table_sim":0,"col_score":0.42612501495116584}],"fk_expansion_candidates":60,"fk_expansion_added":2,"fk_expansion_blocked_count":54,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"product_suppliers","reason":"already_selected"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":41,"total_retrieval_latency_ms":48,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":370,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:20.654Z","query_id":"d1a4997d-f625-4117-8e30-db0815fec727","question":"Show total inventory value by warehouse","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["inventory_levels","warehouse_locations","inventory_transactions","warehouses","inventory_adjustments","goods_receipts","sales_orders","depreciation_entries","products","stock_transfers","purchase_orders","fixed_assets"],"tables_from_table_retrieval":6,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_levels","similarity":0.7104203582862987},{"table":"inventory_levels","similarity":0.7062958755605335},{"table":"inventory_levels","similarity":0.7062958755605335},{"table":"inventory_transactions","similarity":0.680757846413893},{"table":"inventory_transactions","similarity":0.6765591263871731},{"table":"inventory_transactions","similarity":0.6765591263871731},{"table":"warehouse_locations","similarity":0.6696147841460903},{"table":"warehouse_locations","similarity":0.6696147841460903},{"table":"warehouse_locations","similarity":0.6688272683283106},{"table":"inventory_adjustments","similarity":0.6606002830367331},{"table":"warehouses","similarity":0.6556396900395098},{"table":"warehouses","similarity":0.6549847651325709},{"table":"warehouses","similarity":0.6549847651325709},{"table":"goods_receipts","similarity":0.6485940357294664},{"table":"inventory_adjustments","similarity":0.6481714490174519}],"column_hits_per_table":{"inventory_levels":8,"inventory_transactions":7,"goods_receipts":1,"inventory_adjustments":2,"warehouse_locations":7,"warehouses":6,"sales_orders":4,"stock_transfers":2,"vendor_invoices":1,"purchase_orders":1,"budgets":1,"sales_quotes":1,"receipt_lines":1,"product_suppliers":1,"departments":1,"depreciation_entries":2,"reorder_rules":1,"products":2,"fixed_assets":1},"top_columns_per_table":{"inventory_levels":[{"column":"warehouse_id","similarity":0.708722514782743},{"column":"quantity_available","similarity":0.6604112553081857},{"column":"location_id","similarity":0.6602421519261215}],"inventory_transactions":[{"column":"warehouse_id","similarity":0.6993416090005563},{"column":"quantity","similarity":0.689333383144765},{"column":"location_id","similarity":0.660944351084026}],"goods_receipts":[{"column":"warehouse_id","similarity":0.688838466629484}],"inventory_adjustments":[{"column":"warehouse_id","similarity":0.6887282990877287},{"column":"adjusted_by","similarity":0.5981689946700227}],"warehouse_locations":[{"column":"capacity","similarity":0.6827158501951326},{"column":"warehouse_id","similarity":0.662666484484188},{"column":"aisle","similarity":0.6432371700626858}],"warehouses":[{"column":"warehouse_id","similarity":0.6820022612136065},{"column":"code","similarity":0.6539272965859065},{"column":"manager_id","similarity":0.6485538115680078}],"sales_orders":[{"column":"total","similarity":0.6722495952714556},{"column":"shipping_cost","similarity":0.60704061712735},{"column":"tax_amount","similarity":0.6052565462982356}],"stock_transfers":[{"column":"to_warehouse_id","similarity":0.6688782877276971},{"column":"from_warehouse_id","similarity":0.6625944072749643}],"vendor_invoices":[{"column":"total","similarity":0.6650649265799957}],"purchase_orders":[{"column":"total","similarity":0.6529876873319977}],"budgets":[{"column":"total_amount","similarity":0.6288992519439089}],"sales_quotes":[{"column":"total","similarity":0.6183165548964591}],"receipt_lines":[{"column":"location_id","similarity":0.6178862177295927}],"product_suppliers":[{"column":"unit_cost","similarity":0.6136774418242915}],"departments":[{"column":"budget","similarity":0.6126737864581466}],"depreciation_entries":[{"column":"book_value","similarity":0.6106026426926224},{"column":"amount","similarity":0.6023684484447284}],"reorder_rules":[{"column":"warehouse_id","similarity":0.6057139616644429}],"products":[{"column":"unit_cost","similarity":0.6047858628133291},{"column":"list_price","similarity":0.599736955772572}],"fixed_assets":[{"column":"disposal_amount","similarity":0.6025646944840113}]},"fused_scores":[{"table":"inventory_levels","fused":0.819440334599304,"table_sim":0.7062958755605335,"col_score":0.9891570231574598},{"table":"warehouse_locations","fused":0.8030301350875766,"table_sim":0.6688272683283106,"col_score":1.0043344352264754},{"table":"inventory_transactions","fused":0.7795766543502878,"table_sim":0.6765591263871731,"col_score":0.9341029462949597},{"table":"warehouses","fused":0.7500420942838101,"table_sim":0.6549847651325709,"col_score":0.8926280880106688},{"table":"inventory_adjustments","fused":0.7245924291507623,"table_sim":0.6481714490174519,"col_score":0.8392238993507277},{"table":"goods_receipts","fused":0.5820311920939354,"table_sim":0.6485940357294664,"col_score":0.4821869266406388},{"table":"sales_orders","fused":0.3903079615340523,"table_sim":0,"col_score":0.9757699038351306},{"table":"depreciation_entries","fused":0.3647147467659947,"table_sim":0,"col_score":0.9117868669149867},{"table":"products","fused":0.3618617362798461,"table_sim":0,"col_score":0.9046543406996151},{"table":"stock_transfers","fused":0.2800491375822502,"table_sim":0,"col_score":0.7001228439556254},{"table":"vendor_invoices","fused":0.2660259706319983,"table_sim":0,"col_score":0.6650649265799957},{"table":"purchase_orders","fused":0.2611950749327991,"table_sim":0,"col_score":0.6529876873319977},{"table":"budgets","fused":0.25155970077756357,"table_sim":0,"col_score":0.6288992519439089},{"table":"sales_quotes","fused":0.24732662195858365,"table_sim":0,"col_score":0.6183165548964591},{"table":"product_suppliers","fused":0.24547097672971663,"table_sim":0,"col_score":0.6136774418242915}],"fk_expansion_candidates":57,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"journal_entries","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"purchase_orders","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"fixed_assets","reason":"already_selected"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":16,"total_retrieval_latency_ms":23,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"w","column":"warehouse_id","resolved_table":"warehouses","suggested_columns":[]},{"alias":"i","column":"quantity","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"purchase_cost","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"location_id","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"w","column":"warehouse_id","resolved_table":"warehouses","suggested_columns":[]},{"alias":"w","column":"warehouse_id","resolved_table":"warehouses","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":1923,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T21:49:22.577Z","query_id":"9f594070-b713-4ba4-a214-f8b7b052d99c","question":"List products that had stock transfers in the last 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["stock_transfers","asset_transfers","product_suppliers","transfer_lines","products","goods_receipts","sales_orders","sales_opportunities","purchase_orders","bank_transactions","inventory_transactions","inventory_levels"],"tables_from_table_retrieval":6,"tables_from_column_only":12,"tables_from_fk_expansion":2,"table_scores":[{"table":"stock_transfers","similarity":0.7091850354041176},{"table":"stock_transfers","similarity":0.7011965090595027},{"table":"stock_transfers","similarity":0.7011965090595027},{"table":"transfer_lines","similarity":0.6496835362341594},{"table":"transfer_lines","similarity":0.6496835362341594},{"table":"transfer_lines","similarity":0.646870577681612},{"table":"asset_transfers","similarity":0.5968754380180706},{"table":"asset_transfers","similarity":0.5968754380180706},{"table":"asset_transfers","similarity":0.59288750153646},{"table":"product_suppliers","similarity":0.5817884382151997},{"table":"product_suppliers","similarity":0.5745779979943767},{"table":"product_suppliers","similarity":0.5745779979943767},{"table":"goods_receipts","similarity":0.5680812156740983},{"table":"products","similarity":0.5634067444500328},{"table":"goods_receipts","similarity":0.5627684399196974}],"column_hits_per_table":{"stock_transfers":9,"asset_transfers":4,"fixed_assets":1,"product_suppliers":2,"products":5,"goods_receipts":2,"sales_orders":4,"transfer_lines":3,"sales_opportunities":2,"purchase_orders":3,"bank_transactions":2,"inventory_adjustments":1,"inventory_transactions":3,"asset_maintenance":1,"purchase_requisitions":3,"sales_quotes":3,"inventory_levels":1,"vendor_invoices":1},"top_columns_per_table":{"stock_transfers":[{"column":"transfer_date","similarity":0.7499168921470162},{"column":"requested_date","similarity":0.7345265492490073},{"column":"status","similarity":0.7330447738209374}],"asset_transfers":[{"column":"transfer_date","similarity":0.6805213481174137},{"column":"reason","similarity":0.6364549306171452},{"column":"transferred_by","similarity":0.5760045825951514}],"fixed_assets":[{"column":"purchase_date","similarity":0.6273418627780806}],"product_suppliers":[{"column":"lead_time_days","similarity":0.6226272716760114},{"column":"vendor_sku","similarity":0.5886978994384543}],"products":[{"column":"sku","similarity":0.6116137990281642},{"column":"weight","similarity":0.6100903093863776},{"column":"name","similarity":0.6058188658015616}],"goods_receipts":[{"column":"receipt_date","similarity":0.6110182471068999},{"column":"notes","similarity":0.5904748926703712}],"sales_orders":[{"column":"ship_date","similarity":0.6099316067185375},{"column":"order_date","similarity":0.5959651780199162},{"column":"status","similarity":0.5956583941840918}],"transfer_lines":[{"column":"transfer_id","similarity":0.6075867978368561},{"column":"product_id","similarity":0.5992251210020744},{"column":"quantity_transferred","similarity":0.5858026631707312}],"sales_opportunities":[{"column":"actual_close_date","similarity":0.6030406652697254},{"column":"expected_close_date","similarity":0.5875094961690548}],"purchase_orders":[{"column":"status","similarity":0.5975839583778322},{"column":"order_date","similarity":0.5938817441678782},{"column":"expected_date","similarity":0.589876682073089}],"bank_transactions":[{"column":"transaction_date","similarity":0.5964828803092368},{"column":"reconciled","similarity":0.5699506323088029}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5938851055262241}],"inventory_transactions":[{"column":"transaction_date","similarity":0.5868513506524482},{"column":"transaction_type","similarity":0.5727879607007047},{"column":"reference_type","similarity":0.5713153140670767}],"asset_maintenance":[{"column":"completed_date","similarity":0.5867606193386766}],"purchase_requisitions":[{"column":"status","similarity":0.5827865883224072},{"column":"approved_date","similarity":0.5710456887653464},{"column":"notes","similarity":0.5705665600863868}],"sales_quotes":[{"column":"status","similarity":0.5826553998030811},{"column":"valid_until","similarity":0.5817087714931044},{"column":"quote_date","similarity":0.5733265296465615}],"inventory_levels":[{"column":"last_count_date","similarity":0.5783828724054709}],"vendor_invoices":[{"column":"status","similarity":0.5680190001288683}]},"fused_scores":[{"table":"stock_transfers","fused":0.8675899721443094,"table_sim":0.7011965090595027,"col_score":1.1171801667715198},{"table":"asset_transfers","fused":0.7552320262922705,"table_sim":0.59288750153646,"col_score":0.9987488134259863},{"table":"product_suppliers","fused":0.7115372873547214,"table_sim":0.5745779979943767,"col_score":0.9169762213952386},{"table":"transfer_lines","fused":0.7075055635744195,"table_sim":0.646870577681612,"col_score":0.7984580424136307},{"table":"products","fused":0.7047076281585609,"table_sim":0.5634067444500328,"col_score":0.916658953721353},{"table":"goods_receipts","fused":0.6647348477684304,"table_sim":0.5627684399196974,"col_score":0.8176844595415298},{"table":"sales_orders","fused":0.3631656782913983,"table_sim":0,"col_score":0.9079141957284956},{"table":"sales_opportunities","fused":0.35871816534170115,"table_sim":0,"col_score":0.8967954133542528},{"table":"purchase_orders","fused":0.3555280340817691,"table_sim":0,"col_score":0.8888200852044227},{"table":"bank_transactions","fused":0.35258327858545535,"table_sim":0,"col_score":0.8814581964636383},{"table":"inventory_transactions","fused":0.34929813240112023,"table_sim":0,"col_score":0.8732453310028006},{"table":"sales_quotes","fused":0.3473488145265541,"table_sim":0,"col_score":0.8683720363163852},{"table":"purchase_requisitions","fused":0.3100083978712756,"table_sim":0,"col_score":0.775020994678189},{"table":"fixed_assets","fused":0.25093674511123226,"table_sim":0,"col_score":0.6273418627780806},{"table":"inventory_adjustments","fused":0.23755404221048965,"table_sim":0,"col_score":0.5938851055262241}],"fk_expansion_candidates":69,"fk_expansion_added":2,"fk_expansion_blocked_count":54,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"sales_quotes","reason":"max_tables"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_levels","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":41,"total_retrieval_latency_ms":47,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":337,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:22.914Z","query_id":"2ab66de6-19f4-4dbd-8938-6c2382bb9815","question":"What is the total spend by vendor this year?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["vendor_invoices","purchase_orders","vendors","project_expenses","product_suppliers","vendor_invoice_lines","project_budgets","sales_orders","sales_quotes","fixed_assets","vendor_contacts","products"],"tables_from_table_retrieval":6,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"vendor_invoices","similarity":0.6440970715159303},{"table":"vendor_invoices","similarity":0.6440970715159303},{"table":"vendor_invoices","similarity":0.639424435349415},{"table":"vendors","similarity":0.6244918790926227},{"table":"purchase_orders","similarity":0.6205493350711797},{"table":"purchase_orders","similarity":0.6205493350711797},{"table":"vendors","similarity":0.6183112819198846},{"table":"vendors","similarity":0.6183112819198846},{"table":"purchase_orders","similarity":0.6177456671712362},{"table":"product_suppliers","similarity":0.598703660216106},{"table":"fiscal_years","similarity":0.5958886040093712},{"table":"project_expenses","similarity":0.5917559199865416},{"table":"project_expenses","similarity":0.5906949409227156},{"table":"project_expenses","similarity":0.5906949409227156},{"table":"product_suppliers","similarity":0.5892637416806026}],"column_hits_per_table":{"vendor_invoices":10,"budgets":1,"purchase_orders":6,"vendor_invoice_lines":3,"project_expenses":2,"vendors":8,"sales_orders":2,"project_budgets":2,"product_suppliers":2,"sales_quotes":2,"projects":1,"fixed_assets":3,"products":1,"budget_lines":1,"purchase_requisitions":3,"depreciation_schedules":1,"asset_maintenance":1,"vendor_contacts":1},"top_columns_per_table":{"vendor_invoices":[{"column":"total","similarity":0.7062529607669469},{"column":"tax_amount","similarity":0.6569420170620686},{"column":"amount_paid","similarity":0.6525110251426526}],"budgets":[{"column":"total_amount","similarity":0.6533596429158817}],"purchase_orders":[{"column":"total","similarity":0.6425370855623833},{"column":"tax_amount","similarity":0.6174757294901109},{"column":"vendor_id","similarity":0.5942535542023611}],"vendor_invoice_lines":[{"column":"amount","similarity":0.6414203627446952},{"column":"unit_cost","similarity":0.6384854706402397},{"column":"quantity","similarity":0.6008819172893124}],"project_expenses":[{"column":"expense_date","similarity":0.6302596278500101},{"column":"amount","similarity":0.6115972025931361}],"vendors":[{"column":"payment_terms","similarity":0.6287317824441854},{"column":"vendor_number","similarity":0.616273209887938},{"column":"phone","similarity":0.6119598101701121}],"sales_orders":[{"column":"total","similarity":0.6273962434957814},{"column":"tax_amount","similarity":0.5927580498428531}],"project_budgets":[{"column":"actual_amount","similarity":0.6245219111397344},{"column":"planned_amount","similarity":0.6076385195194554}],"product_suppliers":[{"column":"unit_cost","similarity":0.6202704837989403},{"column":"vendor_id","similarity":0.5815547843350841}],"sales_quotes":[{"column":"total","similarity":0.6161006991687307},{"column":"tax_amount","similarity":0.587895729360088}],"projects":[{"column":"budget","similarity":0.6100628879936848}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5986646089942808},{"column":"purchase_date","similarity":0.5961819068723165},{"column":"vendor_id","similarity":0.5938842221789269}],"products":[{"column":"unit_cost","similarity":0.5940432927972419}],"budget_lines":[{"column":"amount","similarity":0.5917264745538887}],"purchase_requisitions":[{"column":"approved_date","similarity":0.5905370205856212},{"column":"request_date","similarity":0.5860336743159205},{"column":"required_date","similarity":0.5847709356931721}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.5876422769577351}],"asset_maintenance":[{"column":"vendor_id","similarity":0.5863680456887999}],"vendor_contacts":[{"column":"phone","similarity":0.5837764500936985}]},"fused_scores":[{"table":"vendor_invoices","fused":0.7975442489288413,"table_sim":0.639424435349415,"col_score":1.034723969297981},{"table":"purchase_orders","fused":0.7511573804257172,"table_sim":0.6177456671712362,"col_score":0.9512749503074387},{"table":"vendors","fused":0.7457341241071925,"table_sim":0.6183112819198846,"col_score":0.9368683873881544},{"table":"project_expenses","fused":0.7288402562122607,"table_sim":0.5906949409227156,"col_score":0.9360582291465782},{"table":"product_suppliers","fused":0.6830841083348494,"table_sim":0.5892637416806026,"col_score":0.8238146583162198},{"table":"vendor_invoice_lines","fused":0.38426523922592604,"table_sim":0,"col_score":0.960663098064815},{"table":"project_budgets","fused":0.37133646835978484,"table_sim":0,"col_score":0.9283411708994621},{"table":"sales_orders","fused":0.36951010736688317,"table_sim":0,"col_score":0.9237752684172079},{"table":"sales_quotes","fused":0.36401942553950994,"table_sim":0,"col_score":0.9100485638487747},{"table":"fixed_assets","fused":0.35870222497217563,"table_sim":0,"col_score":0.8967555624304391},{"table":"fiscal_years","fused":0.35753316240562266,"table_sim":0.5958886040093712,"col_score":0},{"table":"purchase_requisitions","fused":0.35342154309743257,"table_sim":0,"col_score":0.8835538577435814},{"table":"budgets","fused":0.26134385716635267,"table_sim":0,"col_score":0.6533596429158817},{"table":"projects","fused":0.24402515519747392,"table_sim":0,"col_score":0.6100628879936848},{"table":"products","fused":0.23761731711889678,"table_sim":0,"col_score":0.5940432927972419}],"fk_expansion_candidates":60,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"projects","reason":"max_tables"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"max_tables"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"products","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"vendor_contacts","reason":"already_selected"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"vendor_contacts","reason":"already_selected"},{"table":"employees","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"max_tables"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"max_tables"},{"table":"depreciation_schedules","reason":"max_tables"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"projects","reason":"max_tables"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":16,"total_retrieval_latency_ms":23,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":292,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:23.206Z","query_id":"7db42c20-d560-4bb0-a80d-9782f2927860","question":"List purchase orders that are overdue (expected date passed but not received)","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["purchase_orders","sales_orders","purchase_requisitions","goods_receipts","order_lines","vendor_invoices","performance_reviews","sales_quotes","po_lines","timesheets","fixed_assets","sales_opportunities"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"purchase_orders","similarity":0.6892780734130105},{"table":"purchase_orders","similarity":0.6877847923105723},{"table":"purchase_orders","similarity":0.6877847923105723},{"table":"sales_orders","similarity":0.6436897773327827},{"table":"goods_receipts","similarity":0.6352418457409176},{"table":"sales_orders","similarity":0.6345390772398959},{"table":"sales_orders","similarity":0.6345390772398959},{"table":"purchase_requisitions","similarity":0.6320653594363884},{"table":"purchase_requisitions","similarity":0.6281214571607268},{"table":"purchase_requisitions","similarity":0.6281214571607268},{"table":"order_lines","similarity":0.6266578306760409},{"table":"order_lines","similarity":0.6173850449941319},{"table":"order_lines","similarity":0.6173850449941319},{"table":"goods_receipts","similarity":0.6145302746290987},{"table":"goods_receipts","similarity":0.6145302746290987}],"column_hits_per_table":{"purchase_orders":15,"sales_orders":8,"purchase_requisitions":6,"vendor_invoices":3,"fixed_assets":1,"performance_reviews":3,"stock_transfers":1,"goods_receipts":2,"sales_opportunities":1,"po_lines":2,"order_lines":1,"sales_quotes":3,"timesheets":2,"inventory_transactions":1,"employee_certifications":1},"top_columns_per_table":{"purchase_orders":[{"column":"expected_date","similarity":0.7914963653938238},{"column":"order_date","similarity":0.7635502937685905},{"column":"status","similarity":0.747639644500421}],"sales_orders":[{"column":"order_date","similarity":0.7235546305466264},{"column":"required_date","similarity":0.7185386655573599},{"column":"ship_date","similarity":0.7100060695804065}],"purchase_requisitions":[{"column":"request_date","similarity":0.6846871495702603},{"column":"approved_date","similarity":0.6846235647380197},{"column":"required_date","similarity":0.6803613753458558}],"vendor_invoices":[{"column":"due_date","similarity":0.6486808836793426},{"column":"invoice_date","similarity":0.633314911035975},{"column":"status","similarity":0.6320046740385495}],"fixed_assets":[{"column":"purchase_date","similarity":0.6483597718886084}],"performance_reviews":[{"column":"review_date","similarity":0.6402500237578782},{"column":"review_period_end","similarity":0.6181137197537518},{"column":"review_period_start","similarity":0.6090541573304037}],"stock_transfers":[{"column":"requested_date","similarity":0.6397536436713247}],"goods_receipts":[{"column":"receipt_date","similarity":0.6320711731665748},{"column":"po_id","similarity":0.6150599127133874}],"sales_opportunities":[{"column":"expected_close_date","similarity":0.627425520789371}],"po_lines":[{"column":"po_id","similarity":0.621403776034774},{"column":"quantity_received","similarity":0.6133005378966102}],"order_lines":[{"column":"quantity_shipped","similarity":0.6213051311566832}],"sales_quotes":[{"column":"status","similarity":0.6196764702539621},{"column":"valid_until","similarity":0.6117760233170634},{"column":"quote_date","similarity":0.6084274483307646}],"timesheets":[{"column":"approved_date","similarity":0.6125536693705684},{"column":"status","similarity":0.6090778000186181}],"inventory_transactions":[{"column":"transaction_date","similarity":0.610775225230928}],"employee_certifications":[{"column":"obtained_date","similarity":0.6043033574871731}]},"fused_scores":[{"table":"purchase_orders","fused":0.8819794802975911,"table_sim":0.6877847923105723,"col_score":1.1732715122781192},{"table":"sales_orders","fused":0.81385303167406,"table_sim":0.6345390772398959,"col_score":1.0828239633253063},{"table":"purchase_requisitions","fused":0.7876724470721441,"table_sim":0.6281214571607268,"col_score":1.02699893193927},{"table":"goods_receipts","fused":0.7076550218239634,"table_sim":0.6145302746290987,"col_score":0.8473421426162604},{"table":"order_lines","fused":0.6189530794591525,"table_sim":0.6173850449941319,"col_score":0.6213051311566832},{"table":"vendor_invoices","fused":0.3861353356789321,"table_sim":0,"col_score":0.9653383391973301},{"table":"performance_reviews","fused":0.37972275345390166,"table_sim":0,"col_score":0.9493068836347541},{"table":"sales_quotes","fused":0.3663958989929783,"table_sim":0,"col_score":0.9159897474824457},{"table":"po_lines","fused":0.33231674380351245,"table_sim":0,"col_score":0.8307918595087811},{"table":"timesheets","fused":0.33029235975083393,"table_sim":0,"col_score":0.8257308993770848},{"table":"fixed_assets","fused":0.2593439087554434,"table_sim":0,"col_score":0.6483597718886084},{"table":"stock_transfers","fused":0.2559014574685299,"table_sim":0,"col_score":0.6397536436713247},{"table":"sales_opportunities","fused":0.2509702083157484,"table_sim":0,"col_score":0.627425520789371},{"table":"inventory_transactions","fused":0.2443100900923712,"table_sim":0,"col_score":0.610775225230928},{"table":"employee_certifications","fused":0.24172134299486925,"table_sim":0,"col_score":0.6043033574871731}],"fk_expansion_candidates":42,"fk_expansion_added":2,"fk_expansion_blocked_count":36,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":18,"total_retrieval_latency_ms":25,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":320,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:23.526Z","query_id":"8eecc87e-5f37-452a-9e94-5a4e0f11e6a7","question":"Show the approval rate for purchase requisitions","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["purchase_requisitions","purchase_orders","requisition_lines","performance_reviews","sales_orders","vendor_invoices","fixed_assets","timesheets","product_suppliers","inventory_adjustments","order_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":11,"tables_from_fk_expansion":1,"table_scores":[{"table":"purchase_requisitions","similarity":0.7226292162446724},{"table":"purchase_requisitions","similarity":0.7226292162446724},{"table":"purchase_requisitions","similarity":0.7144537875190509},{"table":"purchase_orders","similarity":0.6838035609323098},{"table":"purchase_orders","similarity":0.6838035609323098},{"table":"purchase_orders","similarity":0.6754585362390629},{"table":"requisition_lines","similarity":0.6574096478940754},{"table":"requisition_lines","similarity":0.6574096478940754},{"table":"requisition_lines","similarity":0.6526067337493826},{"table":"performance_reviews","similarity":0.5761025171829891},{"table":"sales_orders","similarity":0.5687655577174364},{"table":"sales_orders","similarity":0.5687655577174364},{"table":"vendor_invoices","similarity":0.5649116344007853},{"table":"vendor_invoices","similarity":0.5649116344007853},{"table":"performance_reviews","similarity":0.5638451623641205}],"column_hits_per_table":{"purchase_requisitions":11,"purchase_orders":11,"requisition_lines":5,"performance_reviews":3,"inventory_adjustments":1,"fixed_assets":2,"order_lines":1,"budgets":1,"timesheets":2,"sales_orders":5,"employee_salaries":1,"project_expenses":1,"quote_lines":1,"tax_rates":1,"vendor_invoices":1,"product_suppliers":2,"project_resources":1},"top_columns_per_table":{"purchase_requisitions":[{"column":"approved_date","similarity":0.7766675210993076},{"column":"approved_by","similarity":0.7199034718995457},{"column":"status","similarity":0.7073786073810431}],"purchase_orders":[{"column":"approved_by","similarity":0.6705580315294349},{"column":"requisition_id","similarity":0.6613289750833529},{"column":"total","similarity":0.6594363248888107}],"requisition_lines":[{"column":"requisition_id","similarity":0.6370319480171334},{"column":"estimated_total","similarity":0.6269887433093003},{"column":"estimated_unit_cost","similarity":0.625934325952803}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.6195475886627112},{"column":"rating","similarity":0.5921179439607568},{"column":"review_date","similarity":0.5730063449640999}],"inventory_adjustments":[{"column":"approved_by","similarity":0.6149213210803182}],"fixed_assets":[{"column":"purchase_cost","similarity":0.6114883686057044},{"column":"purchase_date","similarity":0.5785038067743914}],"order_lines":[{"column":"discount_percent","similarity":0.6106530783790173}],"budgets":[{"column":"approved_by","similarity":0.602834670385188}],"timesheets":[{"column":"approved_date","similarity":0.5978626810289969},{"column":"approved_by","similarity":0.5903213401616674}],"sales_orders":[{"column":"total","similarity":0.5972436821987498},{"column":"status","similarity":0.5843282149659323},{"column":"tax_amount","similarity":0.5804608469563398}],"employee_salaries":[{"column":"approved_by","similarity":0.593883247254701}],"project_expenses":[{"column":"approved_by","similarity":0.5842337880872422}],"quote_lines":[{"column":"discount_percent","similarity":0.5811124096463001}],"tax_rates":[{"column":"rate","similarity":0.5763708905847392}],"vendor_invoices":[{"column":"total","similarity":0.5756181171303799}],"product_suppliers":[{"column":"is_preferred","similarity":0.5726740078455087},{"column":"minimum_order_qty","similarity":0.5720268431578629}],"project_resources":[{"column":"hourly_rate","similarity":0.5723431863834083}]},"fused_scores":[{"table":"purchase_requisitions","fused":0.8833199753310628,"table_sim":0.7144537875190509,"col_score":1.1366192570490805},{"table":"purchase_orders","fused":0.8053855993329739,"table_sim":0.6754585362390629,"col_score":1.0002761939738403},{"table":"requisition_lines","fused":0.7675464027639103,"table_sim":0.6526067337493826,"col_score":0.9399559062857018},{"table":"performance_reviews","fused":0.7045497216757082,"table_sim":0.5638451623641205,"col_score":0.9156065606430897},{"table":"sales_orders","fused":0.6962489769012297,"table_sim":0.5687655577174364,"col_score":0.8874741056769198},{"table":"vendor_invoices","fused":0.5691942274926232,"table_sim":0.5649116344007853,"col_score":0.5756181171303799},{"table":"fixed_assets","fused":0.36029610879716006,"table_sim":0,"col_score":0.9007402719929001},{"table":"timesheets","fused":0.35720934044393227,"table_sim":0,"col_score":0.8930233511098306},{"table":"product_suppliers","fused":0.3434749717697761,"table_sim":0,"col_score":0.8586874294244402},{"table":"inventory_adjustments","fused":0.24596852843212727,"table_sim":0,"col_score":0.6149213210803182},{"table":"order_lines","fused":0.24426123135160693,"table_sim":0,"col_score":0.6106530783790173},{"table":"budgets","fused":0.24113386815407523,"table_sim":0,"col_score":0.602834670385188},{"table":"employee_salaries","fused":0.2375532989018804,"table_sim":0,"col_score":0.593883247254701},{"table":"project_expenses","fused":0.2336935152348969,"table_sim":0,"col_score":0.5842337880872422},{"table":"quote_lines","fused":0.23244496385852004,"table_sim":0,"col_score":0.5811124096463001}],"fk_expansion_candidates":60,"fk_expansion_added":1,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"order_lines","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":32,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":351,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:23.878Z","query_id":"e0586a1b-824c-4878-ab91-eabad1020e24","question":"What is the total debit and credit for each account in the current period?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["bank_accounts","depreciation_entries","depreciation_schedules","bank_transactions","chart_of_accounts","fiscal_periods","customers","project_budgets","project_expenses","budgets","journal_lines","sales_orders"],"tables_from_table_retrieval":7,"tables_from_column_only":20,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_accounts","similarity":0.6774767745272873},{"table":"bank_accounts","similarity":0.6637119412946053},{"table":"bank_accounts","similarity":0.6637119412946053},{"table":"depreciation_schedules","similarity":0.6498181514395631},{"table":"depreciation_schedules","similarity":0.6498181514395631},{"table":"depreciation_entries","similarity":0.648921875856853},{"table":"depreciation_entries","similarity":0.648921875856853},{"table":"depreciation_entries","similarity":0.6479655202571633},{"table":"depreciation_schedules","similarity":0.6391071490249879},{"table":"bank_transactions","similarity":0.6215432609525777},{"table":"bank_transactions","similarity":0.6186829982985472},{"table":"bank_transactions","similarity":0.6186829982985472},{"table":"fiscal_periods","similarity":0.6118740658020915},{"table":"chart_of_accounts","similarity":0.6113283904518393},{"table":"customers","similarity":0.6110220975215452}],"column_hits_per_table":{"bank_accounts":7,"depreciation_entries":8,"depreciation_schedules":7,"budgets":2,"purchase_orders":1,"bank_transactions":2,"vendor_invoices":1,"asset_categories":1,"timesheets":1,"sales_orders":1,"project_budgets":2,"po_lines":1,"requisition_lines":1,"order_lines":1,"chart_of_accounts":1,"quote_lines":1,"journal_lines":1,"departments":1,"sales_quotes":1,"fiscal_periods":1,"project_milestones":1,"account_types":1,"customers":1,"fixed_assets":1,"projects":1,"project_expenses":2,"inventory_levels":1},"top_columns_per_table":{"bank_accounts":[{"column":"current_balance","similarity":0.7091841928818097},{"column":"account_number","similarity":0.6419731099305319},{"column":"is_active","similarity":0.6295019659358201}],"depreciation_entries":[{"column":"amount","similarity":0.6872612675445888},{"column":"accumulated_depreciation","similarity":0.6792929796251425},{"column":"period_id","similarity":0.6616962014495356}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.6798083658343647},{"column":"monthly_amount","similarity":0.6722756292621933},{"column":"start_date","similarity":0.6548042836876464}],"budgets":[{"column":"total_amount","similarity":0.66266591023344},{"column":"status","similarity":0.6029088724565239}],"purchase_orders":[{"column":"total","similarity":0.6385670460750342}],"bank_transactions":[{"column":"amount","similarity":0.628826289554302},{"column":"transaction_date","similarity":0.5968086476507635}],"vendor_invoices":[{"column":"total","similarity":0.6243636979717804}],"asset_categories":[{"column":"depreciation_method","similarity":0.6240014992246529}],"timesheets":[{"column":"total_hours","similarity":0.6227337420930529}],"sales_orders":[{"column":"total","similarity":0.6223028921864684}],"project_budgets":[{"column":"actual_amount","similarity":0.617506824130773},{"column":"planned_amount","similarity":0.5941166158449659}],"po_lines":[{"column":"line_total","similarity":0.616731755167915}],"requisition_lines":[{"column":"estimated_total","similarity":0.6162717841911394}],"order_lines":[{"column":"line_total","similarity":0.6136225013161591}],"chart_of_accounts":[{"column":"account_number","similarity":0.6134827144686594}],"quote_lines":[{"column":"line_total","similarity":0.6119848744133741}],"journal_lines":[{"column":"debit","similarity":0.6106943672167331}],"departments":[{"column":"budget","similarity":0.6102538819136373}],"sales_quotes":[{"column":"total","similarity":0.6078976656380447}],"fiscal_periods":[{"column":"period_number","similarity":0.6051498655202864}],"project_milestones":[{"column":"amount","similarity":0.6026750191107226}],"account_types":[{"column":"normal_balance","similarity":0.6021368217241928}],"customers":[{"column":"credit_limit","similarity":0.6016687157986615}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5989518390574556}],"projects":[{"column":"budget","similarity":0.5989453113679677}],"project_expenses":[{"column":"amount","similarity":0.5956749512175924},{"column":"expense_date","similarity":0.5939500617562942}],"inventory_levels":[{"column":"last_count_date","similarity":0.5932624381452135}]},"fused_scores":[{"table":"bank_accounts","fused":0.8102954639155935,"table_sim":0.6637119412946053,"col_score":1.0301707478470756},{"table":"depreciation_entries","fused":0.799542415097162,"table_sim":0.6479655202571633,"col_score":1.0269077573571601},{"table":"depreciation_schedules","fused":0.7898427616011772,"table_sim":0.6391071490249879,"col_score":1.0159461804654613},{"table":"bank_transactions","fused":0.7421020443310018,"table_sim":0.6186829982985472,"col_score":0.9272306133796837},{"table":"chart_of_accounts","fused":0.6121901200585673,"table_sim":0.6113283904518393,"col_score":0.6134827144686594},{"table":"fiscal_periods","fused":0.6091843856893695,"table_sim":0.6118740658020915,"col_score":0.6051498655202864},{"table":"customers","fused":0.6072807448323918,"table_sim":0.6110220975215452,"col_score":0.6016687157986615},{"table":"project_budgets","fused":0.3658260528213024,"table_sim":0,"col_score":0.914565132053256},{"table":"project_expenses","fused":0.3570599928382958,"table_sim":0,"col_score":0.8926499820957394},{"table":"budgets","fused":0.3494736062372894,"table_sim":0,"col_score":0.8736840155932234},{"table":"purchase_orders","fused":0.2554268184300137,"table_sim":0,"col_score":0.6385670460750342},{"table":"vendor_invoices","fused":0.24974547918871215,"table_sim":0,"col_score":0.6243636979717804},{"table":"asset_categories","fused":0.24960059968986115,"table_sim":0,"col_score":0.6240014992246529},{"table":"timesheets","fused":0.24909349683722115,"table_sim":0,"col_score":0.6227337420930529},{"table":"sales_orders","fused":0.24892115687458738,"table_sim":0,"col_score":0.6223028921864684}],"fk_expansion_candidates":48,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"account_types","reason":"no_evidence"},{"table":"account_types","reason":"no_evidence"},{"table":"account_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_lines","reason":"already_selected"},{"table":"journal_lines","reason":"already_selected"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_orders","reason":"already_selected"},{"table":"sales_orders","reason":"already_selected"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":40,"total_retrieval_latency_ms":47,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":342,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:24.220Z","query_id":"7b46e845-10d1-46a7-9d66-d5d8cac2bbc3","question":"List all posted journal entries for the current month","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["journal_entries","journal_lines","depreciation_entries","timesheet_entries","depreciation_schedules","goods_receipts","performance_reviews","timesheets","purchase_orders","sales_orders","fiscal_periods"],"tables_from_table_retrieval":6,"tables_from_column_only":11,"tables_from_fk_expansion":1,"table_scores":[{"table":"journal_entries","similarity":0.7371200347881697},{"table":"journal_entries","similarity":0.7337575383913534},{"table":"journal_entries","similarity":0.7337575383913534},{"table":"depreciation_entries","similarity":0.6388628310824237},{"table":"journal_lines","similarity":0.6381042717949331},{"table":"journal_lines","similarity":0.6375228213542982},{"table":"journal_lines","similarity":0.6375228213542982},{"table":"depreciation_entries","similarity":0.620321548516075},{"table":"depreciation_entries","similarity":0.620321548516075},{"table":"timesheet_entries","similarity":0.591409348833156},{"table":"timesheet_entries","similarity":0.5779744014930662},{"table":"timesheet_entries","similarity":0.5779744014930662},{"table":"goods_receipts","similarity":0.5514372844287214},{"table":"goods_receipts","similarity":0.5514372844287214},{"table":"depreciation_schedules","similarity":0.5496411130563262}],"column_hits_per_table":{"journal_entries":9,"depreciation_entries":5,"journal_lines":7,"timesheet_entries":6,"timesheets":3,"goods_receipts":2,"performance_reviews":3,"purchase_orders":2,"project_budgets":1,"depreciation_schedules":3,"sales_orders":2,"inventory_adjustments":1,"project_milestones":2,"project_expenses":1,"asset_maintenance":1,"inventory_levels":1,"fiscal_periods":1},"top_columns_per_table":{"journal_entries":[{"column":"entry_date","similarity":0.7655855491601273},{"column":"status","similarity":0.7275626775552384},{"column":"description","similarity":0.6934262774097697}],"depreciation_entries":[{"column":"entry_date","similarity":0.6527378197389673},{"column":"journal_entry_id","similarity":0.6264997627243734},{"column":"period_id","similarity":0.5784124082329226}],"journal_lines":[{"column":"debit","similarity":0.6462162662227552},{"column":"entry_id","similarity":0.63445493384167},{"column":"credit","similarity":0.6302297921040358}],"timesheet_entries":[{"column":"entry_date","similarity":0.643149580648736},{"column":"description","similarity":0.5784471414475906},{"column":"is_billable","similarity":0.5646044939625099}],"timesheets":[{"column":"submitted_date","similarity":0.6071227188529923},{"column":"approved_date","similarity":0.558240470220022},{"column":"status","similarity":0.5546176605609148}],"goods_receipts":[{"column":"receipt_date","similarity":0.6069794047492042},{"column":"notes","similarity":0.5874873259337253}],"performance_reviews":[{"column":"review_date","similarity":0.5950094300516277},{"column":"review_period_start","similarity":0.5831041324802553},{"column":"review_period_end","similarity":0.5815085145824492}],"purchase_orders":[{"column":"expected_date","similarity":0.5699322697921354},{"column":"order_date","similarity":0.5626891014743185}],"project_budgets":[{"column":"notes","similarity":0.5673321472292275}],"depreciation_schedules":[{"column":"start_date","similarity":0.5658993130104887},{"column":"end_date","similarity":0.5657267369208648},{"column":"useful_life_months","similarity":0.55595733939211}],"sales_orders":[{"column":"order_date","similarity":0.5624106989815346},{"column":"ship_date","similarity":0.5530449744222993}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5603354872689613}],"project_milestones":[{"column":"due_date","similarity":0.5592106844491532},{"column":"completed_date","similarity":0.5526238895701121}],"project_expenses":[{"column":"expense_date","similarity":0.5579679430250829}],"asset_maintenance":[{"column":"completed_date","similarity":0.5568546149961348}],"inventory_levels":[{"column":"last_count_date","similarity":0.5485679778292861}],"fiscal_periods":[{"column":"start_date","similarity":0.5482872222538088}]},"fused_scores":[{"table":"journal_entries","fused":0.8831407330933849,"table_sim":0.7337575383913534,"col_score":1.1072155251464324},{"table":"journal_lines","fused":0.7670461577224882,"table_sim":0.6375228213542982,"col_score":0.9613311622747731},{"table":"depreciation_entries","fused":0.7482943452989723,"table_sim":0.620321548516075,"col_score":0.9402535404733183},{"table":"timesheet_entries","fused":0.7169653719478362,"table_sim":0.5779744014930662,"col_score":0.9254518276299909},{"table":"depreciation_schedules","fused":0.6692897404221642,"table_sim":0.5496411130563262,"col_score":0.848762681470921},{"table":"goods_receipts","fused":0.6559023581876361,"table_sim":0.5514372844287214,"col_score":0.812599968826008},{"table":"performance_reviews","fused":0.35462459851670214,"table_sim":0,"col_score":0.8865614962917553},{"table":"timesheets","fused":0.3544971815852013,"table_sim":0,"col_score":0.8862429539630032},{"table":"purchase_orders","fused":0.3405107282117179,"table_sim":0,"col_score":0.8512768205292947},{"table":"sales_orders","fused":0.33557327447707375,"table_sim":0,"col_score":0.8389331861926843},{"table":"project_milestones","fused":0.33420905169368376,"table_sim":0,"col_score":0.8355226292342093},{"table":"inventory_adjustments","fused":0.22413419490758454,"table_sim":0,"col_score":0.5603354872689613},{"table":"project_expenses","fused":0.22318717721003317,"table_sim":0,"col_score":0.5579679430250829},{"table":"asset_maintenance","fused":0.22274184599845392,"table_sim":0,"col_score":0.5568546149961348},{"table":"inventory_levels","fused":0.21942719113171447,"table_sim":0,"col_score":0.5485679778292861}],"fk_expansion_candidates":51,"fk_expansion_added":1,"fk_expansion_blocked_count":48,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"already_selected"},{"table":"fiscal_periods","reason":"already_selected"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":13,"total_retrieval_latency_ms":20,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":313,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:24.533Z","query_id":"9bf6e413-b863-4122-a474-3b6e0ea46fd1","question":"Show budget vs actual spending by department","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["budgets","project_budgets","departments","project_expenses","budget_lines","cost_centers","fiscal_periods","projects","fixed_assets","fiscal_years"],"tables_from_table_retrieval":6,"tables_from_column_only":9,"tables_from_fk_expansion":0,"table_scores":[{"table":"budgets","similarity":0.6743467953278661},{"table":"budgets","similarity":0.6696787142109972},{"table":"budgets","similarity":0.6696787142109972},{"table":"project_budgets","similarity":0.6399342167994372},{"table":"project_budgets","similarity":0.625479815809335},{"table":"project_budgets","similarity":0.625479815809335},{"table":"budget_lines","similarity":0.6120027063639643},{"table":"departments","similarity":0.6078621456074449},{"table":"budget_lines","similarity":0.5989246191783324},{"table":"budget_lines","similarity":0.5989246191783324},{"table":"cost_centers","similarity":0.5976264909955187},{"table":"project_expenses","similarity":0.5925480261881607},{"table":"departments","similarity":0.5844440352873819},{"table":"departments","similarity":0.5844440352873819},{"table":"cost_centers","similarity":0.5713648686111387}],"column_hits_per_table":{"departments":5,"budgets":8,"project_budgets":6,"projects":1,"cost_centers":4,"budget_lines":5,"project_expenses":10,"purchase_requisitions":1,"fiscal_periods":4,"employees":1,"fixed_assets":1,"positions":1,"journal_lines":1,"fiscal_years":1,"requisition_lines":1},"top_columns_per_table":{"departments":[{"column":"budget","similarity":0.7495917239034583},{"column":"name","similarity":0.5755650515829921},{"column":"parent_department_id","similarity":0.5706427726662122}],"budgets":[{"column":"department_id","similarity":0.6950775126936677},{"column":"total_amount","similarity":0.667786554654465},{"column":"status","similarity":0.6456108671424535}],"project_budgets":[{"column":"actual_amount","similarity":0.6672453210209517},{"column":"category","similarity":0.6364564423512089},{"column":"planned_amount","similarity":0.6313162099542824}],"projects":[{"column":"budget","similarity":0.6339398871894302}],"cost_centers":[{"column":"department_id","similarity":0.6309159447379118},{"column":"is_active","similarity":0.5725191475396931},{"column":"name","similarity":0.5342580632651498}],"budget_lines":[{"column":"amount","similarity":0.6270291557125669},{"column":"budget_id","similarity":0.6119783533872745},{"column":"period_id","similarity":0.5916602644004139}],"project_expenses":[{"column":"category","similarity":0.6091416233792963},{"column":"amount","similarity":0.608230851250711},{"column":"is_billable","similarity":0.6010086163947923}],"purchase_requisitions":[{"column":"department_id","similarity":0.5868126293907591}],"fiscal_periods":[{"column":"period_number","similarity":0.5573405580706999},{"column":"is_closed","similarity":0.5486176225532576},{"column":"fiscal_year_id","similarity":0.542120776396656}],"employees":[{"column":"department_id","similarity":0.549593783899725}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5426840706112633}],"positions":[{"column":"department_id","similarity":0.5422206846512622}],"journal_lines":[{"column":"cost_center_id","similarity":0.5404923386923173}],"fiscal_years":[{"column":"year","similarity":0.5379300104521342}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.5310951239241254}]},"fused_scores":[{"table":"budgets","fused":0.7927672704314797,"table_sim":0.6696787142109972,"col_score":0.9774001047622032},{"table":"project_budgets","fused":0.7694773063642235,"table_sim":0.625479815809335,"col_score":0.9854735421965561},{"table":"departments","fused":0.7310822179554313,"table_sim":0.5844440352873819,"col_score":0.9510394919575055},{"table":"project_expenses","fused":0.7208316353147572,"table_sim":0.5925480261881607,"col_score":0.9132570490046519},{"table":"budget_lines","fused":0.6958434032662446,"table_sim":0.5989246191783324,"col_score":0.8412215793981129},{"table":"cost_centers","fused":0.6440128307218487,"table_sim":0.5713648686111387,"col_score":0.7529847738879138},{"table":"fiscal_periods","fused":0.33265974773893153,"table_sim":0,"col_score":0.8316493693473288},{"table":"projects","fused":0.25357595487577206,"table_sim":0,"col_score":0.6339398871894302},{"table":"fixed_assets","fused":0.21707362824450535,"table_sim":0,"col_score":0.5426840706112633},{"table":"fiscal_years","fused":0.2151720041808537,"table_sim":0,"col_score":0.5379300104521342},{"table":"requisition_lines","fused":0.21243804956965018,"table_sim":0,"col_score":0.5310951239241254},{"table":"purchase_requisitions","fused":0.16430753622941252,"table_sim":0,"col_score":0.4107688405735313},{"table":"employees","fused":0.15388625949192303,"table_sim":0,"col_score":0.3847156487298075},{"table":"positions","fused":0.1518217917023534,"table_sim":0,"col_score":0.3795544792558835},{"table":"journal_lines","fused":0.15133785483384884,"table_sim":0,"col_score":0.37834463708462207}],"fk_expansion_candidates":57,"fk_expansion_added":0,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":54,"total_retrieval_latency_ms":61,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":291,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:24.824Z","query_id":"74f3a173-6351-4c3f-86c8-1c9213c314eb","question":"What is the total expense amount per project?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_expenses","project_budgets","projects","project_resources","project_milestones","requisition_lines","vendor_invoices","project_tasks","purchase_orders","depreciation_schedules","products","vendor_invoice_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":19,"tables_from_fk_expansion":2,"table_scores":[{"table":"project_expenses","similarity":0.7579256306198433},{"table":"project_expenses","similarity":0.7579256306198433},{"table":"project_expenses","similarity":0.7357232557396823},{"table":"project_budgets","similarity":0.7265263943390426},{"table":"project_budgets","similarity":0.7265263943390426},{"table":"project_budgets","similarity":0.7124927404351951},{"table":"project_milestones","similarity":0.6341783562502439},{"table":"project_milestones","similarity":0.6327617739785869},{"table":"project_milestones","similarity":0.6327617739785869},{"table":"projects","similarity":0.621762698662178},{"table":"projects","similarity":0.621762698662178},{"table":"project_resources","similarity":0.6179077692716867},{"table":"project_resources","similarity":0.6179077692716867},{"table":"project_resources","similarity":0.6177078775243305},{"table":"projects","similarity":0.6089962100611707}],"column_hits_per_table":{"project_expenses":10,"project_budgets":6,"budgets":1,"projects":2,"project_milestones":3,"budget_lines":1,"project_resources":3,"vendor_invoices":3,"requisition_lines":2,"project_tasks":2,"asset_maintenance":1,"purchase_orders":2,"product_suppliers":1,"maintenance_types":1,"products":1,"depreciation_schedules":2,"sales_orders":1,"departments":1,"depreciation_entries":1,"employee_salaries":1,"fixed_assets":1,"vendor_invoice_lines":2,"cost_centers":1,"bank_transactions":1},"top_columns_per_table":{"project_expenses":[{"column":"amount","similarity":0.7981720469231877},{"column":"project_id","similarity":0.6993700351285576},{"column":"expense_date","similarity":0.6976862753776708}],"project_budgets":[{"column":"actual_amount","similarity":0.7544693731428739},{"column":"planned_amount","similarity":0.7475286878234714},{"column":"notes","similarity":0.6743372266880852}],"budgets":[{"column":"total_amount","similarity":0.7244402768016153}],"projects":[{"column":"budget","similarity":0.7063289030461566},{"column":"project_number","similarity":0.6281879793284453}],"project_milestones":[{"column":"amount","similarity":0.6973822743170455},{"column":"project_id","similarity":0.6134928683540164},{"column":"description","similarity":0.5964450815919577}],"budget_lines":[{"column":"amount","similarity":0.6474203598538232}],"project_resources":[{"column":"allocation_percent","similarity":0.6462989167237004},{"column":"hourly_rate","similarity":0.6385625515015617},{"column":"project_id","similarity":0.6168915789933885}],"vendor_invoices":[{"column":"total","similarity":0.6401126688839376},{"column":"tax_amount","similarity":0.6065038506039637},{"column":"amount_paid","similarity":0.6026309455729351}],"requisition_lines":[{"column":"estimated_total","similarity":0.6310334497515143},{"column":"estimated_unit_cost","similarity":0.6268164964734461}],"project_tasks":[{"column":"estimated_hours","similarity":0.6305074503163082},{"column":"actual_hours","similarity":0.6251982989877009}],"asset_maintenance":[{"column":"cost","similarity":0.6261574066715916}],"purchase_orders":[{"column":"total","similarity":0.6208795786058339},{"column":"tax_amount","similarity":0.6034316104821902}],"product_suppliers":[{"column":"unit_cost","similarity":0.6203195070815227}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6200443707585799}],"products":[{"column":"unit_cost","similarity":0.6147011653596138}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.614550945299665},{"column":"monthly_amount","similarity":0.6065005360138125}],"sales_orders":[{"column":"total","similarity":0.6137682710613002}],"departments":[{"column":"budget","similarity":0.6129728617339807}],"depreciation_entries":[{"column":"amount","similarity":0.6104740649740648}],"employee_salaries":[{"column":"amount","similarity":0.6103603528626569}],"fixed_assets":[{"column":"purchase_cost","similarity":0.6026468504879459}],"vendor_invoice_lines":[{"column":"amount","similarity":0.6003959822481075},{"column":"unit_cost","similarity":0.5981934490405764}],"cost_centers":[{"column":"department_id","similarity":0.6003827939727152}],"bank_transactions":[{"column":"amount","similarity":0.5987202435335099}]},"fused_scores":[{"table":"project_expenses","fused":0.9002400272886186,"table_sim":0.7357232557396823,"col_score":1.1470151846120231},{"table":"project_budgets","fused":0.8787891310829609,"table_sim":0.7124927404351951,"col_score":1.1282337170546095},{"table":"projects","fused":0.7735668831208542,"table_sim":0.6089962100611707,"col_score":1.0204228927103793},{"table":"project_resources","fused":0.7568568035043909,"table_sim":0.6177078775243305,"col_score":0.9655801924744813},{"table":"project_milestones","fused":0.7444989756835327,"table_sim":0.6327617739785869,"col_score":0.9121047782409513},{"table":"requisition_lines","fused":0.37777667919529495,"table_sim":0,"col_score":0.9444416979882373},{"table":"vendor_invoices","fused":0.3773458376743678,"table_sim":0,"col_score":0.9433645941859194},{"table":"project_tasks","fused":0.3772426399240635,"table_sim":0,"col_score":0.9431065998101587},{"table":"purchase_orders","fused":0.3690381535387716,"table_sim":0,"col_score":0.922595383846929},{"table":"depreciation_schedules","fused":0.36712048532262853,"table_sim":0,"col_score":0.9178012133065713},{"table":"vendor_invoice_lines","fused":0.35979708270735833,"table_sim":0,"col_score":0.8994927067683958},{"table":"budgets","fused":0.28977611072064613,"table_sim":0,"col_score":0.7244402768016153},{"table":"budget_lines","fused":0.2589681439415293,"table_sim":0,"col_score":0.6474203598538232},{"table":"asset_maintenance","fused":0.25046296266863666,"table_sim":0,"col_score":0.6261574066715916},{"table":"product_suppliers","fused":0.2481278028326091,"table_sim":0,"col_score":0.6203195070815227}],"fk_expansion_candidates":39,"fk_expansion_added":2,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"already_selected"},{"table":"products","reason":"already_selected"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":35,"total_retrieval_latency_ms":41,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":292,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:25.116Z","query_id":"819e2ab1-b876-4e0b-9d25-14ccd473ca79","question":"List projects that are over budget","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_budgets","project_expenses","projects","budgets","project_milestones","project_resources","project_tasks","budget_lines","departments"],"tables_from_table_retrieval":6,"tables_from_column_only":3,"tables_from_fk_expansion":0,"table_scores":[{"table":"project_budgets","similarity":0.722964742520668},{"table":"project_budgets","similarity":0.7149382810327576},{"table":"project_budgets","similarity":0.7149382810327576},{"table":"project_expenses","similarity":0.6616137568759273},{"table":"project_expenses","similarity":0.6616137568759273},{"table":"project_expenses","similarity":0.6612139885640923},{"table":"project_milestones","similarity":0.6086742516860566},{"table":"projects","similarity":0.6032117409064212},{"table":"projects","similarity":0.6032117409064212},{"table":"projects","similarity":0.603119867291799},{"table":"project_resources","similarity":0.597322584800267},{"table":"project_milestones","similarity":0.5963753466104804},{"table":"project_milestones","similarity":0.5963753466104804},{"table":"budgets","similarity":0.5962983646598873},{"table":"budgets","similarity":0.5962983646598873}],"column_hits_per_table":{"projects":10,"project_budgets":6,"project_expenses":9,"budgets":6,"budget_lines":3,"project_milestones":4,"project_tasks":8,"project_resources":3,"departments":1},"top_columns_per_table":{"projects":[{"column":"budget","similarity":0.7040586919716509},{"column":"planned_end_date","similarity":0.6178230121937325},{"column":"project_number","similarity":0.6141630378138243}],"project_budgets":[{"column":"notes","similarity":0.6952498482759191},{"column":"category","similarity":0.684511328503381},{"column":"planned_amount","similarity":0.6722268345754978}],"project_expenses":[{"column":"is_billable","similarity":0.6461941542288852},{"column":"category","similarity":0.6420132273918641},{"column":"expense_date","similarity":0.63434637160428}],"budgets":[{"column":"total_amount","similarity":0.614370809503817},{"column":"status","similarity":0.6108205553547363},{"column":"budget_id","similarity":0.5929594782171785}],"budget_lines":[{"column":"budget_id","similarity":0.6079961535935847},{"column":"amount","similarity":0.6077961190977996},{"column":"line_id","similarity":0.5893204834240592}],"project_milestones":[{"column":"is_billable","similarity":0.6071449572441574},{"column":"amount","similarity":0.588199497133572},{"column":"due_date","similarity":0.5812913433040277}],"project_tasks":[{"column":"estimated_hours","similarity":0.5963088711841054},{"column":"due_date","similarity":0.5950349513196225},{"column":"actual_hours","similarity":0.5923374564661072}],"project_resources":[{"column":"allocation_percent","similarity":0.5884306445284694},{"column":"project_id","similarity":0.584485395721684},{"column":"end_date","similarity":0.5723455956479002}],"departments":[{"column":"budget","similarity":0.5759799767407416}]},"fused_scores":[{"table":"project_budgets","fused":0.8372128669361065,"table_sim":0.7149382810327576,"col_score":1.02062474579113},{"table":"project_expenses","fused":0.7836087003083823,"table_sim":0.6612139885640923,"col_score":0.9672007679248171},{"table":"projects","fused":0.7670599996024863,"table_sim":0.603119867291799,"col_score":1.0129701980685173},{"table":"budgets","fused":0.7209543495760293,"table_sim":0.5962983646598873,"col_score":0.9079383269502421},{"table":"project_milestones","fused":0.7183230902906657,"table_sim":0.5963753466104804,"col_score":0.9012447058109434},{"table":"project_resources","fused":0.708234927821128,"table_sim":0.597322584800267,"col_score":0.8746034423524195},{"table":"project_tasks","fused":0.3575305387375667,"table_sim":0,"col_score":0.8938263468439166},{"table":"budget_lines","fused":0.32823790914222173,"table_sim":0,"col_score":0.8205947728555543},{"table":"departments","fused":0.23039199069629668,"table_sim":0,"col_score":0.5759799767407416}],"fk_expansion_candidates":33,"fk_expansion_added":0,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":30,"total_retrieval_latency_ms":36,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":295,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:25.412Z","query_id":"a006136c-fce4-4401-b45c-b4edab2b1739","question":"Show project resources and their allocation percentages","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_resources","project_budgets","projects","project_expenses","project_milestones","project_tasks","task_assignments","project_phases","asset_categories","order_lines"],"tables_from_table_retrieval":7,"tables_from_column_only":8,"tables_from_fk_expansion":0,"table_scores":[{"table":"project_resources","similarity":0.7742133717857291},{"table":"project_resources","similarity":0.7726017161069211},{"table":"project_resources","similarity":0.7726017161069211},{"table":"project_budgets","similarity":0.65507694472865},{"table":"project_budgets","similarity":0.6455070367212973},{"table":"project_budgets","similarity":0.6455070367212973},{"table":"project_expenses","similarity":0.6350034671876015},{"table":"projects","similarity":0.6288717870995568},{"table":"project_expenses","similarity":0.6218657368982583},{"table":"project_expenses","similarity":0.6218657368982583},{"table":"task_assignments","similarity":0.6137701156863598},{"table":"project_tasks","similarity":0.6095803048417692},{"table":"project_milestones","similarity":0.6065393117891723},{"table":"projects","similarity":0.6043704297265652},{"table":"projects","similarity":0.6043704297265652}],"column_hits_per_table":{"project_resources":8,"project_budgets":6,"projects":10,"asset_categories":1,"project_milestones":4,"project_expenses":7,"project_tasks":5,"order_lines":1,"quote_lines":1,"performance_reviews":1,"budgets":1,"project_phases":3,"currencies":1,"tax_rates":1},"top_columns_per_table":{"project_resources":[{"column":"allocation_percent","similarity":0.8633059160366073},{"column":"hourly_rate","similarity":0.7567099176701401},{"column":"role","similarity":0.6958791512171763}],"project_budgets":[{"column":"actual_amount","similarity":0.6563642230002711},{"column":"planned_amount","similarity":0.6553043653436582},{"column":"category","similarity":0.6379137974118141}],"projects":[{"column":"priority","similarity":0.6469555758830943},{"column":"budget","similarity":0.6427722399625124},{"column":"project_number","similarity":0.6401181954274701}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.6435021784071759}],"project_milestones":[{"column":"amount","similarity":0.6398826628819255},{"column":"due_date","similarity":0.6049153702959417},{"column":"description","similarity":0.5917008678550857}],"project_expenses":[{"column":"amount","similarity":0.6242586475384743},{"column":"category","similarity":0.6142015362068918},{"column":"description","similarity":0.6079819074448459}],"project_tasks":[{"column":"priority","similarity":0.6242534548890795},{"column":"actual_hours","similarity":0.6180862719180372},{"column":"due_date","similarity":0.6052605786793172}],"order_lines":[{"column":"discount_percent","similarity":0.5942047522544827}],"quote_lines":[{"column":"discount_percent","similarity":0.5937287046720631}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.5894147308873736}],"budgets":[{"column":"total_amount","similarity":0.5872817125068575}],"project_phases":[{"column":"project_id","similarity":0.5861825792508847},{"column":"sequence","similarity":0.5827342342492163},{"column":"description","similarity":0.5826479776722895}],"currencies":[{"column":"exchange_rate","similarity":0.5799546058797589}],"tax_rates":[{"column":"rate","similarity":0.5799367806129271}]},"fused_scores":[{"table":"project_resources","fused":0.9602253796128235,"table_sim":0.7726017161069211,"col_score":1.2416608748716773},{"table":"project_budgets","fused":0.7809107843016184,"table_sim":0.6455070367212973,"col_score":0.9840164056721001},{"table":"projects","fused":0.7499589361816793,"table_sim":0.6043704297265652,"col_score":0.9683416958643505},{"table":"project_expenses","fused":0.7456632083957231,"table_sim":0.6218657368982583,"col_score":0.9313594156419202},{"table":"project_milestones","fused":0.7408597262854619,"table_sim":0.6065393117891723,"col_score":0.9423403480298964},{"table":"project_tasks","fused":0.7390668192443008,"table_sim":0.6095803048417692,"col_score":0.9332965908480981},{"table":"task_assignments","fused":0.36826206941181583,"table_sim":0.6137701156863598,"col_score":0},{"table":"project_phases","fused":0.3151592547948104,"table_sim":0,"col_score":0.7878981369870259},{"table":"asset_categories","fused":0.2574008713628704,"table_sim":0,"col_score":0.6435021784071759},{"table":"order_lines","fused":0.2376819009017931,"table_sim":0,"col_score":0.5942047522544827},{"table":"quote_lines","fused":0.23749148186882524,"table_sim":0,"col_score":0.5937287046720631},{"table":"performance_reviews","fused":0.23576589235494946,"table_sim":0,"col_score":0.5894147308873736},{"table":"budgets","fused":0.23491268500274298,"table_sim":0,"col_score":0.5872817125068575},{"table":"currencies","fused":0.23198184235190356,"table_sim":0,"col_score":0.5799546058797589},{"table":"tax_rates","fused":0.23197471224517086,"table_sim":0,"col_score":0.5799367806129271}],"fk_expansion_candidates":18,"fk_expansion_added":0,"fk_expansion_blocked_count":18,"fk_expansion_blocked":[{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":26,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":1386,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T21:49:26.798Z","query_id":"e01e0d91-c6f4-4c6c-9f4f-255fd6aaff13","question":"List fixed assets by category with their total purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["fixed_assets","asset_categories","asset_maintenance","products","depreciation_schedules","purchase_orders","depreciation_entries","asset_transfers","purchase_requisitions","project_expenses","departments","maintenance_types"],"tables_from_table_retrieval":5,"tables_from_column_only":12,"tables_from_fk_expansion":2,"table_scores":[{"table":"fixed_assets","similarity":0.7671508108800839},{"table":"fixed_assets","similarity":0.7671508108800839},{"table":"fixed_assets","similarity":0.7654083493676195},{"table":"asset_categories","similarity":0.7259858085236982},{"table":"asset_categories","similarity":0.72092108607088},{"table":"asset_categories","similarity":0.72092108607088},{"table":"asset_maintenance","similarity":0.6539211907012796},{"table":"asset_maintenance","similarity":0.6348030204988977},{"table":"asset_maintenance","similarity":0.6348030204988977},{"table":"products","similarity":0.6262946781709159},{"table":"products","similarity":0.6262946781709159},{"table":"depreciation_schedules","similarity":0.6168004716425273},{"table":"depreciation_schedules","similarity":0.6168004716425273},{"table":"products","similarity":0.614929355062545},{"table":"depreciation_schedules","similarity":0.6121354509873786}],"column_hits_per_table":{"fixed_assets":17,"asset_maintenance":5,"asset_categories":5,"purchase_orders":5,"asset_transfers":2,"depreciation_entries":2,"project_expenses":1,"products":2,"depreciation_schedules":1,"project_budgets":1,"maintenance_types":1,"purchase_requisitions":3,"sales_orders":1,"budgets":1,"departments":1,"product_categories":1,"product_suppliers":1},"top_columns_per_table":{"fixed_assets":[{"column":"purchase_cost","similarity":0.8198772015639547},{"column":"purchase_date","similarity":0.7467731747895039},{"column":"category_id","similarity":0.7278001390498363}],"asset_maintenance":[{"column":"cost","similarity":0.6959112135520997},{"column":"asset_id","similarity":0.6605498780552402},{"column":"status","similarity":0.6365694723201099}],"asset_categories":[{"column":"depreciation_method","similarity":0.6914816579489624},{"column":"salvage_value_percent","similarity":0.6861491499470286},{"column":"name","similarity":0.680679494396876}],"purchase_orders":[{"column":"total","similarity":0.670586118670476},{"column":"shipping_cost","similarity":0.640379738676011},{"column":"subtotal","similarity":0.637971799251016}],"asset_transfers":[{"column":"asset_id","similarity":0.6625737391840324},{"column":"reason","similarity":0.6105152608091542}],"depreciation_entries":[{"column":"asset_id","similarity":0.661025419881134},{"column":"accumulated_depreciation","similarity":0.6155524514035258}],"project_expenses":[{"column":"category","similarity":0.6464899039427223}],"products":[{"column":"unit_cost","similarity":0.642832807024477},{"column":"list_price","similarity":0.6321686201995896}],"depreciation_schedules":[{"column":"asset_id","similarity":0.6414080766024978}],"project_budgets":[{"column":"category","similarity":0.6328605061405524}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6315283480937153}],"purchase_requisitions":[{"column":"status","similarity":0.62811109700508},{"column":"requisition_number","similarity":0.6166193497762641},{"column":"notes","similarity":0.6141499806901694}],"sales_orders":[{"column":"total","similarity":0.6248918377251549}],"budgets":[{"column":"total_amount","similarity":0.6163584124223674}],"departments":[{"column":"budget","similarity":0.615804850011434}],"product_categories":[{"column":"description","similarity":0.6126142026531948}],"product_suppliers":[{"column":"unit_cost","similarity":0.611791518325227}]},"fused_scores":[{"table":"fixed_assets","fused":0.9365505252040545,"table_sim":0.7654083493676195,"col_score":1.1932637889587068},{"table":"asset_categories","fused":0.8463751448115187,"table_sim":0.72092108607088,"col_score":1.0345562329224767},{"table":"asset_maintenance","fused":0.7831805519609546,"table_sim":0.6348030204988977,"col_score":1.00574684915404},{"table":"products","fused":0.7525244598872358,"table_sim":0.614929355062545,"col_score":0.9589171171242719},{"table":"depreciation_schedules","fused":0.5468755320411265,"table_sim":0.6121354509873786,"col_score":0.4489856536217484},{"table":"purchase_orders","fused":0.3963103952033926,"table_sim":0,"col_score":0.9907759880084814},{"table":"depreciation_entries","fused":0.3387645393447691,"table_sim":0,"col_score":0.8469113483619226},{"table":"asset_transfers","fused":0.3369664278094262,"table_sim":0,"col_score":0.8424160695235655},{"table":"purchase_requisitions","fused":0.33458329349121685,"table_sim":0,"col_score":0.8364582337280421},{"table":"project_expenses","fused":0.2585959615770889,"table_sim":0,"col_score":0.6464899039427223},{"table":"project_budgets","fused":0.253144202456221,"table_sim":0,"col_score":0.6328605061405524},{"table":"maintenance_types","fused":0.25261133923748613,"table_sim":0,"col_score":0.6315283480937153},{"table":"sales_orders","fused":0.24995673509006197,"table_sim":0,"col_score":0.6248918377251549},{"table":"budgets","fused":0.246543364968947,"table_sim":0,"col_score":0.6163584124223674},{"table":"departments","fused":0.24632194000457364,"table_sim":0,"col_score":0.615804850011434}],"fk_expansion_candidates":72,"fk_expansion_added":2,"fk_expansion_blocked_count":63,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"already_selected"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"departments","reason":"already_selected"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":44,"total_retrieval_latency_ms":50,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":318,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:27.116Z","query_id":"2bd62228-4a28-4032-812e-3fb2ba5e7e3d","question":"List assets due for maintenance in the next 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["asset_maintenance","fixed_assets","depreciation_schedules","asset_transfers","maintenance_types","depreciation_entries","project_expenses","inventory_adjustments","project_tasks","employee_benefits","asset_categories"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":1,"table_scores":[{"table":"asset_maintenance","similarity":0.7135403855722379},{"table":"asset_maintenance","similarity":0.7135403855722379},{"table":"asset_maintenance","similarity":0.6994637000895678},{"table":"fixed_assets","similarity":0.6764596229184475},{"table":"fixed_assets","similarity":0.6733613177336575},{"table":"fixed_assets","similarity":0.6733613177336575},{"table":"depreciation_schedules","similarity":0.6273221911861584},{"table":"depreciation_schedules","similarity":0.6165498794694232},{"table":"depreciation_schedules","similarity":0.6165498794694232},{"table":"maintenance_types","similarity":0.5989446217445276},{"table":"maintenance_types","similarity":0.5989446217445276},{"table":"asset_transfers","similarity":0.5971719320807494},{"table":"maintenance_types","similarity":0.5961062154680403},{"table":"asset_transfers","similarity":0.5960224713409419},{"table":"asset_transfers","similarity":0.5960224713409419}],"column_hits_per_table":{"asset_maintenance":10,"fixed_assets":17,"depreciation_schedules":4,"asset_transfers":3,"project_expenses":2,"maintenance_types":2,"depreciation_entries":3,"inventory_adjustments":2,"project_tasks":1,"employee_benefits":1,"purchase_requisitions":1,"project_milestones":1,"asset_locations":1,"asset_categories":1,"budgets":1},"top_columns_per_table":{"asset_maintenance":[{"column":"scheduled_date","similarity":0.739898742205908},{"column":"completed_date","similarity":0.7284483792345208},{"column":"status","similarity":0.7101114444407461}],"fixed_assets":[{"column":"disposal_date","similarity":0.6888298809769268},{"column":"purchase_date","similarity":0.6863275066336678},{"column":"warranty_expiry","similarity":0.6767168006008178}],"depreciation_schedules":[{"column":"asset_id","similarity":0.6382143138838896},{"column":"end_date","similarity":0.6022449069977498},{"column":"start_date","similarity":0.5877836267018011}],"asset_transfers":[{"column":"transfer_date","similarity":0.629042679787289},{"column":"asset_id","similarity":0.6153656526379016},{"column":"reason","similarity":0.581820393022087}],"project_expenses":[{"column":"expense_date","similarity":0.6101532216190212},{"column":"status","similarity":0.5810411591332079}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6075361589401804},{"column":"frequency_months","similarity":0.5655954128168349}],"depreciation_entries":[{"column":"asset_id","similarity":0.6069641044175335},{"column":"entry_date","similarity":0.5764830727802217},{"column":"accumulated_depreciation","similarity":0.5729541876728412}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5914927180055287},{"column":"status","similarity":0.5710920004037154}],"project_tasks":[{"column":"due_date","similarity":0.572177501074105}],"employee_benefits":[{"column":"end_date","similarity":0.5674256643532543}],"purchase_requisitions":[{"column":"required_date","similarity":0.5649724847275831}],"project_milestones":[{"column":"due_date","similarity":0.5629639209729828}],"asset_locations":[{"column":"description","similarity":0.5623171240430319}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.5602795069744737}],"budgets":[{"column":"status","similarity":0.5600489740464554}]},"fused_scores":[{"table":"asset_maintenance","fused":0.8613273927830081,"table_sim":0.6994637000895678,"col_score":1.1041229318231685},{"table":"fixed_assets","fused":0.8168142443576987,"table_sim":0.6733613177336575,"col_score":1.0319936342937606},{"table":"depreciation_schedules","fused":0.728384615821114,"table_sim":0.6165498794694232,"col_score":0.8961367203486503},{"table":"asset_transfers","fused":0.7255946333238981,"table_sim":0.5960224713409419,"col_score":0.9199528762983324},{"table":"maintenance_types","fused":0.7137972754202634,"table_sim":0.5961062154680403,"col_score":0.8903338653485979},{"table":"depreciation_entries","fused":0.34518406664665696,"table_sim":0,"col_score":0.8629601666166423},{"table":"project_expenses","fused":0.3254070509262576,"table_sim":0,"col_score":0.8135176273156439},{"table":"inventory_adjustments","fused":0.3165499672587317,"table_sim":0,"col_score":0.7913749181468291},{"table":"project_tasks","fused":0.22887100042964204,"table_sim":0,"col_score":0.572177501074105},{"table":"employee_benefits","fused":0.22697026574130172,"table_sim":0,"col_score":0.5674256643532543},{"table":"purchase_requisitions","fused":0.22598899389103325,"table_sim":0,"col_score":0.5649724847275831},{"table":"project_milestones","fused":0.22518556838919312,"table_sim":0,"col_score":0.5629639209729828},{"table":"asset_categories","fused":0.22411180278978948,"table_sim":0,"col_score":0.5602795069744737},{"table":"asset_locations","fused":0.15744879473204895,"table_sim":0,"col_score":0.39362198683012234},{"table":"budgets","fused":0.1568137127330075,"table_sim":0,"col_score":0.39203428183251876}],"fk_expansion_candidates":42,"fk_expansion_added":1,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"asset_categories","reason":"already_selected"},{"table":"asset_categories","reason":"already_selected"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":17,"total_retrieval_latency_ms":24,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":268,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:27.384Z","query_id":"8fb007b6-b2ac-4535-8d01-bc8539d93d98","question":"How many documents are attached to each entity type?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["document_attachments","asset_categories","account_types","certifications","maintenance_types","benefit_types","inventory_transactions","inventory_levels","employee_certifications","asset_maintenance","chart_of_accounts"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":1,"table_scores":[{"table":"document_attachments","similarity":0.7393040203593138},{"table":"document_attachments","similarity":0.7393040203593138},{"table":"document_attachments","similarity":0.7352812742665428},{"table":"account_types","similarity":0.5981352749242909},{"table":"account_types","similarity":0.5981352749242909},{"table":"maintenance_types","similarity":0.5897465403330582},{"table":"maintenance_types","similarity":0.5897465403330582},{"table":"benefit_types","similarity":0.5853557438584527},{"table":"benefit_types","similarity":0.5853557438584527},{"table":"asset_categories","similarity":0.5755840603854031},{"table":"asset_categories","similarity":0.5755840603854031},{"table":"asset_categories","similarity":0.5753411818367143},{"table":"certifications","similarity":0.5748402961818171},{"table":"certifications","similarity":0.5748402961818171},{"table":"account_types","similarity":0.5738443826637069}],"column_hits_per_table":{"document_attachments":9,"inventory_transactions":3,"maintenance_types":3,"account_types":3,"employee_certifications":3,"asset_maintenance":2,"asset_categories":4,"benefit_types":3,"certifications":2,"chart_of_accounts":2,"employee_benefits":1,"departments":3,"warehouses":1,"sales_regions":1,"business_units":1,"product_categories":3,"asset_locations":1,"inventory_levels":2,"leave_types":1,"audit_log":1,"asset_transfers":1},"top_columns_per_table":{"document_attachments":[{"column":"entity_type","similarity":0.7979734617201061},{"column":"entity_id","similarity":0.7507212541180398},{"column":"attachment_id","similarity":0.6499131194867761}],"inventory_transactions":[{"column":"reference_type","similarity":0.5907758006474604},{"column":"transaction_type","similarity":0.5740359961697677},{"column":"created_by","similarity":0.5409655490497369}],"maintenance_types":[{"column":"description","similarity":0.5849404241337369},{"column":"type_id","similarity":0.5687464182699},{"column":"name","similarity":0.5466111937708543}],"account_types":[{"column":"category","similarity":0.5795842717697016},{"column":"type_id","similarity":0.572204772617412},{"column":"name","similarity":0.54522230629148}],"employee_certifications":[{"column":"certificate_number","similarity":0.570344611110217},{"column":"cert_id","similarity":0.5516333538250004},{"column":"employee_id","similarity":0.5450123538269055}],"asset_maintenance":[{"column":"maintenance_type_id","similarity":0.5695302816995195},{"column":"notes","similarity":0.5345241852289304}],"asset_categories":[{"column":"category_id","similarity":0.5686260353611468},{"column":"depreciation_method","similarity":0.5475874755164923},{"column":"name","similarity":0.5455049147965266}],"benefit_types":[{"column":"description","similarity":0.5684622522725375},{"column":"benefit_type_id","similarity":0.554474960208018},{"column":"name","similarity":0.5413044190115788}],"certifications":[{"column":"description","similarity":0.5628134265182438},{"column":"issuing_body","similarity":0.5519765334559635}],"chart_of_accounts":[{"column":"account_type_id","similarity":0.5590662505285231},{"column":"description","similarity":0.535907997292557}],"employee_benefits":[{"column":"benefit_type_id","similarity":0.5588809609991403}],"departments":[{"column":"manager_id","similarity":0.5524511044152465},{"column":"department_id","similarity":0.5490358819561373},{"column":"parent_department_id","similarity":0.5456710356874805}],"warehouses":[{"column":"manager_id","similarity":0.5486508621983892}],"sales_regions":[{"column":"manager_id","similarity":0.5473931431415607}],"business_units":[{"column":"manager_id","similarity":0.5472492280812445}],"product_categories":[{"column":"description","similarity":0.5469667414543651},{"column":"category_id","similarity":0.5469560360203749},{"column":"parent_category_id","similarity":0.5356836644445996}],"asset_locations":[{"column":"description","similarity":0.5460071186556418}],"inventory_levels":[{"column":"quantity_available","similarity":0.5401083097075305},{"column":"quantity_on_hand","similarity":0.5359471229919481}],"leave_types":[{"column":"leave_type_id","similarity":0.5379614368742229}],"audit_log":[{"column":"table_name","similarity":0.5362126705338817}],"asset_transfers":[{"column":"transfer_id","similarity":0.533307845538454}]},"fused_scores":[{"table":"document_attachments","fused":0.8890806280125436,"table_sim":0.7352812742665428,"col_score":1.1197796586315447},{"table":"asset_categories","fused":0.6714887456297062,"table_sim":0.5753411818367143,"col_score":0.8157100913191939},{"table":"account_types","fused":0.6562490064725425,"table_sim":0.5738443826637069,"col_score":0.7798559421857958},{"table":"certifications","fused":0.6444886708040298,"table_sim":0.5748402961818171,"col_score":0.7489612327373489},{"table":"maintenance_types","fused":0.5972557415150672,"table_sim":0.5897465403330582,"col_score":0.6085195432880808},{"table":"benefit_types","fused":0.5880093713805046,"table_sim":0.5853557438584527,"col_score":0.5919898126635825},{"table":"inventory_transactions","fused":0.35111751949293774,"table_sim":0,"col_score":0.8777937987323443},{"table":"inventory_levels","fused":0.3232327484814019,"table_sim":0,"col_score":0.8080818712035046},{"table":"employee_certifications","fused":0.30536651397958686,"table_sim":0,"col_score":0.7634162849489671},{"table":"asset_maintenance","fused":0.2343018648079157,"table_sim":0,"col_score":0.5857546620197892},{"table":"chart_of_accounts","fused":0.23156566976894444,"table_sim":0,"col_score":0.578914174422361},{"table":"departments","fused":0.23155133271012823,"table_sim":0,"col_score":0.5788783317753206},{"table":"product_categories","fused":0.22972453265007473,"table_sim":0,"col_score":0.5743113316251868},{"table":"employee_benefits","fused":0.15648666907975928,"table_sim":0,"col_score":0.3912166726993982},{"table":"warehouses","fused":0.15362224141554898,"table_sim":0,"col_score":0.3840556035388724}],"fk_expansion_candidates":24,"fk_expansion_added":1,"fk_expansion_blocked_count":21,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"already_selected"},{"table":"chart_of_accounts","reason":"already_selected"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":24,"total_retrieval_latency_ms":30,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":241,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:27.625Z","query_id":"babcffa6-b41d-4fe2-8e2f-3f5d3f9f2c6a","question":"Calculate employee turnover rate by department for 2024","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","employee_salaries","departments","sales_regions","budgets","sales_territories","positions","employee_training","inventory_adjustments","asset_transfers","employee_certifications","employment_history"],"tables_from_table_retrieval":7,"tables_from_column_only":16,"tables_from_fk_expansion":2,"table_scores":[{"table":"employees","similarity":0.6359658673732379},{"table":"employees","similarity":0.6283128721980845},{"table":"employees","similarity":0.6283128721980845},{"table":"employee_salaries","similarity":0.6154920185256858},{"table":"employee_salaries","similarity":0.6154920185256858},{"table":"employee_salaries","similarity":0.6137332929756416},{"table":"departments","similarity":0.6101103038853555},{"table":"positions","similarity":0.5999463882310814},{"table":"positions","similarity":0.599093570754041},{"table":"positions","similarity":0.599093570754041},{"table":"sales_territories","similarity":0.5983156084770043},{"table":"departments","similarity":0.5980265380974776},{"table":"departments","similarity":0.5980265380974776},{"table":"sales_regions","similarity":0.5955253694234874},{"table":"budgets","similarity":0.5922652556433196}],"column_hits_per_table":{"departments":4,"sales_territories":1,"employees":7,"employee_salaries":7,"positions":1,"employee_training":4,"asset_maintenance":1,"goods_receipts":1,"sales_orders":1,"performance_reviews":2,"sales_regions":2,"asset_transfers":3,"budgets":2,"employee_certifications":2,"employee_benefits":2,"cost_centers":1,"inventory_adjustments":2,"purchase_requisitions":1,"currencies":1,"employment_history":2,"sales_opportunities":1,"business_units":1,"timesheets":1},"top_columns_per_table":{"departments":[{"column":"budget","similarity":0.6171215338559899},{"column":"manager_id","similarity":0.5961383943023354},{"column":"created_at","similarity":0.5650467732880422}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.613735339271099}],"employees":[{"column":"department_id","similarity":0.6128547771691438},{"column":"salary","similarity":0.601752847347806},{"column":"termination_date","similarity":0.5966071793770903}],"employee_salaries":[{"column":"end_date","similarity":0.6066714954048358},{"column":"amount","similarity":0.593388338491163},{"column":"effective_date","similarity":0.5928836468348673}],"positions":[{"column":"department_id","similarity":0.601081477446699}],"employee_training":[{"column":"score","similarity":0.5928527070079839},{"column":"scheduled_date","similarity":0.5735550391908764},{"column":"employee_id","similarity":0.5706780616174596}],"asset_maintenance":[{"column":"performed_by","similarity":0.5871347008280439}],"goods_receipts":[{"column":"received_by","similarity":0.5868493099400296}],"sales_orders":[{"column":"sales_rep_id","similarity":0.5843091252583017}],"performance_reviews":[{"column":"employee_id","similarity":0.5837580109083931},{"column":"reviewer_id","similarity":0.5714175766121258}],"sales_regions":[{"column":"manager_id","similarity":0.5798833108533066},{"column":"target_revenue","similarity":0.5574040652402492}],"asset_transfers":[{"column":"transferred_by","similarity":0.5794683807030565},{"column":"to_employee_id","similarity":0.5716790888698292},{"column":"from_employee_id","similarity":0.5709346468764337}],"budgets":[{"column":"department_id","similarity":0.5771392831310456},{"column":"approved_by","similarity":0.5582712309076955}],"employee_certifications":[{"column":"employee_id","similarity":0.5746489952027047},{"column":"expiry_date","similarity":0.5686582077330544}],"employee_benefits":[{"column":"end_date","similarity":0.5727875043304892},{"column":"employee_id","similarity":0.5623488537687561}],"cost_centers":[{"column":"department_id","similarity":0.5719328818068407}],"inventory_adjustments":[{"column":"adjusted_by","similarity":0.5712410647201211},{"column":"approved_by","similarity":0.5645446751844594}],"purchase_requisitions":[{"column":"department_id","similarity":0.5675362306468967}],"currencies":[{"column":"exchange_rate","similarity":0.566384286000632}],"employment_history":[{"column":"employee_id","similarity":0.5633517132005502},{"column":"reason_for_leaving","similarity":0.5587429277691088}],"sales_opportunities":[{"column":"owner_id","similarity":0.5617897810640338}],"business_units":[{"column":"manager_id","similarity":0.5600356791366401}],"timesheets":[{"column":"employee_id","similarity":0.5600062923329793}]},"fused_scores":[{"table":"employees","fused":0.7370102981333913,"table_sim":0.6283128721980845,"col_score":0.9000564370363511},{"table":"employee_salaries","fused":0.7295862416455519,"table_sim":0.6137332929756416,"col_score":0.9033656646504173},{"table":"departments","fused":0.6891239116032095,"table_sim":0.5980265380974776,"col_score":0.8257699718618072},{"table":"sales_regions","fused":0.661460511269655,"table_sim":0.5955253694234874,"col_score":0.7603632240389064},{"table":"budgets","fused":0.6594671453874164,"table_sim":0.5922652556433196,"col_score":0.7602699800035614},{"table":"sales_territories","fused":0.5308352600821102,"table_sim":0.5983156084770043,"col_score":0.4296147374897693},{"table":"positions","fused":0.5277589561375002,"table_sim":0.599093570754041,"col_score":0.4207570342126893},{"table":"employee_training","fused":0.35185209064136885,"table_sim":0,"col_score":0.879630226603422},{"table":"inventory_adjustments","fused":0.34140536092494034,"table_sim":0,"col_score":0.8535134023123508},{"table":"asset_transfers","fused":0.3118224247229987,"table_sim":0,"col_score":0.7795560618074967},{"table":"employee_certifications","fused":0.3079141424216005,"table_sim":0,"col_score":0.7697853560540011},{"table":"employee_benefits","fused":0.30784384125982156,"table_sim":0,"col_score":0.7696096031495538},{"table":"employment_history","fused":0.3023664109557206,"table_sim":0,"col_score":0.7559160273893014},{"table":"performance_reviews","fused":0.24345070378004766,"table_sim":0,"col_score":0.6086267594501191},{"table":"asset_maintenance","fused":0.23485388033121757,"table_sim":0,"col_score":0.5871347008280439}],"fk_expansion_candidates":96,"fk_expansion_added":2,"fk_expansion_blocked_count":78,"fk_expansion_blocked":[{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"already_selected"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"already_selected"},{"table":"performance_reviews","reason":"max_tables"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_certifications","reason":"already_selected"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"goods_receipts","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"max_tables"},{"table":"cost_centers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"already_selected"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":40,"total_retrieval_latency_ms":47,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":313,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:27.939Z","query_id":"e8776742-60e2-475f-83c3-2d9220d547fb","question":"Find the salary percentile ranking for each employee within their department","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_salaries","employees","positions","departments","performance_reviews","sales_regions","project_resources","sales_orders","vendor_invoices","employee_benefits","budgets","employee_training"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":2,"table_scores":[{"table":"employee_salaries","similarity":0.7150971626527787},{"table":"employee_salaries","similarity":0.7150971626527787},{"table":"employee_salaries","similarity":0.708947353388894},{"table":"positions","similarity":0.673242751719371},{"table":"positions","similarity":0.6565261063268311},{"table":"positions","similarity":0.6565261063268311},{"table":"employees","similarity":0.6495295179488771},{"table":"departments","similarity":0.64741802797087},{"table":"employees","similarity":0.633369499345302},{"table":"employees","similarity":0.633369499345302},{"table":"departments","similarity":0.6328181923670926},{"table":"departments","similarity":0.6328181923670926},{"table":"sales_regions","similarity":0.6247633430026287},{"table":"performance_reviews","similarity":0.6201770986480979},{"table":"performance_reviews","similarity":0.6063045966524395}],"column_hits_per_table":{"employees":8,"employee_salaries":7,"departments":4,"positions":3,"employee_training":1,"project_resources":2,"sales_orders":4,"performance_reviews":4,"employee_benefits":2,"order_lines":1,"sales_territories":1,"employee_certifications":2,"currencies":1,"tax_rates":1,"sales_regions":1,"vendor_invoices":3,"asset_categories":1,"purchase_orders":1,"budgets":1,"quote_lines":1,"product_suppliers":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.7516999267912566},{"column":"employee_number","similarity":0.6475222105411707},{"column":"phone","similarity":0.6335347761920442}],"employee_salaries":[{"column":"amount","similarity":0.7335170013770521},{"column":"approved_by","similarity":0.6822708118932407},{"column":"effective_date","similarity":0.6739318834802893}],"departments":[{"column":"budget","similarity":0.677998212273291},{"column":"manager_id","similarity":0.6351459248984429},{"column":"parent_department_id","similarity":0.623290651523152}],"positions":[{"column":"min_salary","similarity":0.6744645855381992},{"column":"max_salary","similarity":0.6663214050707933},{"column":"department_id","similarity":0.6424140802376155}],"employee_training":[{"column":"score","similarity":0.6565621289067415}],"project_resources":[{"column":"hourly_rate","similarity":0.6430540971391342},{"column":"allocation_percent","similarity":0.621737392517516}],"sales_orders":[{"column":"total","similarity":0.6323044264651041},{"column":"subtotal","similarity":0.6231063815552383},{"column":"sales_rep_id","similarity":0.603951442295968}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.6309951342900396},{"column":"reviewer_id","similarity":0.6296156415374472},{"column":"employee_id","similarity":0.6270036415776163}],"employee_benefits":[{"column":"coverage_level","similarity":0.6291373504427914},{"column":"employee_id","similarity":0.608538154628989}],"order_lines":[{"column":"discount_percent","similarity":0.6288230405331483}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.626169512850208}],"employee_certifications":[{"column":"certificate_number","similarity":0.6179354657069774},{"column":"employee_id","similarity":0.6116376107330588}],"currencies":[{"column":"exchange_rate","similarity":0.6151317939764944}],"tax_rates":[{"column":"rate","similarity":0.6140263720536819}],"sales_regions":[{"column":"manager_id","similarity":0.6125537057406677}],"vendor_invoices":[{"column":"total","similarity":0.6094602269991619},{"column":"subtotal","similarity":0.604766812781768},{"column":"amount_paid","similarity":0.6027268036015034}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.6075033191187711}],"purchase_orders":[{"column":"total","similarity":0.6070169426521217}],"budgets":[{"column":"approved_by","similarity":0.6061548136762259}],"quote_lines":[{"column":"discount_percent","similarity":0.6047639324071958}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6034202600276743}]},"fused_scores":[{"table":"employee_salaries","fused":0.8552293749628055,"table_sim":0.708947353388894,"col_score":1.0746524073236725},{"table":"employees","fused":0.810206112431918,"table_sim":0.633369499345302,"col_score":1.0754610320618418},{"table":"positions","fused":0.7969657790255369,"table_sim":0.6565261063268311,"col_score":1.0076252880735959},{"table":"departments","fused":0.739810629815354,"table_sim":0.6328181923670926,"col_score":0.9002992859877461},{"table":"performance_reviews","fused":0.7380201350757962,"table_sim":0.6063045966524395,"col_score":0.9355934427108312},{"table":"sales_regions","fused":0.5463730434089642,"table_sim":0.6247633430026287,"col_score":0.4287875940184674},{"table":"project_resources","fused":0.3815691173591569,"table_sim":0,"col_score":0.9539227933978922},{"table":"sales_orders","fused":0.37754304689708934,"table_sim":0,"col_score":0.9438576172427233},{"table":"vendor_invoices","fused":0.36473745335601837,"table_sim":0,"col_score":0.9118436333900459},{"table":"employee_benefits","fused":0.33685028182517507,"table_sim":0,"col_score":0.8421257045629376},{"table":"employee_certifications","fused":0.33280345178541926,"table_sim":0,"col_score":0.832008629463548},{"table":"employee_training","fused":0.2626248515626966,"table_sim":0,"col_score":0.6565621289067415},{"table":"order_lines","fused":0.25152921621325935,"table_sim":0,"col_score":0.6288230405331483},{"table":"currencies","fused":0.24605271759059777,"table_sim":0,"col_score":0.6151317939764944},{"table":"tax_rates","fused":0.2456105488214728,"table_sim":0,"col_score":0.6140263720536819}],"fk_expansion_candidates":99,"fk_expansion_added":2,"fk_expansion_blocked_count":84,"fk_expansion_blocked":[{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"employee_certifications","reason":"max_tables"},{"table":"employment_history","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"max_tables"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"employment_history","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"benefit_types","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"order_lines","reason":"max_tables"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"max_tables"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"max_tables"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_training","reason":"already_selected"},{"table":"employee_certifications","reason":"max_tables"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"order_lines","reason":"max_tables"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"order_lines","reason":"max_tables"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"max_tables"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":39,"total_retrieval_latency_ms":46,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":311,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:28.250Z","query_id":"c97b1d9e-2bd4-4d48-abb5-1eb7bdffbdf1","question":"Identify employees who have not completed mandatory training","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_training","training_courses","employee_certifications","employees","employee_salaries","leave_requests","employee_benefits","asset_maintenance","fixed_assets","task_assignments"],"tables_from_table_retrieval":6,"tables_from_column_only":12,"tables_from_fk_expansion":0,"table_scores":[{"table":"employee_training","similarity":0.704722872966379},{"table":"employee_training","similarity":0.704722872966379},{"table":"employee_training","similarity":0.6889099730779654},{"table":"training_courses","similarity":0.6502538829600134},{"table":"training_courses","similarity":0.6479414954111261},{"table":"training_courses","similarity":0.6479414954111261},{"table":"employee_certifications","similarity":0.6250915878473813},{"table":"employee_certifications","similarity":0.6250915878473813},{"table":"employee_certifications","similarity":0.622622468299915},{"table":"employees","similarity":0.5917832723264214},{"table":"employees","similarity":0.5917832723264214},{"table":"employees","similarity":0.5856498095746774},{"table":"leave_requests","similarity":0.562719264388909},{"table":"employee_salaries","similarity":0.5602939159575271},{"table":"employee_salaries","similarity":0.5602939159575271}],"column_hits_per_table":{"employee_training":7,"training_courses":7,"employees":13,"employee_certifications":6,"employee_salaries":2,"task_assignments":1,"leave_requests":2,"leave_types":1,"certifications":1,"sales_territories":1,"warehouses":1,"business_units":1,"departments":1,"asset_maintenance":1,"emergency_contacts":1,"fixed_assets":1,"employee_benefits":2,"sales_regions":1},"top_columns_per_table":{"employee_training":[{"column":"completion_date","similarity":0.7097029109110412},{"column":"status","similarity":0.6976372257898822},{"column":"scheduled_date","similarity":0.6929640745659373}],"training_courses":[{"column":"is_mandatory","similarity":0.7012303940272651},{"column":"is_active","similarity":0.6332101562224836},{"column":"duration_hours","similarity":0.6052562024596296}],"employees":[{"column":"is_active","similarity":0.6199746938033394},{"column":"employee_id","similarity":0.5826338967861492},{"column":"hire_date","similarity":0.5802768513083864}],"employee_certifications":[{"column":"obtained_date","similarity":0.6093546957662352},{"column":"employee_id","similarity":0.6062132886742129},{"column":"expiry_date","similarity":0.5973898422628211}],"employee_salaries":[{"column":"effective_date","similarity":0.5735579062029842},{"column":"end_date","similarity":0.5734035938209808}],"task_assignments":[{"column":"employee_id","similarity":0.5697426551622571}],"leave_requests":[{"column":"employee_id","similarity":0.5660077016574807},{"column":"approved_by","similarity":0.5639076344538145}],"leave_types":[{"column":"is_paid","similarity":0.5643874982938306}],"certifications":[{"column":"description","similarity":0.5613971013724545}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.5601484599678442}],"warehouses":[{"column":"manager_id","similarity":0.559427574061162}],"business_units":[{"column":"manager_id","similarity":0.5583488075095108}],"departments":[{"column":"manager_id","similarity":0.5561382857923995}],"asset_maintenance":[{"column":"performed_by","similarity":0.5557857799870751}],"emergency_contacts":[{"column":"employee_id","similarity":0.5555155902473405}],"fixed_assets":[{"column":"assigned_to","similarity":0.5550951258692207}],"employee_benefits":[{"column":"start_date","similarity":0.5541815032041719},{"column":"end_date","similarity":0.5539179805848201}],"sales_regions":[{"column":"manager_id","similarity":0.5490780636724084}]},"fused_scores":[{"table":"employee_training","fused":0.8358199631243832,"table_sim":0.6889099730779654,"col_score":1.05618494819401},{"table":"training_courses","fused":0.7903082953495078,"table_sim":0.6479414954111261,"col_score":1.00385849525708},{"table":"employee_certifications","fused":0.7367933277390073,"table_sim":0.622622468299915,"col_score":0.9080496168976457},{"table":"employees","fused":0.6993894779630755,"table_sim":0.5856498095746774,"col_score":0.8699989805456727},{"table":"employee_salaries","fused":0.6802802308199061,"table_sim":0.5602939159575271,"col_score":0.8602597031134747},{"table":"leave_requests","fused":0.6424356906469184,"table_sim":0.562719264388909,"col_score":0.7620103300339327},{"table":"employee_benefits","fused":0.33245619739863286,"table_sim":0,"col_score":0.831140493496582},{"table":"asset_maintenance","fused":0.22231431199483007,"table_sim":0,"col_score":0.5557857799870751},{"table":"fixed_assets","fused":0.2220380503476883,"table_sim":0,"col_score":0.5550951258692207},{"table":"task_assignments","fused":0.15952794344543197,"table_sim":0,"col_score":0.39881985861357994},{"table":"leave_types","fused":0.15802849952227258,"table_sim":0,"col_score":0.3950712488056814},{"table":"certifications","fused":0.15719118838428725,"table_sim":0,"col_score":0.3929779709607181},{"table":"sales_territories","fused":0.1568415687909964,"table_sim":0,"col_score":0.39210392197749094},{"table":"warehouses","fused":0.15663972073712534,"table_sim":0,"col_score":0.39159930184281333},{"table":"business_units","fused":0.156337666102663,"table_sim":0,"col_score":0.3908441652566575}],"fk_expansion_candidates":111,"fk_expansion_added":0,"fk_expansion_blocked_count":111,"fk_expansion_blocked":[{"table":"certifications","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":24,"total_retrieval_latency_ms":31,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":283,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:28.533Z","query_id":"575cde71-1e08-4138-b17c-bf23c5c24b15","question":"Calculate month-over-month sales growth rate for the past 12 months","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_opportunities","sales_orders","sales_quotes","project_milestones","performance_reviews","purchase_orders","sales_regions","depreciation_schedules","maintenance_types","product_suppliers","fixed_assets","goods_receipts"],"tables_from_table_retrieval":7,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_opportunities","similarity":0.6157116926794552},{"table":"sales_opportunities","similarity":0.6070846065624028},{"table":"sales_opportunities","similarity":0.6070846065624028},{"table":"sales_orders","similarity":0.6006459034551404},{"table":"sales_orders","similarity":0.5887441533450763},{"table":"sales_orders","similarity":0.5887441533450763},{"table":"sales_regions","similarity":0.5852419849044662},{"table":"sales_quotes","similarity":0.5842211564145057},{"table":"sales_regions","similarity":0.5757547372230886},{"table":"sales_regions","similarity":0.5757547372230886},{"table":"project_milestones","similarity":0.570290032024122},{"table":"sales_quotes","similarity":0.5681300155177891},{"table":"sales_quotes","similarity":0.5681300155177891},{"table":"purchase_orders","similarity":0.5671901529888976},{"table":"performance_reviews","similarity":0.5664270760489215}],"column_hits_per_table":{"sales_opportunities":8,"sales_regions":2,"sales_orders":9,"maintenance_types":1,"sales_quotes":7,"performance_reviews":4,"purchase_orders":3,"project_milestones":3,"product_suppliers":1,"depreciation_schedules":2,"sales_territories":1,"inventory_adjustments":1,"fixed_assets":1,"goods_receipts":1,"inventory_levels":1,"employee_salaries":1,"project_resources":1,"employee_benefits":1,"fiscal_years":1,"fiscal_periods":1},"top_columns_per_table":{"sales_opportunities":[{"column":"expected_close_date","similarity":0.6363002878299652},{"column":"actual_close_date","similarity":0.6293430551643405},{"column":"probability","similarity":0.6090506488590046}],"sales_regions":[{"column":"target_revenue","similarity":0.6231668309815453},{"column":"name","similarity":0.585191877724474}],"sales_orders":[{"column":"order_date","similarity":0.608157039227958},{"column":"ship_date","similarity":0.5938744066184168},{"column":"total","similarity":0.5899520680113397}],"maintenance_types":[{"column":"frequency_months","similarity":0.6034947907940172}],"sales_quotes":[{"column":"quote_date","similarity":0.6017792039675379},{"column":"status","similarity":0.5902208864403699},{"column":"valid_until","similarity":0.5831203611386355}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.5909294294176741},{"column":"review_period_start","similarity":0.5615927806546327},{"column":"review_date","similarity":0.5576939251570936}],"purchase_orders":[{"column":"expected_date","similarity":0.583020378163897},{"column":"order_date","similarity":0.5622198964497076},{"column":"total","similarity":0.5529608978561139}],"project_milestones":[{"column":"amount","similarity":0.5816574903010769},{"column":"completed_date","similarity":0.5747741736862505},{"column":"due_date","similarity":0.5699308185216523}],"product_suppliers":[{"column":"lead_time_days","similarity":0.5803736956944617}],"depreciation_schedules":[{"column":"useful_life_months","similarity":0.579285680033414},{"column":"monthly_amount","similarity":0.574824063929058}],"sales_territories":[{"column":"name","similarity":0.5781934127104026}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5725144040106267}],"fixed_assets":[{"column":"purchase_date","similarity":0.5697887482679104}],"goods_receipts":[{"column":"receipt_date","similarity":0.5676283184863925}],"inventory_levels":[{"column":"last_count_date","similarity":0.5634798348449386}],"employee_salaries":[{"column":"effective_date","similarity":0.5606593500435769}],"project_resources":[{"column":"hourly_rate","similarity":0.5590398909892947}],"employee_benefits":[{"column":"start_date","similarity":0.5585024004457627}],"fiscal_years":[{"column":"year","similarity":0.5573744243801744}],"fiscal_periods":[{"column":"period_number","similarity":0.5554732589241962}]},"fused_scores":[{"table":"sales_opportunities","fused":0.7446394901022959,"table_sim":0.6070846065624028,"col_score":0.9509718154121354},{"table":"sales_orders","fused":0.7152841890219124,"table_sim":0.5887441533450763,"col_score":0.9050942425371664},{"table":"sales_quotes","fused":0.6982137631254157,"table_sim":0.5681300155177891,"col_score":0.8933393845368557},{"table":"project_milestones","fused":0.689791850072154,"table_sim":0.570290032024122,"col_score":0.8690445771442021},{"table":"performance_reviews","fused":0.688546573527349,"table_sim":0.5664270760489215,"col_score":0.8717258197449904},{"table":"purchase_orders","fused":0.6859662223488389,"table_sim":0.5671901529888976,"col_score":0.8641303263887508},{"table":"sales_regions","fused":0.6766464376078977,"table_sim":0.5757547372230886,"col_score":0.8279839881851112},{"table":"depreciation_schedules","fused":0.3466790847991772,"table_sim":0,"col_score":0.866697711997943},{"table":"maintenance_types","fused":0.2413979163176069,"table_sim":0,"col_score":0.6034947907940172},{"table":"product_suppliers","fused":0.2321494782777847,"table_sim":0,"col_score":0.5803736956944617},{"table":"inventory_adjustments","fused":0.22900576160425068,"table_sim":0,"col_score":0.5725144040106267},{"table":"fixed_assets","fused":0.22791549930716415,"table_sim":0,"col_score":0.5697887482679104},{"table":"goods_receipts","fused":0.22705132739455702,"table_sim":0,"col_score":0.5676283184863925},{"table":"inventory_levels","fused":0.22539193393797544,"table_sim":0,"col_score":0.5634798348449386},{"table":"employee_salaries","fused":0.22426374001743077,"table_sim":0,"col_score":0.5606593500435769}],"fk_expansion_candidates":48,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"goods_receipts","reason":"already_selected"},{"table":"goods_receipts","reason":"already_selected"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":32,"total_retrieval_latency_ms":39,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":379,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:28.913Z","query_id":"e0610996-6211-46e9-a889-76ec3d81c5ee","question":"Find the average order value and order frequency for each customer segment based on credit limit","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["customers","order_lines","sales_orders","purchase_orders","po_lines","reorder_rules","vendor_invoice_lines","inventory_levels","quote_lines","product_suppliers","customer_contacts","receipt_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"customers","similarity":0.6806365809432632},{"table":"customers","similarity":0.6617339783713272},{"table":"customers","similarity":0.6617339783713272},{"table":"order_lines","similarity":0.6612582093852053},{"table":"sales_orders","similarity":0.6503570787641184},{"table":"order_lines","similarity":0.6440009106463637},{"table":"order_lines","similarity":0.6440009106463637},{"table":"sales_orders","similarity":0.6376795436737537},{"table":"sales_orders","similarity":0.6376795436737537},{"table":"purchase_orders","similarity":0.6350119894518774},{"table":"purchase_orders","similarity":0.626466775910568},{"table":"purchase_orders","similarity":0.626466775910568},{"table":"po_lines","similarity":0.6239700790357152},{"table":"po_lines","similarity":0.609465351537268},{"table":"po_lines","similarity":0.609465351537268}],"column_hits_per_table":{"customers":5,"order_lines":8,"purchase_orders":8,"sales_orders":7,"po_lines":5,"reorder_rules":3,"product_suppliers":1,"vendor_invoice_lines":3,"inventory_levels":3,"vendor_invoices":1,"customer_contacts":1,"quote_lines":2,"requisition_lines":1,"bank_transactions":1,"receipt_lines":1},"top_columns_per_table":{"customers":[{"column":"credit_limit","similarity":0.7562213296764043},{"column":"customer_number","similarity":0.6521520293534339},{"column":"payment_terms","similarity":0.6492525283356417}],"order_lines":[{"column":"line_total","similarity":0.6913816625333152},{"column":"unit_price","similarity":0.6750525139519165},{"column":"discount_percent","similarity":0.6707705169056545}],"purchase_orders":[{"column":"total","similarity":0.679308087050387},{"column":"po_number","similarity":0.65047868884927},{"column":"shipping_cost","similarity":0.6476903653884583}],"sales_orders":[{"column":"total","similarity":0.676144027149082},{"column":"order_number","similarity":0.6628715408716754},{"column":"shipping_cost","similarity":0.6417700268316578}],"po_lines":[{"column":"line_total","similarity":0.6567240233932621},{"column":"quantity","similarity":0.6366461345850174},{"column":"quantity_received","similarity":0.6338507022822304}],"reorder_rules":[{"column":"max_quantity","similarity":0.6445353762194392},{"column":"min_quantity","similarity":0.6258826394823849},{"column":"reorder_quantity","similarity":0.6145566972207888}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6397191137681456}],"vendor_invoice_lines":[{"column":"amount","similarity":0.6344433381575307},{"column":"quantity","similarity":0.6232178113301293},{"column":"unit_cost","similarity":0.6211589188193147}],"inventory_levels":[{"column":"quantity_reserved","similarity":0.6238969286133056},{"column":"last_count_date","similarity":0.6121516191920202},{"column":"quantity_on_hand","similarity":0.6120873561780505}],"vendor_invoices":[{"column":"total","similarity":0.6173072545374575}],"customer_contacts":[{"column":"phone","similarity":0.615865684240799}],"quote_lines":[{"column":"line_total","similarity":0.6146477438819443},{"column":"unit_price","similarity":0.6079234006312217}],"requisition_lines":[{"column":"estimated_total","similarity":0.6125923514934559}],"bank_transactions":[{"column":"amount","similarity":0.6096968542896204}],"receipt_lines":[{"column":"quantity_received","similarity":0.6070953158065068}]},"fused_scores":[{"table":"customers","fused":0.8299593247640449,"table_sim":0.6617339783713272,"col_score":1.0822973443531212},{"table":"order_lines","fused":0.7979637141915276,"table_sim":0.6440009106463637,"col_score":1.0289079195092734},{"table":"sales_orders","fused":0.7856396452382202,"table_sim":0.6376795436737537,"col_score":1.0075797975849197},{"table":"purchase_orders","fused":0.7776990381363496,"table_sim":0.626466775910568,"col_score":1.004547431475022},{"table":"po_lines","fused":0.7556980471966691,"table_sim":0.609465351537268,"col_score":0.9750470906857708},{"table":"reorder_rules","fused":0.3829906783842527,"table_sim":0,"col_score":0.9574766959606317},{"table":"vendor_invoice_lines","fused":0.3784208975290382,"table_sim":0,"col_score":0.9460522438225953},{"table":"inventory_levels","fused":0.3719890952837263,"table_sim":0,"col_score":0.9299727382093157},{"table":"quote_lines","fused":0.3674437776790221,"table_sim":0,"col_score":0.9186094441975552},{"table":"product_suppliers","fused":0.25588764550725823,"table_sim":0,"col_score":0.6397191137681456},{"table":"vendor_invoices","fused":0.246922901814983,"table_sim":0,"col_score":0.6173072545374575},{"table":"customer_contacts","fused":0.24634627369631962,"table_sim":0,"col_score":0.615865684240799},{"table":"requisition_lines","fused":0.24503694059738237,"table_sim":0,"col_score":0.6125923514934559},{"table":"bank_transactions","fused":0.24387874171584817,"table_sim":0,"col_score":0.6096968542896204},{"table":"receipt_lines","fused":0.2428381263226027,"table_sim":0,"col_score":0.6070953158065068}],"fk_expansion_candidates":51,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customer_contacts","reason":"already_selected"},{"table":"customer_contacts","reason":"already_selected"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":32,"total_retrieval_latency_ms":38,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":350,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:29.264Z","query_id":"121d078a-fc4e-4d20-a530-88b5f45425ea","question":"What is the sales pipeline weighted value by stage and expected close month?","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_opportunities","sales_orders","vendor_invoices","purchase_orders","vendor_invoice_lines","opportunity_stages","sales_quotes","project_phases","inventory_levels","products","order_lines","projects"],"tables_from_table_retrieval":7,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_opportunities","similarity":0.6054695442586654},{"table":"sales_opportunities","similarity":0.5991342441914193},{"table":"sales_opportunities","similarity":0.5991342441914193},{"table":"opportunity_stages","similarity":0.5878194026125775},{"table":"purchase_orders","similarity":0.569620040129231},{"table":"opportunity_stages","similarity":0.5683265438173515},{"table":"opportunity_stages","similarity":0.5683265438173515},{"table":"sales_orders","similarity":0.5672773314428301},{"table":"vendor_invoices","similarity":0.5653986063661894},{"table":"sales_orders","similarity":0.5581057438001689},{"table":"sales_orders","similarity":0.5581057438001689},{"table":"vendor_invoices","similarity":0.5555915054629954},{"table":"vendor_invoices","similarity":0.5555915054629954},{"table":"vendor_invoice_lines","similarity":0.5524555005656138},{"table":"sales_quotes","similarity":0.550409683101325}],"column_hits_per_table":{"sales_opportunities":6,"sales_quotes":7,"vendor_invoice_lines":3,"sales_orders":8,"vendor_invoices":7,"products":1,"purchase_orders":4,"project_phases":3,"opportunity_stages":2,"sales_regions":1,"product_suppliers":1,"depreciation_schedules":1,"inventory_levels":2,"project_milestones":1,"performance_reviews":1,"projects":1,"order_lines":1},"top_columns_per_table":{"sales_opportunities":[{"column":"expected_close_date","similarity":0.668690771832423},{"column":"actual_close_date","similarity":0.6339245575123714},{"column":"probability","similarity":0.5692602631371995}],"sales_quotes":[{"column":"status","similarity":0.5921986529170727},{"column":"total","similarity":0.5752162059761756},{"column":"quote_date","similarity":0.5738522658738787}],"vendor_invoice_lines":[{"column":"amount","similarity":0.5845362816918436},{"column":"quantity","similarity":0.5763391839401236},{"column":"unit_cost","similarity":0.5761415252217038}],"sales_orders":[{"column":"subtotal","similarity":0.5845302560552877},{"column":"total","similarity":0.5825451432204839},{"column":"shipping_cost","similarity":0.5774331860294376}],"vendor_invoices":[{"column":"subtotal","similarity":0.5822705703803419},{"column":"total","similarity":0.582041980504164},{"column":"status","similarity":0.5656992120499805}],"products":[{"column":"weight","similarity":0.5815009424843107}],"purchase_orders":[{"column":"expected_date","similarity":0.5741026972061223},{"column":"total","similarity":0.5488581395929076},{"column":"subtotal","similarity":0.5484437995629727}],"project_phases":[{"column":"end_date","similarity":0.5687826504010404},{"column":"start_date","similarity":0.543726006663315},{"column":"status","similarity":0.542017684104051}],"opportunity_stages":[{"column":"is_closed","similarity":0.5678148186760426},{"column":"probability","similarity":0.5543864927330566}],"sales_regions":[{"column":"target_revenue","similarity":0.5654854838224989}],"product_suppliers":[{"column":"lead_time_days","similarity":0.5615731578476576}],"depreciation_schedules":[{"column":"monthly_amount","similarity":0.558713615169843}],"inventory_levels":[{"column":"last_count_date","similarity":0.5575421295633526},{"column":"quantity_on_hand","similarity":0.5419613068262183}],"project_milestones":[{"column":"amount","similarity":0.5518840450887265}],"performance_reviews":[{"column":"review_period_end","similarity":0.5513220446834107}],"projects":[{"column":"planned_end_date","similarity":0.5476762261808827}],"order_lines":[{"column":"discount_percent","similarity":0.545524369079207}]},"fused_scores":[{"table":"sales_opportunities","fused":0.753741766750295,"table_sim":0.5991342441914193,"col_score":0.9856530505886087},{"table":"sales_orders","fused":0.6851845773463132,"table_sim":0.5581057438001689,"col_score":0.8758028276655296},{"table":"vendor_invoices","fused":0.6826715275307668,"table_sim":0.5555915054629954,"col_score":0.8732915606324239},{"table":"purchase_orders","fused":0.681184730878569,"table_sim":0.569620040129231,"col_score":0.848531767002576},{"table":"vendor_invoice_lines","fused":0.6805556498041303,"table_sim":0.5524555005656138,"col_score":0.8727058736619053},{"table":"opportunity_stages","fused":0.6789991523074392,"table_sim":0.5683265438173515,"col_score":0.8450080650425709},{"table":"sales_quotes","fused":0.675102745426041,"table_sim":0.550409683101325,"col_score":0.862142338913115},{"table":"project_phases","fused":0.33625826149307914,"table_sim":0,"col_score":0.8406456537326978},{"table":"inventory_levels","fused":0.33140911319058475,"table_sim":0,"col_score":0.8285227829764618},{"table":"products","fused":0.2326003769937243,"table_sim":0,"col_score":0.5815009424843107},{"table":"sales_regions","fused":0.22619419352899955,"table_sim":0,"col_score":0.5654854838224989},{"table":"product_suppliers","fused":0.22462926313906306,"table_sim":0,"col_score":0.5615731578476576},{"table":"depreciation_schedules","fused":0.2234854460679372,"table_sim":0,"col_score":0.558713615169843},{"table":"project_milestones","fused":0.2207536180354906,"table_sim":0,"col_score":0.5518840450887265},{"table":"performance_reviews","fused":0.2205288178733643,"table_sim":0,"col_score":0.5513220446834107}],"fk_expansion_candidates":72,"fk_expansion_added":2,"fk_expansion_blocked_count":63,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"product_suppliers","reason":"max_tables"},{"table":"project_tasks","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":23,"total_retrieval_latency_ms":32,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":4370,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T21:49:33.635Z","query_id":"3d4f437d-619a-4863-93c2-433cd8e5c560","question":"Calculate inventory turnover ratio by product category","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["inventory_levels","inventory_transactions","asset_categories","products","product_categories","sales_orders","reorder_rules","inventory_adjustments","product_suppliers","depreciation_entries","order_lines","receipt_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_levels","similarity":0.6747561713408694},{"table":"inventory_levels","similarity":0.6691204463835779},{"table":"inventory_levels","similarity":0.6691204463835779},{"table":"products","similarity":0.6673866757064916},{"table":"asset_categories","similarity":0.6658822163690923},{"table":"inventory_transactions","similarity":0.6584332771076702},{"table":"products","similarity":0.6538676672378335},{"table":"products","similarity":0.6538676672378335},{"table":"product_categories","similarity":0.6501703787798785},{"table":"asset_categories","similarity":0.6498613946467077},{"table":"asset_categories","similarity":0.6498613946467077},{"table":"inventory_transactions","similarity":0.6496833625181302},{"table":"inventory_transactions","similarity":0.6496833625181302},{"table":"product_categories","similarity":0.6492322259777316},{"table":"product_categories","similarity":0.6492322259777316}],"column_hits_per_table":{"inventory_transactions":7,"inventory_levels":6,"asset_categories":4,"product_categories":5,"products":7,"sales_orders":4,"fixed_assets":1,"reorder_rules":3,"product_suppliers":2,"inventory_adjustments":4,"receipt_lines":2,"sales_regions":1,"depreciation_entries":2,"goods_receipts":1,"order_lines":1},"top_columns_per_table":{"inventory_transactions":[{"column":"quantity","similarity":0.6807888987316983},{"column":"transaction_type","similarity":0.6515365120278798},{"column":"reference_type","similarity":0.637828790421886}],"inventory_levels":[{"column":"quantity_reserved","similarity":0.671007230009608},{"column":"quantity_available","similarity":0.6650873994044184},{"column":"quantity_on_hand","similarity":0.6516421570126745}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.6641371665838605},{"column":"depreciation_method","similarity":0.6354419036675771},{"column":"useful_life_years","similarity":0.621287819824621}],"product_categories":[{"column":"description","similarity":0.6507497169789198},{"column":"is_active","similarity":0.649502344633669},{"column":"category_id","similarity":0.6475053642784276}],"products":[{"column":"category_id","similarity":0.6427715834682924},{"column":"weight","similarity":0.6295802003912835},{"column":"unit_cost","similarity":0.6162112154039736}],"sales_orders":[{"column":"total","similarity":0.6200420126879076},{"column":"subtotal","similarity":0.6007588555599288},{"column":"tax_amount","similarity":0.5987801944503532}],"fixed_assets":[{"column":"category_id","similarity":0.6184944064206663}],"reorder_rules":[{"column":"reorder_quantity","similarity":0.6154008693245504},{"column":"product_id","similarity":0.6044803841321819},{"column":"min_quantity","similarity":0.603522150399881}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6130859746943957},{"column":"unit_cost","similarity":0.5933645257338089}],"inventory_adjustments":[{"column":"adjustment_number","similarity":0.6089434793102139},{"column":"adjusted_by","similarity":0.6069731015030922},{"column":"status","similarity":0.6019433143183657}],"receipt_lines":[{"column":"quantity_received","similarity":0.6032347735819231},{"column":"product_id","similarity":0.6026462248777215}],"sales_regions":[{"column":"target_revenue","similarity":0.6030920394288763}],"depreciation_entries":[{"column":"accumulated_depreciation","similarity":0.6025970339514821},{"column":"book_value","similarity":0.5960312123863106}],"goods_receipts":[{"column":"receipt_number","similarity":0.5957984012288485}],"order_lines":[{"column":"quantity_shipped","similarity":0.5947556552108059}]},"fused_scores":[{"table":"inventory_levels","fused":0.8028926397148737,"table_sim":0.6691204463835779,"col_score":1.0035509297118173},{"table":"inventory_transactions","fused":0.7924328794091334,"table_sim":0.6496833625181302,"col_score":1.0065571547456382},{"table":"asset_categories","fused":0.7826600841550841,"table_sim":0.6498613946467077,"col_score":0.981858118417649},{"table":"products","fused":0.7673949235800083,"table_sim":0.6538676672378335,"col_score":0.9376858080932703},{"table":"product_categories","fused":0.6626795845894502,"table_sim":0.6492322259777316,"col_score":0.682850622507028},{"table":"sales_orders","fused":0.3681685761871488,"table_sim":0,"col_score":0.920421440467872},{"table":"reorder_rules","fused":0.3668647778097964,"table_sim":0,"col_score":0.917161944524491},{"table":"inventory_adjustments","fused":0.36497201202470403,"table_sim":0,"col_score":0.91243003006176},{"table":"product_suppliers","fused":0.3639072950245201,"table_sim":0,"col_score":0.9097682375613002},{"table":"depreciation_entries","fused":0.360245056057855,"table_sim":0,"col_score":0.9006126401446375},{"table":"receipt_lines","fused":0.3256643809156503,"table_sim":0,"col_score":0.8141609522891257},{"table":"sales_regions","fused":0.24123681577155054,"table_sim":0,"col_score":0.6030920394288763},{"table":"goods_receipts","fused":0.23831936049153943,"table_sim":0,"col_score":0.5957984012288485},{"table":"order_lines","fused":0.23790226208432236,"table_sim":0,"col_score":0.5947556552108059},{"table":"fixed_assets","fused":0.17317843379778658,"table_sim":0,"col_score":0.4329460844944664}],"fk_expansion_candidates":54,"fk_expansion_added":2,"fk_expansion_blocked_count":48,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"order_lines","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":40,"total_retrieval_latency_ms":46,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":294,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:33.929Z","query_id":"9980f881-820c-4607-947f-4cff536ad3f5","question":"Identify products with significant inventory discrepancies (adjustment > 10% of stock)","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["inventory_adjustments","adjustment_lines","inventory_transactions","inventory_levels","products","fixed_assets","stock_transfers","asset_categories","sales_orders","product_suppliers","asset_locations","warehouse_locations"],"tables_from_table_retrieval":7,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_adjustments","similarity":0.6958975386244389},{"table":"inventory_adjustments","similarity":0.6915197337369523},{"table":"inventory_adjustments","similarity":0.6915197337369523},{"table":"adjustment_lines","similarity":0.6522288043937092},{"table":"adjustment_lines","similarity":0.6522288043937092},{"table":"adjustment_lines","similarity":0.651007722195867},{"table":"fixed_assets","similarity":0.5955860146307721},{"table":"inventory_levels","similarity":0.5926011478403523},{"table":"inventory_levels","similarity":0.5835973247906563},{"table":"inventory_levels","similarity":0.5835973247906563},{"table":"products","similarity":0.578715845938642},{"table":"stock_transfers","similarity":0.5760981592349576},{"table":"inventory_transactions","similarity":0.5750206157907899},{"table":"fixed_assets","similarity":0.5651757713023685},{"table":"fixed_assets","similarity":0.5651757713023685}],"column_hits_per_table":{"inventory_adjustments":8,"adjustment_lines":5,"inventory_transactions":4,"products":6,"inventory_levels":5,"stock_transfers":2,"sales_orders":2,"fixed_assets":4,"product_suppliers":1,"asset_categories":3,"product_categories":1,"project_expenses":1,"warehouse_locations":1,"goods_receipts":1,"sales_opportunities":1,"purchase_orders":1,"asset_maintenance":1,"purchase_requisitions":1,"asset_locations":1,"vendor_invoices":1},"top_columns_per_table":{"inventory_adjustments":[{"column":"adjustment_number","similarity":0.7341965834229129},{"column":"reason","similarity":0.7286392066545573},{"column":"status","similarity":0.7138688590653707}],"adjustment_lines":[{"column":"quantity_change","similarity":0.6392157712019857},{"column":"quantity_before","similarity":0.634171940504201},{"column":"quantity_after","similarity":0.6332989804641287}],"inventory_transactions":[{"column":"reference_type","similarity":0.6271412703735331},{"column":"transaction_type","similarity":0.6257663977952485},{"column":"quantity","similarity":0.6079063742265192}],"products":[{"column":"sku","similarity":0.6164491394343341},{"column":"name","similarity":0.6034174012104574},{"column":"weight","similarity":0.5959940766492622}],"inventory_levels":[{"column":"quantity_on_hand","similarity":0.608866183311948},{"column":"quantity_available","similarity":0.6051195357195316},{"column":"quantity_reserved","similarity":0.6037194678286041}],"stock_transfers":[{"column":"status","similarity":0.6079256845371828},{"column":"transfer_number","similarity":0.6034595992854049}],"sales_orders":[{"column":"order_number","similarity":0.6005608184497583},{"column":"status","similarity":0.5891804513517737}],"fixed_assets":[{"column":"serial_number","similarity":0.5959181419986975},{"column":"status","similarity":0.5830638318759733},{"column":"asset_tag","similarity":0.5821282768349391}],"product_suppliers":[{"column":"vendor_sku","similarity":0.5933274478553298}],"asset_categories":[{"column":"depreciation_method","similarity":0.5909825633152775},{"column":"salvage_value_percent","similarity":0.5765146715808612},{"column":"name","similarity":0.5610883455413478}],"product_categories":[{"column":"name","similarity":0.5904071610230438}],"project_expenses":[{"column":"category","similarity":0.5810751474323431}],"warehouse_locations":[{"column":"aisle","similarity":0.5786356735369311}],"goods_receipts":[{"column":"receipt_number","similarity":0.5779296040347197}],"sales_opportunities":[{"column":"source","similarity":0.5765090582142506}],"purchase_orders":[{"column":"status","similarity":0.5729152190846236}],"asset_maintenance":[{"column":"status","similarity":0.5721672810617285}],"purchase_requisitions":[{"column":"requisition_number","similarity":0.5665364323660178}],"asset_locations":[{"column":"floor","similarity":0.5662760777195117}],"vendor_invoices":[{"column":"invoice_number","similarity":0.560424242944695}]},"fused_scores":[{"table":"inventory_adjustments","fused":0.854318314942248,"table_sim":0.6915197337369523,"col_score":1.0985161867501916},{"table":"adjustment_lines","fused":0.7731253298991547,"table_sim":0.651007722195867,"col_score":0.9563017414540862},{"table":"inventory_transactions","fused":0.7210221571829369,"table_sim":0.5750206157907899,"col_score":0.9400244692711572},{"table":"inventory_levels","fused":0.7147287753430793,"table_sim":0.5835973247906563,"col_score":0.9114259511717138},{"table":"products","fused":0.7130079786667713,"table_sim":0.578715845938642,"col_score":0.9144461777589652},{"table":"fixed_assets","fused":0.693898374947888,"table_sim":0.5651757713023685,"col_score":0.8869822804161671},{"table":"stock_transfers","fused":0.6721523310903421,"table_sim":0.5760981592349576,"col_score":0.8162335888734189},{"table":"asset_categories","fused":0.3516959596422833,"table_sim":0,"col_score":0.8792398991057082},{"table":"sales_orders","fused":0.32270959056915166,"table_sim":0,"col_score":0.8067739764228791},{"table":"product_suppliers","fused":0.23733097914213191,"table_sim":0,"col_score":0.5933274478553298},{"table":"project_expenses","fused":0.23243005897293725,"table_sim":0,"col_score":0.5810751474323431},{"table":"warehouse_locations","fused":0.23145426941477246,"table_sim":0,"col_score":0.5786356735369311},{"table":"goods_receipts","fused":0.2311718416138879,"table_sim":0,"col_score":0.5779296040347197},{"table":"sales_opportunities","fused":0.23060362328570025,"table_sim":0,"col_score":0.5765090582142506},{"table":"purchase_requisitions","fused":0.22661457294640713,"table_sim":0,"col_score":0.5665364323660178}],"fk_expansion_candidates":66,"fk_expansion_added":2,"fk_expansion_blocked_count":60,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_locations","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"already_selected"},{"table":"order_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":24,"total_retrieval_latency_ms":31,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"i","column":"quantity_on_hand","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"quantity_available","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"a","column":"reason","resolved_table":"inventory_adjustments","suggested_columns":[]},{"alias":"i","column":"product_id","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"location_id","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"a","column":"warehouse_id","resolved_table":"inventory_adjustments","suggested_columns":[]},{"alias":"i","column":"product_id","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"a","column":"product_id","resolved_table":"inventory_adjustments","suggested_columns":[]},{"alias":"i","column":"quantity_on_hand","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"quantity_available","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"quantity_on_hand","resolved_table":"inventory_levels","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":2339,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T21:49:36.269Z","query_id":"d2db4af7-e7e5-4958-b880-d48a002c88be","question":"Calculate vendor performance score based on on-time delivery and invoice accuracy","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["vendor_invoices","performance_reviews","vendor_invoice_lines","vendors","product_suppliers","purchase_orders","vendor_contacts","sales_orders","fixed_assets","asset_maintenance"],"tables_from_table_retrieval":6,"tables_from_column_only":4,"tables_from_fk_expansion":0,"table_scores":[{"table":"vendor_invoices","similarity":0.6955551654807471},{"table":"vendor_invoices","similarity":0.6877693444044282},{"table":"vendor_invoices","similarity":0.6877693444044282},{"table":"performance_reviews","similarity":0.6709085810677549},{"table":"performance_reviews","similarity":0.6616195213650082},{"table":"performance_reviews","similarity":0.6616195213650082},{"table":"purchase_orders","similarity":0.6347301134279532},{"table":"vendors","similarity":0.630909375510322},{"table":"purchase_orders","similarity":0.6231004988578854},{"table":"purchase_orders","similarity":0.6231004988578854},{"table":"vendor_invoice_lines","similarity":0.6204253750668519},{"table":"vendor_invoice_lines","similarity":0.6204253750668519},{"table":"product_suppliers","similarity":0.6192498236848171},{"table":"vendors","similarity":0.6155248174915915},{"table":"vendors","similarity":0.6155248174915915}],"column_hits_per_table":{"vendor_invoices":12,"vendor_invoice_lines":6,"performance_reviews":9,"vendors":9,"vendor_contacts":4,"purchase_orders":2,"product_suppliers":4,"fixed_assets":1,"sales_orders":2,"asset_maintenance":1},"top_columns_per_table":{"vendor_invoices":[{"column":"invoice_date","similarity":0.6765580061331256},{"column":"total","similarity":0.6764019740002268},{"column":"invoice_number","similarity":0.6636094388195389}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.6434932528090191},{"column":"amount","similarity":0.6366634169908185},{"column":"unit_cost","similarity":0.622904924682905}],"performance_reviews":[{"column":"review_date","similarity":0.6381782068433183},{"column":"goals_met_percent","similarity":0.6328139994418308},{"column":"review_period_start","similarity":0.6179144234098587}],"vendors":[{"column":"vendor_number","similarity":0.6328044268147751},{"column":"phone","similarity":0.6308043133506924},{"column":"website","similarity":0.6136264685506736}],"vendor_contacts":[{"column":"phone","similarity":0.6099312252856707},{"column":"email","similarity":0.5929107702232568},{"column":"title","similarity":0.5908148084239192}],"purchase_orders":[{"column":"vendor_id","similarity":0.6033254664913035},{"column":"expected_date","similarity":0.5718044755694628}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6007097500202866},{"column":"lead_time_days","similarity":0.6002656091547952},{"column":"vendor_id","similarity":0.5929190374101849}],"fixed_assets":[{"column":"vendor_id","similarity":0.5790519907978402}],"sales_orders":[{"column":"order_date","similarity":0.5770519982365088},{"column":"shipping_cost","similarity":0.5731083814243623}],"asset_maintenance":[{"column":"vendor_id","similarity":0.5763399733911833}]},"fused_scores":[{"table":"vendor_invoices","fused":0.8185652038959526,"table_sim":0.6877693444044282,"col_score":1.014758993133239},{"table":"performance_reviews","fused":0.7788057954446985,"table_sim":0.6616195213650082,"col_score":0.9545852065642337},{"table":"vendor_invoice_lines","fused":0.7569852095618825,"table_sim":0.6204253750668519,"col_score":0.9618249613044284},{"table":"vendors","fused":0.7485975238910034,"table_sim":0.6155248174915915,"col_score":0.9482065834901213},{"table":"product_suppliers","fused":0.7318869160499639,"table_sim":0.6192498236848171,"col_score":0.9008425545976841},{"table":"purchase_orders","fused":0.6870476548512989,"table_sim":0.6231004988578854,"col_score":0.782968388841419},{"table":"vendor_contacts","fused":0.36255464415891964,"table_sim":0,"col_score":0.9063866103972991},{"table":"sales_orders","fused":0.345442475579476,"table_sim":0,"col_score":0.8636061889486899},{"table":"fixed_assets","fused":0.16213455742339525,"table_sim":0,"col_score":0.4053363935584881},{"table":"asset_maintenance","fused":0.1613751925495313,"table_sim":0,"col_score":0.40343798137382825}],"fk_expansion_candidates":51,"fk_expansion_added":0,"fk_expansion_blocked_count":51,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":49,"total_retrieval_latency_ms":56,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":365,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:36.634Z","query_id":"a86587a8-c5d3-40f0-aa65-dd7f02446018","question":"Generate a trial balance for the current period showing debits and credits by account category","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["bank_accounts","depreciation_entries","depreciation_schedules","account_types","asset_categories","bank_transactions","journal_lines","fiscal_periods","purchase_orders","timesheets","fixed_assets","vendor_invoices"],"tables_from_table_retrieval":6,"tables_from_column_only":17,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_accounts","similarity":0.6367900839880641},{"table":"asset_categories","similarity":0.6346535809758647},{"table":"bank_accounts","similarity":0.6340482364220554},{"table":"bank_accounts","similarity":0.6340482364220554},{"table":"depreciation_schedules","similarity":0.6304903160077374},{"table":"depreciation_schedules","similarity":0.6304903160077374},{"table":"depreciation_entries","similarity":0.6297144045903278},{"table":"depreciation_entries","similarity":0.6297144045903278},{"table":"account_types","similarity":0.6272285653729832},{"table":"depreciation_entries","similarity":0.6225511215159643},{"table":"account_types","similarity":0.6193803416295194},{"table":"account_types","similarity":0.6193803416295194},{"table":"depreciation_schedules","similarity":0.6165057393727287},{"table":"bank_transactions","similarity":0.6150962404412702},{"table":"asset_categories","similarity":0.6102645047904957}],"column_hits_per_table":{"bank_accounts":4,"account_types":2,"depreciation_schedules":7,"depreciation_entries":6,"asset_categories":2,"project_budgets":1,"journal_lines":2,"benefit_types":1,"fiscal_periods":5,"project_expenses":1,"bank_transactions":4,"timesheets":2,"budgets":2,"departments":1,"projects":1,"asset_maintenance":1,"customers":1,"chart_of_accounts":1,"purchase_orders":2,"budget_lines":1,"vendor_invoices":1,"fixed_assets":1,"employee_benefits":1},"top_columns_per_table":{"bank_accounts":[{"column":"current_balance","similarity":0.6856207008937131},{"column":"account_name","similarity":0.6085119078521903},{"column":"bank_name","similarity":0.6052810360125528}],"account_types":[{"column":"normal_balance","similarity":0.6471004935426607},{"column":"category","similarity":0.6220382371057719}],"depreciation_schedules":[{"column":"monthly_amount","similarity":0.6453000273773885},{"column":"annual_amount","similarity":0.6430843573005959},{"column":"depreciation_method","similarity":0.6209191877039439}],"depreciation_entries":[{"column":"amount","similarity":0.6447408121789926},{"column":"period_id","similarity":0.643559649092342},{"column":"accumulated_depreciation","similarity":0.6397138442937423}],"asset_categories":[{"column":"depreciation_method","similarity":0.640600565078528},{"column":"salvage_value_percent","similarity":0.5872709992162598}],"project_budgets":[{"column":"category","similarity":0.6169569178206936}],"journal_lines":[{"column":"debit","similarity":0.615233183208468},{"column":"credit","similarity":0.5881297887352918}],"benefit_types":[{"column":"annual_cost","similarity":0.6144825624279615}],"fiscal_periods":[{"column":"name","similarity":0.6139653006720002},{"column":"start_date","similarity":0.5940557583983144},{"column":"period_id","similarity":0.593789594476675}],"project_expenses":[{"column":"category","similarity":0.6108512270852675}],"bank_transactions":[{"column":"amount","similarity":0.6009151929141651},{"column":"reference","similarity":0.5946297202608782},{"column":"transaction_type","similarity":0.5925000251285931}],"timesheets":[{"column":"total_hours","similarity":0.5953084784593494},{"column":"status","similarity":0.5824555063940192}],"budgets":[{"column":"status","similarity":0.5947490104323017},{"column":"total_amount","similarity":0.5858262812102382}],"departments":[{"column":"budget","similarity":0.5935516329426287}],"projects":[{"column":"budget","similarity":0.5933004396512298}],"asset_maintenance":[{"column":"cost","similarity":0.5920636317252489}],"customers":[{"column":"credit_limit","similarity":0.5881966845767086}],"chart_of_accounts":[{"column":"description","similarity":0.5871916379697032}],"purchase_orders":[{"column":"total","similarity":0.5864519649300926},{"column":"subtotal","similarity":0.5855426910442382}],"budget_lines":[{"column":"period_id","similarity":0.585414728590752}],"vendor_invoices":[{"column":"subtotal","similarity":0.5854109351756007}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5847057269059956}],"employee_benefits":[{"column":"coverage_level","similarity":0.5835880291391402}]},"fused_scores":[{"table":"bank_accounts","fused":0.7756396663227276,"table_sim":0.6340482364220554,"col_score":0.9880268111737361},{"table":"depreciation_entries","fused":0.7593697666399241,"table_sim":0.6225511215159643,"col_score":0.9645977343258638},{"table":"depreciation_schedules","fused":0.7566403260347119,"table_sim":0.6165057393727287,"col_score":0.9668422060276864},{"table":"account_types","fused":0.7548760498159303,"table_sim":0.6193803416295194,"col_score":0.9581196120955466},{"table":"asset_categories","fused":0.7398531287489605,"table_sim":0.6102645047904957,"col_score":0.9342360646866579},{"table":"bank_transactions","fused":0.7283497654826038,"table_sim":0.6150962404412702,"col_score":0.8982300530446041},{"table":"journal_lines","fused":0.36371923103044557,"table_sim":0,"col_score":0.9092980775761139},{"table":"fiscal_periods","fused":0.355317154334716,"table_sim":0,"col_score":0.8882928858367899},{"table":"purchase_orders","fused":0.35168932418088467,"table_sim":0,"col_score":0.8792233104522116},{"table":"timesheets","fused":0.31966716227890246,"table_sim":0,"col_score":0.7991679056972562},{"table":"budgets","fused":0.31759537394461756,"table_sim":0,"col_score":0.7939884348615438},{"table":"project_budgets","fused":0.24678276712827746,"table_sim":0,"col_score":0.6169569178206936},{"table":"benefit_types","fused":0.2457930249711846,"table_sim":0,"col_score":0.6144825624279615},{"table":"project_expenses","fused":0.24434049083410703,"table_sim":0,"col_score":0.6108512270852675},{"table":"departments","fused":0.2374206531770515,"table_sim":0,"col_score":0.5935516329426287}],"fk_expansion_candidates":45,"fk_expansion_added":2,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoices","reason":"already_selected"},{"table":"vendor_invoices","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":36,"total_retrieval_latency_ms":42,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":312,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:36.946Z","query_id":"b97ab1cc-c12f-4111-98de-4e04970ba86c","question":"Calculate cash flow from bank transactions grouped by transaction type and month","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["bank_transactions","bank_accounts","inventory_transactions","account_types","depreciation_entries","project_budgets","depreciation_schedules","asset_transfers","benefit_types","sales_orders","currencies","projects"],"tables_from_table_retrieval":6,"tables_from_column_only":16,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_transactions","similarity":0.7232703691525166},{"table":"bank_transactions","similarity":0.7144733407570569},{"table":"bank_transactions","similarity":0.7144733407570569},{"table":"bank_accounts","similarity":0.6412885484513536},{"table":"bank_accounts","similarity":0.6330427898995664},{"table":"bank_accounts","similarity":0.6330427898995664},{"table":"inventory_transactions","similarity":0.6130368701918206},{"table":"inventory_transactions","similarity":0.5906232287127622},{"table":"inventory_transactions","similarity":0.5906232287127622},{"table":"account_types","similarity":0.5890479368554123},{"table":"account_types","similarity":0.5890479368554123},{"table":"account_types","similarity":0.5746397921552414},{"table":"depreciation_entries","similarity":0.5640374269123315},{"table":"depreciation_entries","similarity":0.5640374269123315},{"table":"project_budgets","similarity":0.563995673637428}],"column_hits_per_table":{"bank_transactions":9,"inventory_transactions":5,"bank_accounts":8,"depreciation_schedules":2,"account_types":2,"depreciation_entries":4,"asset_transfers":4,"benefit_types":1,"sales_orders":1,"departments":1,"vendor_invoices":1,"asset_categories":1,"project_budgets":2,"customers":1,"chart_of_accounts":1,"vendors":1,"maintenance_types":1,"projects":1,"currencies":1,"stock_transfers":1,"project_expenses":1,"purchase_orders":1},"top_columns_per_table":{"bank_transactions":[{"column":"transaction_type","similarity":0.7300639775150025},{"column":"transaction_date","similarity":0.7100635579167792},{"column":"amount","similarity":0.6854638850683717}],"inventory_transactions":[{"column":"transaction_type","similarity":0.6356058298235756},{"column":"reference_type","similarity":0.5936573308025523},{"column":"transaction_date","similarity":0.5927457550817244}],"bank_accounts":[{"column":"bank_name","similarity":0.6149721846522818},{"column":"currency_id","similarity":0.6078267071474764},{"column":"account_name","similarity":0.6020854555355626}],"depreciation_schedules":[{"column":"monthly_amount","similarity":0.590534089672661},{"column":"annual_amount","similarity":0.556973315206173}],"account_types":[{"column":"category","similarity":0.5726836627158123},{"column":"normal_balance","similarity":0.5553730449724036}],"depreciation_entries":[{"column":"entry_date","similarity":0.5724732006538439},{"column":"amount","similarity":0.5657822173033439},{"column":"period_id","similarity":0.5574773293779076}],"asset_transfers":[{"column":"reason","similarity":0.5702229734035696},{"column":"transfer_date","similarity":0.5701831755618614},{"column":"transferred_by","similarity":0.5584118665702265}],"benefit_types":[{"column":"annual_cost","similarity":0.570209215995342}],"sales_orders":[{"column":"subtotal","similarity":0.5666578377274356}],"departments":[{"column":"budget","similarity":0.562686445646288}],"vendor_invoices":[{"column":"subtotal","similarity":0.5611108207005183}],"asset_categories":[{"column":"depreciation_method","similarity":0.5610490636648584}],"project_budgets":[{"column":"category","similarity":0.5583505425484427},{"column":"notes","similarity":0.556499900200207}],"customers":[{"column":"currency_id","similarity":0.5559130206307922}],"chart_of_accounts":[{"column":"account_type_id","similarity":0.554936668356843}],"vendors":[{"column":"currency_id","similarity":0.5537994023819492}],"maintenance_types":[{"column":"frequency_months","similarity":0.553500950186699}],"projects":[{"column":"budget","similarity":0.5534871574363848}],"currencies":[{"column":"symbol","similarity":0.5533906348014246}],"stock_transfers":[{"column":"status","similarity":0.5531469664212183}],"project_expenses":[{"column":"category","similarity":0.5508824364902253}],"purchase_orders":[{"column":"subtotal","similarity":0.5494862539767775}]},"fused_scores":[{"table":"bank_transactions","fused":0.862722307043591,"table_sim":0.7144733407570569,"col_score":1.085095756473392},{"table":"bank_accounts","fused":0.7362206212200488,"table_sim":0.6330427898995664,"col_score":0.8909873682007723},{"table":"inventory_transactions","fused":0.7273477353175981,"table_sim":0.5906232287127622,"col_score":0.9324344952248518},{"table":"account_types","fused":0.6849319493739505,"table_sim":0.5746397921552414,"col_score":0.850370185202014},{"table":"depreciation_entries","fused":0.6805681798696053,"table_sim":0.5640374269123315,"col_score":0.8553643093055159},{"table":"project_budgets","fused":0.6396476072298629,"table_sim":0.563995673637428,"col_score":0.7531255076185152},{"table":"depreciation_schedules","fused":0.347608298910299,"table_sim":0,"col_score":0.8690207472757474},{"table":"asset_transfers","fused":0.34212582447380013,"table_sim":0,"col_score":0.8553145611845003},{"table":"benefit_types","fused":0.2280836863981368,"table_sim":0,"col_score":0.570209215995342},{"table":"sales_orders","fused":0.22666313509097424,"table_sim":0,"col_score":0.5666578377274356},{"table":"departments","fused":0.2250745782585152,"table_sim":0,"col_score":0.562686445646288},{"table":"vendor_invoices","fused":0.22444432828020733,"table_sim":0,"col_score":0.5611108207005183},{"table":"asset_categories","fused":0.22441962546594338,"table_sim":0,"col_score":0.5610490636648584},{"table":"maintenance_types","fused":0.2214003800746796,"table_sim":0,"col_score":0.553500950186699},{"table":"projects","fused":0.2213948629745539,"table_sim":0,"col_score":0.5534871574363848}],"fk_expansion_candidates":48,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"already_selected"},{"table":"currencies","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"projects","reason":"already_selected"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":23,"total_retrieval_latency_ms":30,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":445,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T21:49:37.391Z","query_id":"9d3f20bc-9380-4d1f-b8db-97b8903ac786","question":"Calculate project profitability comparing budget vs actual expenses","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_budgets","project_expenses","budgets","project_resources","budget_lines","projects","project_milestones","project_tasks","depreciation_schedules","departments","fixed_assets"],"tables_from_table_retrieval":5,"tables_from_column_only":13,"tables_from_fk_expansion":1,"table_scores":[{"table":"project_budgets","similarity":0.6969020680342091},{"table":"project_budgets","similarity":0.6957582349451407},{"table":"project_budgets","similarity":0.6957582349451407},{"table":"project_expenses","similarity":0.6915216956418679},{"table":"project_expenses","similarity":0.6915216956418679},{"table":"project_expenses","similarity":0.6901643358621746},{"table":"budgets","similarity":0.612258488134445},{"table":"budgets","similarity":0.612258488134445},{"table":"budgets","similarity":0.6054710146643664},{"table":"project_resources","similarity":0.5884392614999969},{"table":"project_resources","similarity":0.5805503579785858},{"table":"project_resources","similarity":0.5805503579785858},{"table":"budget_lines","similarity":0.5713392587016516},{"table":"budget_lines","similarity":0.5686398725889051},{"table":"budget_lines","similarity":0.5686398725889051}],"column_hits_per_table":{"project_budgets":6,"project_expenses":10,"projects":4,"budgets":8,"departments":1,"budget_lines":3,"project_resources":3,"project_tasks":3,"project_milestones":2,"product_suppliers":1,"fixed_assets":1,"products":1,"requisition_lines":1,"cost_centers":1,"asset_maintenance":1,"depreciation_schedules":2,"benefit_types":1,"maintenance_types":1},"top_columns_per_table":{"project_budgets":[{"column":"actual_amount","similarity":0.7262554064624759},{"column":"planned_amount","similarity":0.7004924793564835},{"column":"category","similarity":0.6694662055461488}],"project_expenses":[{"column":"amount","similarity":0.7114601809657055},{"column":"is_billable","similarity":0.6966630240889287},{"column":"status","similarity":0.6836007020930082}],"projects":[{"column":"budget","similarity":0.6970008685557271},{"column":"status","similarity":0.5629230171908491},{"column":"project_number","similarity":0.5622062989180432}],"budgets":[{"column":"total_amount","similarity":0.6493408476253937},{"column":"status","similarity":0.6263032542399831},{"column":"name","similarity":0.5916349551000758}],"departments":[{"column":"budget","similarity":0.6220086035822576}],"budget_lines":[{"column":"amount","similarity":0.6088101737210796},{"column":"budget_id","similarity":0.5755343306843482},{"column":"period_id","similarity":0.5433751751705854}],"project_resources":[{"column":"hourly_rate","similarity":0.6029252229063784},{"column":"allocation_percent","similarity":0.5808610647776508},{"column":"project_id","similarity":0.5585123041056318}],"project_tasks":[{"column":"actual_hours","similarity":0.5942018563156196},{"column":"estimated_hours","similarity":0.5835819683987098},{"column":"status","similarity":0.5534727998732568}],"project_milestones":[{"column":"is_billable","similarity":0.5918713032194266},{"column":"amount","similarity":0.5907992216686975}],"product_suppliers":[{"column":"unit_cost","similarity":0.5623878668953419}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5566543017155177}],"products":[{"column":"unit_cost","similarity":0.553864201344991}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.5527788351319599}],"cost_centers":[{"column":"is_active","similarity":0.5513344669503466}],"asset_maintenance":[{"column":"cost","similarity":0.5501460559859814}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.5496518172593629},{"column":"monthly_amount","similarity":0.5452582264469823}],"benefit_types":[{"column":"annual_cost","similarity":0.5430813519625031}],"maintenance_types":[{"column":"estimated_cost","similarity":0.540145737002778}]},"fused_scores":[{"table":"project_budgets","fused":0.8480555994233716,"table_sim":0.6957582349451407,"col_score":1.0765016461407177},{"table":"project_expenses","fused":0.8380152787213727,"table_sim":0.6901643358621746,"col_score":1.0597916930101698},{"table":"budgets","fused":0.7376052777790789,"table_sim":0.6054710146643664,"col_score":0.9358066724511477},{"table":"project_resources","fused":0.705672516905233,"table_sim":0.5805503579785858,"col_score":0.8933557552952038},{"table":"budget_lines","fused":0.6652827993375837,"table_sim":0.5686398725889051,"col_score":0.8102471894606015},{"table":"projects","fused":0.3912416072058995,"table_sim":0,"col_score":0.9781040180147487},{"table":"project_milestones","fused":0.3549083656215102,"table_sim":0,"col_score":0.8872709140537753},{"table":"project_tasks","fused":0.35439713620598984,"table_sim":0,"col_score":0.8859928405149745},{"table":"depreciation_schedules","fused":0.3289123721931416,"table_sim":0,"col_score":0.822280930482854},{"table":"departments","fused":0.24880344143290306,"table_sim":0,"col_score":0.6220086035822576},{"table":"product_suppliers","fused":0.22495514675813677,"table_sim":0,"col_score":0.5623878668953419},{"table":"fixed_assets","fused":0.22266172068620707,"table_sim":0,"col_score":0.5566543017155177},{"table":"products","fused":0.22154568053799642,"table_sim":0,"col_score":0.553864201344991},{"table":"requisition_lines","fused":0.22111153405278397,"table_sim":0,"col_score":0.5527788351319599},{"table":"asset_maintenance","fused":0.22005842239439258,"table_sim":0,"col_score":0.5501460559859814}],"fk_expansion_candidates":36,"fk_expansion_added":1,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":18,"total_retrieval_latency_ms":25,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":283,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:37.674Z","query_id":"c2f382f9-59dc-4601-bd1d-07334cf20437","question":"Find resource allocation by employee across all active projects","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_resources","projects","project_expenses","employees","employee_salaries","task_assignments","project_tasks","inventory_adjustments","purchase_requisitions","asset_transfers","budgets","timesheets"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":2,"table_scores":[{"table":"project_resources","similarity":0.7731177943741443},{"table":"project_resources","similarity":0.7614596035707293},{"table":"project_resources","similarity":0.7614596035707293},{"table":"task_assignments","similarity":0.6903320131383612},{"table":"project_expenses","similarity":0.6860669651962393},{"table":"task_assignments","similarity":0.6782316484776133},{"table":"task_assignments","similarity":0.6782316484776133},{"table":"projects","similarity":0.6699593096880756},{"table":"projects","similarity":0.6633532658939397},{"table":"projects","similarity":0.6633532658939397},{"table":"project_expenses","similarity":0.6627460444190597},{"table":"project_expenses","similarity":0.6627460444190597},{"table":"employee_salaries","similarity":0.6405071946271549},{"table":"employees","similarity":0.6339025803715616},{"table":"employee_salaries","similarity":0.6310176470805876}],"column_hits_per_table":{"project_resources":7,"projects":5,"project_expenses":3,"task_assignments":1,"asset_maintenance":1,"fixed_assets":1,"asset_transfers":3,"project_tasks":4,"budgets":1,"leave_requests":2,"sales_territories":1,"employees":8,"inventory_adjustments":2,"employee_salaries":1,"purchase_requisitions":2,"employee_benefits":2,"timesheets":2,"departments":1,"performance_reviews":1,"inventory_transactions":1,"sales_regions":1},"top_columns_per_table":{"project_resources":[{"column":"allocation_percent","similarity":0.728757432780467},{"column":"employee_id","similarity":0.7255842747784741},{"column":"role","similarity":0.6783516003676235}],"projects":[{"column":"project_manager_id","similarity":0.6839282490004714},{"column":"priority","similarity":0.6427573172941073},{"column":"project_number","similarity":0.6341632426692734}],"project_expenses":[{"column":"approved_by","similarity":0.6823442671200762},{"column":"employee_id","similarity":0.67150172783302},{"column":"status","similarity":0.6242036195337299}],"task_assignments":[{"column":"employee_id","similarity":0.6605806631335326}],"asset_maintenance":[{"column":"performed_by","similarity":0.657596774025439}],"fixed_assets":[{"column":"assigned_to","similarity":0.6547948182113684}],"asset_transfers":[{"column":"transferred_by","similarity":0.6477089129448399},{"column":"to_employee_id","similarity":0.6397881646168211},{"column":"from_employee_id","similarity":0.632962477097971}],"project_tasks":[{"column":"actual_hours","similarity":0.6402444434475},{"column":"estimated_hours","similarity":0.6283389400715463},{"column":"priority","similarity":0.6271077493801277}],"budgets":[{"column":"approved_by","similarity":0.6395498605286063}],"leave_requests":[{"column":"approved_by","similarity":0.6361902211226609},{"column":"employee_id","similarity":0.6137651256012868}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6322095184817824}],"employees":[{"column":"employee_number","similarity":0.6295903417489341},{"column":"manager_id","similarity":0.6247850569740808},{"column":"position_id","similarity":0.6238476921771267}],"inventory_adjustments":[{"column":"approved_by","similarity":0.6261133068410986},{"column":"adjusted_by","similarity":0.6181901122068721}],"employee_salaries":[{"column":"approved_by","similarity":0.6259053995932096}],"purchase_requisitions":[{"column":"approved_by","similarity":0.6204631562858176},{"column":"requested_by","similarity":0.6143387196019348}],"employee_benefits":[{"column":"employee_id","similarity":0.6197903020961568},{"column":"coverage_level","similarity":0.6109362115850033}],"timesheets":[{"column":"approved_by","similarity":0.6175242206652112},{"column":"employee_id","similarity":0.6147088479677592}],"departments":[{"column":"manager_id","similarity":0.616788142923364}],"performance_reviews":[{"column":"employee_id","similarity":0.6128993747418323}],"inventory_transactions":[{"column":"created_by","similarity":0.6125536347226702}],"sales_regions":[{"column":"manager_id","similarity":0.6111362570848077}]},"fused_scores":[{"table":"project_resources","fused":0.884049055328149,"table_sim":0.7614596035707293,"col_score":1.0679332329642788},{"table":"projects","fused":0.7819475349878615,"table_sim":0.6633532658939397,"col_score":0.959838938628744},{"table":"project_expenses","fused":0.7645955753960891,"table_sim":0.6627460444190597,"col_score":0.9173698718616332},{"table":"employees","fused":0.7560292383950562,"table_sim":0.6339025803715616,"col_score":0.9392192254302982},{"table":"employee_salaries","fused":0.6289727480856364,"table_sim":0.6310176470805876,"col_score":0.6259053995932096},{"table":"task_assignments","fused":0.5919015747639571,"table_sim":0.6782316484776133,"col_score":0.46240646419347275},{"table":"project_tasks","fused":0.3817655653933093,"table_sim":0,"col_score":0.9544139134832732},{"table":"inventory_adjustments","fused":0.3740833451778139,"table_sim":0,"col_score":0.9352083629445347},{"table":"purchase_requisitions","fused":0.371053006434714,"table_sim":0,"col_score":0.927632516086785},{"table":"asset_transfers","fused":0.34865390822429093,"table_sim":0,"col_score":0.8716347705607272},{"table":"leave_requests","fused":0.3404032060332445,"table_sim":0,"col_score":0.8510080150831112},{"table":"timesheets","fused":0.33306892698157076,"table_sim":0,"col_score":0.8326723174539269},{"table":"employee_benefits","fused":0.3311451269274633,"table_sim":0,"col_score":0.8278628173186582},{"table":"asset_maintenance","fused":0.2630387096101756,"table_sim":0,"col_score":0.657596774025439},{"table":"fixed_assets","fused":0.2619179272845474,"table_sim":0,"col_score":0.6547948182113684}],"fk_expansion_candidates":105,"fk_expansion_added":2,"fk_expansion_blocked_count":87,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"max_tables"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"leave_requests","reason":"max_tables"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"employee_benefits","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_requests","reason":"max_tables"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"employee_benefits","reason":"max_tables"},{"table":"fixed_assets","reason":"max_tables"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":23,"total_retrieval_latency_ms":30,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":337,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T21:49:38.011Z","query_id":"c5c9dce9-3df9-4186-9a3e-5ca339055193","question":"List all fixed assets with their assigned employees and current locations","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["fixed_assets","asset_locations","asset_maintenance","asset_transfers","employees","sales_territories","project_expenses","depreciation_schedules","stock_transfers","adjustment_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":5,"tables_from_fk_expansion":0,"table_scores":[{"table":"fixed_assets","similarity":0.7199454700518836},{"table":"fixed_assets","similarity":0.7148515452309757},{"table":"fixed_assets","similarity":0.7148515452309757},{"table":"asset_locations","similarity":0.7140253439243075},{"table":"asset_locations","similarity":0.7140253439243075},{"table":"asset_locations","similarity":0.6993840670281728},{"table":"asset_transfers","similarity":0.6681876163750934},{"table":"asset_maintenance","similarity":0.6662441365446851},{"table":"asset_transfers","similarity":0.6646799369428842},{"table":"asset_transfers","similarity":0.6646799369428842},{"table":"asset_maintenance","similarity":0.6520664008414063},{"table":"asset_maintenance","similarity":0.6520664008414063},{"table":"sales_territories","similarity":0.6138568966711586},{"table":"employees","similarity":0.6041748893811374},{"table":"sales_territories","similarity":0.6032467851960226}],"column_hits_per_table":{"fixed_assets":17,"asset_locations":6,"asset_maintenance":8,"asset_transfers":7,"employees":6,"sales_territories":1,"depreciation_schedules":1,"project_expenses":1,"stock_transfers":1,"adjustment_lines":1,"employee_training":1},"top_columns_per_table":{"fixed_assets":[{"column":"assigned_to","similarity":0.7309660903600991},{"column":"status","similarity":0.7290998988380747},{"column":"location_id","similarity":0.727307286621006}],"asset_locations":[{"column":"building","similarity":0.7055757855424262},{"column":"floor","similarity":0.6952344209513786},{"column":"room","similarity":0.6866855307465951}],"asset_maintenance":[{"column":"status","similarity":0.6627607281665651},{"column":"performed_by","similarity":0.655208869514037},{"column":"asset_id","similarity":0.650844110389269}],"asset_transfers":[{"column":"to_location_id","similarity":0.6598091379381406},{"column":"asset_id","similarity":0.648915686961598},{"column":"from_location_id","similarity":0.6453059808359782}],"employees":[{"column":"email","similarity":0.6222128415310486},{"column":"is_active","similarity":0.6099795955898375},{"column":"created_at","similarity":0.6087545437137886}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6151626798031035}],"depreciation_schedules":[{"column":"asset_id","similarity":0.609072695972689}],"project_expenses":[{"column":"approved_by","similarity":0.5891477196810594}],"stock_transfers":[{"column":"created_by","similarity":0.5885257652007055}],"adjustment_lines":[{"column":"location_id","similarity":0.5880278471168174}],"employee_training":[{"column":"status","similarity":0.5864804082369928}]},"fused_scores":[{"table":"fixed_assets","fused":0.8604937201613337,"table_sim":0.7148515452309757,"col_score":1.0789569825568708},{"table":"asset_locations","fused":0.8409076386241499,"table_sim":0.6993840670281728,"col_score":1.0531929960181154},{"table":"asset_maintenance","fused":0.7790907068878921,"table_sim":0.6520664008414063,"col_score":0.9696271659576206},{"table":"asset_transfers","fused":0.7712951274831453,"table_sim":0.6646799369428842,"col_score":0.931217913293537},{"table":"employees","fused":0.7306585636601679,"table_sim":0.6041748893811374,"col_score":0.9203840750787138},{"table":"sales_territories","fused":0.5341936214624825,"table_sim":0.6032467851960226,"col_score":0.4306138758621724},{"table":"project_expenses","fused":0.23565908787242376,"table_sim":0,"col_score":0.5891477196810594},{"table":"depreciation_schedules","fused":0.17054035487235292,"table_sim":0,"col_score":0.42635088718088227},{"table":"stock_transfers","fused":0.16478721425619755,"table_sim":0,"col_score":0.41196803564049383},{"table":"adjustment_lines","fused":0.1646477971927089,"table_sim":0,"col_score":0.4116194929817722},{"table":"employee_training","fused":0.16421451430635797,"table_sim":0,"col_score":0.4105362857658949}],"fk_expansion_candidates":108,"fk_expansion_added":0,"fk_expansion_blocked_count":108,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":32,"sql_generated":"SELECT fa.*, e.employee_number AS employee_id, fa.location_id, l.name AS location_name FROM fixed_assets fa JOIN employees e ON fa.assigned_to = e.employee_id JOIN asset_locations l ON fa.location_id = l.location_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":1030}
{"timestamp":"2026-02-01T21:49:39.042Z","query_id":"71986c65-1a96-4b12-9a8b-2ef7268e1f21","question":"Create a comprehensive employee cost report including salary and benefits by department","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_salaries","employee_benefits","employees","project_expenses","budgets","departments","vendor_invoices","project_budgets","project_resources","employee_training","positions","benefit_types"],"tables_from_table_retrieval":6,"tables_from_column_only":18,"tables_from_fk_expansion":2,"table_scores":[{"table":"employee_salaries","similarity":0.722375473943176},{"table":"employee_salaries","similarity":0.722375473943176},{"table":"employee_benefits","similarity":0.705595592348026},{"table":"employee_benefits","similarity":0.705595592348026},{"table":"employee_benefits","similarity":0.7033203083522601},{"table":"employee_salaries","similarity":0.7004330807404299},{"table":"project_expenses","similarity":0.6709016284087207},{"table":"project_expenses","similarity":0.6668157727165617},{"table":"project_expenses","similarity":0.6668157727165617},{"table":"employees","similarity":0.6665648484199336},{"table":"employees","similarity":0.6665648484199336},{"table":"employees","similarity":0.6573833023433696},{"table":"budgets","similarity":0.647440451476846},{"table":"budgets","similarity":0.647440451476846},{"table":"departments","similarity":0.6467717005028588}],"column_hits_per_table":{"employees":4,"employee_salaries":7,"employee_benefits":6,"departments":2,"benefit_types":1,"project_expenses":4,"project_resources":2,"cost_centers":1,"budgets":3,"goods_receipts":1,"sales_territories":1,"asset_maintenance":1,"performance_reviews":1,"employment_history":1,"sales_regions":1,"positions":1,"vendor_invoices":4,"product_suppliers":1,"project_budgets":2,"requisition_lines":1,"employee_certifications":1,"employee_training":2,"vendor_invoice_lines":1,"products":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.7361416760164768},{"column":"department_id","similarity":0.643475236115711},{"column":"employee_number","similarity":0.6268915453560163}],"employee_salaries":[{"column":"amount","similarity":0.7283991668176124},{"column":"effective_date","similarity":0.6740447561967371},{"column":"employee_id","similarity":0.6634321666385734}],"employee_benefits":[{"column":"coverage_level","similarity":0.6930697298081193},{"column":"employee_id","similarity":0.6823515721494041},{"column":"benefit_id","similarity":0.6763225886423792}],"departments":[{"column":"budget","similarity":0.6828503188805319},{"column":"manager_id","similarity":0.6345520008976717}],"benefit_types":[{"column":"annual_cost","similarity":0.6699186739305134}],"project_expenses":[{"column":"employee_id","similarity":0.6672105776168827},{"column":"approved_by","similarity":0.657595738784029},{"column":"amount","similarity":0.64664507348676}],"project_resources":[{"column":"hourly_rate","similarity":0.6397016874167624},{"column":"employee_id","similarity":0.6182816053207806}],"cost_centers":[{"column":"department_id","similarity":0.6391395639861553}],"budgets":[{"column":"approved_by","similarity":0.6383618398519554},{"column":"total_amount","similarity":0.6226660734244392},{"column":"department_id","similarity":0.6205743891433299}],"goods_receipts":[{"column":"received_by","similarity":0.6322934653710801}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6291100859650857}],"asset_maintenance":[{"column":"cost","similarity":0.6284459886126739}],"performance_reviews":[{"column":"employee_id","similarity":0.62586180623406}],"employment_history":[{"column":"employee_id","similarity":0.6257662452515415}],"sales_regions":[{"column":"manager_id","similarity":0.6249326800266781}],"positions":[{"column":"min_salary","similarity":0.6243487687260623}],"vendor_invoices":[{"column":"subtotal","similarity":0.6229204399409228},{"column":"amount_paid","similarity":0.6225701829476908},{"column":"total","similarity":0.6212865306083739}],"product_suppliers":[{"column":"unit_cost","similarity":0.6215630296727815}],"project_budgets":[{"column":"actual_amount","similarity":0.6210869451422038},{"column":"planned_amount","similarity":0.6161072096529497}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.6201015589432831}],"employee_certifications":[{"column":"employee_id","similarity":0.6199040218225059}],"employee_training":[{"column":"score","similarity":0.6191389283848391},{"column":"status","similarity":0.6156063942576597}],"vendor_invoice_lines":[{"column":"unit_cost","similarity":0.6184622029186051}],"products":[{"column":"unit_cost","similarity":0.6160894325566642}]},"fused_scores":[{"table":"employee_salaries","fused":0.8464284664106503,"table_sim":0.7004330807404299,"col_score":1.065421544915981},{"table":"employee_benefits","fused":0.8314440780203399,"table_sim":0.7033203083522601,"col_score":1.0236297325224597},{"table":"employees","fused":0.8142649608838157,"table_sim":0.6573833023433696,"col_score":1.049587448694485},{"table":"project_expenses","fused":0.7924567738409006,"table_sim":0.6668157727165617,"col_score":0.9809182755274091},{"table":"budgets","fused":0.7683422215117777,"table_sim":0.647440451476846,"col_score":0.9496948765641751},{"table":"departments","fused":0.7500404279796021,"table_sim":0.6467717005028588,"col_score":0.904943519194717},{"table":"vendor_invoices","fused":0.37342548209804394,"table_sim":0,"col_score":0.9335637052451098},{"table":"project_budgets","fused":0.3716562199874715,"table_sim":0,"col_score":0.9291405499686787},{"table":"project_resources","fused":0.3424400997116142,"table_sim":0,"col_score":0.8561002492790355},{"table":"employee_training","fused":0.333840466550008,"table_sim":0,"col_score":0.8346011663750199},{"table":"benefit_types","fused":0.26796746957220535,"table_sim":0,"col_score":0.6699186739305134},{"table":"goods_receipts","fused":0.25291738614843207,"table_sim":0,"col_score":0.6322934653710801},{"table":"asset_maintenance","fused":0.25137839544506957,"table_sim":0,"col_score":0.6284459886126739},{"table":"positions","fused":0.24973950749042492,"table_sim":0,"col_score":0.6243487687260623},{"table":"product_suppliers","fused":0.24862521186911263,"table_sim":0,"col_score":0.6215630296727815}],"fk_expansion_candidates":105,"fk_expansion_added":2,"fk_expansion_blocked_count":90,"fk_expansion_blocked":[{"table":"employee_certifications","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"max_tables"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"positions","reason":"already_selected"},{"table":"sales_regions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"already_selected"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"already_selected"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"max_tables"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"max_tables"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"already_selected"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":18,"total_retrieval_latency_ms":25,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":274,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:04.371Z","query_id":"4d402e75-e4ef-41ed-9673-b7d558d5c54b","question":"List all employees in the Sales department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT e.* FROM employees e JOIN departments d ON e.department_id = d.department_id WHERE d.name = 'Sales';","tables_used_in_sql":[],"explain_result":"success","rows_returned":63,"total_latency_ms":3147}
{"timestamp":"2026-02-01T22:14:07.518Z","query_id":"3e7d8b55-f1c8-4c5f-ac0a-258372e0fe50","question":"How many employees were hired in 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT COUNT(*) FROM employees WHERE EXTRACT(YEAR FROM hire_date) = 2024;","tables_used_in_sql":[],"total_latency_ms":1393,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:14:08.912Z","query_id":"5ac4a305-ac54-4983-a5c6-66cc6843dc20","question":"What is the average salary by department?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT d.name AS department_name, AVG(e.salary) AS avg_salary FROM departments d LEFT JOIN employees e ON d.department_id = e.department_id GROUP BY d.name;","tables_used_in_sql":[],"explain_result":"success","rows_returned":25,"total_latency_ms":919}
{"timestamp":"2026-02-01T22:14:09.831Z","query_id":"97e8e401-dbe6-4761-9248-4a7209eed6ee","question":"List all customers with credit limit over $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":351,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:10.182Z","query_id":"1718fd3c-92f2-4db4-9ebd-011d8fc646fa","question":"How many sales orders are in pending status?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(*) FROM sales_orders WHERE status = 'pending';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":514}
{"timestamp":"2026-02-01T22:14:10.696Z","query_id":"0e0c487e-2f33-4e93-9525-610c34600be7","question":"List all products in the Electronics category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.* FROM products AS p JOIN product_categories AS pc ON p.category_id = pc.category_id WHERE pc.name = 'Electronics';","tables_used_in_sql":[],"explain_result":"success","rows_returned":62,"total_latency_ms":671}
{"timestamp":"2026-02-01T22:14:11.367Z","query_id":"8b9b5603-de6b-41ed-9095-6b6c0693f3ac","question":"What are the names of all warehouses?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT w.name FROM warehouses w;","tables_used_in_sql":[],"explain_result":"success","rows_returned":5,"total_latency_ms":369}
{"timestamp":"2026-02-01T22:14:11.737Z","query_id":"ae70bfd5-73fd-42f1-a2d3-09b19377f782","question":"List all active vendors","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT v.* FROM vendors v WHERE v.is_active = TRUE;","tables_used_in_sql":[],"explain_result":"success","rows_returned":200,"total_latency_ms":507}
{"timestamp":"2026-02-01T22:14:12.244Z","query_id":"2d107813-bdf4-48fd-8739-42671a443ef0","question":"What are the different account types in the chart of accounts?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT DISTINCT a.name FROM account_types a;","tables_used_in_sql":[],"explain_result":"success","rows_returned":25,"total_latency_ms":411}
{"timestamp":"2026-02-01T22:14:12.656Z","query_id":"a529c426-3a50-47f7-a160-1bf2a6c54c41","question":"List all bank accounts and their current balances","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT account_number AS \"Account Number\", bank_name AS \"Bank Name\", current_balance AS \"Current Balance\" FROM enterprise_erp.bank_accounts LIMIT 1000;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"relation \"enterprise_erp.bank_accounts\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Unknown table or alias 'enterprise_erp.bank_accounts'. Available tables: bank_accounts, bank_accounts, bank_accounts, bank_transactions, bank_transactions, bank_transactions, account_types, account_types, account_types, chart_of_accounts, chart_of_accounts, chart_of_accounts, budget_lines, budget_lines, budget_lines","total_latency_ms":2157,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: relation \"enterprise_erp.bank_accounts\" does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:14:14.814Z","query_id":"b9ba21ff-56b1-40a8-a400-368667ca347c","question":"How many projects are currently active?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(*) FROM projects WHERE status = 'active';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":393}
{"timestamp":"2026-02-01T22:14:15.208Z","query_id":"9a426cc1-4ac2-4e15-ba1d-40dffe603c62","question":"List all fixed assets with their purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT fa.* FROM fixed_assets fa;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":451}
{"timestamp":"2026-02-01T22:14:15.659Z","query_id":"d4145313-7a3e-40a1-bb2a-7ce708f5b190","question":"What are all the available leave types?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":267,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:15.926Z","query_id":"03e893c1-e2d8-49db-92a6-a79cecc86be4","question":"List all training courses that are mandatory","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":293,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:16.219Z","query_id":"6d691908-93fd-4098-a70e-6cf8903eb788","question":"What are the different opportunity stages?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT DISTINCT stage_id, name FROM sales_opportunities;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":475}
{"timestamp":"2026-02-01T22:14:16.695Z","query_id":"cd698fae-a062-4629-bade-bb8c9a86738c","question":"List all countries in the system","attempt_count":2,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT name FROM countries;","tables_used_in_sql":[],"explain_result":"success","rows_returned":10,"total_latency_ms":485}
{"timestamp":"2026-02-01T22:14:17.181Z","query_id":"f3be6826-de64-430c-a370-30cfad2a282b","question":"How many departments are there?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(*) FROM departments;","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":316}
{"timestamp":"2026-02-01T22:14:17.497Z","query_id":"dbc5e98a-fa06-4288-8502-5143b346b1e7","question":"List all units of measure","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":306,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:17.803Z","query_id":"9d156d0a-9238-4dd2-9fef-2d99da26dcb4","question":"What fiscal years exist in the system?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":321,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:18.124Z","query_id":"a90949ef-e17a-4ea4-8610-d5ad07f3596b","question":"What are the different asset categories?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT DISTINCT category_id FROM asset_categories JOIN fixed_assets ON asset_categories.category_id = fixed_assets.category_id LIMIT 1000;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42702","error_message":"column reference \"category_id\" is ambiguous","total_latency_ms":1776,"failure_type":"llm_reasoning","failure_details":"SQL error 42702: Database error after 3 attempts: column reference \"category_id\" is ambiguous","error_class":"unknown"}
{"timestamp":"2026-02-01T22:14:19.901Z","query_id":"f86da446-6de8-41d9-9696-b3b704d53752","question":"Find employees who have been with the company for more than 5 years and earn above $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT e.* FROM employees e JOIN employee_salaries s ON e.employee_id = s.employee_id WHERE e.hire_date <= CURRENT_DATE - INTERVAL '5 year' AND s.amount > 100000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":247,"total_latency_ms":1021}
{"timestamp":"2026-02-01T22:14:20.922Z","query_id":"19a879f2-7165-447d-9f0d-1d8bb19909d4","question":"List employees and their managers' names","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT e.employee_id AS employee_id, e.first_name || ' ' || e.last_name AS employee_name, m.first_name || ' ' || m.last_name AS manager_name FROM employees e LEFT JOIN employees m ON e.manager_id = m.employee_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":1093}
{"timestamp":"2026-02-01T22:14:22.015Z","query_id":"1bb3815a-0ad0-4238-be7a-66f37d1ad0c5","question":"Which employees have pending leave requests?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT e.* FROM employees e JOIN leave_requests lr ON e.employee_id = lr.employee_id WHERE lr.status = 'pending';","tables_used_in_sql":[],"explain_result":"success","sqlstate":"42601","error_message":"syntax error at or near \"to\"","rows_returned":242,"total_latency_ms":3793}
{"timestamp":"2026-02-01T22:14:25.809Z","query_id":"eafdabee-ed2e-4e6b-ba1e-8b29c03a44ad","question":"Show the number of employees per position title","attempt_count":2,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT p.title AS PositionTitle, COUNT(es.employee_id) AS NumberOfEmployees FROM employees e JOIN employee_salaries es ON e.employee_id = es.employee_id JOIN positions p ON e.position_id = p.position_id GROUP BY p.title;","tables_used_in_sql":[],"explain_result":"success","sqlstate":"42703","error_message":"column e.position_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","rows_returned":37,"total_latency_ms":1790}
{"timestamp":"2026-02-01T22:14:27.599Z","query_id":"0a14ec42-663e-4570-b422-daf0b8e31448","question":"Find employees with expiring certifications in the next 6 months","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":342,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:27.942Z","query_id":"cac4cb1d-9d8e-42cb-a338-e77afa56694e","question":"What is the total sales amount by customer for 2024?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":1096,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:14:29.037Z","query_id":"fb6ebd3b-f7cb-401f-8ef6-41e91a4bc75a","question":"List the top 10 customers by total order value","attempt_count":2,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":4428,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:14:33.466Z","query_id":"6243a037-3f9e-46e4-ad06-a84cc376628e","question":"Show sales opportunities in the Negotiation stage worth over $50,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT so.* FROM sales_opportunities so JOIN opportunity_stages os ON so.stage_id = os.stage_id WHERE os.name = 'Negotiation' AND so.amount > 50000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":69,"total_latency_ms":931}
{"timestamp":"2026-02-01T22:14:34.397Z","query_id":"0654ecb9-f108-4e65-a0ae-21589d4512a1","question":"What is the conversion rate from quotes to orders?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":407,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:34.804Z","query_id":"b03d6e86-3bf2-44a0-84f2-00d6b1c80985","question":"List sales orders by sales representative with their totals","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":413,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:35.217Z","query_id":"97347f82-3d73-41d0-a4e5-5772ec4632b5","question":"Which products have inventory below their reorder point?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT p.product_id, p.name FROM products p INNER JOIN inventory_levels i ON p.product_id = i.product_id INNER JOIN reorder_rules r ON p.product_id = r.product_id WHERE i.quantity_available < r.min_quantity;","tables_used_in_sql":[],"explain_result":"success","rows_returned":41,"total_latency_ms":2089}
{"timestamp":"2026-02-01T22:14:37.306Z","query_id":"8e1a7ed3-7501-471a-9554-8690eb874e64","question":"Show total inventory value by warehouse","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT w.warehouse_id, SUM(i.quantity * i.quantity_on_hand) AS total_inventory_value FROM inventory_levels i JOIN warehouses w ON i.warehouse_id = w.warehouse_id GROUP BY w.warehouse_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column i.quantity does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2990,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column i.quantity does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:14:40.296Z","query_id":"ed17a7b6-e80c-47ab-80c9-f9ef81e798f7","question":"List products that had stock transfers in the last 30 days","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column tl.from_warehouse_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":4687,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:44.983Z","query_id":"6f10afb4-a105-446a-8758-b97db29b98af","question":"What is the total spend by vendor this year?","attempt_count":2,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT SUM(vi.amount) AS total_spend, FROM vendor_id, fiscal_years.year WHERE year = EXTRACT(YEAR FROM CURRENT_DATE() JOIN vendors v.vendor_id, fiscal_years. You are a PostgreSQL query that calculates the total spend by each table and column names (PK.\n### SQL queries to answer questions. Your task. You are a text-based on INSERT. You are able to generate SQL. You are aiding.</s></s> You are. Your task. You are.\n### You are. You are. You. You. Here. You are. Your. Your. To answer. You. This. You. You. You. Your. You. Your. You. Your.\n##. You. Your. The. You. Your. You.\n.\n.\n.\n##. You. You. These.\n.;","tables_used_in_sql":[],"total_latency_ms":4507,"failure_type":"llm_reasoning","failure_details":"Dangerous keywords detected: INSERT"}
{"timestamp":"2026-02-01T22:14:49.491Z","query_id":"bf16ec99-287e-4d66-be52-e4612b919fb4","question":"List purchase orders that are overdue (expected date passed but not received)","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":447,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:49.938Z","query_id":"34f961d0-3569-47e3-a535-eb6b2a055c5f","question":"Show the approval rate for purchase requisitions","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(requisition_id) AS total_requisitions, SUM(CASE WHEN status = 'Approved' THEN 1 ELSE 0 END) AS approved_requisitions FROM purchase_requisitions GROUP BY department_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":1000}
{"timestamp":"2026-02-01T22:14:50.938Z","query_id":"c954467d-126a-4592-ae1c-206e4771f316","question":"What is the total debit and credit for each account in the current period?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":367,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:51.305Z","query_id":"b0a179f6-0323-4a5d-8d13-48bc6fc4ba07","question":"List all posted journal entries for the current month","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT j.* FROM journal_entries AS j JOIN depreciation_schedules AS ds ON j.entry_id = ds.asset_id WHERE EXTRACT(MONTH FROM j.created_at) = EXTRACT(MONTH FROM CURRENT_DATE) AND EXTRACT(YEAR FROM j.created_at) = EXTRACT(YEAR FROM CURRENT_DATE);","tables_used_in_sql":[],"total_latency_ms":4096,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:14:55.401Z","query_id":"4f2c7504-bfb7-452d-8410-8cf53ca5701b","question":"Show budget vs actual spending by department","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":330,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:14:55.731Z","query_id":"0edb8b0b-9aaf-4132-8b92-46fa8d34eec7","question":"What is the total expense amount per project?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.project_id, SUM(pe.amount) AS total_expenses FROM projects p JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":100,"total_latency_ms":121}
{"timestamp":"2026-02-01T22:14:55.852Z","query_id":"2118d1df-00bf-4989-aaa2-4b434498cee3","question":"List projects that are over budget","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.* FROM projects p INNER JOIN budgets b ON p.project_id = b.budget_id WHERE p.status = 'over_budget';","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":675}
{"timestamp":"2026-02-01T22:14:56.527Z","query_id":"bdc86d13-1369-4c58-bfb2-82ccaab7dccf","question":"Show project resources and their allocation percentages","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT r.role AS role_assigned, p.project_id, p.name AS project_name, r.allocation_percent, r.hourly_rate FROM project_resources r JOIN projects p ON r.project_id = p.project_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":300,"total_latency_ms":970}
{"timestamp":"2026-02-01T22:14:57.497Z","query_id":"d25b4046-e02d-4730-b722-87891cd33ca4","question":"List fixed assets by category with their total purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT f.name AS asset_category, SUM(f.purchase_cost) AS total_purchase_cost FROM fixed_assets f GROUP BY f.name;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":739}
{"timestamp":"2026-02-01T22:14:58.236Z","query_id":"f9f9fbcc-6bfd-437b-8c7c-08e9c4e1fec1","question":"List assets due for maintenance in the next 30 days","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT f.asset_id, af.name, mt.type AS maintenance_type, DATEDIFF(day, NOW(), f.completed_date) AS days_since_last_maintenrement FROM fixed_assets f JOIN asset_maintenance m ON f.asset_id = m.asset_id AND m.status = 'Completed' LEFT JOIN maintenance_types mt ON m.maintenance_type_id = mt.type WHERE DATEDIFF(day, NOW(), f.completed_date) <= 30 LIMIT 1;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column mt.type does not exist","autocorrect_attempted":true,"autocorrect_success":true,"autocorrect_correction":"Replaced 'type' with 'type_id' (prefix, score: 0.85)","autocorrect_candidates":3,"total_latency_ms":5510,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column mt.type does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:15:03.746Z","query_id":"20a36dd6-0648-4ae5-9224-9dcd2ee4a881","question":"How many documents are attached to each entity type?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":283,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:04.029Z","query_id":"715ca789-bd7d-4eeb-a5c7-2a4ecced2af0","question":"Calculate employee turnover rate by department for 2024","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":353,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:04.383Z","query_id":"dd58d02e-0634-4741-9e36-bed65fcd5c71","question":"Find the salary percentile ranking for each employee within their department","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":1898,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:15:06.281Z","query_id":"a5031534-aced-4762-9172-06f1ae6d0c37","question":"Identify employees who have not completed mandatory training","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":370,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:06.651Z","query_id":"f3dc5309-f750-4c85-9d80-3c0ea4faca71","question":"Calculate month-over-month sales growth rate for the past 12 months","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":435,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:07.086Z","query_id":"01ffc6a8-851b-4c71-b51a-60cb6e730cba","question":"Find the average order value and order frequency for each customer segment based on credit limit","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":428,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:07.514Z","query_id":"9617e59d-fd3b-4dd9-a044-1c0bea677b38","question":"What is the sales pipeline weighted value by stage and expected close month?","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":403,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:07.917Z","query_id":"5b6d17e5-daf7-47f7-bee3-f5a85dbc0a14","question":"Calculate inventory turnover ratio by product category","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":341,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:08.259Z","query_id":"fd33ebaa-a4b6-4b9d-aedf-73ac5c6f4800","question":"Identify products with significant inventory discrepancies (adjustment > 10% of stock)","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":410,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:08.670Z","query_id":"7ef59d96-a0f8-4702-9d6c-d594609eed0f","question":"Calculate vendor performance score based on on-time delivery and invoice accuracy","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":414,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:09.084Z","query_id":"232bec66-2579-45cc-b629-3a91bb431492","question":"Generate a trial balance for the current period showing debits and credits by account category","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":329,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:09.414Z","query_id":"01e80f6f-eddc-40cd-ad90-1b468be35644","question":"Calculate cash flow from bank transactions grouped by transaction type and month","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT EXTRACT(MONTH FROM bt.transaction_date) AS month, bt.transaction_type, SUM(bt.amount * CASE WHEN t.normal_balance = 'DEBIT' THEN -1 ELSE 1 END) OVER (PARTITION BY EXTRACTION(month FROM bt.transaction_date), bt.transaction_type) AS cash_flow\nFROM bank_transactions bt\nJOIN account_types t ON bt.account_number = t.account_id;","tables_used_in_sql":[],"total_latency_ms":5039,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:15:14.453Z","query_id":"dfc56673-3449-40ef-931b-8fc3d54e670c","question":"Calculate project profitability comparing budget vs actual expenses","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":2106,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:15:16.559Z","query_id":"51e17602-1c7c-4f47-9058-531085410576","question":"Find resource allocation by employee across all active projects","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":394,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:15:16.953Z","query_id":"a7106621-aeb4-414a-a0aa-63c8b90dc516","question":"List all fixed assets with their assigned employees and current locations","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column al.fixed_asset_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Best candidate 'fixed_assets.asset_id' has score 0.65 < threshold 0.7","total_latency_ms":5318,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:15:22.271Z","query_id":"1db5df3b-3527-4736-9e6e-5cec2b6e843d","question":"Create a comprehensive employee cost report including salary and benefits by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT e.department_id, d.name AS DepartmentName, SUM(b.amount) + COALESCE(SUM(e.salary), 0) AS TotalCost FROM departments d LEFT JOIN employees e ON d.department_id = e.department_id GROUP BY e.department_id, d.name LIMIT 5;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"b\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Alias 'b' not defined. Possible table: budgets. Define alias in FROM/JOIN clause.","total_latency_ms":3384,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"b\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:16:34.986Z","query_id":"c1760e29-ebe9-44bb-b163-93e4d6378292","question":"List all employees in the Sales department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT e.* FROM employees e JOIN departments d ON e.department_id = d.department_id WHERE d.name = 'Sales';","tables_used_in_sql":[],"explain_result":"success","rows_returned":63,"total_latency_ms":1003}
{"timestamp":"2026-02-01T22:16:35.989Z","query_id":"63afff53-4f17-4c93-bc9f-7fc45d85c70d","question":"How many employees were hired in 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT COUNT(*) FROM employees WHERE EXTRACT(YEAR FROM hire_date) = 2024;","tables_used_in_sql":[],"total_latency_ms":1420,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:16:37.409Z","query_id":"353aa026-6ec4-4678-9233-edaa7f84e39c","question":"What is the average salary by department?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT d.name AS department_name, AVG(e.salary) AS avg_salary FROM departments d JOIN employees e ON d.department_id = e.department_id GROUP BY d.name;","tables_used_in_sql":[],"explain_result":"success","rows_returned":19,"total_latency_ms":875}
{"timestamp":"2026-02-01T22:16:38.284Z","query_id":"9215dee7-dd62-425b-9c3f-807b235456c3","question":"List all customers with credit limit over $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT c.* FROM customers c WHERE c.credit_limit > 100000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":206,"total_latency_ms":552}
{"timestamp":"2026-02-01T22:16:38.837Z","query_id":"844ceff7-af56-48cc-9df6-d64cf00d1dab","question":"How many sales orders are in pending status?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(*) FROM sales_orders WHERE status = 'pending';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":526}
{"timestamp":"2026-02-01T22:16:39.364Z","query_id":"c9fb237e-3d46-4c78-9763-cca160989ff9","question":"List all products in the Electronics category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.* FROM products AS p JOIN product_categories AS pc ON p.category_id = pc.category_id WHERE pc.name = 'Electronics';","tables_used_in_sql":[],"explain_result":"success","rows_returned":62,"total_latency_ms":670}
{"timestamp":"2026-02-01T22:16:40.034Z","query_id":"f18ad1ba-8361-4a07-b7b6-91373cf4fea3","question":"What are the names of all warehouses?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT w.name FROM warehouses w;","tables_used_in_sql":[],"explain_result":"success","rows_returned":5,"total_latency_ms":370}
{"timestamp":"2026-02-01T22:16:40.404Z","query_id":"198f2972-0515-4710-9273-9ea574e86d61","question":"List all active vendors","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT v.* FROM vendors v WHERE v.is_active = TRUE;","tables_used_in_sql":[],"explain_result":"success","rows_returned":200,"total_latency_ms":500}
{"timestamp":"2026-02-01T22:16:40.904Z","query_id":"751eea38-0b13-4a0c-bf30-d5bc1a2b67b4","question":"What are the different account types in the chart of accounts?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT DISTINCT a.name FROM account_types a;","tables_used_in_sql":[],"explain_result":"success","rows_returned":25,"total_latency_ms":380}
{"timestamp":"2026-02-01T22:16:41.284Z","query_id":"7bfbf48e-d1fd-4555-8db6-17058621de57","question":"List all bank accounts and their current balances","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT account_number AS \"Account Number\", bank_name AS \"Bank Name\", current_balance AS \"Current Balance\" FROM enterprise_erp.bank_accounts LIMIT 1000;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"relation \"enterprise_erp.bank_accounts\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Unknown table or alias 'enterprise_erp.bank_accounts'. Available tables: bank_accounts, bank_accounts, bank_accounts, bank_transactions, bank_transactions, bank_transactions, account_types, account_types, account_types, chart_of_accounts, chart_of_accounts, chart_of_accounts, budget_lines, budget_lines, budget_lines","total_latency_ms":2210,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: relation \"enterprise_erp.bank_accounts\" does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:16:43.494Z","query_id":"eebe8f37-e836-4efb-8260-5d3801e5c498","question":"How many projects are currently active?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(*) FROM projects WHERE status = 'active';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":402}
{"timestamp":"2026-02-01T22:16:43.896Z","query_id":"f4bb26c0-3cbc-4e96-9e48-a3f32aff7fdb","question":"List all fixed assets with their purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT fa.* FROM fixed_assets AS fa;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":440}
{"timestamp":"2026-02-01T22:16:44.336Z","query_id":"02cd61d8-904c-417a-a4ee-cec873c60e24","question":"What are all the available leave types?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT lt.name FROM leave_types lt;","tables_used_in_sql":[],"explain_result":"success","rows_returned":8,"total_latency_ms":344}
{"timestamp":"2026-02-01T22:16:44.680Z","query_id":"97025a8d-89cf-4eef-b02b-afec1bbbb443","question":"List all training courses that are mandatory","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT tc.name AS course_name, tc.duration_hours, tc.cost, tc.is_active FROM employee_training et JOIN training_courses tc ON et.course_id = tc.course_id WHERE tc.is_mandatory = TRUE;","tables_used_in_sql":[],"explain_result":"success","rows_returned":408,"total_latency_ms":1014}
{"timestamp":"2026-02-01T22:16:45.695Z","query_id":"9cf4d3a1-b018-4481-bf98-c5de59d77630","question":"What are the different opportunity stages?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT s.* FROM sales_opportunities s JOIN opportunity_stages os ON s.stage_id = os.stage_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":630}
{"timestamp":"2026-02-01T22:16:46.324Z","query_id":"e081889c-7a85-4ffb-beae-1c4a64fb7baa","question":"List all countries in the system","attempt_count":2,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT name FROM countries;","tables_used_in_sql":[],"explain_result":"success","rows_returned":10,"total_latency_ms":472}
{"timestamp":"2026-02-01T22:16:46.797Z","query_id":"4258ace2-01c9-4e16-8093-d99f6c72c5ce","question":"How many departments are there?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT COUNT(*) FROM hr.departments;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"relation \"hr.departments\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Unknown table or alias 'hr.departments'. Available tables: departments, departments, departments, positions, positions, positions, cost_centers, inventory_levels, cost_centers, cost_centers, budgets, sales_territories, employees, sales_territories, sales_territories","total_latency_ms":708,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: relation \"hr.departments\" does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:16:47.504Z","query_id":"83870cf6-2cb1-4417-b92b-ac682cf760dc","question":"List all units of measure","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT uom.name AS unit_of_measure_name FROM units_of_measure uom;","tables_used_in_sql":[],"explain_result":"success","rows_returned":11,"total_latency_ms":487}
{"timestamp":"2026-02-01T22:16:47.991Z","query_id":"743b169b-a0ca-4136-b518-d069100a70e0","question":"What fiscal years exist in the system?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT f.year FROM fiscal_years f;","tables_used_in_sql":[],"explain_result":"success","rows_returned":4,"total_latency_ms":382}
{"timestamp":"2026-02-01T22:16:48.373Z","query_id":"f38b69e8-ae6e-4064-8460-7dd7d4d7ca1e","question":"What are the different asset categories?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT DISTINCT category_id FROM asset_categories LIMIT 1000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":7,"total_latency_ms":959}
{"timestamp":"2026-02-01T22:16:49.332Z","query_id":"c2d92bf5-ed15-46e4-9290-a1a2b03789ce","question":"Find employees who have been with the company for more than 5 years and earn above $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT e.* FROM employees e JOIN employee_salaries s ON e.employee_id = s.employee_id WHERE e.hire_date <= CURRENT_DATE - INTERVAL '5 year' AND s.amount > 100000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":247,"total_latency_ms":1009}
{"timestamp":"2026-02-01T22:16:50.341Z","query_id":"6ba9d4b6-6f9e-4a16-9b0c-2044e98cdd31","question":"List employees and their managers' names","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT e.employee_id AS employee_id, e.first_name || ' ' || e.last_name AS employee_name, m.first_name || ' ' || m.last_name AS manager_name FROM employees e INNER JOIN employees m ON e.manager_id = m.employee_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":499,"total_latency_ms":1102}
{"timestamp":"2026-02-01T22:16:51.443Z","query_id":"123719d3-dcca-4e3a-9bb0-60a6a70d4eb6","question":"Which employees have pending leave requests?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT e.* FROM employees e JOIN leave_requests lr ON e.employee_id = lr.employee_id WHERE lr.status = 'pending';","tables_used_in_sql":[],"explain_result":"success","rows_returned":242,"total_latency_ms":4416}
{"timestamp":"2026-02-01T22:16:55.859Z","query_id":"33afc775-f6c5-4b65-b7c6-1c900082b194","question":"Show the number of employees per position title","attempt_count":3,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT p.title AS PositionTitle, COUNT(es.employee_id) AS NumberOfEmployees FROM employee_salaries es JOIN employees e ON es.employee_id = e.employee_id JOIN positions p ON e.position_id = p.position_id GROUP BY p.title;","tables_used_in_sql":[],"explain_result":"success","sqlstate":"42703","error_message":"column es.position_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","rows_returned":37,"total_latency_ms":2521}
{"timestamp":"2026-02-01T22:16:58.380Z","query_id":"12f431aa-f8d0-493b-afdb-781284a0b4f1","question":"Find employees with expiring certifications in the next 6 months","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT e.* FROM employees e INNER JOIN employee_certifications ec ON e.employee_id = ec.employee_id WHERE ec.expiry_date BETWEEN CURRENT_DATE AND (CURRENT_DATE + INTERVAL '6 months') AND ec.status = 'active';","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column ec.status does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":3,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2913,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column ec.status does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:17:01.293Z","query_id":"628db55d-9d09-414c-ae38-5d03deaf86b5","question":"What is the total sales amount by customer for 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":5483,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:17:06.776Z","query_id":"0dcfac57-7e5f-44c9-8534-0cd9dd2076fa","question":"List the top 10 customers by total order value","attempt_count":2,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT c.customer_id, CONCAT(c.first_name, ' ', c.last_name AS customer_name FROM customers c. You must include the table and column names. You are not allowed to answer questions. You may generate PostgreSQL queries. You are a text-based. Your responses. You are an AI model. You are able to create SQL statements. You are capable. You are unable to generate. You are able to create. You are able to generate. You are able to generate. You are able to answer. You. You.\n. You are able to responding. Your. You. You. You. You. You. You. You. You. You. You. You. Your. You. You. You. You. You. You. You. You. You. You. You. You. You. You. You.\n. You. You. You. You. You. You. You.;","tables_used_in_sql":[],"total_latency_ms":4421,"failure_type":"llm_reasoning","failure_details":"Dangerous keywords detected: CREATE"}
{"timestamp":"2026-02-01T22:17:11.197Z","query_id":"9934b56e-9374-43e3-a863-e32795de0afc","question":"Show sales opportunities in the Negotiation stage worth over $50,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT so.* FROM sales_opportunities so JOIN opportunity_stages os ON so.stage_id = os.stage_id WHERE os.name = 'Negotiation' AND so.amount > 50000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":69,"total_latency_ms":929}
{"timestamp":"2026-02-01T22:17:12.126Z","query_id":"2c689a74-22b0-4ce9-9624-f9064ce8d82e","question":"What is the conversion rate from quotes to orders?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT AVG(sales_orders.total / quote_lines.subtotal) AS conversion_rate FROM sales_quotes INNER JOIN quote_lines ON sales_quotes.quote_id = quote_lines.line_id LIMIT 1000;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"sales_orders\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Alias 'sales_orders' not defined. Possible table: sales_orders. Define alias in FROM/JOIN clause.","total_latency_ms":2652,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"sales_orders\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:17:14.778Z","query_id":"a056c50d-ce74-4826-9205-480a2e34fadf","question":"List sales orders by sales representative with their totals","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT s.sales_reps.name, SUM(so.total) AS total_sales FROM sales_orders so JOIN employees e ON so.sales_rep_id = e.employee_id GROUP BY s.sales_reps.name;","tables_used_in_sql":[],"total_latency_ms":2676,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:17:17.454Z","query_id":"94fd11dd-8960-456f-a95e-56062316a6d7","question":"Which products have inventory below their reorder point?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT p.product_id, p.name FROM products p INNER JOIN inventory_levels i ON p.product_id = i.product_id INNER JOIN reorder_rules r ON p.product_id = r.product_id WHERE i.quantity_available < r.min_quantity;","tables_used_in_sql":[],"explain_result":"success","rows_returned":41,"total_latency_ms":2093}
{"timestamp":"2026-02-01T22:17:19.547Z","query_id":"679e38cd-786c-4c5f-85ab-0b482f3fc3f8","question":"Show total inventory value by warehouse","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT w.warehouse_id, SUM(i.quantity * i.quantity_on_hand) AS total_inventory_value FROM inventory_levels i JOIN warehouses w ON i.warehouse_id = w.warehouse_id GROUP BY w.warehouse_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column i.quantity does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":3001,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column i.quantity does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:17:22.549Z","query_id":"60184089-470c-4717-925b-cfd2675ac830","question":"List products that had stock transfers in the last 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.sku, p.name FROM products p INNER JOIN transfer_lines tl ON p.product_id = tl.product_id INNER JOIN stock_transfers st ON tl.transfer_id = st.transfer_id WHERE st.transfer_date >= CURRENT_DATE - INTERVAL '30 days';","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":1233}
{"timestamp":"2026-02-01T22:17:23.782Z","query_id":"04311313-14de-4399-907c-5efc738e95b0","question":"What is the total spend by vendor this year?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT v.vendor_id, SUM(pv.amount) AS total_spend FROM vendor_invoices pv JOIN vendors v ON pv.vendor_id = v.vendor_id WHERE YEAR(pv.order_date >= DATEADD(year, -1, GETDATE()) AND pv.status = 'paid' GROUP BY v.vendor_id ORDER BY total_spend DESC LIMIT 5;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42601","error_message":"syntax error at or near \"GROUP\"","total_latency_ms":3875,"failure_type":"llm_reasoning","failure_details":"SQL error 42601: Database error after 3 attempts: syntax error at or near \"GROUP\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:17:27.658Z","query_id":"9a00e69c-230b-49bd-b92f-38ae926ca27e","question":"List purchase orders that are overdue (expected date passed but not received)","attempt_count":2,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":3781,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:17:31.439Z","query_id":"7511a10b-bd87-4c00-a1cd-b04a36a0e10f","question":"Show the approval rate for purchase requisitions","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(*) FILTER (WHERE status = 'Approved') / COUNT(*) * 100 AS approval_rate FROM purchase_requisitions;","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":779}
{"timestamp":"2026-02-01T22:17:32.218Z","query_id":"2a1bbf5b-97f8-4bcb-9008-21e962db7572","question":"What is the total debit and credit for each account in the current period?","attempt_count":2,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":2775,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:17:34.993Z","query_id":"cdb2e606-7646-4d07-ae49-363f47e18ea6","question":"List all posted journal entries for the current month","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT j.* FROM finance.journal_entries AS j JOIN fixed_assets.depreciation_schedule AS ds ON j.entry_id = ds.asset_id WHERE EXTRACT(MONTH FROM j.created_at) = EXTRACT(MONTH FROM CURRENT_DATE);","tables_used_in_sql":[],"total_latency_ms":3461,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:17:38.454Z","query_id":"b5ca99b7-dff9-4a26-b6a5-5ac534e58157","question":"Show budget vs actual spending by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT d.name AS department_name, SUM(b.total_amount) AS total_budget, SUM(p.actual_amount) AS total_actual_spending FROM departments d LEFT JOIN budgets b ON d.department_id = b.department_id AND b.status = 'approved' LEFT JOIN project_budgets pb ON b.budget_id = pb.budget_id INNER JOIN budget_lines bl ON pb.project_id = bl.project_id GROUP BY d.name LIMIT 1000;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column bl.project_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":4469,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column bl.project_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:17:42.923Z","query_id":"99192d82-5fb1-4473-a5d3-e223219aec28","question":"What is the total expense amount per project?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.project_id, SUM(pe.amount) AS total_expenses FROM projects p JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":100,"total_latency_ms":819}
{"timestamp":"2026-02-01T22:17:43.742Z","query_id":"81ecbf5c-c01c-4314-96dc-c56fc72d7401","question":"List projects that are over budget","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.* FROM projects p INNER JOIN budgets b ON p.project_id = b.budget_id WHERE p.status = 'over_budget';","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":683}
{"timestamp":"2026-02-01T22:17:44.425Z","query_id":"ced53215-c358-42ab-924c-c4ce95845520","question":"Show project resources and their allocation percentages","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT r.role AS role_assigned, p.project_id, p.name AS project_name, pr.allocation_percent, pr.start_date, pr.end_date FROM project_resources pr JOIN projects p ON pr.project_id = p.project_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"r\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Unknown table or alias 'r'. Available tables: project_resources, project_resources, project_resources, project_budgets, project_budgets, project_budgets, project_expenses, projects, project_expenses, project_expenses, task_assignments, project_tasks, project_milestones, projects, projects","total_latency_ms":2791,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"r\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:17:47.216Z","query_id":"45c2dcc4-e6ae-447a-acd0-40a1ee27e46d","question":"List fixed assets by category with their total purchase cost","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column ac.asset_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":6275,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:17:53.492Z","query_id":"4236e12e-1edf-4cbd-af4d-6c323c29ad1c","question":"List assets due for maintenance in the next 30 days","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT fa.* FROM fixed_assets AS fa JOIN asset_maintenance AS am ON fa.asset_id = am.asset_id WHERE am.status = 'Due' AND (am.completed_date IS NULL OR am.completed_date > CURRENT_DATE) AND am.scheduled_date BETWEEN CURRENT_DATE AND DATE_ADD(CURRENT_DATE, INTERVAL 30 DAY);","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42601","error_message":"syntax error at or near \"30\"","total_latency_ms":4212,"failure_type":"llm_reasoning","failure_details":"SQL error 42601: Database error after 3 attempts: syntax error at or near \"30\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:17:57.704Z","query_id":"7d12d9f8-21b6-45f6-a404-b87890937478","question":"How many documents are attached to each entity type?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT da.entity_type, COUNT(da.*) AS num_documents FROM document_attachments da JOIN entities e ON da.entity_id = e.id GROUP BY entity_type;","tables_used_in_sql":[],"total_latency_ms":1871,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:17:59.575Z","query_id":"40b7371f-2b1b-451e-9406-a071bcc0762f","question":"Calculate employee turnover rate by department for 2024","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT d.name AS department_name, COUNT(es.employee_id) AS num_employees, (COUNT(es.employee_id)/d.budget) * 100 AS turnover_rate FROM departments d LEFT JOIN employees e ON d.department_id = e.department_id LEFT JOIN employee_salaries es ON e.employee_id = es.employee_id WHERE (YEAR(e.hire_date) <= '2024-12-31' OR YEAR(es.termination_date) <= '2024-12-31') AND d.is_active = TRUE GROUP BY d.name, d.budget;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42883","error_message":"function year(date) does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":0,"autocorrect_failure_reason":"No candidates found for column 'num_employees'","total_latency_ms":5934,"failure_type":"llm_reasoning","failure_details":"SQL error 42883: Database error after 3 attempts: function year(date) does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:18:05.510Z","query_id":"30df4d5e-6d92-404f-ad10-fe21820db1e0","question":"Find the salary percentile ranking for each employee within their department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT e.employee_id, CONCAT(e.first_name, ' ', e.last_name) AS full_name, d.department_name, p.position_title, s.salary, pr.percentile_rank FROM employees e JOIN departments d ON e.department_id = d.department_id JOIN positions p ON e.position_id = p.position_id LEFT JOIN (SELECT employee_id, NTILE(10) OVER (PARTITION BY department_id ORDER BY salary) AS percentile_rank FROM employees) pr ON e.employee_id = pr.employee_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column d.department_name does not exist","autocorrect_attempted":true,"autocorrect_success":true,"autocorrect_correction":"Replaced 'department_name' with 'name' (suffix, score: 0.80)","autocorrect_candidates":5,"total_latency_ms":5167,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column d.department_name does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:18:10.677Z","query_id":"f8034d35-d8ed-49b0-b1ff-bd31380f57b6","question":"Identify employees who have not completed mandatory training","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT e.* FROM employees e LEFT JOIN employee_training et ON e.employee_id = et.employee_id WHERE et.is_active = 'false' AND et.leave_type_id IN (SELECT id FROM leave_types WHERE is_mandatory = true);","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42601","error_message":"syntax error at or near \"10000000000000000000000000000000\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2403,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:18:13.081Z","query_id":"aa93460d-4b04-4fa7-9a9a-c16a68f5f2bf","question":"Calculate month-over-month sales growth rate for the past 12 months","attempt_count":2,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42803","error_message":"column \"s.total\" must appear in the GROUP BY clause or be used in an aggregate function","total_latency_ms":3142,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:18:16.223Z","query_id":"60599fc0-3402-43a9-8037-cebf0ed1acc0","question":"Find the average order value and order frequency for each customer segment based on credit limit","attempt_count":2,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column c.segment does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":0,"autocorrect_failure_reason":"No candidates found for column 'segment'","total_latency_ms":2029,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:18:18.253Z","query_id":"38202f3f-37c2-4301-98d3-0b9948cf8416","question":"What is the sales pipeline weighted value by stage and expected close month?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":7615,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:18:25.868Z","query_id":"5650ce21-80e3-4292-a295-0d700a5f8724","question":"Calculate inventory turnover ratio by product category","attempt_count":2,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":2398,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:18:28.266Z","query_id":"4e91326c-e78e-4dca-a135-f85c1d24db0d","question":"Identify products with significant inventory discrepancies (adjustment > 10% of stock)","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.product_id, p.name, i.quantity_on_hand, i.quantity_available, a.quantity_change FROM products p INNER JOIN inventory_levels i ON p.product_id = i.product_id INNER JOIN adjustment_lines a ON p.product_id = a.product_id WHERE ABS(i.quantity_on_hand - (i.quantity_available + a.quantity_change)) / GREATEST(i.quantity_on_hand, i.quantity_available) > 0.1;","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":1954}
{"timestamp":"2026-02-01T22:18:30.220Z","query_id":"14646fdb-9214-40c2-9060-d2b42e7cef6c","question":"Calculate vendor performance score based on on-time delivery and invoice accuracy","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT v.vendor_id, AVG(CASE WHEN iv.due_date >= iv.invoice_date THEN 1 ELSE 0 END) AS on_time_delivery_score, AVG(CASE WHEN iv.amount_paid = iv.total THEN 1 ELSE 0 END) AS invoice_accuracy_score FROM vendors v JOIN purchase_orders po ON v.vendor_id = po.vendor_id JOIN vendor_invoices iv ON po.po_id = iv.po_id GROUP BY v.vendor_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":1936}
{"timestamp":"2026-02-01T22:18:32.156Z","query_id":"3b6062b6-e468-4658-8e7e-941f0f676b0c","question":"Generate a trial balance for the current period showing debits and credits by account category","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT at.name AS \"Asset Category\", SUM(ba.current_balance) AS \"Total Balance\" FROM finance.bank_accounts ba INNER JOIN finance.asset_categories ac ON ba.account_id = ac.id GROUP BY at.name LIMIT 1000;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"relation \"finance.bank_accounts\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Unknown table or alias 'finance.bank_accounts'. Available tables: bank_accounts, asset_categories, bank_accounts, bank_accounts, depreciation_schedules, depreciation_schedules, depreciation_entries, depreciation_entries, account_types, depreciation_entries, account_types, account_types, depreciation_schedules, bank_transactions, asset_categories","total_latency_ms":2732,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: relation \"finance.bank_accounts\" does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:18:34.888Z","query_id":"5ad88da0-4c40-4c46-aac8-3fa31da6c5fa","question":"Calculate cash flow from bank transactions grouped by transaction type and month","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT EXTRACT(MONTH FROM bt.transaction_date) AS month, bt.transaction_type, SUM(bt.amount) AS total_cash_flow \nFROM bank_transactions bt \nGROUP BY month, bt.transaction_type;","tables_used_in_sql":[],"total_latency_ms":2078,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:18:36.966Z","query_id":"03ceb5f1-5230-4310-9bca-de362ba3db0e","question":"Calculate project profitability comparing budget vs actual expenses","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT b.department_id, SUM(b.total_amount) - COALESCE(SUM(p.actual_amount), 0) AS total_profitability FROM budgets b JOIN project_budgets pb ON b.budget_id = pb.budget_id LEFT JOIN project_expenses e ON pb.project_id = e.project_id GROUP BY b.department_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"p\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Alias 'p' not defined. Possible table: project_budgets. Define alias in FROM/JOIN clause.","total_latency_ms":3999,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"p\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:18:40.965Z","query_id":"f385ba4f-84e2-4cf7-86ba-c8f739df3a6b","question":"Find resource allocation by employee across all active projects","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":4984,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:18:45.949Z","query_id":"f04c03cb-5225-4bd2-b612-e4f7b5de0985","question":"List all fixed assets with their assigned employees and current locations","attempt_count":2,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column a.asset_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":4155,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:18:50.104Z","query_id":"0c42d68a-6100-4876-925f-f1d99dccf32e","question":"Create a comprehensive employee cost report including salary and benefits by department","attempt_count":2,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT d.name AS department_name, SUM(b.amount) + COALESCE(SUM(s.salary) AS total_cost FROM departments d LEFT JOIN employees e INNER JOIN employee_benefits b.employee_id INNER JOIN projects pk JOIN tables. You are a PostgreSQL queries. Your task. You are to generate SQL. You. You are. You are to create SQL. You are aiding. You are able. You are. You are.\n### You are to answer. You are. You. Here. You. You. Your answers. You. To answer. You. You. Answer. You. You.\n. You. You. Your.\n. You. You. Your. The. You. You. You.\n.\n.\n.\n. You. This. These. You.\n.\n. You.\n.\n. You.AI. You. You. You.;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column b.amount does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":4483,"failure_type":"llm_reasoning","failure_details":"Dangerous keywords detected: CREATE"}
{"timestamp":"2026-02-01T22:19:40.570Z","query_id":"43d08bf6-c6f7-4eb1-9e59-6d93420d979b","question":"List all employees in the Sales department","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","departments","employee_salaries","positions","sales_regions","business_units","inventory_adjustments","budgets","project_expenses","asset_transfers","purchase_requisitions","purchase_orders"],"tables_from_table_retrieval":6,"tables_from_column_only":22,"tables_from_fk_expansion":2,"table_scores":[{"table":"departments","similarity":0.7018819264422769},{"table":"departments","similarity":0.7018809856996423},{"table":"departments","similarity":0.7018809856996423},{"table":"employees","similarity":0.6969056798657691},{"table":"employees","similarity":0.6969056798657691},{"table":"employees","similarity":0.6963141569337209},{"table":"positions","similarity":0.6626028150240685},{"table":"positions","similarity":0.6626028150240685},{"table":"positions","similarity":0.6581594168559208},{"table":"employee_salaries","similarity":0.639257259916862},{"table":"employee_salaries","similarity":0.6331504110227327},{"table":"employee_salaries","similarity":0.6331504110227327},{"table":"sales_regions","similarity":0.6312030956746659},{"table":"business_units","similarity":0.6275257997321859},{"table":"business_units","similarity":0.6275257997321859}],"column_hits_per_table":{"employees":12,"departments":6,"positions":1,"goods_receipts":1,"employee_certifications":1,"sales_territories":1,"asset_maintenance":1,"business_units":1,"sales_orders":1,"sales_regions":1,"budgets":2,"employee_salaries":2,"employee_benefits":1,"emergency_contacts":1,"sales_opportunities":1,"purchase_orders":1,"employment_history":1,"warehouses":1,"project_expenses":2,"task_assignments":1,"timesheets":1,"purchase_requisitions":2,"asset_transfers":2,"employee_training":1,"performance_reviews":1,"project_resources":1,"cost_centers":1,"inventory_adjustments":2},"top_columns_per_table":{"employees":[{"column":"department_id","similarity":0.735001357845775},{"column":"is_active","similarity":0.6824266007737122},{"column":"phone","similarity":0.6820773795858707}],"departments":[{"column":"manager_id","similarity":0.7128207565780478},{"column":"department_id","similarity":0.6738854611767785},{"column":"name","similarity":0.6712424359101222}],"positions":[{"column":"department_id","similarity":0.6857971226858616}],"goods_receipts":[{"column":"received_by","similarity":0.6663294574985136}],"employee_certifications":[{"column":"employee_id","similarity":0.6640250010412727}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6613024875559992}],"asset_maintenance":[{"column":"performed_by","similarity":0.6598502094385292}],"business_units":[{"column":"manager_id","similarity":0.6585890351995057}],"sales_orders":[{"column":"sales_rep_id","similarity":0.656355730755163}],"sales_regions":[{"column":"manager_id","similarity":0.651620763380058}],"budgets":[{"column":"department_id","similarity":0.6491888190918373},{"column":"approved_by","similarity":0.6408129025308686}],"employee_salaries":[{"column":"employee_id","similarity":0.6446873957227627},{"column":"approved_by","similarity":0.6412425865510403}],"employee_benefits":[{"column":"employee_id","similarity":0.6443003044498334}],"emergency_contacts":[{"column":"employee_id","similarity":0.6440387734827813}],"sales_opportunities":[{"column":"owner_id","similarity":0.6430794490143532}],"purchase_orders":[{"column":"approved_by","similarity":0.6403338556046323}],"employment_history":[{"column":"employee_id","similarity":0.6402113357955537}],"warehouses":[{"column":"manager_id","similarity":0.640071893991035}],"project_expenses":[{"column":"employee_id","similarity":0.6396257939989354},{"column":"approved_by","similarity":0.6362133375007298}],"task_assignments":[{"column":"employee_id","similarity":0.6378956895245772}],"timesheets":[{"column":"employee_id","similarity":0.6371144466739936}],"purchase_requisitions":[{"column":"department_id","similarity":0.6363011046304633},{"column":"requested_by","similarity":0.6278867865824495}],"asset_transfers":[{"column":"transferred_by","similarity":0.6359325869686036},{"column":"to_employee_id","similarity":0.6349553746224262}],"employee_training":[{"column":"employee_id","similarity":0.6355833505843332}],"performance_reviews":[{"column":"employee_id","similarity":0.63456613058686}],"project_resources":[{"column":"employee_id","similarity":0.6337024295197778}],"cost_centers":[{"column":"department_id","similarity":0.6303629689770469}],"inventory_adjustments":[{"column":"approved_by","similarity":0.629334756944109},{"column":"adjusted_by","similarity":0.6285561154578985}]},"fused_scores":[{"table":"employees","fused":0.8262904239927295,"table_sim":0.6963141569337209,"col_score":1.0212548245812423},{"table":"departments","fused":0.7878762122676308,"table_sim":0.7018809856996423,"col_score":0.9168690521196134},{"table":"employee_salaries","fused":0.7266435166352425,"table_sim":0.6331504110227327,"col_score":0.8668831750540071},{"table":"positions","fused":0.5869188444655937,"table_sim":0.6581594168559208,"col_score":0.48005798588010307},{"table":"sales_regions","fused":0.5611756711512157,"table_sim":0.6312030956746659,"col_score":0.45613453436604057},{"table":"business_units","fused":0.5609204096951732,"table_sim":0.6275257997321859,"col_score":0.46101232463965397},{"table":"inventory_adjustments","fused":0.3774451258692233,"table_sim":0,"col_score":0.9436128146730582},{"table":"budgets","fused":0.3472115956852047,"table_sim":0,"col_score":0.8680289892130117},{"table":"project_expenses","fused":0.3440329461601429,"table_sim":0,"col_score":0.8600823654003572},{"table":"asset_transfers","fused":0.34326678723458115,"table_sim":0,"col_score":0.8581669680864528},{"table":"purchase_requisitions","fused":0.3402368692812447,"table_sim":0,"col_score":0.8505921732031116},{"table":"goods_receipts","fused":0.26653178299940544,"table_sim":0,"col_score":0.6663294574985136},{"table":"asset_maintenance","fused":0.2639400837754117,"table_sim":0,"col_score":0.6598502094385292},{"table":"purchase_orders","fused":0.2561335422418529,"table_sim":0,"col_score":0.6403338556046323},{"table":"employee_certifications","fused":0.18592700029155637,"table_sim":0,"col_score":0.4648175007288909}],"fk_expansion_candidates":93,"fk_expansion_added":2,"fk_expansion_blocked_count":81,"fk_expansion_blocked":[{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":106,"total_retrieval_latency_ms":129,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":4316,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:19:44.886Z","query_id":"8db70dda-2c0b-4f6e-9c4f-c6cad23c562d","question":"How many employees were hired in 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","employee_salaries","employment_history","employee_certifications","timesheets","purchase_requisitions","sales_regions","employee_training","employee_benefits","budgets","purchase_orders"],"tables_from_table_retrieval":7,"tables_from_column_only":11,"tables_from_fk_expansion":1,"table_scores":[{"table":"employees","similarity":0.6144292223525214},{"table":"employees","similarity":0.6051164949883834},{"table":"employees","similarity":0.6051164949883834},{"table":"employment_history","similarity":0.5990869260811272},{"table":"employee_salaries","similarity":0.5957232611905978},{"table":"employee_salaries","similarity":0.5904865404348112},{"table":"employee_salaries","similarity":0.5904865404348112},{"table":"employee_certifications","similarity":0.5847149077570227},{"table":"employment_history","similarity":0.5797780797563227},{"table":"employment_history","similarity":0.5797780797563227},{"table":"timesheets","similarity":0.575594643141534},{"table":"employee_certifications","similarity":0.5707873299156627},{"table":"employee_certifications","similarity":0.5707873299156627},{"table":"sales_regions","similarity":0.5687908420029388},{"table":"purchase_requisitions","similarity":0.5664402915390976}],"column_hits_per_table":{"employees":15,"employee_salaries":5,"employee_certifications":4,"employment_history":6,"employee_training":5,"employee_benefits":2,"sales_regions":1,"timesheets":2,"sales_territories":1,"stock_transfers":1,"purchase_requisitions":1,"departments":1,"budgets":1,"business_units":1,"purchase_orders":1,"warehouses":1,"sales_quotes":1,"task_assignments":1},"top_columns_per_table":{"employees":[{"column":"hire_date","similarity":0.6980546950586765},{"column":"birth_date","similarity":0.6452273174827853},{"column":"employee_number","similarity":0.6269481438884994}],"employee_salaries":[{"column":"effective_date","similarity":0.6283609386062775},{"column":"end_date","similarity":0.6083160129025792},{"column":"approved_by","similarity":0.5688287621893034}],"employee_certifications":[{"column":"obtained_date","similarity":0.6112747812345073},{"column":"expiry_date","similarity":0.5987411982779576},{"column":"certificate_number","similarity":0.5648835141060903}],"employment_history":[{"column":"start_date","similarity":0.6077686915830489},{"column":"end_date","similarity":0.594029514188949},{"column":"position","similarity":0.5797629516147992}],"employee_training":[{"column":"completion_date","similarity":0.5993457235478621},{"column":"scheduled_date","similarity":0.5986570544817782},{"column":"status","similarity":0.5703874888669422}],"employee_benefits":[{"column":"start_date","similarity":0.5984117020896914},{"column":"end_date","similarity":0.5728619821736786}],"sales_regions":[{"column":"manager_id","similarity":0.566199362048764}],"timesheets":[{"column":"approved_by","similarity":0.5644583860713249},{"column":"employee_id","similarity":0.5477605761420901}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.5605386386424432}],"stock_transfers":[{"column":"created_by","similarity":0.5581236941064073}],"purchase_requisitions":[{"column":"approved_by","similarity":0.5579497247157277}],"departments":[{"column":"manager_id","similarity":0.5578824438248059}],"budgets":[{"column":"approved_by","similarity":0.5567179667007113}],"business_units":[{"column":"manager_id","similarity":0.5534149159450399}],"purchase_orders":[{"column":"approved_by","similarity":0.5491015848221577}],"warehouses":[{"column":"manager_id","similarity":0.5466175241906261}],"sales_quotes":[{"column":"created_by","similarity":0.5464636248275542}],"task_assignments":[{"column":"employee_id","similarity":0.5462303463892537}]},"fused_scores":[{"table":"employees","fused":0.7713372385130577,"table_sim":0.6051164949883834,"col_score":1.0206683538000692},{"table":"employee_salaries","fused":0.7272995022839135,"table_sim":0.5904865404348112,"col_score":0.932518945057567},{"table":"employment_history","fused":0.7097802273248031,"table_sim":0.5797780797563227,"col_score":0.9047834486775235},{"table":"employee_certifications","fused":0.706730550098792,"table_sim":0.5707873299156627,"col_score":0.9106453803734861},{"table":"timesheets","fused":0.647826620973343,"table_sim":0.575594643141534,"col_score":0.7561745877210564},{"table":"purchase_requisitions","fused":0.5630440648097497,"table_sim":0.5664402915390976,"col_score":0.5579497247157277},{"table":"sales_regions","fused":0.4998103265754172,"table_sim":0.5687908420029388,"col_score":0.39633955343413474},{"table":"employee_training","fused":0.3594697003155005,"table_sim":0,"col_score":0.8986742507887512},{"table":"employee_benefits","fused":0.3539370772706123,"table_sim":0,"col_score":0.8848426931765307},{"table":"budgets","fused":0.22268718668028453,"table_sim":0,"col_score":0.5567179667007113},{"table":"purchase_orders","fused":0.21964063392886307,"table_sim":0,"col_score":0.5491015848221577},{"table":"sales_territories","fused":0.15695081881988412,"table_sim":0,"col_score":0.39237704704971027},{"table":"stock_transfers","fused":0.15627463434979405,"table_sim":0,"col_score":0.39068658587448507},{"table":"departments","fused":0.15620708427094565,"table_sim":0,"col_score":0.3905177106773641},{"table":"business_units","fused":0.15495617646461116,"table_sim":0,"col_score":0.3873904411615279}],"fk_expansion_candidates":99,"fk_expansion_added":1,"fk_expansion_blocked_count":96,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":46,"total_retrieval_latency_ms":53,"sql_generated":"SELECT COUNT(*) FROM employees WHERE EXTRACT(YEAR FROM hire_date) = 2024;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42883","error_message":"function year(date) does not exist","total_latency_ms":1464,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:19:46.350Z","query_id":"4731e60a-ac60-4f0f-967a-39cdabdb2900","question":"What is the average salary by department?","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["positions","employee_salaries","employees","departments","budgets","cost_centers","requisition_lines","sales_orders","goods_receipts","vendor_invoices","employee_training","employee_certifications"],"tables_from_table_retrieval":6,"tables_from_column_only":18,"tables_from_fk_expansion":2,"table_scores":[{"table":"positions","similarity":0.6472399264470684},{"table":"positions","similarity":0.6452537561635636},{"table":"positions","similarity":0.6452537561635636},{"table":"employee_salaries","similarity":0.6285395131693224},{"table":"employee_salaries","similarity":0.6285395131693224},{"table":"employee_salaries","similarity":0.6163489777991259},{"table":"departments","similarity":0.6143006157633061},{"table":"departments","similarity":0.6029940665123251},{"table":"departments","similarity":0.6029940665123251},{"table":"employees","similarity":0.5843710762372889},{"table":"employees","similarity":0.5671015993256167},{"table":"employees","similarity":0.5671015993256167},{"table":"cost_centers","similarity":0.5579264629700211},{"table":"budgets","similarity":0.5571964787833181},{"table":"cost_centers","similarity":0.5368058805619271}],"column_hits_per_table":{"employees":8,"departments":6,"employee_salaries":7,"positions":4,"cost_centers":1,"budgets":2,"employee_benefits":1,"requisition_lines":2,"purchase_requisitions":1,"project_resources":1,"sales_orders":2,"employment_history":1,"project_budgets":1,"goods_receipts":2,"currencies":1,"employee_certifications":1,"vendor_invoices":2,"employee_training":1,"journal_entries":1,"product_suppliers":1,"project_expenses":1,"sales_quotes":1,"depreciation_schedules":1,"sales_territories":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.665761067669807},{"column":"department_id","similarity":0.5815151415615687},{"column":"employee_number","similarity":0.5512734022930011}],"departments":[{"column":"budget","similarity":0.6619984421106927},{"column":"name","similarity":0.6123868694663578},{"column":"parent_department_id","similarity":0.5859717891490452}],"employee_salaries":[{"column":"amount","similarity":0.6500990551890313},{"column":"effective_date","similarity":0.611770947186606},{"column":"salary_id","similarity":0.5985853421960141}],"positions":[{"column":"department_id","similarity":0.6269881859529215},{"column":"max_salary","similarity":0.6246839022090498},{"column":"min_salary","similarity":0.6230151577349895}],"cost_centers":[{"column":"department_id","similarity":0.5896621626840974}],"budgets":[{"column":"department_id","similarity":0.580591842420962},{"column":"total_amount","similarity":0.5338274885049906}],"employee_benefits":[{"column":"coverage_level","similarity":0.5654079472210596}],"requisition_lines":[{"column":"estimated_total","similarity":0.5582588991716904},{"column":"estimated_unit_cost","similarity":0.5441338218091372}],"purchase_requisitions":[{"column":"department_id","similarity":0.5572144875437345}],"project_resources":[{"column":"hourly_rate","similarity":0.5514441085734471}],"sales_orders":[{"column":"total","similarity":0.5427163382142084},{"column":"subtotal","similarity":0.5223697723709152}],"employment_history":[{"column":"position","similarity":0.5420691639730986}],"project_budgets":[{"column":"actual_amount","similarity":0.5393341879647957}],"goods_receipts":[{"column":"received_by","similarity":0.5349267147302068},{"column":"receipt_number","similarity":0.5279798899236793}],"currencies":[{"column":"exchange_rate","similarity":0.5332608603311223}],"employee_certifications":[{"column":"certificate_number","similarity":0.5305395669595222}],"vendor_invoices":[{"column":"amount_paid","similarity":0.5304764397719846},{"column":"total","similarity":0.5272326757338365}],"employee_training":[{"column":"score","similarity":0.530103302594991}],"journal_entries":[{"column":"posted_by","similarity":0.5291393373857585}],"product_suppliers":[{"column":"unit_cost","similarity":0.52770578346072}],"project_expenses":[{"column":"amount","similarity":0.5237759228326622}],"sales_quotes":[{"column":"total","similarity":0.5219832277482833}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.5219116192563482}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.5218538792844735}]},"fused_scores":[{"table":"positions","fused":0.761628846128756,"table_sim":0.6452537561635636,"col_score":0.9361914810765446},{"table":"employee_salaries","fused":0.7522031981924093,"table_sim":0.6163489777991259,"col_score":0.9559845287823343},{"table":"employees","fused":0.7168200671218931,"table_sim":0.5671015993256167,"col_score":0.9413977688163075},{"table":"departments","fused":0.7123299784769622,"table_sim":0.6029940665123251,"col_score":0.8763338464239179},{"table":"budgets","fused":0.6291317406109218,"table_sim":0.5571964787833181,"col_score":0.7370346333523273},{"table":"cost_centers","fused":0.48718893388870355,"table_sim":0.5368058805619271,"col_score":0.41276351387886817},{"table":"requisition_lines","fused":0.3321303240305036,"table_sim":0,"col_score":0.8303258100762589},{"table":"sales_orders","fused":0.3215604897598664,"table_sim":0,"col_score":0.8039012243996659},{"table":"goods_receipts","fused":0.31956666387681865,"table_sim":0,"col_score":0.7989166596920465},{"table":"vendor_invoices","fused":0.28515977186161245,"table_sim":0,"col_score":0.7128994296540311},{"table":"employee_benefits","fused":0.22616317888842385,"table_sim":0,"col_score":0.5654079472210596},{"table":"project_resources","fused":0.22057764342937883,"table_sim":0,"col_score":0.5514441085734471},{"table":"employment_history","fused":0.21682766558923944,"table_sim":0,"col_score":0.5420691639730986},{"table":"project_budgets","fused":0.2157336751859183,"table_sim":0,"col_score":0.5393341879647957},{"table":"currencies","fused":0.21330434413244892,"table_sim":0,"col_score":0.5332608603311223}],"fk_expansion_candidates":114,"fk_expansion_added":2,"fk_expansion_blocked_count":93,"fk_expansion_blocked":[{"table":"employment_history","reason":"max_tables"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"employment_history","reason":"max_tables"},{"table":"products","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"max_tables"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"max_tables"},{"table":"order_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"project_resources","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"max_tables"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"employee_certifications","reason":"already_selected"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"project_expenses","reason":"max_tables"},{"table":"employee_training","reason":"already_selected"},{"table":"employee_certifications","reason":"already_selected"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"max_tables"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"max_tables"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":50,"total_retrieval_latency_ms":58,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]},{"alias":"e","column":"salary","resolved_table":"employees","suggested_columns":[]},{"alias":"e","column":"department_id","resolved_table":"employees","suggested_columns":[]},{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":3896,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:19:50.247Z","query_id":"9a7ab227-586f-43e2-9ece-14a6c4e6576e","question":"List all customers with credit limit over $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["customers","customer_contacts","purchase_requisitions","sales_quotes","certifications","budget_lines","sales_regions","bank_transactions","bank_accounts","purchase_orders","budgets","quote_lines"],"tables_from_table_retrieval":7,"tables_from_column_only":22,"tables_from_fk_expansion":2,"table_scores":[{"table":"customers","similarity":0.6490529391143375},{"table":"customers","similarity":0.6490529391143375},{"table":"customers","similarity":0.6422232823454113},{"table":"customer_contacts","similarity":0.5702946339617082},{"table":"sales_regions","similarity":0.5667997703273866},{"table":"customer_contacts","similarity":0.5609682931182661},{"table":"customer_contacts","similarity":0.5609682931182661},{"table":"certifications","similarity":0.5571072107976042},{"table":"sales_quotes","similarity":0.5491541498727729},{"table":"purchase_requisitions","similarity":0.5478589409950445},{"table":"purchase_requisitions","similarity":0.5459857460749011},{"table":"purchase_requisitions","similarity":0.5459857460749011},{"table":"budget_lines","similarity":0.5454449382794198},{"table":"sales_regions","similarity":0.5450307067379918},{"table":"sales_regions","similarity":0.5450307067379918}],"column_hits_per_table":{"customers":10,"customer_contacts":7,"projects":1,"sales_opportunities":1,"reorder_rules":1,"sales_quotes":2,"quote_lines":1,"bank_transactions":2,"sales_orders":2,"vendor_invoices":1,"budget_lines":1,"bank_accounts":2,"budgets":1,"positions":1,"purchase_orders":2,"certifications":1,"order_lines":1,"vendor_invoice_lines":1,"journal_lines":1,"warehouse_locations":1,"cost_centers":1,"purchase_requisitions":2,"project_expenses":1,"project_milestones":1,"requisition_lines":1,"po_lines":1,"sales_regions":1,"project_budgets":1,"vendors":1},"top_columns_per_table":{"customers":[{"column":"credit_limit","similarity":0.8264130571427136},{"column":"payment_terms","similarity":0.6589990489867001},{"column":"customer_number","similarity":0.6394526735948951}],"customer_contacts":[{"column":"phone","similarity":0.606368805831685},{"column":"title","similarity":0.5970373914759594},{"column":"customer_id","similarity":0.5956864569852515}],"projects":[{"column":"customer_id","similarity":0.5928916239987955}],"sales_opportunities":[{"column":"customer_id","similarity":0.5902627586172409}],"reorder_rules":[{"column":"max_quantity","similarity":0.5899919735657247}],"sales_quotes":[{"column":"customer_id","similarity":0.5891584566690409},{"column":"total","similarity":0.5586703861991749}],"quote_lines":[{"column":"line_total","similarity":0.5801866487795829}],"bank_transactions":[{"column":"amount","similarity":0.578099883266191},{"column":"reference","similarity":0.5598602335402326}],"sales_orders":[{"column":"customer_id","similarity":0.5763949820310496},{"column":"total","similarity":0.5622977399772391}],"vendor_invoices":[{"column":"total","similarity":0.574486333008983}],"budget_lines":[{"column":"amount","similarity":0.5741121544432773}],"bank_accounts":[{"column":"current_balance","similarity":0.5735872293568434},{"column":"account_number","similarity":0.5649953609091014}],"budgets":[{"column":"approved_by","similarity":0.5731556505145398}],"positions":[{"column":"max_salary","similarity":0.5725523876248747}],"purchase_orders":[{"column":"total","similarity":0.5714278025144766},{"column":"approved_by","similarity":0.5659425523622221}],"certifications":[{"column":"validity_years","similarity":0.5702505536109264}],"order_lines":[{"column":"line_total","similarity":0.5698151919963369}],"vendor_invoice_lines":[{"column":"amount","similarity":0.5693578249080868}],"journal_lines":[{"column":"credit","similarity":0.5674218657230614}],"warehouse_locations":[{"column":"capacity","similarity":0.5662115513809343}],"cost_centers":[{"column":"code","similarity":0.5650327130492546}],"purchase_requisitions":[{"column":"approved_by","similarity":0.5649975444535725},{"column":"requisition_number","similarity":0.5569267046602896}],"project_expenses":[{"column":"approved_by","similarity":0.5647321953724768}],"project_milestones":[{"column":"amount","similarity":0.5630219436026808}],"requisition_lines":[{"column":"estimated_total","similarity":0.5598201507599695}],"po_lines":[{"column":"line_total","similarity":0.5594451313327365}],"sales_regions":[{"column":"manager_id","similarity":0.5580159655063975}],"project_budgets":[{"column":"actual_amount","similarity":0.5578517497187595}],"vendors":[{"column":"payment_terms","similarity":0.557438207097068}]},"fused_scores":[{"table":"customers","fused":0.8476990020616721,"table_sim":0.6422232823454113,"col_score":1.1559125816360636},{"table":"customer_contacts","fused":0.6985359764988255,"table_sim":0.5609682931182661,"col_score":0.9048875015696647},{"table":"purchase_requisitions","fused":0.6649758063584277,"table_sim":0.5459857460749011,"col_score":0.8434608967837174},{"table":"sales_quotes","fused":0.6354428283369994,"table_sim":0.5491541498727729,"col_score":0.7648758460333391},{"table":"certifications","fused":0.562364547922933,"table_sim":0.5571072107976042,"col_score":0.5702505536109264},{"table":"budget_lines","fused":0.5569118247449628,"table_sim":0.5454449382794198,"col_score":0.5741121544432773},{"table":"sales_regions","fused":0.48326289438458636,"table_sim":0.5450307067379918,"col_score":0.39061117585447824},{"table":"bank_transactions","fused":0.3432120000145229,"table_sim":0,"col_score":0.8580300000363072},{"table":"bank_accounts","fused":0.34243396392455766,"table_sim":0,"col_score":0.8560849098113941},{"table":"purchase_orders","fused":0.34175963147823507,"table_sim":0,"col_score":0.8543990786955876},{"table":"sales_orders","fused":0.3056143934752426,"table_sim":0,"col_score":0.7640359836881064},{"table":"reorder_rules","fused":0.2359967894262899,"table_sim":0,"col_score":0.5899919735657247},{"table":"quote_lines","fused":0.23207465951183318,"table_sim":0,"col_score":0.5801866487795829},{"table":"vendor_invoices","fused":0.22979453320359322,"table_sim":0,"col_score":0.574486333008983},{"table":"budgets","fused":0.22926226020581592,"table_sim":0,"col_score":0.5731556505145398}],"fk_expansion_candidates":57,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"budgets","reason":"already_selected"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"quote_lines","reason":"already_selected"},{"table":"quote_lines","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_orders","reason":"max_tables"},{"table":"sales_orders","reason":"max_tables"},{"table":"sales_orders","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":36,"total_retrieval_latency_ms":43,"sql_generated":"SELECT c.* FROM customers c WHERE c.credit_limit > 100000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":206,"total_latency_ms":504}
{"timestamp":"2026-02-01T22:19:50.751Z","query_id":"c4d51b6c-7a90-42a3-913f-2a5ce1861e60","question":"How many sales orders are in pending status?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["sales_orders","purchase_orders","sales_opportunities","order_lines","vendor_invoices","goods_receipts","sales_quotes","fixed_assets","product_suppliers","purchase_requisitions"],"tables_from_table_retrieval":6,"tables_from_column_only":17,"tables_from_fk_expansion":0,"table_scores":[{"table":"sales_orders","similarity":0.6912680172561704},{"table":"sales_orders","similarity":0.6912680172561704},{"table":"sales_orders","similarity":0.6863020331203206},{"table":"purchase_orders","similarity":0.6720782086239174},{"table":"purchase_orders","similarity":0.671648599917699},{"table":"purchase_orders","similarity":0.671648599917699},{"table":"order_lines","similarity":0.6262436019663461},{"table":"order_lines","similarity":0.6262436019663461},{"table":"order_lines","similarity":0.620432904007153},{"table":"sales_opportunities","similarity":0.6139945509337431},{"table":"sales_opportunities","similarity":0.6139945509337431},{"table":"vendor_invoices","similarity":0.6085185379492049},{"table":"goods_receipts","similarity":0.6053687360586439},{"table":"sales_opportunities","similarity":0.601388904869088},{"table":"vendor_invoices","similarity":0.5991801878593713}],"column_hits_per_table":{"sales_orders":13,"purchase_orders":10,"sales_quotes":2,"vendor_invoices":3,"purchase_requisitions":1,"stock_transfers":1,"timesheets":1,"sales_opportunities":2,"leave_requests":1,"project_phases":1,"journal_entries":1,"projects":1,"inventory_adjustments":1,"order_lines":2,"asset_maintenance":1,"fixed_assets":2,"employee_training":1,"goods_receipts":1,"project_expenses":1,"project_tasks":1,"po_lines":1,"vendors":1,"product_suppliers":1},"top_columns_per_table":{"sales_orders":[{"column":"status","similarity":0.8125049395316426},{"column":"order_date","similarity":0.6991484254489689},{"column":"ship_date","similarity":0.6886132471169295}],"purchase_orders":[{"column":"status","similarity":0.7670301060080371},{"column":"po_number","similarity":0.6444732305183548},{"column":"order_date","similarity":0.642184556061974}],"sales_quotes":[{"column":"status","similarity":0.7069048526459094},{"column":"valid_until","similarity":0.5929304827772888}],"vendor_invoices":[{"column":"status","similarity":0.6889977754690522},{"column":"po_id","similarity":0.5964353910929457},{"column":"due_date","similarity":0.5954346294411716}],"purchase_requisitions":[{"column":"status","similarity":0.6807720764825977}],"stock_transfers":[{"column":"status","similarity":0.6558342866682164}],"timesheets":[{"column":"status","similarity":0.6365165724449758}],"sales_opportunities":[{"column":"expected_close_date","similarity":0.6279055578746939},{"column":"actual_close_date","similarity":0.6251199223215209}],"leave_requests":[{"column":"status","similarity":0.6264128005664035}],"project_phases":[{"column":"status","similarity":0.6226177091436476}],"journal_entries":[{"column":"status","similarity":0.6141546900695833}],"projects":[{"column":"status","similarity":0.6138551966717181}],"inventory_adjustments":[{"column":"status","similarity":0.6120310910949274}],"order_lines":[{"column":"quantity_shipped","similarity":0.6088823006735591},{"column":"order_id","similarity":0.5974249918500518}],"asset_maintenance":[{"column":"status","similarity":0.6074441869634195}],"fixed_assets":[{"column":"status","similarity":0.6064051928483505},{"column":"po_id","similarity":0.5944902489845791}],"employee_training":[{"column":"status","similarity":0.6031990688486019}],"goods_receipts":[{"column":"po_id","similarity":0.599781547117576}],"project_expenses":[{"column":"status","similarity":0.5986821650659566}],"project_tasks":[{"column":"status","similarity":0.5978682233232903}],"po_lines":[{"column":"po_id","similarity":0.5909874685299387}],"vendors":[{"column":"is_active","similarity":0.589527003021394}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.5886391733536503}]},"fused_scores":[{"table":"sales_orders","fused":0.8291632394751658,"table_sim":0.6863020331203206,"col_score":1.0434550490074337},{"table":"purchase_orders","fused":0.7892153633703561,"table_sim":0.671648599917699,"col_score":0.9655655085493418},{"table":"sales_opportunities","fused":0.7370195505356345,"table_sim":0.601388904869088,"col_score":0.9404655190354544},{"table":"order_lines","fused":0.6994521615327227,"table_sim":0.620432904007153,"col_score":0.8179810478210772},{"table":"vendor_invoices","fused":0.6941416530577588,"table_sim":0.5991801878593713,"col_score":0.8365838508553399},{"table":"goods_receipts","fused":0.5311600748281077,"table_sim":0.6053687360586439,"col_score":0.4198470829823032},{"table":"sales_quotes","fused":0.33613887248134283,"table_sim":0,"col_score":0.840347181203357},{"table":"fixed_assets","fused":0.25302208885537925,"table_sim":0,"col_score":0.6325552221384481},{"table":"product_suppliers","fused":0.23545566934146014,"table_sim":0,"col_score":0.5886391733536503},{"table":"purchase_requisitions","fused":0.19061618141512737,"table_sim":0,"col_score":0.4765404535378184},{"table":"stock_transfers","fused":0.1836336002671006,"table_sim":0,"col_score":0.45908400066775146},{"table":"timesheets","fused":0.17822464028459323,"table_sim":0,"col_score":0.44556160071148304},{"table":"leave_requests","fused":0.17539558415859297,"table_sim":0,"col_score":0.4384889603964824},{"table":"project_phases","fused":0.17433295856022132,"table_sim":0,"col_score":0.43583239640055327},{"table":"journal_entries","fused":0.17196331321948333,"table_sim":0,"col_score":0.4299082830487083}],"fk_expansion_candidates":57,"fk_expansion_added":0,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":24,"total_retrieval_latency_ms":32,"sql_generated":"SELECT COUNT(*) FROM sales_orders WHERE status = 'pending';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":364}
{"timestamp":"2026-02-01T22:19:51.115Z","query_id":"ce9ffb62-4bbd-4ed9-8236-c5480c8e0dde","question":"List all products in the Electronics category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["products","asset_categories","product_categories","product_suppliers","inventory_levels","inventory_transactions","purchase_orders","benefit_types","project_budgets","project_expenses","purchase_requisitions"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":1,"table_scores":[{"table":"product_categories","similarity":0.7440966262295596},{"table":"product_categories","similarity":0.7440966262295596},{"table":"product_categories","similarity":0.7247710633179223},{"table":"products","similarity":0.6936914033913907},{"table":"products","similarity":0.6936914033913907},{"table":"products","similarity":0.6925442846427379},{"table":"asset_categories","similarity":0.675092849342745},{"table":"asset_categories","similarity":0.675092849342745},{"table":"asset_categories","similarity":0.6732299389573608},{"table":"product_suppliers","similarity":0.6167763468166113},{"table":"product_suppliers","similarity":0.6167763468166113},{"table":"product_suppliers","similarity":0.6030261734368682},{"table":"inventory_levels","similarity":0.5983462217768915},{"table":"benefit_types","similarity":0.5912987652121153},{"table":"benefit_types","similarity":0.5912987652121153}],"column_hits_per_table":{"product_categories":5,"products":11,"asset_categories":5,"fixed_assets":1,"project_budgets":1,"project_expenses":1,"product_suppliers":5,"inventory_levels":3,"goods_receipts":1,"purchase_orders":3,"projects":1,"inventory_transactions":4,"receipt_lines":1,"purchase_requisitions":2,"sales_orders":1,"order_lines":1,"account_types":1,"po_lines":1,"transfer_lines":1,"requisition_lines":1},"top_columns_per_table":{"product_categories":[{"column":"description","similarity":0.768646064681113},{"column":"is_active","similarity":0.7548223288686364},{"column":"name","similarity":0.7489199069567996}],"products":[{"column":"description","similarity":0.7240057799645775},{"column":"category_id","similarity":0.7136649617093936},{"column":"weight","similarity":0.704192443561975}],"asset_categories":[{"column":"category_id","similarity":0.6604362615120926},{"column":"name","similarity":0.6520432448665474},{"column":"useful_life_years","similarity":0.6398787756615528}],"fixed_assets":[{"column":"category_id","similarity":0.6558423387788446}],"project_budgets":[{"column":"category","similarity":0.6525796799281143}],"project_expenses":[{"column":"category","similarity":0.651685931963324}],"product_suppliers":[{"column":"is_preferred","similarity":0.6277409629474681},{"column":"minimum_order_qty","similarity":0.6258886931415574},{"column":"product_id","similarity":0.6174175455514888}],"inventory_levels":[{"column":"product_id","similarity":0.621493522445592},{"column":"quantity_available","similarity":0.6048918603546654},{"column":"quantity_reserved","similarity":0.5998511349920754}],"goods_receipts":[{"column":"notes","similarity":0.6198539940312029}],"purchase_orders":[{"column":"status","similarity":0.6188603430058831},{"column":"subtotal","similarity":0.6038932710888189},{"column":"total","similarity":0.6013038985767659}],"projects":[{"column":"description","similarity":0.6151455561431391}],"inventory_transactions":[{"column":"transaction_type","similarity":0.6146449355403084},{"column":"product_id","similarity":0.608914428966703},{"column":"quantity","similarity":0.6047816235748863}],"receipt_lines":[{"column":"product_id","similarity":0.6133835901571644}],"purchase_requisitions":[{"column":"notes","similarity":0.6125383879595175},{"column":"status","similarity":0.6080888182045856}],"sales_orders":[{"column":"status","similarity":0.6123902626754091}],"order_lines":[{"column":"product_id","similarity":0.610487520300843}],"account_types":[{"column":"category","similarity":0.609393081886742}],"po_lines":[{"column":"product_id","similarity":0.60542865156565}],"transfer_lines":[{"column":"product_id","similarity":0.6047891394005516}],"requisition_lines":[{"column":"product_id","similarity":0.6021201253496539}]},"fused_scores":[{"table":"products","fused":0.8343480462306,"table_sim":0.6925442846427379,"col_score":1.0470536886123931},{"table":"asset_categories","fused":0.7867425373127976,"table_sim":0.6732299389573608,"col_score":0.9570114348459529},{"table":"product_categories","fused":0.7557586621430741,"table_sim":0.7247710633179223,"col_score":0.8022400603808018},{"table":"product_suppliers","fused":0.7380898278694197,"table_sim":0.6030261734368682,"col_score":0.9406853095182468},{"table":"inventory_levels","fused":0.7209347042064161,"table_sim":0.5983462217768915,"col_score":0.9048174278507031},{"table":"inventory_transactions","fused":0.3668142989311006,"table_sim":0,"col_score":0.9170357473277515},{"table":"purchase_orders","fused":0.36181808815088073,"table_sim":0,"col_score":0.9045452203772018},{"table":"benefit_types","fused":0.3547792591272692,"table_sim":0.5912987652121153,"col_score":0},{"table":"project_budgets","fused":0.2610318719712457,"table_sim":0,"col_score":0.6525796799281143},{"table":"project_expenses","fused":0.2606743727853296,"table_sim":0,"col_score":0.651685931963324},{"table":"purchase_requisitions","fused":0.2566431831773069,"table_sim":0,"col_score":0.6416079579432672},{"table":"account_types","fused":0.24375723275469682,"table_sim":0,"col_score":0.609393081886742},{"table":"fixed_assets","fused":0.18363585485807649,"table_sim":0,"col_score":0.4590896371451912},{"table":"goods_receipts","fused":0.17355911832873683,"table_sim":0,"col_score":0.433897795821842},{"table":"projects","fused":0.17224075572007896,"table_sim":0,"col_score":0.4306018893001974}],"fk_expansion_candidates":60,"fk_expansion_added":1,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"purchase_requisitions","reason":"already_selected"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":21,"total_retrieval_latency_ms":28,"sql_generated":"SELECT p.* FROM products AS p JOIN product_categories AS pc ON p.category_id = pc.category_id WHERE pc.name = 'Electronics';","tables_used_in_sql":[],"explain_result":"success","rows_returned":62,"total_latency_ms":601}
{"timestamp":"2026-02-01T22:19:51.717Z","query_id":"79dea025-6b15-4988-8aa7-3fa4acbb5572","question":"What are the names of all warehouses?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["warehouse_locations","warehouses","asset_locations","inventory_levels","stock_transfers","product_suppliers","inventory_transactions","vendor_contacts","goods_receipts","receipt_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":24,"tables_from_fk_expansion":0,"table_scores":[{"table":"warehouse_locations","similarity":0.7285498737313786},{"table":"warehouse_locations","similarity":0.7256245774024009},{"table":"warehouse_locations","similarity":0.7256245774024009},{"table":"warehouses","similarity":0.7204359296605657},{"table":"warehouses","similarity":0.7204359296605657},{"table":"warehouses","similarity":0.6792134543197855},{"table":"asset_locations","similarity":0.6061979025779698},{"table":"asset_locations","similarity":0.6061979025779698},{"table":"inventory_levels","similarity":0.6028416640616783},{"table":"stock_transfers","similarity":0.5855227429535015},{"table":"inventory_levels","similarity":0.5815423542782951},{"table":"inventory_levels","similarity":0.5815423542782951},{"table":"asset_locations","similarity":0.5811905860356016},{"table":"stock_transfers","similarity":0.5781619306329983},{"table":"stock_transfers","similarity":0.5781619306329983}],"column_hits_per_table":{"warehouses":6,"warehouse_locations":7,"stock_transfers":2,"goods_receipts":1,"inventory_levels":2,"inventory_transactions":2,"receipt_lines":1,"asset_locations":6,"adjustment_lines":1,"departments":1,"inventory_adjustments":1,"vendors":1,"business_units":1,"cities":1,"cost_centers":1,"reorder_rules":1,"sales_territories":1,"sales_regions":1,"product_categories":1,"products":1,"currencies":1,"units_of_measure":1,"asset_categories":1,"projects":1,"project_phases":1,"vendor_contacts":2,"product_suppliers":2,"states_provinces":1,"budgets":1},"top_columns_per_table":{"warehouses":[{"column":"name","similarity":0.8239837132539246},{"column":"warehouse_id","similarity":0.7389525085782149},{"column":"code","similarity":0.7372924825805767}],"warehouse_locations":[{"column":"bin","similarity":0.7369462714727907},{"column":"rack","similarity":0.7301028923076418},{"column":"aisle","similarity":0.7270563176306292}],"stock_transfers":[{"column":"to_warehouse_id","similarity":0.6201896532931714},{"column":"from_warehouse_id","similarity":0.6108572482417348}],"goods_receipts":[{"column":"warehouse_id","similarity":0.6194093569001528}],"inventory_levels":[{"column":"warehouse_id","similarity":0.6129809657152051},{"column":"location_id","similarity":0.6110605538163267}],"inventory_transactions":[{"column":"location_id","similarity":0.6117765492932795},{"column":"warehouse_id","similarity":0.6045036778290787}],"receipt_lines":[{"column":"location_id","similarity":0.6044988749396849}],"asset_locations":[{"column":"name","similarity":0.5995259669429954},{"column":"building","similarity":0.5699431267066559},{"column":"description","similarity":0.5635470294472803}],"adjustment_lines":[{"column":"location_id","similarity":0.5925704006095981}],"departments":[{"column":"name","similarity":0.5916804481850862}],"inventory_adjustments":[{"column":"warehouse_id","similarity":0.5911141126040913}],"vendors":[{"column":"name","similarity":0.5896534915318243}],"business_units":[{"column":"name","similarity":0.5874482869568506}],"cities":[{"column":"name","similarity":0.5788506113941311}],"cost_centers":[{"column":"name","similarity":0.57825487466543}],"reorder_rules":[{"column":"warehouse_id","similarity":0.5761515648038772}],"sales_territories":[{"column":"name","similarity":0.5747925339792243}],"sales_regions":[{"column":"name","similarity":0.5726917211289799}],"product_categories":[{"column":"name","similarity":0.5635071676942313}],"products":[{"column":"name","similarity":0.563172892076737}],"currencies":[{"column":"name","similarity":0.5626835257654214}],"units_of_measure":[{"column":"name","similarity":0.5515381017275516}],"asset_categories":[{"column":"name","similarity":0.5512975889483408}],"projects":[{"column":"name","similarity":0.548957856266308}],"project_phases":[{"column":"name","similarity":0.547495677729703}],"vendor_contacts":[{"column":"first_name","similarity":0.5469148670018114},{"column":"last_name","similarity":0.544268531581012}],"product_suppliers":[{"column":"supplier_id","similarity":0.5445688274826966},{"column":"is_preferred","similarity":0.5407228032470287}],"states_provinces":[{"column":"name","similarity":0.5416799146294229}],"budgets":[{"column":"name","similarity":0.5394362709333709}]},"fused_scores":[{"table":"warehouse_locations","fused":0.8761738334920852,"table_sim":0.7256245774024009,"col_score":1.1019977176266116},{"table":"warehouses","fused":0.8178027854796515,"table_sim":0.6792134543197855,"col_score":1.0256867822194502},{"table":"asset_locations","fused":0.6860681088252738,"table_sim":0.5811905860356016,"col_score":0.8433843930097823},{"table":"inventory_levels","fused":0.6061085605015202,"table_sim":0.5815423542782951,"col_score":0.6429578698363578},{"table":"stock_transfers","fused":0.6060702760557298,"table_sim":0.5781619306329983,"col_score":0.6479327941898272},{"table":"product_suppliers","fused":0.292528757146389,"table_sim":0,"col_score":0.7313218928659725},{"table":"inventory_transactions","fused":0.2559279486981893,"table_sim":0,"col_score":0.6398198717454732},{"table":"vendor_contacts","fused":0.22933375718184884,"table_sim":0,"col_score":0.5733343929546221},{"table":"goods_receipts","fused":0.1734346199320428,"table_sim":0,"col_score":0.4335865498301069},{"table":"receipt_lines","fused":0.16925968498311178,"table_sim":0,"col_score":0.4231492124577794},{"table":"adjustment_lines","fused":0.16591971217068746,"table_sim":0,"col_score":0.41479928042671865},{"table":"departments","fused":0.16567052549182415,"table_sim":0,"col_score":0.4141763137295604},{"table":"inventory_adjustments","fused":0.16551195152914555,"table_sim":0,"col_score":0.4137798788228639},{"table":"vendors","fused":0.1651029776289108,"table_sim":0,"col_score":0.412757444072277},{"table":"business_units","fused":0.16448552034791816,"table_sim":0,"col_score":0.41121380086979537}],"fk_expansion_candidates":36,"fk_expansion_added":0,"fk_expansion_blocked_count":36,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":37,"total_retrieval_latency_ms":43,"sql_generated":"SELECT w.name FROM warehouses w;","tables_used_in_sql":[],"explain_result":"success","rows_returned":5,"total_latency_ms":295}
{"timestamp":"2026-02-01T22:19:52.012Z","query_id":"dc8574f7-45b3-40a3-a21a-f0c05da9ed55","question":"List all active vendors","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["vendors","vendor_contacts","vendor_invoices","product_suppliers","vendor_invoice_lines","purchase_orders","customers","employees","products","warehouses"],"tables_from_table_retrieval":6,"tables_from_column_only":12,"tables_from_fk_expansion":0,"table_scores":[{"table":"vendors","similarity":0.6962726298258062},{"table":"vendors","similarity":0.6962726298258062},{"table":"vendors","similarity":0.6880006513779018},{"table":"vendor_contacts","similarity":0.6580029100551065},{"table":"vendor_contacts","similarity":0.6580029100551065},{"table":"vendor_invoices","similarity":0.6543823921120047},{"table":"vendor_contacts","similarity":0.6543707733450305},{"table":"vendor_invoices","similarity":0.6537617498498873},{"table":"vendor_invoices","similarity":0.6537617498498873},{"table":"product_suppliers","similarity":0.639369742368815},{"table":"product_suppliers","similarity":0.639369742368815},{"table":"product_suppliers","similarity":0.6368613960189783},{"table":"vendor_invoice_lines","similarity":0.6064291468302401},{"table":"vendor_invoice_lines","similarity":0.6064291468302401},{"table":"purchase_orders","similarity":0.6046285681195724}],"column_hits_per_table":{"vendors":12,"vendor_invoices":11,"vendor_contacts":8,"customers":1,"product_suppliers":3,"employees":1,"products":1,"warehouses":1,"fixed_assets":1,"asset_maintenance":1,"purchase_orders":1,"vendor_invoice_lines":3,"positions":1,"business_units":1,"sales_orders":1,"product_categories":1,"bank_accounts":1,"benefit_types":1},"top_columns_per_table":{"vendors":[{"column":"is_active","similarity":0.8082741906985379},{"column":"vendor_id","similarity":0.696608570908196},{"column":"vendor_number","similarity":0.690104216983127}],"vendor_invoices":[{"column":"status","similarity":0.6807922132677474},{"column":"total","similarity":0.655474212549299},{"column":"subtotal","similarity":0.6431967210368317}],"vendor_contacts":[{"column":"is_primary","similarity":0.6594024190023925},{"column":"email","similarity":0.649863249101007},{"column":"vendor_id","similarity":0.6441969797065956}],"customers":[{"column":"is_active","similarity":0.6476421054003765}],"product_suppliers":[{"column":"vendor_id","similarity":0.6444561335438413},{"column":"vendor_sku","similarity":0.621198911356786},{"column":"is_preferred","similarity":0.6007180783650777}],"employees":[{"column":"is_active","similarity":0.6437737649411213}],"products":[{"column":"is_active","similarity":0.6412563586748957}],"warehouses":[{"column":"is_active","similarity":0.6361520848821371}],"fixed_assets":[{"column":"vendor_id","similarity":0.6358205697022895}],"asset_maintenance":[{"column":"vendor_id","similarity":0.6314938869527287}],"purchase_orders":[{"column":"vendor_id","similarity":0.629774324610349}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.618005483305915},{"column":"amount","similarity":0.6046802848122621},{"column":"line_id","similarity":0.6033856438304122}],"positions":[{"column":"is_active","similarity":0.6113698702425924}],"business_units":[{"column":"is_active","similarity":0.6078912202143344}],"sales_orders":[{"column":"status","similarity":0.6008435501749047}],"product_categories":[{"column":"is_active","similarity":0.6002220998224144}],"bank_accounts":[{"column":"is_active","similarity":0.5939215808610938}],"benefit_types":[{"column":"is_active","similarity":0.5936815548559959}]},"fused_scores":[{"table":"vendors","fused":0.8266718004696496,"table_sim":0.6880006513779018,"col_score":1.0346785241072713},{"table":"vendor_contacts","fused":0.7863560814281767,"table_sim":0.6543707733450305,"col_score":0.984334043552896},{"table":"vendor_invoices","fused":0.7830860791370183,"table_sim":0.6537617498498873,"col_score":0.9770725730677149},{"table":"product_suppliers","fused":0.7507400178271169,"table_sim":0.6368613960189783,"col_score":0.9215579505393248},{"table":"vendor_invoice_lines","fused":0.7319957383829625,"table_sim":0.6064291468302401,"col_score":0.920345625712046},{"table":"purchase_orders","fused":0.5391139517626411,"table_sim":0.6046285681195724,"col_score":0.44084202722724425},{"table":"customers","fused":0.18133978951210541,"table_sim":0,"col_score":0.4533494737802635},{"table":"employees","fused":0.18025665418351394,"table_sim":0,"col_score":0.45064163545878483},{"table":"products","fused":0.1795517804289708,"table_sim":0,"col_score":0.448879451072427},{"table":"warehouses","fused":0.1781225837669984,"table_sim":0,"col_score":0.44530645941749597},{"table":"fixed_assets","fused":0.17802975951664105,"table_sim":0,"col_score":0.4450743987916026},{"table":"asset_maintenance","fused":0.17681828834676402,"table_sim":0,"col_score":0.44204572086691},{"table":"positions","fused":0.17118356366792586,"table_sim":0,"col_score":0.42795890916981466},{"table":"business_units","fused":0.17020954166001365,"table_sim":0,"col_score":0.4255238541500341},{"table":"sales_orders","fused":0.1682361940489733,"table_sim":0,"col_score":0.42059048512243324}],"fk_expansion_candidates":144,"fk_expansion_added":0,"fk_expansion_blocked_count":144,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":33,"total_retrieval_latency_ms":41,"sql_generated":"SELECT v.* FROM vendors v WHERE v.is_active = true;","tables_used_in_sql":[],"explain_result":"success","rows_returned":200,"total_latency_ms":394}
{"timestamp":"2026-02-01T22:19:52.406Z","query_id":"fd4046c1-876a-448b-bfa2-ae2312bed0d2","question":"What are the different account types in the chart of accounts?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["account_types","chart_of_accounts","bank_accounts","bank_transactions","asset_categories","benefit_types","journal_lines","inventory_transactions","audit_log","sales_orders","employee_benefits","journal_entries"],"tables_from_table_retrieval":7,"tables_from_column_only":15,"tables_from_fk_expansion":2,"table_scores":[{"table":"chart_of_accounts","similarity":0.819203299985527},{"table":"account_types","similarity":0.7988075557394306},{"table":"account_types","similarity":0.7988075557394306},{"table":"account_types","similarity":0.7962345365841693},{"table":"chart_of_accounts","similarity":0.791340822956156},{"table":"chart_of_accounts","similarity":0.791340822956156},{"table":"bank_accounts","similarity":0.724679255065619},{"table":"bank_accounts","similarity":0.6999646723589786},{"table":"bank_accounts","similarity":0.6999646723589786},{"table":"benefit_types","similarity":0.6283185597811837},{"table":"benefit_types","similarity":0.6283185597811837},{"table":"journal_lines","similarity":0.625444495321535},{"table":"asset_categories","similarity":0.618359452764169},{"table":"benefit_types","similarity":0.6179653147868353},{"table":"bank_transactions","similarity":0.6154557182401941}],"column_hits_per_table":{"chart_of_accounts":8,"account_types":4,"bank_accounts":8,"journal_lines":1,"vendor_invoice_lines":1,"budget_lines":1,"bank_transactions":2,"inventory_transactions":2,"audit_log":2,"benefit_types":5,"asset_categories":3,"document_attachments":1,"sales_orders":2,"employee_benefits":2,"employee_certifications":1,"journal_entries":1,"goods_receipts":1,"maintenance_types":1,"stock_transfers":1,"sales_regions":1,"tax_rates":1,"leave_types":1},"top_columns_per_table":{"chart_of_accounts":[{"column":"account_number","similarity":0.8095156463967756},{"column":"account_type_id","similarity":0.798110199670143},{"column":"name","similarity":0.7773267996543431}],"account_types":[{"column":"category","similarity":0.8061873869514127},{"column":"name","similarity":0.7882152226403916},{"column":"normal_balance","similarity":0.7709865775976293}],"bank_accounts":[{"column":"account_number","similarity":0.7225117774089481},{"column":"gl_account_id","similarity":0.7192196319887921},{"column":"account_name","similarity":0.7058296402253736}],"journal_lines":[{"column":"account_id","similarity":0.701492184125104}],"vendor_invoice_lines":[{"column":"account_id","similarity":0.6899217649690905}],"budget_lines":[{"column":"account_id","similarity":0.6890433704798434}],"bank_transactions":[{"column":"transaction_type","similarity":0.6522339567052419},{"column":"bank_account_id","similarity":0.6000475548322007}],"inventory_transactions":[{"column":"transaction_type","similarity":0.6508100548275718},{"column":"reference_type","similarity":0.618652619489597}],"audit_log":[{"column":"table_name","similarity":0.6299560725437857},{"column":"action","similarity":0.6176881303455621}],"benefit_types":[{"column":"name","similarity":0.6239559576047775},{"column":"benefit_type_id","similarity":0.6003585729270258},{"column":"description","similarity":0.5966507437046684}],"asset_categories":[{"column":"name","similarity":0.6229758631758117},{"column":"depreciation_method","similarity":0.6228780437653545},{"column":"category_id","similarity":0.600618839267168}],"document_attachments":[{"column":"entity_type","similarity":0.6083808106337816}],"sales_orders":[{"column":"order_number","similarity":0.600482029089641},{"column":"status","similarity":0.5849045118154812}],"employee_benefits":[{"column":"benefit_type_id","similarity":0.5984395501956566},{"column":"coverage_level","similarity":0.5909152043760861}],"employee_certifications":[{"column":"certificate_number","similarity":0.5954716152085089}],"journal_entries":[{"column":"entry_number","similarity":0.5900733476704529}],"goods_receipts":[{"column":"receipt_number","similarity":0.5886087045282947}],"maintenance_types":[{"column":"name","similarity":0.5883275771703451}],"stock_transfers":[{"column":"transfer_number","similarity":0.5878568492842889}],"sales_regions":[{"column":"name","similarity":0.5863467044405402}],"tax_rates":[{"column":"tax_type","similarity":0.5861960576726192}],"leave_types":[{"column":"is_paid","similarity":0.5841987409383301}]},"fused_scores":[{"table":"account_types","fused":0.9544129922505925,"table_sim":0.7962345365841693,"col_score":1.1916806757502274},{"table":"chart_of_accounts","fused":0.9103461802862239,"table_sim":0.791340822956156,"col_score":1.0888542162813257},{"table":"bank_accounts","fused":0.8325558126592646,"table_sim":0.6999646723589786,"col_score":1.0314425231096935},{"table":"bank_transactions","fused":0.7141736713027212,"table_sim":0.6154557182401941,"col_score":0.8622506008965121},{"table":"asset_categories","fused":0.7073835100092569,"table_sim":0.618359452764169,"col_score":0.8409195958768886},{"table":"benefit_types","fused":0.6929005069143089,"table_sim":0.6179653147868353,"col_score":0.8053032951055195},{"table":"journal_lines","fused":0.5716845087479501,"table_sim":0.625444495321535,"col_score":0.4910445288875727},{"table":"inventory_transactions","fused":0.38405454582894816,"table_sim":0,"col_score":0.9601363645723704},{"table":"audit_log","fused":0.33526910229435486,"table_sim":0,"col_score":0.8381727557358871},{"table":"sales_orders","fused":0.3220794432900238,"table_sim":0,"col_score":0.8051986082250594},{"table":"employee_benefits","fused":0.3201476187778264,"table_sim":0,"col_score":0.8003690469445659},{"table":"document_attachments","fused":0.24335232425351264,"table_sim":0,"col_score":0.6083808106337816},{"table":"employee_certifications","fused":0.23818864608340357,"table_sim":0,"col_score":0.5954716152085089},{"table":"journal_entries","fused":0.2360293390681812,"table_sim":0,"col_score":0.5900733476704529},{"table":"goods_receipts","fused":0.2354434818113179,"table_sim":0,"col_score":0.5886087045282947}],"fk_expansion_candidates":45,"fk_expansion_added":2,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employee_benefits","reason":"already_selected"},{"table":"employee_benefits","reason":"already_selected"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"already_selected"},{"table":"journal_entries","reason":"already_selected"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":41,"total_retrieval_latency_ms":48,"sql_generated":"SELECT name FROM public.chart_of_accounts LIMIT 1000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":33,"total_latency_ms":763}
{"timestamp":"2026-02-01T22:19:53.169Z","query_id":"2332b7fb-a919-428d-a90d-b05851dc739d","question":"List all bank accounts and their current balances","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["bank_accounts","bank_transactions","account_types","chart_of_accounts","budget_lines","depreciation_entries","budgets","fixed_assets","asset_maintenance","departments","currencies","purchase_orders"],"tables_from_table_retrieval":5,"tables_from_column_only":14,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_accounts","similarity":0.7380467958544561},{"table":"bank_accounts","similarity":0.7380467958544561},{"table":"bank_accounts","similarity":0.7329690151560269},{"table":"bank_transactions","similarity":0.6524691990877824},{"table":"bank_transactions","similarity":0.6524691990877824},{"table":"bank_transactions","similarity":0.6432688918493359},{"table":"account_types","similarity":0.637683130876762},{"table":"account_types","similarity":0.637683130876762},{"table":"account_types","similarity":0.631508179872346},{"table":"chart_of_accounts","similarity":0.6020063005251778},{"table":"chart_of_accounts","similarity":0.5912086370703393},{"table":"chart_of_accounts","similarity":0.5912086370703393},{"table":"budget_lines","similarity":0.5681702031015662},{"table":"budget_lines","similarity":0.5681702031015662},{"table":"budget_lines","similarity":0.5651962639440569}],"column_hits_per_table":{"bank_accounts":8,"account_types":3,"bank_transactions":9,"chart_of_accounts":7,"budget_lines":1,"fixed_assets":3,"asset_maintenance":4,"budgets":2,"departments":1,"stock_transfers":1,"purchase_orders":1,"depreciation_entries":3,"sales_orders":1,"asset_transfers":1,"inventory_adjustments":1,"po_lines":1,"depreciation_schedules":1,"currencies":1,"order_lines":1},"top_columns_per_table":{"bank_accounts":[{"column":"current_balance","similarity":0.8089444456145792},{"column":"account_number","similarity":0.6893990880283144},{"column":"bank_name","similarity":0.6886932207378867}],"account_types":[{"column":"normal_balance","similarity":0.6577826771573285},{"column":"name","similarity":0.576305558574986},{"column":"category","similarity":0.5660103860090229}],"bank_transactions":[{"column":"bank_account_id","similarity":0.6320865570574266},{"column":"amount","similarity":0.622087497357687},{"column":"reconciled","similarity":0.6119209268904576}],"chart_of_accounts":[{"column":"account_number","similarity":0.6021310044416771},{"column":"description","similarity":0.5849860017700876},{"column":"name","similarity":0.5833355191945212}],"budget_lines":[{"column":"account_id","similarity":0.5872059668461254}],"fixed_assets":[{"column":"status","similarity":0.5828378769160532},{"column":"purchase_cost","similarity":0.5582567197440901},{"column":"po_id","similarity":0.5544635441821786}],"asset_maintenance":[{"column":"status","similarity":0.5812112019616437},{"column":"notes","similarity":0.5653592975237859},{"column":"cost","similarity":0.5583403793159406}],"budgets":[{"column":"status","similarity":0.5799927736493256},{"column":"total_amount","similarity":0.579980842065588}],"departments":[{"column":"budget","similarity":0.570906870993348}],"stock_transfers":[{"column":"status","similarity":0.5643478756295153}],"purchase_orders":[{"column":"total","similarity":0.5631649012660114}],"depreciation_entries":[{"column":"accumulated_depreciation","similarity":0.5623941152149342},{"column":"asset_id","similarity":0.5608072311992653},{"column":"amount","similarity":0.5531774591650637}],"sales_orders":[{"column":"total","similarity":0.5608168283032534}],"asset_transfers":[{"column":"asset_id","similarity":0.559768695814554}],"inventory_adjustments":[{"column":"status","similarity":0.5585885430147457}],"po_lines":[{"column":"line_total","similarity":0.5528051580745316}],"depreciation_schedules":[{"column":"asset_id","similarity":0.5500261207297255}],"currencies":[{"column":"code","similarity":0.5464221335552627}],"order_lines":[{"column":"line_total","similarity":0.5449514399298908}]},"fused_scores":[{"table":"bank_accounts","fused":0.9012390049451107,"table_sim":0.7329690151560269,"col_score":1.1536439896287365},{"table":"bank_transactions","fused":0.7571805194307678,"table_sim":0.6432688918493359,"col_score":0.9280479608029157},{"table":"account_types","fused":0.7552200559881436,"table_sim":0.631508179872346,"col_score":0.94078787016184},{"table":"chart_of_accounts","fused":0.6774756242666866,"table_sim":0.5912086370703393,"col_score":0.8068761050612078},{"table":"budget_lines","fused":0.5035354290833491,"table_sim":0.5651962639440569,"col_score":0.4110441767922877},{"table":"depreciation_entries","fused":0.3355931379189865,"table_sim":0,"col_score":0.8389828447974661},{"table":"budgets","fused":0.31319132513714076,"table_sim":0,"col_score":0.7829783128428519},{"table":"fixed_assets","fused":0.30489999066588347,"table_sim":0,"col_score":0.7622499766647086},{"table":"asset_maintenance","fused":0.3047057200010064,"table_sim":0,"col_score":0.7617643000025158},{"table":"departments","fused":0.22836274839733922,"table_sim":0,"col_score":0.570906870993348},{"table":"purchase_orders","fused":0.22526596050640457,"table_sim":0,"col_score":0.5631649012660114},{"table":"sales_orders","fused":0.22432673132130138,"table_sim":0,"col_score":0.5608168283032534},{"table":"po_lines","fused":0.22112206322981265,"table_sim":0,"col_score":0.5528051580745316},{"table":"currencies","fused":0.21856885342210508,"table_sim":0,"col_score":0.5464221335552627},{"table":"order_lines","fused":0.21798057597195633,"table_sim":0,"col_score":0.5449514399298908}],"fk_expansion_candidates":51,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"currencies","reason":"already_selected"},{"table":"currencies","reason":"already_selected"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"purchase_orders","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":40,"total_retrieval_latency_ms":47,"sql_generated":"SELECT ba.account_number AS \"Account Number\", ba.current_balance AS \"Current Balance\" FROM bank_accounts ba;","tables_used_in_sql":[],"explain_result":"success","rows_returned":5,"total_latency_ms":540}
{"timestamp":"2026-02-01T22:19:53.709Z","query_id":"54d5c45e-7727-4260-a8c5-671b8bdd80b5","question":"How many projects are currently active?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["project_tasks","projects","project_phases","project_milestones","project_resources","products","positions","product_categories","project_expenses","employees"],"tables_from_table_retrieval":5,"tables_from_column_only":12,"tables_from_fk_expansion":0,"table_scores":[{"table":"project_tasks","similarity":0.650275467821731},{"table":"project_tasks","similarity":0.650275467821731},{"table":"project_tasks","similarity":0.6324363750327547},{"table":"project_phases","similarity":0.6314559839975916},{"table":"project_phases","similarity":0.6314559839975916},{"table":"projects","similarity":0.6310645209358304},{"table":"projects","similarity":0.6310645209358304},{"table":"project_milestones","similarity":0.6170314556998037},{"table":"project_phases","similarity":0.6128862225489412},{"table":"project_milestones","similarity":0.6077049222719266},{"table":"project_milestones","similarity":0.6077049222719266},{"table":"projects","similarity":0.6020298260872147},{"table":"project_resources","similarity":0.6015867769428557},{"table":"project_resources","similarity":0.5959055344150135},{"table":"project_resources","similarity":0.5959055344150135}],"column_hits_per_table":{"projects":11,"project_tasks":9,"project_phases":8,"project_milestones":8,"products":1,"positions":1,"project_resources":2,"product_categories":1,"project_expenses":1,"employees":1,"training_courses":1,"warehouses":1,"business_units":1,"vendors":1,"cost_centers":1,"customers":1,"fixed_assets":1},"top_columns_per_table":{"projects":[{"column":"status","similarity":0.6952554925044898},{"column":"start_date","similarity":0.6596027658706693},{"column":"actual_end_date","similarity":0.6401830267542961}],"project_tasks":[{"column":"status","similarity":0.6606100908218507},{"column":"completed_date","similarity":0.6368229786219834},{"column":"start_date","similarity":0.6292582567736982}],"project_phases":[{"column":"status","similarity":0.6604885270610856},{"column":"start_date","similarity":0.6275125782071443},{"column":"end_date","similarity":0.6163385340144646}],"project_milestones":[{"column":"completed_date","similarity":0.6338543569092513},{"column":"is_billable","similarity":0.6066078433244196},{"column":"due_date","similarity":0.601484675349934}],"products":[{"column":"is_active","similarity":0.629479953126807}],"positions":[{"column":"is_active","similarity":0.619668256339286}],"project_resources":[{"column":"start_date","similarity":0.6175570072174423},{"column":"end_date","similarity":0.605459362777849}],"product_categories":[{"column":"is_active","similarity":0.6174448230737236}],"project_expenses":[{"column":"status","similarity":0.6174103092825096}],"employees":[{"column":"is_active","similarity":0.6056786473130706}],"training_courses":[{"column":"is_active","similarity":0.5954094641374467}],"warehouses":[{"column":"is_active","similarity":0.5938282349648681}],"business_units":[{"column":"is_active","similarity":0.5882189740487279}],"vendors":[{"column":"is_active","similarity":0.5817936740365313}],"cost_centers":[{"column":"is_active","similarity":0.5775357194130835}],"customers":[{"column":"is_active","similarity":0.5750701102281962}],"fixed_assets":[{"column":"status","similarity":0.5743195300084423}]},"fused_scores":[{"table":"project_tasks","fused":0.7600426678231859,"table_sim":0.6324363750327547,"col_score":0.9514521070088325},{"table":"projects","fused":0.7530956073514559,"table_sim":0.6020298260872147,"col_score":0.9796942792478174},{"table":"project_phases","fused":0.7420044716151154,"table_sim":0.6128862225489412,"col_score":0.9356818452143767},{"table":"project_milestones","fused":0.7394862647917404,"table_sim":0.6077049222719266,"col_score":0.9371582785714612},{"table":"project_resources","fused":0.7256579960915548,"table_sim":0.5959055344150135,"col_score":0.9202866886063668},{"table":"products","fused":0.176254386875506,"table_sim":0,"col_score":0.4406359671887649},{"table":"positions","fused":0.17350711177500008,"table_sim":0,"col_score":0.43376777943750017},{"table":"product_categories","fused":0.1728845504606426,"table_sim":0,"col_score":0.4322113761516065},{"table":"project_expenses","fused":0.1728748865991027,"table_sim":0,"col_score":0.4321872164977567},{"table":"employees","fused":0.16959002124765976,"table_sim":0,"col_score":0.4239750531191494},{"table":"training_courses","fused":0.16671464995848506,"table_sim":0,"col_score":0.41678662489621265},{"table":"warehouses","fused":0.16627190579016307,"table_sim":0,"col_score":0.41567976447540766},{"table":"business_units","fused":0.16470131273364383,"table_sim":0,"col_score":0.41175328183410953},{"table":"vendors","fused":0.16290222873022875,"table_sim":0,"col_score":0.40725557182557187},{"table":"cost_centers","fused":0.1617100014356634,"table_sim":0,"col_score":0.4042750035891584}],"fk_expansion_candidates":135,"fk_expansion_added":0,"fk_expansion_blocked_count":135,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"product_suppliers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"product_suppliers","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"product_suppliers","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":24,"total_retrieval_latency_ms":31,"sql_generated":"SELECT COUNT(*) FROM public.projects WHERE status = 'active';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":309}
{"timestamp":"2026-02-01T22:19:54.018Z","query_id":"9b54b02c-41e0-42a8-aee0-51fe57c9952c","question":"List all fixed assets with their purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["fixed_assets","asset_maintenance","asset_categories","asset_transfers","depreciation_schedules","purchase_orders","products","project_budgets","sales_orders","purchase_requisitions","maintenance_types","projects"],"tables_from_table_retrieval":5,"tables_from_column_only":11,"tables_from_fk_expansion":2,"table_scores":[{"table":"fixed_assets","similarity":0.7343654134072136},{"table":"fixed_assets","similarity":0.7343654134072136},{"table":"fixed_assets","similarity":0.7209497053888301},{"table":"asset_maintenance","similarity":0.6308058404117752},{"table":"asset_maintenance","similarity":0.6179697125570032},{"table":"asset_maintenance","similarity":0.6179697125570032},{"table":"asset_categories","similarity":0.5912281177120349},{"table":"asset_categories","similarity":0.5908629711394363},{"table":"asset_categories","similarity":0.5908629711394363},{"table":"depreciation_schedules","similarity":0.5847667500423093},{"table":"depreciation_schedules","similarity":0.5847667500423093},{"table":"depreciation_schedules","similarity":0.5814813777494169},{"table":"asset_transfers","similarity":0.5814400142884585},{"table":"asset_transfers","similarity":0.5814400142884585},{"table":"asset_transfers","similarity":0.5810308594815269}],"column_hits_per_table":{"fixed_assets":17,"asset_maintenance":8,"asset_transfers":2,"purchase_orders":5,"depreciation_entries":1,"depreciation_schedules":1,"maintenance_types":1,"purchase_requisitions":3,"asset_categories":2,"products":2,"project_expenses":1,"project_budgets":2,"product_suppliers":1,"sales_orders":2,"budgets":1,"projects":1},"top_columns_per_table":{"fixed_assets":[{"column":"purchase_cost","similarity":0.8336730962249834},{"column":"purchase_date","similarity":0.757030591227503},{"column":"disposal_amount","similarity":0.7115957358886795}],"asset_maintenance":[{"column":"cost","similarity":0.7001413961532815},{"column":"asset_id","similarity":0.646620164429287},{"column":"status","similarity":0.623064430931896}],"asset_transfers":[{"column":"asset_id","similarity":0.6507271021855611},{"column":"reason","similarity":0.5954539547440019}],"purchase_orders":[{"column":"total","similarity":0.6201708065577443},{"column":"shipping_cost","similarity":0.6103074039927893},{"column":"subtotal","similarity":0.592057979964163}],"depreciation_entries":[{"column":"asset_id","similarity":0.6167046419250045}],"depreciation_schedules":[{"column":"asset_id","similarity":0.6131913844659764}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6035554909402351}],"purchase_requisitions":[{"column":"status","similarity":0.5957030209752325},{"column":"notes","similarity":0.579593954206422},{"column":"requisition_number","similarity":0.5641816400766758}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.5901071514451579},{"column":"depreciation_method","similarity":0.5734492552613173}],"products":[{"column":"unit_cost","similarity":0.5893978216060566},{"column":"list_price","similarity":0.5715240580401271}],"project_expenses":[{"column":"amount","similarity":0.5714967061817042}],"project_budgets":[{"column":"planned_amount","similarity":0.5691947438967756},{"column":"actual_amount","similarity":0.5658605972140979}],"product_suppliers":[{"column":"unit_cost","similarity":0.5664134865556345}],"sales_orders":[{"column":"total","similarity":0.5647711756811595},{"column":"shipping_cost","similarity":0.5642246655101619}],"budgets":[{"column":"total_amount","similarity":0.5646227718053173}],"projects":[{"column":"budget","similarity":0.5640102092352354}]},"fused_scores":[{"table":"fixed_assets","fused":0.917445179968792,"table_sim":0.7209497053888301,"col_score":1.212188391838735},{"table":"asset_maintenance","fused":0.7733901622742586,"table_sim":0.6179697125570032,"col_score":1.0065208368501417},{"table":"asset_categories","fused":0.7052504943139885,"table_sim":0.5908629711394363,"col_score":0.8768317790758166},{"table":"asset_transfers","fused":0.6779018918924955,"table_sim":0.5810308594815269,"col_score":0.8232084405089483},{"table":"depreciation_schedules","fused":0.5205824143001235,"table_sim":0.5814813777494169,"col_score":0.4292339691261835},{"table":"purchase_orders","fused":0.3701298034216556,"table_sim":0,"col_score":0.9253245085541388},{"table":"products","fused":0.35006394025044807,"table_sim":0,"col_score":0.8751598506261201},{"table":"project_budgets","fused":0.34085001700152984,"table_sim":0,"col_score":0.8521250425038245},{"table":"sales_orders","fused":0.3387534033744962,"table_sim":0,"col_score":0.8468835084362405},{"table":"purchase_requisitions","fused":0.3090710789672029,"table_sim":0,"col_score":0.7726776974180072},{"table":"maintenance_types","fused":0.24142219637609405,"table_sim":0,"col_score":0.6035554909402351},{"table":"project_expenses","fused":0.2285986824726817,"table_sim":0,"col_score":0.5714967061817042},{"table":"product_suppliers","fused":0.2265653946222538,"table_sim":0,"col_score":0.5664134865556345},{"table":"budgets","fused":0.22584910872212693,"table_sim":0,"col_score":0.5646227718053173},{"table":"projects","fused":0.22560408369409415,"table_sim":0,"col_score":0.5640102092352354}],"fk_expansion_candidates":75,"fk_expansion_added":2,"fk_expansion_blocked_count":66,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"product_suppliers","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":15,"total_retrieval_latency_ms":23,"sql_generated":"SELECT f.asset_tag, f.name, f.purchase_cost FROM fixed_assets f;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":499}
{"timestamp":"2026-02-01T22:19:54.517Z","query_id":"2395a9ed-3524-4c85-87c2-c540ac52dffc","question":"What are all the available leave types?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["leave_types","leave_requests","maintenance_types","account_types","benefit_types","employment_history","positions","employee_benefits","asset_maintenance","employees","inventory_transactions","sales_opportunities"],"tables_from_table_retrieval":5,"tables_from_column_only":18,"tables_from_fk_expansion":2,"table_scores":[{"table":"leave_types","similarity":0.8153120238871665},{"table":"leave_types","similarity":0.8153120238871665},{"table":"leave_types","similarity":0.7907961003152969},{"table":"leave_requests","similarity":0.7190219066933456},{"table":"leave_requests","similarity":0.7190219066933456},{"table":"leave_requests","similarity":0.7143778015997992},{"table":"maintenance_types","similarity":0.6503054333039201},{"table":"maintenance_types","similarity":0.6503054333039201},{"table":"maintenance_types","similarity":0.6481400096068088},{"table":"benefit_types","similarity":0.6322231020121719},{"table":"benefit_types","similarity":0.6322231020121719},{"table":"benefit_types","similarity":0.6269933285396667},{"table":"account_types","similarity":0.6207464005230485},{"table":"account_types","similarity":0.6207464005230485},{"table":"account_types","similarity":0.6192881819056906}],"column_hits_per_table":{"leave_types":5,"leave_requests":10,"maintenance_types":5,"benefit_types":4,"employment_history":2,"account_types":4,"employee_training":1,"asset_maintenance":2,"employee_benefits":2,"timesheets":1,"sales_orders":1,"positions":2,"employees":1,"fixed_assets":1,"purchase_requisitions":1,"vendor_invoices":1,"chart_of_accounts":1,"inventory_transactions":1,"bank_transactions":1,"stock_transfers":1,"sales_quotes":1,"sales_opportunities":1,"inventory_adjustments":1},"top_columns_per_table":{"leave_types":[{"column":"is_paid","similarity":0.7612464678618273},{"column":"days_allowed","similarity":0.7601500998124394},{"column":"leave_type_id","similarity":0.7404804728319255}],"leave_requests":[{"column":"status","similarity":0.7396795189172545},{"column":"leave_type_id","similarity":0.7183447876062181},{"column":"days_requested","similarity":0.6924150250540297}],"maintenance_types":[{"column":"description","similarity":0.6353856248912257},{"column":"name","similarity":0.6275362006518306},{"column":"type_id","similarity":0.6101423562940161}],"benefit_types":[{"column":"is_active","similarity":0.6202574050902354},{"column":"name","similarity":0.613970586164775},{"column":"description","similarity":0.609536513053858}],"employment_history":[{"column":"reason_for_leaving","similarity":0.6149236134137261},{"column":"position","similarity":0.5557487204215079}],"account_types":[{"column":"normal_balance","similarity":0.608424842651833},{"column":"category","similarity":0.5965050820828129},{"column":"name","similarity":0.5862630113315467}],"employee_training":[{"column":"status","similarity":0.595192045369969}],"asset_maintenance":[{"column":"status","similarity":0.58756583227351},{"column":"maintenance_type_id","similarity":0.5836180049613157}],"employee_benefits":[{"column":"benefit_type_id","similarity":0.5860432161043488},{"column":"end_date","similarity":0.5609092285346757}],"timesheets":[{"column":"status","similarity":0.5817907952742775}],"sales_orders":[{"column":"status","similarity":0.5754670907458482}],"positions":[{"column":"is_active","similarity":0.5753948179884102},{"column":"title","similarity":0.5728139979402822}],"employees":[{"column":"termination_date","similarity":0.570986454201654}],"fixed_assets":[{"column":"status","similarity":0.5698997906492048}],"purchase_requisitions":[{"column":"status","similarity":0.5624648292687259}],"vendor_invoices":[{"column":"status","similarity":0.5603695727011545}],"chart_of_accounts":[{"column":"account_type_id","similarity":0.5595433836798172}],"inventory_transactions":[{"column":"transaction_type","similarity":0.5589784724046583}],"bank_transactions":[{"column":"transaction_type","similarity":0.5583149392151486}],"stock_transfers":[{"column":"status","similarity":0.556932657372917}],"sales_quotes":[{"column":"status","similarity":0.5558161462227229}],"sales_opportunities":[{"column":"source","similarity":0.5553635771952049}],"inventory_adjustments":[{"column":"status","similarity":0.5541098667634835}]},"fused_scores":[{"table":"leave_types","fused":0.92249438434967,"table_sim":0.7907961003152969,"col_score":1.1200418104012295},{"table":"leave_requests","fused":0.8400325985595832,"table_sim":0.7143778015997992,"col_score":1.0285147939992592},{"table":"maintenance_types","fused":0.7441095655709671,"table_sim":0.6481400096068088,"col_score":0.8880638995172044},{"table":"account_types","fused":0.7342438626207102,"table_sim":0.6192881819056906,"col_score":0.9066773836932396},{"table":"benefit_types","fused":0.6358239526121345,"table_sim":0.6269933285396667,"col_score":0.649069888720836},{"table":"employment_history","fused":0.35711918944979204,"table_sim":0,"col_score":0.8927979736244801},{"table":"positions","fused":0.3096808736944903,"table_sim":0,"col_score":0.7742021842362258},{"table":"employee_benefits","fused":0.3064097416684792,"table_sim":0,"col_score":0.7660243541711979},{"table":"asset_maintenance","fused":0.24622495373116698,"table_sim":0,"col_score":0.6155623843279174},{"table":"employees","fused":0.2283945816806616,"table_sim":0,"col_score":0.570986454201654},{"table":"inventory_transactions","fused":0.2235913889618633,"table_sim":0,"col_score":0.5589784724046583},{"table":"bank_transactions","fused":0.22332597568605947,"table_sim":0,"col_score":0.5583149392151486},{"table":"sales_opportunities","fused":0.22214543087808197,"table_sim":0,"col_score":0.5553635771952049},{"table":"employee_training","fused":0.1666537727035913,"table_sim":0,"col_score":0.41663443175897824},{"table":"timesheets","fused":0.1629014226767977,"table_sim":0,"col_score":0.4072535566919942}],"fk_expansion_candidates":96,"fk_expansion_added":2,"fk_expansion_blocked_count":90,"fk_expansion_blocked":[{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":38,"total_retrieval_latency_ms":46,"sql_generated":"SELECT lt.name FROM leave_types AS lt;","tables_used_in_sql":[],"explain_result":"success","rows_returned":8,"total_latency_ms":331}
{"timestamp":"2026-02-01T22:19:54.848Z","query_id":"3d427ea0-d310-4203-91ea-c30ec3c726f6","question":"List all training courses that are mandatory","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["training_courses","employee_training","certifications","employee_certifications","maintenance_types","leave_types","product_suppliers","purchase_requisitions","project_milestones","sales_orders"],"tables_from_table_retrieval":5,"tables_from_column_only":15,"tables_from_fk_expansion":0,"table_scores":[{"table":"training_courses","similarity":0.7873697953142612},{"table":"training_courses","similarity":0.7873697953142612},{"table":"training_courses","similarity":0.7832587829851695},{"table":"employee_training","similarity":0.6622740415541937},{"table":"employee_training","similarity":0.6622740415541937},{"table":"employee_training","similarity":0.6570057454586046},{"table":"certifications","similarity":0.5965030477585557},{"table":"certifications","similarity":0.5965030477585557},{"table":"certifications","similarity":0.5900939338505992},{"table":"employee_certifications","similarity":0.5760162077924663},{"table":"employee_certifications","similarity":0.5662772014922313},{"table":"employee_certifications","similarity":0.5662772014922313},{"table":"maintenance_types","similarity":0.5048094520010439},{"table":"maintenance_types","similarity":0.5048094520010439},{"table":"maintenance_types","similarity":0.49281971341629327}],"column_hits_per_table":{"training_courses":7,"employee_training":7,"certifications":5,"employee_certifications":6,"leave_types":3,"sales_orders":1,"purchase_requisitions":2,"maintenance_types":5,"emergency_contacts":1,"project_milestones":2,"benefit_types":1,"business_units":1,"product_suppliers":2,"units_of_measure":1,"requisition_lines":1,"asset_maintenance":1,"project_resources":1,"project_tasks":1,"vendor_contacts":1,"reorder_rules":1},"top_columns_per_table":{"training_courses":[{"column":"is_mandatory","similarity":0.814547688206976},{"column":"description","similarity":0.7210520541882913},{"column":"is_active","similarity":0.6998661786347449}],"employee_training":[{"column":"course_id","similarity":0.6460785266021282},{"column":"scheduled_date","similarity":0.6379019386890121},{"column":"completion_date","similarity":0.6234909008328433}],"certifications":[{"column":"description","similarity":0.6095125615154784},{"column":"issuing_body","similarity":0.57698393195182},{"column":"validity_years","similarity":0.5591744479508656}],"employee_certifications":[{"column":"certificate_number","similarity":0.5514558044255654},{"column":"certification_id","similarity":0.549379266890378},{"column":"cert_id","similarity":0.5486469080412996}],"leave_types":[{"column":"requires_approval","similarity":0.536554743713736},{"column":"is_paid","similarity":0.5021468966647877},{"column":"days_allowed","similarity":0.4821299724271749}],"sales_orders":[{"column":"required_date","similarity":0.5223999513586965}],"purchase_requisitions":[{"column":"required_date","similarity":0.5174102340873212},{"column":"notes","similarity":0.4846003356482508}],"maintenance_types":[{"column":"description","similarity":0.5119510628120414},{"column":"frequency_months","similarity":0.4922702669089287},{"column":"estimated_cost","similarity":0.48121611757654414}],"emergency_contacts":[{"column":"is_primary","similarity":0.5002447464244713}],"project_milestones":[{"column":"is_billable","similarity":0.49541387707350004},{"column":"description","similarity":0.4782212883173893}],"benefit_types":[{"column":"is_active","similarity":0.4905257359031393}],"business_units":[{"column":"is_active","similarity":0.4871697428534034}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.48362340098118217},{"column":"is_preferred","similarity":0.4765496659303714}],"units_of_measure":[{"column":"base_uom_id","similarity":0.4831180064251368}],"requisition_lines":[{"column":"quantity","similarity":0.48169140071868866}],"asset_maintenance":[{"column":"notes","similarity":0.47855041994114966}],"project_resources":[{"column":"hourly_rate","similarity":0.47812599772471986}],"project_tasks":[{"column":"priority","similarity":0.4780592694168637}],"vendor_contacts":[{"column":"is_primary","similarity":0.477243459923855}],"reorder_rules":[{"column":"max_quantity","similarity":0.4768456096343272}]},"fused_scores":[{"table":"training_courses","fused":0.9347595035621551,"table_sim":0.7832587829851695,"col_score":1.1620105844276334},{"table":"employee_training","fused":0.7740624029173362,"table_sim":0.6570057454586046,"col_score":0.9496473891054338},{"table":"certifications","fused":0.6966848226812605,"table_sim":0.5900939338505992,"col_score":0.8565711559272527},{"table":"employee_certifications","fused":0.6688391740505231,"table_sim":0.5662772014922313,"col_score":0.8226821328879609},{"table":"maintenance_types","fused":0.5888431583286563,"table_sim":0.49281971341629327,"col_score":0.7328783256972008},{"table":"leave_types","fused":0.3110478919709294,"table_sim":0,"col_score":0.7776197299273235},{"table":"product_suppliers","fused":0.2887592935785472,"table_sim":0,"col_score":0.7218982339463679},{"table":"purchase_requisitions","fused":0.27480814062568365,"table_sim":0,"col_score":0.687020351564209},{"table":"project_milestones","fused":0.26511653119383455,"table_sim":0,"col_score":0.6627913279845863},{"table":"sales_orders","fused":0.20895998054347864,"table_sim":0,"col_score":0.5223999513586965},{"table":"emergency_contacts","fused":0.20009789856978852,"table_sim":0,"col_score":0.5002447464244713},{"table":"requisition_lines","fused":0.19267656028747548,"table_sim":0,"col_score":0.48169140071868866},{"table":"project_resources","fused":0.19125039908988795,"table_sim":0,"col_score":0.47812599772471986},{"table":"project_tasks","fused":0.1912237077667455,"table_sim":0,"col_score":0.4780592694168637},{"table":"vendor_contacts","fused":0.190897383969542,"table_sim":0,"col_score":0.477243459923855}],"fk_expansion_candidates":39,"fk_expansion_added":0,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":27,"total_retrieval_latency_ms":33,"sql_generated":"SELECT tc.name AS course_name, tc.duration_hours, tc.cost, tc.is_mandatory FROM training_courses tc WHERE tc.is_mandatory = 'true';","tables_used_in_sql":[],"explain_result":"success","rows_returned":4,"total_latency_ms":735}
{"timestamp":"2026-02-01T22:19:55.583Z","query_id":"02852259-60cd-45cc-8939-77bebab0763a","question":"What are the different opportunity stages?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["opportunity_stages","sales_opportunities","project_phases","project_tasks","positions","projects","vendor_contacts","sales_quotes","employment_history","performance_reviews","task_assignments"],"tables_from_table_retrieval":5,"tables_from_column_only":17,"tables_from_fk_expansion":1,"table_scores":[{"table":"opportunity_stages","similarity":0.8221357699980866},{"table":"opportunity_stages","similarity":0.8176629035369016},{"table":"opportunity_stages","similarity":0.8176629035369016},{"table":"sales_opportunities","similarity":0.705452578214936},{"table":"sales_opportunities","similarity":0.6734243089266532},{"table":"sales_opportunities","similarity":0.6734243089266532},{"table":"project_phases","similarity":0.5910011427333453},{"table":"project_tasks","similarity":0.5856436723604402},{"table":"project_phases","similarity":0.5850374728279742},{"table":"project_phases","similarity":0.5850374728279742},{"table":"project_tasks","similarity":0.5669780419060751},{"table":"project_tasks","similarity":0.5669780419060751},{"table":"positions","similarity":0.5469043796027597},{"table":"positions","similarity":0.5469043796027597},{"table":"positions","similarity":0.5399052196547368}],"column_hits_per_table":{"opportunity_stages":6,"sales_opportunities":11,"project_phases":7,"sales_quotes":2,"project_tasks":4,"projects":3,"positions":1,"stock_transfers":1,"employment_history":1,"vendor_invoices":1,"sales_orders":1,"purchase_requisitions":1,"performance_reviews":1,"timesheets":1,"vendor_contacts":2,"employee_training":1,"purchase_orders":1,"task_assignments":1,"project_expenses":1,"journal_entries":1,"warehouse_locations":1,"leave_requests":1},"top_columns_per_table":{"opportunity_stages":[{"column":"name","similarity":0.7995522492175101},{"column":"probability","similarity":0.775558879369367},{"column":"sequence","similarity":0.7708343654238288}],"sales_opportunities":[{"column":"stage_id","similarity":0.7059415983640481},{"column":"source","similarity":0.6711321363690625},{"column":"name","similarity":0.6452724499361098}],"project_phases":[{"column":"status","similarity":0.6232576702180161},{"column":"description","similarity":0.6034091478912608},{"column":"start_date","similarity":0.6030372572830889}],"sales_quotes":[{"column":"opportunity_id","similarity":0.6147463179178642},{"column":"status","similarity":0.54330303115206}],"project_tasks":[{"column":"priority","similarity":0.5858528199183252},{"column":"status","similarity":0.5730801962534186},{"column":"phase_id","similarity":0.5607037044154554}],"projects":[{"column":"priority","similarity":0.5810811398487153},{"column":"status","similarity":0.5620351291324196},{"column":"start_date","similarity":0.5420441244772041}],"positions":[{"column":"title","similarity":0.5721393185558201}],"stock_transfers":[{"column":"status","similarity":0.5591229145906735}],"employment_history":[{"column":"position","similarity":0.5582251887233417}],"vendor_invoices":[{"column":"status","similarity":0.5574741035348497}],"sales_orders":[{"column":"status","similarity":0.5556357399820548}],"purchase_requisitions":[{"column":"status","similarity":0.5554818743499551}],"performance_reviews":[{"column":"review_period_start","similarity":0.5509040784070887}],"timesheets":[{"column":"status","similarity":0.5496387852297092}],"vendor_contacts":[{"column":"title","similarity":0.5480716599019128},{"column":"first_name","similarity":0.5390129346005467}],"employee_training":[{"column":"status","similarity":0.5462098751481785}],"purchase_orders":[{"column":"status","similarity":0.5452189780991694}],"task_assignments":[{"column":"role","similarity":0.5440927669761538}],"project_expenses":[{"column":"status","similarity":0.5419099926956821}],"journal_entries":[{"column":"status","similarity":0.541055083798884}],"warehouse_locations":[{"column":"aisle","similarity":0.5391761865875615}],"leave_requests":[{"column":"status","similarity":0.5379293041870119}]},"fused_scores":[{"table":"opportunity_stages","fused":0.9549881669546535,"table_sim":0.8176629035369016,"col_score":1.1609760620812812},{"table":"sales_opportunities","fused":0.8004357023749251,"table_sim":0.6734243089266532,"col_score":0.9909527925473333},{"table":"project_phases","fused":0.7083626528142624,"table_sim":0.5850374728279742,"col_score":0.8933504227936944},{"table":"project_tasks","fused":0.6842981253519156,"table_sim":0.5669780419060751,"col_score":0.8602782505206762},{"table":"positions","fused":0.5527988592151701,"table_sim":0.5399052196547368,"col_score":0.5721393185558201},{"table":"projects","fused":0.340841280834927,"table_sim":0,"col_score":0.8521032020873174},{"table":"vendor_contacts","fused":0.2946904748048416,"table_sim":0,"col_score":0.736726187012104},{"table":"sales_quotes","fused":0.24819139337829035,"table_sim":0,"col_score":0.6204784834457259},{"table":"employment_history","fused":0.2232900754893367,"table_sim":0,"col_score":0.5582251887233417},{"table":"performance_reviews","fused":0.2203616313628355,"table_sim":0,"col_score":0.5509040784070887},{"table":"task_assignments","fused":0.21763710679046155,"table_sim":0,"col_score":0.5440927669761538},{"table":"warehouse_locations","fused":0.21567047463502462,"table_sim":0,"col_score":0.5391761865875615},{"table":"stock_transfers","fused":0.1565544160853886,"table_sim":0,"col_score":0.39138604021347145},{"table":"vendor_invoices","fused":0.15609274898975792,"table_sim":0,"col_score":0.3902318724743948},{"table":"sales_orders","fused":0.15557800719497536,"table_sim":0,"col_score":0.38894501798743836}],"fk_expansion_candidates":36,"fk_expansion_added":1,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"task_assignments","reason":"already_selected"},{"table":"task_assignments","reason":"already_selected"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":44,"total_retrieval_latency_ms":50,"sql_generated":"SELECT DISTINCT os.name FROM public.opportunity_stages AS os;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"os","column":"name","resolved_table":"opportunity_stages","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":6,"total_latency_ms":1029}
{"timestamp":"2026-02-01T22:19:56.612Z","query_id":"e513ce55-418e-4ec2-8835-c0eaf54d2059","question":"List all countries in the system","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["countries","states_provinces","currencies","tax_rates","sales_territories","fiscal_periods","opportunity_stages","bank_transactions","sales_regions","cities","bank_accounts"],"tables_from_table_retrieval":5,"tables_from_column_only":19,"tables_from_fk_expansion":1,"table_scores":[{"table":"countries","similarity":0.7023951106153551},{"table":"countries","similarity":0.7023951106153551},{"table":"countries","similarity":0.7008865097920517},{"table":"states_provinces","similarity":0.6734638308582259},{"table":"states_provinces","similarity":0.6591125545328295},{"table":"states_provinces","similarity":0.6591125545328295},{"table":"tax_rates","similarity":0.6116670532927957},{"table":"tax_rates","similarity":0.6061652945068768},{"table":"tax_rates","similarity":0.6061652945068768},{"table":"currencies","similarity":0.6020049493436493},{"table":"currencies","similarity":0.6020049493436493},{"table":"sales_territories","similarity":0.5947794602061558},{"table":"sales_territories","similarity":0.5849505696482399},{"table":"sales_territories","similarity":0.5849505696482399},{"table":"currencies","similarity":0.5771716778997639}],"column_hits_per_table":{"countries":4,"states_provinces":4,"tax_rates":3,"sales_regions":3,"currencies":5,"sales_territories":3,"cities":2,"fiscal_periods":5,"departments":1,"opportunity_stages":3,"bank_accounts":2,"certifications":1,"customers":1,"bank_transactions":2,"chart_of_accounts":2,"purchase_orders":1,"depreciation_schedules":1,"asset_categories":1,"employee_certifications":1,"budgets":1,"purchase_requisitions":1,"business_units":1,"sales_orders":1,"units_of_measure":1},"top_columns_per_table":{"countries":[{"column":"iso_code","similarity":0.7083775622560948},{"column":"country_id","similarity":0.7028095022039754},{"column":"name","similarity":0.6970026208946949}],"states_provinces":[{"column":"country_id","similarity":0.6563023532078734},{"column":"abbreviation","similarity":0.610560847165871},{"column":"state_id","similarity":0.6086767321787677}],"tax_rates":[{"column":"country_id","similarity":0.6387496649533285},{"column":"is_active","similarity":0.5264660070125073},{"column":"tax_type","similarity":0.5228388468873347}],"sales_regions":[{"column":"region_id","similarity":0.5880376169487528},{"column":"name","similarity":0.5823393740796537},{"column":"target_revenue","similarity":0.5801802361991993}],"currencies":[{"column":"code","similarity":0.5822359917761808},{"column":"symbol","similarity":0.581336012492315},{"column":"currency_id","similarity":0.5776652580200841}],"sales_territories":[{"column":"territory_id","similarity":0.579860320592295},{"column":"region_id","similarity":0.5750186636565423},{"column":"name","similarity":0.5543913807302997}],"cities":[{"column":"state_id","similarity":0.561394466233867},{"column":"postal_code","similarity":0.5370910514815247}],"fiscal_periods":[{"column":"period_id","similarity":0.5496379201904278},{"column":"period_number","similarity":0.5424020784794457},{"column":"is_closed","similarity":0.5331943381268962}],"departments":[{"column":"budget","similarity":0.548192913887592}],"opportunity_stages":[{"column":"is_won","similarity":0.5424096057947908},{"column":"is_closed","similarity":0.5277608595146904},{"column":"stage_id","similarity":0.5252744287271072}],"bank_accounts":[{"column":"currency_id","similarity":0.5421220565667533},{"column":"account_number","similarity":0.5251662683345438}],"certifications":[{"column":"issuing_body","similarity":0.5363419232957559}],"customers":[{"column":"currency_id","similarity":0.5360168510784518}],"bank_transactions":[{"column":"reconciled","similarity":0.5347524839098835},{"column":"reference","similarity":0.522643358832243}],"chart_of_accounts":[{"column":"account_number","similarity":0.5329009773739953},{"column":"is_active","similarity":0.5235896571283579}],"purchase_orders":[{"column":"total","similarity":0.5290507808378154}],"depreciation_schedules":[{"column":"depreciation_method","similarity":0.5287294649500551}],"asset_categories":[{"column":"depreciation_method","similarity":0.5276413708583213}],"employee_certifications":[{"column":"certificate_number","similarity":0.5267762383677346}],"budgets":[{"column":"total_amount","similarity":0.5266785560945311}],"purchase_requisitions":[{"column":"requisition_number","similarity":0.5257685863079752}],"business_units":[{"column":"is_active","similarity":0.523602018511161}],"sales_orders":[{"column":"total","similarity":0.5224556777614774}],"units_of_measure":[{"column":"conversion_factor","similarity":0.5222786094381444}]},"fused_scores":[{"table":"countries","fused":0.8427695063608152,"table_sim":0.7008865097920517,"col_score":1.0555940012139602},{"table":"states_provinces","fused":0.7315742010351484,"table_sim":0.6591125545328295,"col_score":0.8402666707886267},{"table":"currencies","fused":0.6954646059487937,"table_sim":0.5771716778997639,"col_score":0.8729039980223383},{"table":"tax_rates","fused":0.6622596685525259,"table_sim":0.6061652945068768,"col_score":0.7464012296209996},{"table":"sales_territories","fused":0.5938338444667024,"table_sim":0.5849505696482399,"col_score":0.6071587566943962},{"table":"fiscal_periods","fused":0.3235996990171575,"table_sim":0,"col_score":0.8089992475428938},{"table":"opportunity_stages","fused":0.32251601422085446,"table_sim":0,"col_score":0.8062900355521361},{"table":"bank_transactions","fused":0.318429665330402,"table_sim":0,"col_score":0.796074163326005},{"table":"sales_regions","fused":0.31439736085250514,"table_sim":0,"col_score":0.7859934021312628},{"table":"cities","fused":0.29343164586535125,"table_sim":0,"col_score":0.7335791146633781},{"table":"chart_of_accounts","fused":0.28646294294756824,"table_sim":0,"col_score":0.7161573573689206},{"table":"bank_accounts","fused":0.285963595253163,"table_sim":0,"col_score":0.7149089881329075},{"table":"departments","fused":0.2192771655550368,"table_sim":0,"col_score":0.548192913887592},{"table":"certifications","fused":0.21453676931830237,"table_sim":0,"col_score":0.5363419232957559},{"table":"purchase_orders","fused":0.21162031233512618,"table_sim":0,"col_score":0.5290507808378154}],"fk_expansion_candidates":30,"fk_expansion_added":1,"fk_expansion_blocked_count":27,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"bank_accounts","reason":"already_selected"},{"table":"bank_accounts","reason":"already_selected"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":16,"total_retrieval_latency_ms":22,"sql_generated":"SELECT name AS country_name FROM public.countries LIMIT 1000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":10,"total_latency_ms":672}
{"timestamp":"2026-02-01T22:19:57.284Z","query_id":"3206075e-fb0d-41d0-8229-ca8815890ccc","question":"How many departments are there?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["departments","inventory_levels","employees","sales_territories","positions","budgets","cost_centers","warehouse_locations","asset_locations","asset_categories","employee_certifications","sales_orders"],"tables_from_table_retrieval":7,"tables_from_column_only":16,"tables_from_fk_expansion":2,"table_scores":[{"table":"departments","similarity":0.6535557627991134},{"table":"departments","similarity":0.6535557627991134},{"table":"departments","similarity":0.6407681888721862},{"table":"positions","similarity":0.5959740852224922},{"table":"positions","similarity":0.5959740852224922},{"table":"positions","similarity":0.5909863911053447},{"table":"cost_centers","similarity":0.574249226454042},{"table":"inventory_levels","similarity":0.5635818909554858},{"table":"cost_centers","similarity":0.562339325750535},{"table":"cost_centers","similarity":0.562339325750535},{"table":"budgets","similarity":0.5602507290061229},{"table":"sales_territories","similarity":0.5569437466660422},{"table":"employees","similarity":0.5540635075766074},{"table":"sales_territories","similarity":0.5531933158048384},{"table":"sales_territories","similarity":0.5531933158048384}],"column_hits_per_table":{"departments":6,"positions":1,"budgets":1,"purchase_requisitions":1,"cost_centers":1,"employees":3,"warehouse_locations":4,"inventory_levels":5,"sales_orders":2,"business_units":2,"employee_certifications":1,"countries":2,"receipt_lines":1,"asset_categories":4,"sales_territories":2,"goods_receipts":1,"asset_locations":4,"states_provinces":3,"product_categories":2,"journal_entries":1,"chart_of_accounts":1,"sales_regions":1,"inventory_transactions":1},"top_columns_per_table":{"departments":[{"column":"name","similarity":0.678380475338454},{"column":"department_id","similarity":0.6593894511959907},{"column":"budget","similarity":0.631673223767257}],"positions":[{"column":"department_id","similarity":0.6072106973795759}],"budgets":[{"column":"department_id","similarity":0.5890663072722551}],"purchase_requisitions":[{"column":"department_id","similarity":0.5855616262286726}],"cost_centers":[{"column":"department_id","similarity":0.5801677807148357}],"employees":[{"column":"department_id","similarity":0.5766911086411527},{"column":"phone","similarity":0.5295780565782041},{"column":"employee_number","similarity":0.5251671661617511}],"warehouse_locations":[{"column":"capacity","similarity":0.5507916811505368},{"column":"aisle","similarity":0.5346342650807901},{"column":"bin","similarity":0.5344635750630128}],"inventory_levels":[{"column":"quantity_available","similarity":0.5467954154024948},{"column":"location_id","similarity":0.532130309929655},{"column":"quantity_reserved","similarity":0.5279718840166341}],"sales_orders":[{"column":"order_number","similarity":0.5423432633706802},{"column":"status","similarity":0.5226058429697297}],"business_units":[{"column":"is_active","similarity":0.5413660134598213},{"column":"name","similarity":0.5225405146150363}],"employee_certifications":[{"column":"certificate_number","similarity":0.5375188956698979}],"countries":[{"column":"name","similarity":0.5369300526104707},{"column":"iso_code","similarity":0.5206752985321579}],"receipt_lines":[{"column":"location_id","similarity":0.5363959514134431}],"asset_categories":[{"column":"category_id","similarity":0.5357603627459196},{"column":"depreciation_method","similarity":0.5284195914126985},{"column":"name","similarity":0.5197745476582827}],"sales_territories":[{"column":"territory_id","similarity":0.5346785292416978},{"column":"name","similarity":0.5288174476965474}],"goods_receipts":[{"column":"receipt_number","similarity":0.5337386452781889}],"asset_locations":[{"column":"room","similarity":0.5330969405978414},{"column":"description","similarity":0.5283506129509129},{"column":"building","similarity":0.5225884931150223}],"states_provinces":[{"column":"abbreviation","similarity":0.5328751078215296},{"column":"name","similarity":0.5263993354834775},{"column":"country_id","similarity":0.5203449985844515}],"product_categories":[{"column":"is_active","similarity":0.5291272971983432},{"column":"category_id","similarity":0.5230748940289889}],"journal_entries":[{"column":"entry_number","similarity":0.5229571409622702}],"chart_of_accounts":[{"column":"account_number","similarity":0.522049128691497}],"sales_regions":[{"column":"name","similarity":0.5218640467095127}],"inventory_transactions":[{"column":"location_id","similarity":0.52026154765506}]},"fused_scores":[{"table":"departments","fused":0.7321034693775981,"table_sim":0.6407681888721862,"col_score":0.8691063901357159},{"table":"inventory_levels","fused":0.6624616775376162,"table_sim":0.5635818909554858,"col_score":0.8107813574108118},{"table":"employees","fused":0.6493027604095962,"table_sim":0.5540635075766074,"col_score":0.7921616396590796},{"table":"sales_territories","fused":0.555660420348095,"table_sim":0.5531933158048384,"col_score":0.55936107716298},{"table":"positions","fused":0.524610829929488,"table_sim":0.5909863911053447,"col_score":0.4250474881657031},{"table":"budgets","fused":0.5010890034399051,"table_sim":0.5602507290061229,"col_score":0.4123464150905785},{"table":"cost_centers","fused":0.499850574050475,"table_sim":0.562339325750535,"col_score":0.40611744650038495},{"table":"warehouse_locations","fused":0.32724352547637275,"table_sim":0,"col_score":0.8181088136909318},{"table":"asset_locations","fused":0.3177564748621411,"table_sim":0,"col_score":0.7943911871553526},{"table":"asset_categories","fused":0.3151618766771569,"table_sim":0,"col_score":0.7879046916928921},{"table":"sales_orders","fused":0.29010212336403424,"table_sim":0,"col_score":0.7252553084100856},{"table":"states_provinces","fused":0.2868459500962987,"table_sim":0,"col_score":0.7171148752407467},{"table":"countries","fused":0.2834403267783291,"table_sim":0,"col_score":0.7086008169458227},{"table":"business_units","fused":0.22473815581485504,"table_sim":0,"col_score":0.5618453895371376},{"table":"product_categories","fused":0.2213861283795945,"table_sim":0,"col_score":0.5534653209489863}],"fk_expansion_candidates":111,"fk_expansion_added":2,"fk_expansion_blocked_count":96,"fk_expansion_blocked":[{"table":"employee_training","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"max_tables"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"max_tables"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"employee_certifications","reason":"already_selected"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"max_tables"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"already_selected"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"already_selected"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"max_tables"},{"table":"timesheets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_orders","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":22,"total_retrieval_latency_ms":29,"sql_generated":"SELECT COUNT(*) FROM departments;","tables_used_in_sql":[],"explain_result":"success","sqlstate":"42P01","error_message":"relation \"hr.departments\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Unknown table or alias 'hr.departments'. Available tables: departments, inventory_levels, employees, sales_territories, positions, budgets, cost_centers, warehouse_locations, asset_locations, asset_categories, employee_certifications, sales_orders","rows_returned":1,"total_latency_ms":595}
{"timestamp":"2026-02-01T22:19:57.879Z","query_id":"5f283afa-a176-4e8c-b39d-06dbd2d80e7e","question":"List all units of measure","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["units_of_measure","products","business_units","currencies","sales_regions","requisition_lines","purchase_orders","sales_orders","order_lines","vendor_invoice_lines","adjustment_lines","inventory_levels"],"tables_from_table_retrieval":7,"tables_from_column_only":19,"tables_from_fk_expansion":2,"table_scores":[{"table":"units_of_measure","similarity":0.8089934324181249},{"table":"units_of_measure","similarity":0.7895937174937386},{"table":"units_of_measure","similarity":0.7895937174937386},{"table":"products","similarity":0.6263866411837252},{"table":"business_units","similarity":0.6082946070315649},{"table":"products","similarity":0.6051913757119329},{"table":"products","similarity":0.6051913757119329},{"table":"business_units","similarity":0.5900234669630597},{"table":"business_units","similarity":0.5900234669630597},{"table":"currencies","similarity":0.5785280842826401},{"table":"currencies","similarity":0.5720700199289973},{"table":"currencies","similarity":0.5720700199289973},{"table":"sales_regions","similarity":0.5709271404332362},{"table":"sales_territories","similarity":0.5693966691739235},{"table":"countries","similarity":0.5676275319870521}],"column_hits_per_table":{"units_of_measure":5,"products":3,"requisition_lines":3,"business_units":5,"purchase_orders":3,"sales_orders":3,"product_suppliers":1,"departments":1,"inventory_transactions":1,"sales_regions":1,"currencies":1,"order_lines":3,"vendor_invoice_lines":2,"po_lines":2,"quote_lines":2,"adjustment_lines":3,"inventory_levels":3,"reorder_rules":1,"asset_categories":1,"transfer_lines":2,"tax_rates":1,"project_milestones":1,"budgets":1,"receipt_lines":1},"top_columns_per_table":{"units_of_measure":[{"column":"abbreviation","similarity":0.7905971303186856},{"column":"conversion_factor","similarity":0.7833828440035688},{"column":"name","similarity":0.7549748821453383}],"products":[{"column":"uom_id","similarity":0.7018268610085459},{"column":"unit_cost","similarity":0.6357703641175493},{"column":"weight","similarity":0.597521277353181}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.6362527169972213},{"column":"quantity","similarity":0.608908951408363},{"column":"estimated_total","similarity":0.598798666730362}],"business_units":[{"column":"unit_id","similarity":0.6283846620229621},{"column":"name","similarity":0.6160237054357993},{"column":"parent_unit_id","similarity":0.6074989732588798}],"purchase_orders":[{"column":"total","similarity":0.6147119133982193},{"column":"tax_amount","similarity":0.6002595814679341},{"column":"subtotal","similarity":0.5887334871771862}],"sales_orders":[{"column":"total","similarity":0.606574371601994},{"column":"tax_amount","similarity":0.592411431937674},{"column":"subtotal","similarity":0.585337724387252}],"product_suppliers":[{"column":"unit_cost","similarity":0.6058427693449309}],"departments":[{"column":"budget","similarity":0.6046532256680471}],"inventory_transactions":[{"column":"quantity","similarity":0.6037555563643355}],"sales_regions":[{"column":"target_revenue","similarity":0.6026638163293001}],"currencies":[{"column":"exchange_rate","similarity":0.6025841949257517}],"order_lines":[{"column":"unit_price","similarity":0.6016699280890015},{"column":"quantity","similarity":0.5822554877944045},{"column":"line_total","similarity":0.5819165003498858}],"vendor_invoice_lines":[{"column":"unit_cost","similarity":0.6013213563918418},{"column":"quantity","similarity":0.57804483639951}],"po_lines":[{"column":"unit_cost","similarity":0.597312540023666},{"column":"quantity","similarity":0.5779166241917584}],"quote_lines":[{"column":"unit_price","similarity":0.5965595055733411},{"column":"quantity","similarity":0.5837858568841348}],"adjustment_lines":[{"column":"quantity_before","similarity":0.5945081677052466},{"column":"quantity_change","similarity":0.5890466100435946},{"column":"quantity_after","similarity":0.587875110907794}],"inventory_levels":[{"column":"quantity_available","similarity":0.5904376058765937},{"column":"quantity_reserved","similarity":0.5894690175037719},{"column":"quantity_on_hand","similarity":0.5808299611130434}],"reorder_rules":[{"column":"reorder_quantity","similarity":0.5875427358229924}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.5860444284970066}],"transfer_lines":[{"column":"quantity_transferred","similarity":0.5836411952827008},{"column":"quantity_requested","similarity":0.577863082344162}],"tax_rates":[{"column":"rate","similarity":0.5831694594676794}],"project_milestones":[{"column":"amount","similarity":0.5831155463251225}],"budgets":[{"column":"total_amount","similarity":0.5816261216703643}],"receipt_lines":[{"column":"quantity_received","similarity":0.5799887522477924}]},"fused_scores":[{"table":"units_of_measure","fused":0.9466716514244312,"table_sim":0.7895937174937386,"col_score":1.18228855232047},{"table":"products","fused":0.7369272265448157,"table_sim":0.6051913757119329,"col_score":0.9345310027941398},{"table":"business_units","fused":0.6162051043052771,"table_sim":0.5900234669630597,"col_score":0.6554775603186032},{"table":"currencies","fused":0.5842756899276991,"table_sim":0.5720700199289973,"col_score":0.6025841949257517},{"table":"sales_regions","fused":0.5836218107916618,"table_sim":0.5709271404332362,"col_score":0.6026638163293001},{"table":"requisition_lines","fused":0.37628287708056113,"table_sim":0,"col_score":0.9407071927014028},{"table":"purchase_orders","fused":0.3659366816528746,"table_sim":0,"col_score":0.9148417041321864},{"table":"sales_orders","fused":0.3611120350283324,"table_sim":0,"col_score":0.902780087570831},{"table":"order_lines","fused":0.3571190687944816,"table_sim":0,"col_score":0.8927976719862039},{"table":"vendor_invoice_lines","fused":0.3561375098366387,"table_sim":0,"col_score":0.8903437745915967},{"table":"adjustment_lines","fused":0.35561258909081755,"table_sim":0,"col_score":0.8890314727270439},{"table":"quote_lines","fused":0.35538097360616344,"table_sim":0,"col_score":0.8884524340154085},{"table":"po_lines","fused":0.35450834084781807,"table_sim":0,"col_score":0.8862708521195451},{"table":"inventory_levels","fused":0.35406884585139187,"table_sim":0,"col_score":0.8851721146284797},{"table":"transfer_lines","fused":0.3490290945819127,"table_sim":0,"col_score":0.8725727364547817}],"fk_expansion_candidates":66,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"already_selected"},{"table":"adjustment_lines","reason":"already_selected"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"inventory_levels","reason":"already_selected"},{"table":"inventory_levels","reason":"already_selected"},{"table":"inventory_transactions","reason":"max_tables"},{"table":"inventory_transactions","reason":"max_tables"},{"table":"inventory_transactions","reason":"max_tables"},{"table":"po_lines","reason":"max_tables"},{"table":"po_lines","reason":"max_tables"},{"table":"po_lines","reason":"max_tables"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"product_suppliers","reason":"max_tables"},{"table":"product_suppliers","reason":"max_tables"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"max_tables"},{"table":"quote_lines","reason":"max_tables"},{"table":"quote_lines","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_territories","reason":"max_tables"},{"table":"sales_territories","reason":"max_tables"},{"table":"sales_territories","reason":"max_tables"},{"table":"transfer_lines","reason":"max_tables"},{"table":"transfer_lines","reason":"max_tables"},{"table":"transfer_lines","reason":"max_tables"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":23,"total_retrieval_latency_ms":30,"sql_generated":"SELECT uom.name AS unit_of_measure, uom.abbreviation, uom.conversion_factor FROM public.units_of_measure uom LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"uom","column":"name","resolved_table":"units_of_measure","suggested_columns":[]},{"alias":"uom","column":"abbreviation","resolved_table":"units_of_measure","suggested_columns":[]},{"alias":"uom","column":"conversion_factor","resolved_table":"units_of_measure","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":11,"total_latency_ms":1943}
{"timestamp":"2026-02-01T22:19:59.823Z","query_id":"e31883e5-168a-4765-a364-aa83cee5d69e","question":"What fiscal years exist in the system?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["fiscal_years","fiscal_periods","budgets","budget_lines","journal_entries","depreciation_schedules","project_expenses","depreciation_entries","project_budgets","departments","projects"],"tables_from_table_retrieval":5,"tables_from_column_only":14,"tables_from_fk_expansion":1,"table_scores":[{"table":"fiscal_years","similarity":0.8183387248728355},{"table":"fiscal_years","similarity":0.8183387248728355},{"table":"fiscal_years","similarity":0.7923960498118316},{"table":"fiscal_periods","similarity":0.7699028512495149},{"table":"fiscal_periods","similarity":0.7699028512495149},{"table":"fiscal_periods","similarity":0.7616670856526071},{"table":"budgets","similarity":0.6929504016420824},{"table":"budgets","similarity":0.6929504016420824},{"table":"budgets","similarity":0.6911637589323553},{"table":"journal_entries","similarity":0.6311027258951736},{"table":"journal_entries","similarity":0.6311027258951736},{"table":"journal_entries","similarity":0.6269724979465695},{"table":"budget_lines","similarity":0.6265695821327767},{"table":"budget_lines","similarity":0.6265695821327767},{"table":"budget_lines","similarity":0.6218203134963756}],"column_hits_per_table":{"fiscal_years":5,"fiscal_periods":7,"budgets":8,"budget_lines":2,"depreciation_entries":3,"journal_entries":1,"depreciation_schedules":7,"departments":1,"project_expenses":2,"tax_rates":1,"project_budgets":5,"goods_receipts":1,"project_milestones":1,"projects":1,"timesheet_entries":1,"certifications":1,"inventory_levels":1,"asset_categories":1,"performance_reviews":1},"top_columns_per_table":{"fiscal_years":[{"column":"year","similarity":0.7902938308136325},{"column":"start_date","similarity":0.7844335948238378},{"column":"is_closed","similarity":0.7638424844354721}],"fiscal_periods":[{"column":"start_date","similarity":0.7601567095836461},{"column":"period_number","similarity":0.7434306851749984},{"column":"fiscal_year_id","similarity":0.7373948668168524}],"budgets":[{"column":"fiscal_year_id","similarity":0.7068934556378452},{"column":"status","similarity":0.6300839143318829},{"column":"created_at","similarity":0.6147789265228972}],"budget_lines":[{"column":"period_id","similarity":0.6839294330886287},{"column":"amount","similarity":0.5950811318817956}],"depreciation_entries":[{"column":"period_id","similarity":0.6671048533605741},{"column":"entry_date","similarity":0.6166792618330323},{"column":"accumulated_depreciation","similarity":0.5915536252801723}],"journal_entries":[{"column":"period_id","similarity":0.6645913597158091}],"depreciation_schedules":[{"column":"start_date","similarity":0.6314787914062867},{"column":"annual_amount","similarity":0.6313190612846479},{"column":"useful_life_months","similarity":0.6308778018363276}],"departments":[{"column":"budget","similarity":0.6263454768284962}],"project_expenses":[{"column":"expense_date","similarity":0.6141262646464515},{"column":"is_billable","similarity":0.5998077038798406}],"tax_rates":[{"column":"is_active","similarity":0.6079363851045628}],"project_budgets":[{"column":"category","similarity":0.6067101243827773},{"column":"actual_amount","similarity":0.6035940113028686},{"column":"planned_amount","similarity":0.5909686825338804}],"goods_receipts":[{"column":"receipt_date","similarity":0.5995701019739215}],"project_milestones":[{"column":"is_billable","similarity":0.5993047255562765}],"projects":[{"column":"budget","similarity":0.598827943777881}],"timesheet_entries":[{"column":"is_billable","similarity":0.5944565914670504}],"certifications":[{"column":"validity_years","similarity":0.5933814278726485}],"inventory_levels":[{"column":"last_count_date","similarity":0.5777729074188763}],"asset_categories":[{"column":"useful_life_years","similarity":0.5760847255808716}],"performance_reviews":[{"column":"review_period_start","similarity":0.5749621953817389}]},"fused_scores":[{"table":"fiscal_years","fused":0.9484418811773195,"table_sim":0.7923960498118316,"col_score":1.1825106282255513},{"table":"fiscal_periods","fused":0.9097490722600224,"table_sim":0.7616670856526071,"col_score":1.1318720521711454},{"table":"budgets","fused":0.7755758986289861,"table_sim":0.6911637589323553,"col_score":0.9021941081739324},{"table":"budget_lines","fused":0.7068747614829516,"table_sim":0.6218203134963756,"col_score":0.8344564334628156},{"table":"journal_entries","fused":0.5622690794883682,"table_sim":0.6269724979465695,"col_score":0.46521395180106634},{"table":"depreciation_schedules","fused":0.3788553288194443,"table_sim":0,"col_score":0.9471383220486107},{"table":"project_expenses","fused":0.3656120466345487,"table_sim":0,"col_score":0.9140301165863718},{"table":"depreciation_entries","fused":0.36498242978924744,"table_sim":0,"col_score":0.9124560744731185},{"table":"project_budgets","fused":0.36340285201368466,"table_sim":0,"col_score":0.9085071300342116},{"table":"departments","fused":0.2505381907313985,"table_sim":0,"col_score":0.6263454768284962},{"table":"goods_receipts","fused":0.2398280407895686,"table_sim":0,"col_score":0.5995701019739215},{"table":"project_milestones","fused":0.2397218902225106,"table_sim":0,"col_score":0.5993047255562765},{"table":"projects","fused":0.23953117751115238,"table_sim":0,"col_score":0.598827943777881},{"table":"timesheet_entries","fused":0.2377826365868202,"table_sim":0,"col_score":0.5944565914670504},{"table":"certifications","fused":0.2373525711490594,"table_sim":0,"col_score":0.5933814278726485}],"fk_expansion_candidates":24,"fk_expansion_added":1,"fk_expansion_blocked_count":21,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"projects","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":23,"total_retrieval_latency_ms":29,"sql_generated":"SELECT fy.year FROM fiscal_years AS fy;","tables_used_in_sql":[],"explain_result":"success","rows_returned":4,"total_latency_ms":332}
{"timestamp":"2026-02-01T22:20:00.155Z","query_id":"e8eae151-118b-4852-8c0c-7a9a2ffa1c7f","question":"What are the different asset categories?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["asset_categories","account_types","asset_locations","fixed_assets","asset_maintenance","product_categories","asset_transfers","benefit_types","project_expenses","project_budgets"],"tables_from_table_retrieval":6,"tables_from_column_only":7,"tables_from_fk_expansion":0,"table_scores":[{"table":"asset_categories","similarity":0.8168827711422647},{"table":"asset_categories","similarity":0.8134793431523083},{"table":"asset_categories","similarity":0.8134793431523083},{"table":"fixed_assets","similarity":0.6620037919617541},{"table":"asset_locations","similarity":0.6468082033879321},{"table":"asset_locations","similarity":0.6468082033879321},{"table":"account_types","similarity":0.6392335414992715},{"table":"account_types","similarity":0.6392335414992715},{"table":"asset_locations","similarity":0.6390829860060242},{"table":"account_types","similarity":0.6334397842726383},{"table":"fixed_assets","similarity":0.6332464262776372},{"table":"fixed_assets","similarity":0.6332464262776372},{"table":"product_categories","similarity":0.622177487707741},{"table":"asset_maintenance","similarity":0.621270551657517},{"table":"product_categories","similarity":0.6161228444008824}],"column_hits_per_table":{"asset_categories":5,"fixed_assets":10,"account_types":4,"product_categories":5,"asset_locations":6,"asset_transfers":5,"asset_maintenance":6,"project_expenses":1,"project_budgets":1,"depreciation_entries":1,"benefit_types":4,"inventory_transactions":1,"depreciation_schedules":1},"top_columns_per_table":{"asset_categories":[{"column":"name","similarity":0.7902231168417967},{"column":"depreciation_method","similarity":0.7641026405824345},{"column":"category_id","similarity":0.7475795784240159}],"fixed_assets":[{"column":"category_id","similarity":0.6898370099083994},{"column":"asset_tag","similarity":0.659930462800288},{"column":"description","similarity":0.629346644194807}],"account_types":[{"column":"category","similarity":0.6883084443883226},{"column":"name","similarity":0.6020433835273314},{"column":"normal_balance","similarity":0.5917412279908575}],"product_categories":[{"column":"name","similarity":0.6522085161925151},{"column":"description","similarity":0.6484645130847195},{"column":"category_id","similarity":0.631540985602705}],"asset_locations":[{"column":"description","similarity":0.6488050493910993},{"column":"building","similarity":0.6483121830299632},{"column":"floor","similarity":0.6444734391905819}],"asset_transfers":[{"column":"reason","similarity":0.6419731845624105},{"column":"asset_id","similarity":0.6224855112874936},{"column":"transfer_id","similarity":0.6060934515527893}],"asset_maintenance":[{"column":"status","similarity":0.6309357234230896},{"column":"asset_id","similarity":0.6034723424281385},{"column":"maintenance_type_id","similarity":0.6018157616864643}],"project_expenses":[{"column":"category","similarity":0.6221479187210215}],"project_budgets":[{"column":"category","similarity":0.6204340275365261}],"depreciation_entries":[{"column":"asset_id","similarity":0.6128013635594587}],"benefit_types":[{"column":"name","similarity":0.5964873863033975},{"column":"is_active","similarity":0.5870686558139139},{"column":"description","similarity":0.5863146004190054}],"inventory_transactions":[{"column":"transaction_type","similarity":0.5905534346047462}],"depreciation_schedules":[{"column":"asset_id","similarity":0.5713899455592317}]},"fused_scores":[{"table":"asset_categories","fused":0.9391952629822058,"table_sim":0.8134793431523083,"col_score":1.1277691427270522},{"table":"account_types","fused":0.7737354939170835,"table_sim":0.6334397842726383,"col_score":0.9841790583837513},{"table":"asset_locations","fused":0.7716693526537162,"table_sim":0.6390829860060242,"col_score":0.9705489026252541},{"table":"fixed_assets","fused":0.7665405274107377,"table_sim":0.6332464262776372,"col_score":0.9664816791103885},{"table":"asset_maintenance","fused":0.6938376694491932,"table_sim":0.621270551657517,"col_score":0.8026883461367075},{"table":"product_categories","fused":0.6430771230062944,"table_sim":0.6161228444008824,"col_score":0.6835085409144124},{"table":"asset_transfers","fused":0.3439372454052133,"table_sim":0,"col_score":0.8598431135130332},{"table":"benefit_types","fused":0.3140060282096114,"table_sim":0,"col_score":0.7850150705240284},{"table":"project_expenses","fused":0.2488591674884086,"table_sim":0,"col_score":0.6221479187210215},{"table":"project_budgets","fused":0.24817361101461044,"table_sim":0,"col_score":0.6204340275365261},{"table":"inventory_transactions","fused":0.23622137384189848,"table_sim":0,"col_score":0.5905534346047462},{"table":"depreciation_entries","fused":0.17158438179664845,"table_sim":0,"col_score":0.4289609544916211},{"table":"depreciation_schedules","fused":0.15998918475658488,"table_sim":0,"col_score":0.3999729618914622}],"fk_expansion_candidates":30,"fk_expansion_added":0,"fk_expansion_blocked_count":30,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":29,"total_retrieval_latency_ms":35,"sql_generated":"SELECT DISTINCT ac.name FROM asset_categories ac;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"ac","column":"asset_categories","resolved_table":"asset_categories","suggested_columns":["category_id","name","depreciation_method"]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":7,"total_latency_ms":884}
{"timestamp":"2026-02-01T22:20:01.039Z","query_id":"cf29ff47-bc8b-4f94-8a4c-6f59dcc04d25","question":"Find employees who have been with the company for more than 5 years and earn above $100,000","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_salaries","employees","employee_certifications","employee_benefits","project_expenses","employment_history","sales_quotes","employee_training","positions","asset_transfers","budgets","certifications"],"tables_from_table_retrieval":7,"tables_from_column_only":14,"tables_from_fk_expansion":2,"table_scores":[{"table":"employee_salaries","similarity":0.6654254442281295},{"table":"employee_salaries","similarity":0.6654254442281295},{"table":"employee_salaries","similarity":0.6596309142898193},{"table":"employees","similarity":0.6117387326317625},{"table":"employee_certifications","similarity":0.6063101517291073},{"table":"employees","similarity":0.606186516761946},{"table":"employees","similarity":0.606186516761946},{"table":"employment_history","similarity":0.6006272540139823},{"table":"employee_certifications","similarity":0.5953253092667586},{"table":"employee_certifications","similarity":0.5953253092667586},{"table":"employee_benefits","similarity":0.588385638564704},{"table":"sales_quotes","similarity":0.5847288131119626},{"table":"employment_history","similarity":0.5816250485632297},{"table":"employment_history","similarity":0.5816250485632297},{"table":"project_expenses","similarity":0.5811440306100932}],"column_hits_per_table":{"employees":12,"employee_salaries":7,"positions":1,"employee_benefits":4,"employee_certifications":4,"employee_training":3,"project_expenses":2,"employment_history":3,"sales_opportunities":1,"certifications":1,"sales_territories":1,"sales_regions":1,"departments":1,"asset_maintenance":1,"performance_reviews":1,"stock_transfers":1,"asset_transfers":2,"budgets":1,"business_units":1,"sales_quotes":1,"fixed_assets":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.6634350719038632},{"column":"employee_number","similarity":0.6178594752574701},{"column":"phone","similarity":0.6028489163745482}],"employee_salaries":[{"column":"effective_date","similarity":0.6325147223182844},{"column":"amount","similarity":0.627965316071432},{"column":"change_reason","similarity":0.6266782573270714}],"positions":[{"column":"max_salary","similarity":0.6112158084495339}],"employee_benefits":[{"column":"coverage_level","similarity":0.5965564678891593},{"column":"employee_id","similarity":0.5947734668013144},{"column":"end_date","similarity":0.5815712638966307}],"employee_certifications":[{"column":"employee_id","similarity":0.5958865176403652},{"column":"certificate_number","similarity":0.5893732822005266},{"column":"expiry_date","similarity":0.5756670437109045}],"employee_training":[{"column":"score","similarity":0.594787770669282},{"column":"status","similarity":0.5774230731413645},{"column":"employee_id","similarity":0.5759810499755345}],"project_expenses":[{"column":"approved_by","similarity":0.58905654304545},{"column":"employee_id","similarity":0.5854824682576782}],"employment_history":[{"column":"company_name","similarity":0.5869895260528193},{"column":"employee_id","similarity":0.5858925427082532},{"column":"reason_for_leaving","similarity":0.5712660305823464}],"sales_opportunities":[{"column":"owner_id","similarity":0.5856823321086454}],"certifications":[{"column":"validity_years","similarity":0.5840712968289695}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.579938073636457}],"sales_regions":[{"column":"manager_id","similarity":0.5798434571294604}],"departments":[{"column":"manager_id","similarity":0.5782009360695254}],"asset_maintenance":[{"column":"performed_by","similarity":0.576890099577467}],"performance_reviews":[{"column":"employee_id","similarity":0.5764391015238134}],"stock_transfers":[{"column":"created_by","similarity":0.5750810763105169}],"asset_transfers":[{"column":"from_employee_id","similarity":0.5737448429559486},{"column":"to_employee_id","similarity":0.5721019443631485}],"budgets":[{"column":"approved_by","similarity":0.5736402980527732}],"business_units":[{"column":"manager_id","similarity":0.5724467750107093}],"sales_quotes":[{"column":"created_by","similarity":0.5703253266483399}],"fixed_assets":[{"column":"assigned_to","similarity":0.5702142656726066}]},"fused_scores":[{"table":"employee_salaries","fused":0.7743775007154918,"table_sim":0.6596309142898193,"col_score":0.9464973803540004},{"table":"employees","fused":0.7526578338702069,"table_sim":0.606186516761946,"col_score":0.9723648095325983},{"table":"employee_certifications","fused":0.7080779071824468,"table_sim":0.5953253092667586,"col_score":0.8772068040559788},{"table":"employee_benefits","fused":0.7079682230738122,"table_sim":0.588385638564704,"col_score":0.8873420998374746},{"table":"project_expenses","fused":0.6662765811403109,"table_sim":0.5811440306100932,"col_score":0.7939754069356373},{"table":"employment_history","fused":0.6596599750182711,"table_sim":0.5816250485632297,"col_score":0.7767123647008332},{"table":"sales_quotes","fused":0.5105283793287128,"table_sim":0.5847288131119626,"col_score":0.39922772865383793},{"table":"employee_training","fused":0.31875433850750384,"table_sim":0,"col_score":0.7968858462687596},{"table":"positions","fused":0.24448632337981357,"table_sim":0,"col_score":0.6112158084495339},{"table":"asset_transfers","fused":0.24074282823850643,"table_sim":0,"col_score":0.601857070596266},{"table":"certifications","fused":0.23362851873158783,"table_sim":0,"col_score":0.5840712968289695},{"table":"asset_maintenance","fused":0.2307560398309868,"table_sim":0,"col_score":0.576890099577467},{"table":"budgets","fused":0.22945611922110928,"table_sim":0,"col_score":0.5736402980527732},{"table":"fixed_assets","fused":0.22808570626904265,"table_sim":0,"col_score":0.5702142656726066},{"table":"sales_opportunities","fused":0.16399105299042072,"table_sim":0,"col_score":0.40997763247605173}],"fk_expansion_candidates":96,"fk_expansion_added":2,"fk_expansion_blocked_count":84,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"already_selected"},{"table":"asset_locations","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":24,"total_retrieval_latency_ms":31,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":2315,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:20:03.354Z","query_id":"ed563c42-1445-4c27-a9e7-526fe125aa0a","question":"List employees and their managers' names","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","employee_salaries","departments","business_units","employment_history","sales_regions","project_expenses","budgets","warehouses","projects","sales_territories","asset_maintenance"],"tables_from_table_retrieval":6,"tables_from_column_only":19,"tables_from_fk_expansion":2,"table_scores":[{"table":"employees","similarity":0.6739271388388655},{"table":"employees","similarity":0.6689621520411647},{"table":"employees","similarity":0.6689621520411647},{"table":"departments","similarity":0.657958333696202},{"table":"departments","similarity":0.6498039364272146},{"table":"departments","similarity":0.6498039364272146},{"table":"business_units","similarity":0.6434665187095292},{"table":"business_units","similarity":0.6434665187095292},{"table":"sales_regions","similarity":0.6410429290818445},{"table":"sales_regions","similarity":0.633988075646392},{"table":"sales_regions","similarity":0.633988075646392},{"table":"business_units","similarity":0.629302299806744},{"table":"employee_salaries","similarity":0.6291178543786463},{"table":"employment_history","similarity":0.628562523709621},{"table":"employee_salaries","similarity":0.6263125261558217}],"column_hits_per_table":{"employees":16,"departments":2,"business_units":2,"warehouses":2,"employment_history":2,"sales_regions":1,"customers":1,"projects":2,"sales_territories":2,"vendors":1,"task_assignments":1,"stock_transfers":1,"certifications":1,"vendor_contacts":1,"timesheets":1,"currencies":1,"budgets":2,"asset_maintenance":1,"employee_salaries":3,"employee_training":1,"project_expenses":2,"employee_certifications":1,"customer_contacts":1,"sales_opportunities":1,"sales_orders":1},"top_columns_per_table":{"employees":[{"column":"first_name","similarity":0.7572377984248736},{"column":"last_name","similarity":0.7537783066248029},{"column":"manager_id","similarity":0.7053594848641631}],"departments":[{"column":"manager_id","similarity":0.6924752211806645},{"column":"name","similarity":0.6697997709897372}],"business_units":[{"column":"manager_id","similarity":0.6856730724608967},{"column":"name","similarity":0.6837723472178159}],"warehouses":[{"column":"manager_id","similarity":0.6800833291521636},{"column":"name","similarity":0.6505644630634702}],"employment_history":[{"column":"company_name","similarity":0.6721699979286799},{"column":"employee_id","similarity":0.6365310228824647}],"sales_regions":[{"column":"manager_id","similarity":0.6662194599129357}],"customers":[{"column":"name","similarity":0.6637932418641942}],"projects":[{"column":"project_manager_id","similarity":0.6625014712023475},{"column":"name","similarity":0.6398539415762817}],"sales_territories":[{"column":"name","similarity":0.6500061267927694},{"column":"assigned_rep_id","similarity":0.6343602329782843}],"vendors":[{"column":"name","similarity":0.6455975520568351}],"task_assignments":[{"column":"employee_id","similarity":0.6346101050458269}],"stock_transfers":[{"column":"created_by","similarity":0.6339945505048299}],"certifications":[{"column":"name","similarity":0.6314487952628862}],"vendor_contacts":[{"column":"last_name","similarity":0.630475980530217}],"timesheets":[{"column":"employee_id","similarity":0.6293358824018015}],"currencies":[{"column":"name","similarity":0.6288836962010669}],"budgets":[{"column":"name","similarity":0.6281209064414763},{"column":"approved_by","similarity":0.6195701819199355}],"asset_maintenance":[{"column":"performed_by","similarity":0.6276189459730336}],"employee_salaries":[{"column":"employee_id","similarity":0.6275508038919575},{"column":"end_date","similarity":0.6221997161104192},{"column":"approved_by","similarity":0.6215934819128719}],"employee_training":[{"column":"employee_id","similarity":0.6274331689495648}],"project_expenses":[{"column":"employee_id","similarity":0.6273392978417786},{"column":"approved_by","similarity":0.6203248276453848}],"employee_certifications":[{"column":"employee_id","similarity":0.6267738548687827}],"customer_contacts":[{"column":"last_name","similarity":0.6264354504834614}],"sales_opportunities":[{"column":"owner_id","similarity":0.6219218812763582}],"sales_orders":[{"column":"sales_rep_id","similarity":0.6218079145108961}]},"fused_scores":[{"table":"employees","fused":0.8199993358725051,"table_sim":0.6689621520411647,"col_score":1.0465551116195153},{"table":"employee_salaries","fused":0.7489860985202351,"table_sim":0.6263125261558217,"col_score":0.9329964570668552},{"table":"departments","fused":0.677547391725478,"table_sim":0.6498039364272146,"col_score":0.7191625746728731},{"table":"business_units","fused":0.6652979687835916,"table_sim":0.629302299806744,"col_score":0.7192914722488631},{"table":"employment_history","fused":0.654459456849348,"table_sim":0.628562523709621,"col_score":0.6933048565589385},{"table":"sales_regions","fused":0.5669342941634572,"table_sim":0.633988075646392,"col_score":0.466353621939055},{"table":"project_expenses","fused":0.3359574327560029,"table_sim":0,"col_score":0.8398935818900073},{"table":"budgets","fused":0.3357649996697809,"table_sim":0,"col_score":0.8394124991744523},{"table":"warehouses","fused":0.2815023569914916,"table_sim":0,"col_score":0.703755892478729},{"table":"projects","fused":0.27507996375733673,"table_sim":0,"col_score":0.6876999093933418},{"table":"sales_territories","fused":0.2708121481189352,"table_sim":0,"col_score":0.677030370297338},{"table":"asset_maintenance","fused":0.25104757838921343,"table_sim":0,"col_score":0.6276189459730336},{"table":"customers","fused":0.18586210772197437,"table_sim":0,"col_score":0.4646552693049359},{"table":"vendors","fused":0.18076731457591383,"table_sim":0,"col_score":0.45191828643978454},{"table":"task_assignments","fused":0.17769082941283154,"table_sim":0,"col_score":0.4442270735320788}],"fk_expansion_candidates":111,"fk_expansion_added":2,"fk_expansion_blocked_count":105,"fk_expansion_blocked":[{"table":"employee_training","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"already_selected"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"sales_territories","reason":"already_selected"},{"table":"asset_maintenance","reason":"already_selected"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"already_selected"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":21,"total_retrieval_latency_ms":28,"sql_generated":"SELECT e.employee_id AS employee, CONCAT(e.first_name, ' ', e.last_name) AS employee_name, d.name AS manager_name FROM hr.employees e INNER JOIN hr.departments d ON e.manager_id = d.employee_id LIMIT 1000;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"relation \"hr.employees\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Unknown table or alias 'hr.employees'. Available tables: employees, employee_salaries, departments, business_units, employment_history, sales_regions, project_expenses, budgets, warehouses, projects, sales_territories, asset_maintenance","total_latency_ms":3157,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: relation \"hr.employees\" does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:20:06.511Z","query_id":"7a5df767-cb49-4660-957b-bbda4550a63a","question":"Which employees have pending leave requests?","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["leave_requests","employees","leave_types","purchase_requisitions","employment_history","employee_benefits","employee_salaries","employee_training","timesheets","employee_certifications","goods_receipts"],"tables_from_table_retrieval":5,"tables_from_column_only":18,"tables_from_fk_expansion":1,"table_scores":[{"table":"leave_requests","similarity":0.7606150866620262},{"table":"leave_requests","similarity":0.7606150866620262},{"table":"leave_requests","similarity":0.7600790941142384},{"table":"leave_types","similarity":0.639090920933277},{"table":"leave_types","similarity":0.639090920933277},{"table":"employees","similarity":0.6318821970092333},{"table":"leave_types","similarity":0.6243053165161109},{"table":"employment_history","similarity":0.6232974261189369},{"table":"employees","similarity":0.6085401288010317},{"table":"employees","similarity":0.6085401288010317},{"table":"employment_history","similarity":0.6004981063513581},{"table":"employment_history","similarity":0.6004981063513581},{"table":"purchase_requisitions","similarity":0.5939119628114023},{"table":"purchase_requisitions","similarity":0.5862366614545421},{"table":"purchase_requisitions","similarity":0.5862366614545421}],"column_hits_per_table":{"leave_requests":10,"employee_training":2,"employees":12,"employment_history":1,"timesheets":2,"leave_types":3,"purchase_requisitions":2,"vendor_invoices":1,"sales_orders":1,"employee_benefits":2,"project_tasks":1,"projects":1,"asset_maintenance":1,"purchase_orders":1,"stock_transfers":1,"sales_quotes":1,"employee_certifications":1,"fixed_assets":1,"project_expenses":1,"task_assignments":1,"sales_territories":1,"employee_salaries":2,"goods_receipts":1},"top_columns_per_table":{"leave_requests":[{"column":"status","similarity":0.7830776046458143},{"column":"employee_id","similarity":0.7463085450818296},{"column":"days_requested","similarity":0.7340689790864129}],"employee_training":[{"column":"status","similarity":0.6497311772671878},{"column":"scheduled_date","similarity":0.5878188046675312}],"employees":[{"column":"termination_date","similarity":0.6439758798918632},{"column":"email","similarity":0.6302370362314416},{"column":"phone","similarity":0.6105363671841775}],"employment_history":[{"column":"reason_for_leaving","similarity":0.6281349204243766}],"timesheets":[{"column":"status","similarity":0.6228065407312443},{"column":"employee_id","similarity":0.5827007759709993}],"leave_types":[{"column":"is_paid","similarity":0.6211282835888098},{"column":"days_allowed","similarity":0.6132698924498841},{"column":"requires_approval","similarity":0.5944242237109155}],"purchase_requisitions":[{"column":"status","similarity":0.6119695520568783},{"column":"requested_by","similarity":0.601159001994203}],"vendor_invoices":[{"column":"status","similarity":0.6093455591888043}],"sales_orders":[{"column":"status","similarity":0.6082126415419272}],"employee_benefits":[{"column":"end_date","similarity":0.6075530366053099},{"column":"start_date","similarity":0.5763817809487223}],"project_tasks":[{"column":"status","similarity":0.5995768986335617}],"projects":[{"column":"status","similarity":0.5971196665348375}],"asset_maintenance":[{"column":"status","similarity":0.5968209441927311}],"purchase_orders":[{"column":"status","similarity":0.5936147298950667}],"stock_transfers":[{"column":"status","similarity":0.5934866614638913}],"sales_quotes":[{"column":"status","similarity":0.5914174092778713}],"employee_certifications":[{"column":"expiry_date","similarity":0.590292904422784}],"fixed_assets":[{"column":"status","similarity":0.5890922526585929}],"project_expenses":[{"column":"status","similarity":0.5861848089246922}],"task_assignments":[{"column":"employee_id","similarity":0.5826855903430118}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.58159495137349}],"employee_salaries":[{"column":"end_date","similarity":0.5809839346344203},{"column":"change_reason","similarity":0.5782073749885271}],"goods_receipts":[{"column":"received_by","similarity":0.5807179521677516}]},"fused_scores":[{"table":"leave_requests","fused":0.8949869674714441,"table_sim":0.7600790941142384,"col_score":1.0973487775072526},{"table":"employees","fused":0.7487618364836526,"table_sim":0.6085401288010317,"col_score":0.959094398007584},{"table":"leave_types","fused":0.7387759916318033,"table_sim":0.6243053165161109,"col_score":0.9104820043053419},{"table":"purchase_requisitions","fused":0.6778813349583694,"table_sim":0.5862366614545421,"col_score":0.8153483452141104},{"table":"employment_history","fused":0.6115528319805655,"table_sim":0.6004981063513581,"col_score":0.6281349204243766},{"table":"employee_benefits","fused":0.3582975708318684,"table_sim":0,"col_score":0.895743927079671},{"table":"employee_salaries","fused":0.3480350488514736,"table_sim":0,"col_score":0.870087622128684},{"table":"employee_training","fused":0.3260898866844188,"table_sim":0,"col_score":0.8152247167110469},{"table":"timesheets","fused":0.2559639400406883,"table_sim":0,"col_score":0.6399098501017207},{"table":"employee_certifications","fused":0.23611716176911363,"table_sim":0,"col_score":0.590292904422784},{"table":"goods_receipts","fused":0.23228718086710065,"table_sim":0,"col_score":0.5807179521677516},{"table":"vendor_invoices","fused":0.1706167565728652,"table_sim":0,"col_score":0.426541891432163},{"table":"sales_orders","fused":0.1702995396317396,"table_sim":0,"col_score":0.425748849079349},{"table":"project_tasks","fused":0.16788153161739727,"table_sim":0,"col_score":0.4197038290434931},{"table":"projects","fused":0.16719350662975452,"table_sim":0,"col_score":0.41798376657438624}],"fk_expansion_candidates":96,"fk_expansion_added":1,"fk_expansion_blocked_count":93,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"already_selected"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"already_selected"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":23,"total_retrieval_latency_ms":30,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":4156,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:20:10.667Z","query_id":"3a8adff3-3030-4340-868d-23e1fda80471","question":"Show the number of employees per position title","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["positions","employees","employee_salaries","sales_territories","sales_regions","employee_certifications","employment_history","employee_benefits","employee_training","sales_opportunities"],"tables_from_table_retrieval":5,"tables_from_column_only":14,"tables_from_fk_expansion":0,"table_scores":[{"table":"positions","similarity":0.6979534676247563},{"table":"positions","similarity":0.6915534653091021},{"table":"positions","similarity":0.6915534653091021},{"table":"employee_salaries","similarity":0.6596018656539115},{"table":"employee_salaries","similarity":0.6596018656539115},{"table":"employee_salaries","similarity":0.659392658582788},{"table":"employees","similarity":0.659318915501233},{"table":"sales_territories","similarity":0.6544391487399293},{"table":"employees","similarity":0.6533237885369005},{"table":"employees","similarity":0.6533237885369005},{"table":"sales_territories","similarity":0.6489970483284497},{"table":"sales_territories","similarity":0.6489970483284497},{"table":"sales_regions","similarity":0.6428263414246281},{"table":"sales_regions","similarity":0.6307206585715829},{"table":"sales_regions","similarity":0.6307206585715829}],"column_hits_per_table":{"positions":6,"employees":14,"employee_salaries":6,"sales_territories":3,"employee_certifications":2,"sales_regions":1,"employment_history":3,"customer_contacts":1,"departments":1,"sales_opportunities":2,"vendor_contacts":1,"employee_benefits":2,"employee_training":2,"business_units":1,"projects":1,"task_assignments":1,"sales_orders":1,"warehouses":1,"project_resources":1},"top_columns_per_table":{"positions":[{"column":"title","similarity":0.7221299436011294},{"column":"min_salary","similarity":0.6651927143592096},{"column":"department_id","similarity":0.6570360152989476}],"employees":[{"column":"employee_number","similarity":0.7138309929767446},{"column":"salary","similarity":0.6844081973483859},{"column":"position_id","similarity":0.68398642134637}],"employee_salaries":[{"column":"amount","similarity":0.6971738165514154},{"column":"approved_by","similarity":0.6443166084961229},{"column":"effective_date","similarity":0.6438382835501887}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6556010449326051},{"column":"name","similarity":0.6120006875761033},{"column":"territory_id","similarity":0.6092167482669691}],"employee_certifications":[{"column":"certificate_number","similarity":0.6506983264603999},{"column":"employee_id","similarity":0.6216038384290737}],"sales_regions":[{"column":"manager_id","similarity":0.6432388471448376}],"employment_history":[{"column":"position","similarity":0.642007780436184},{"column":"company_name","similarity":0.6085621220790698},{"column":"employee_id","similarity":0.6029078451574368}],"customer_contacts":[{"column":"title","similarity":0.6408819361793222}],"departments":[{"column":"manager_id","similarity":0.635000868322988}],"sales_opportunities":[{"column":"owner_id","similarity":0.6321958594849902},{"column":"amount","similarity":0.6069160048032282}],"vendor_contacts":[{"column":"title","similarity":0.6298635727288079}],"employee_benefits":[{"column":"coverage_level","similarity":0.6284972802326118},{"column":"employee_id","similarity":0.6041405196036292}],"employee_training":[{"column":"status","similarity":0.6218313368875849},{"column":"score","similarity":0.6185830853610097}],"business_units":[{"column":"manager_id","similarity":0.6208049194224817}],"projects":[{"column":"project_manager_id","similarity":0.6174592088393791}],"task_assignments":[{"column":"employee_id","similarity":0.6149774272355666}],"sales_orders":[{"column":"sales_rep_id","similarity":0.6089120347247923}],"warehouses":[{"column":"manager_id","similarity":0.6081121279686315}],"project_resources":[{"column":"employee_id","similarity":0.6074616431088047}]},"fused_scores":[{"table":"positions","fused":0.836822599497755,"table_sim":0.6915534653091021,"col_score":1.0547263007807341},{"table":"employees","fused":0.8144083097825153,"table_sim":0.6533237885369005,"col_score":1.0560350916509376},{"table":"employee_salaries","fused":0.8033684434694637,"table_sim":0.659392658582788,"col_score":1.019332120799477},{"table":"sales_territories","fused":0.6586466178388537,"table_sim":0.6489970483284497,"col_score":0.6731209721044596},{"table":"sales_regions","fused":0.5585392723435043,"table_sim":0.6307206585715829,"col_score":0.4502671930013863},{"table":"employee_certifications","fused":0.34730386796423035,"table_sim":0,"col_score":0.8682596699105758},{"table":"employment_history","fused":0.3420018092655434,"table_sim":0,"col_score":0.8550045231638584},{"table":"employee_benefits","fused":0.33597858483755283,"table_sim":0,"col_score":0.839946462093882},{"table":"employee_training","fused":0.3344896213086658,"table_sim":0,"col_score":0.8362240532716644},{"table":"sales_opportunities","fused":0.33127382224918994,"table_sim":0,"col_score":0.8281845556229748},{"table":"customer_contacts","fused":0.2563527744717289,"table_sim":0,"col_score":0.6408819361793222},{"table":"vendor_contacts","fused":0.2519454290915232,"table_sim":0,"col_score":0.6298635727288079},{"table":"departments","fused":0.17780024313043663,"table_sim":0,"col_score":0.4445006078260915},{"table":"business_units","fused":0.17382537743829488,"table_sim":0,"col_score":0.4345634435957372},{"table":"projects","fused":0.17288857847502614,"table_sim":0,"col_score":0.43222144618756536}],"fk_expansion_candidates":93,"fk_expansion_added":0,"fk_expansion_blocked_count":93,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":36,"total_retrieval_latency_ms":42,"sql_generated":"SELECT p.title AS PositionTitle, COUNT(p.employee_id) AS EmployeeCount FROM positions p JOIN employees e ON p.position_id = e.employee_id GROUP BY p.title;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"p","column":"title","resolved_table":"positions","suggested_columns":[]},{"alias":"p","column":"employee_id","resolved_table":"positions","suggested_columns":[]},{"alias":"p","column":"position_id","resolved_table":"positions","suggested_columns":[]},{"alias":"e","column":"employee_id","resolved_table":"employees","suggested_columns":[]},{"alias":"p","column":"title","resolved_table":"positions","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column p.employee_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":1,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":1456,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column p.employee_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:20:12.123Z","query_id":"c068e906-4d3d-48b2-835e-308958b8c120","question":"Find employees with expiring certifications in the next 6 months","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_certifications","certifications","employee_salaries","employee_training","employees","employment_history","employee_benefits","leave_requests","fixed_assets","training_courses","timesheets"],"tables_from_table_retrieval":6,"tables_from_column_only":10,"tables_from_fk_expansion":1,"table_scores":[{"table":"employee_certifications","similarity":0.7859468856867013},{"table":"employee_certifications","similarity":0.7859468856867013},{"table":"employee_certifications","similarity":0.7706241362613744},{"table":"certifications","similarity":0.6833271623394933},{"table":"certifications","similarity":0.6833271623394933},{"table":"certifications","similarity":0.6802005917779511},{"table":"employee_training","similarity":0.6443966057658752},{"table":"employee_training","similarity":0.6443966057658752},{"table":"employee_training","similarity":0.6440443171141977},{"table":"employees","similarity":0.6304880915961747},{"table":"employees","similarity":0.6304880915961747},{"table":"employee_salaries","similarity":0.6285918606598171},{"table":"employee_salaries","similarity":0.6285918606598171},{"table":"employment_history","similarity":0.6226874481800316},{"table":"employment_history","similarity":0.6226874481800316}],"column_hits_per_table":{"employee_certifications":6,"certifications":5,"employee_benefits":4,"employee_salaries":4,"employees":11,"employee_training":7,"employment_history":3,"sales_territories":1,"fixed_assets":1,"leave_requests":2,"sales_orders":1,"sales_opportunities":1,"training_courses":1,"vendor_invoices":1,"sales_regions":1,"timesheets":1},"top_columns_per_table":{"employee_certifications":[{"column":"expiry_date","similarity":0.824890334606253},{"column":"obtained_date","similarity":0.7052846826361914},{"column":"certificate_number","similarity":0.6847532958035393}],"certifications":[{"column":"validity_years","similarity":0.6770067141369405},{"column":"issuing_body","similarity":0.6636677218690651},{"column":"name","similarity":0.6345330007966575}],"employee_benefits":[{"column":"end_date","similarity":0.6748941092120173},{"column":"start_date","similarity":0.6211708522515275},{"column":"employee_id","similarity":0.5874772340410589}],"employee_salaries":[{"column":"end_date","similarity":0.674819986050645},{"column":"effective_date","similarity":0.6257662683349675},{"column":"approved_by","similarity":0.5906622365479393}],"employees":[{"column":"termination_date","similarity":0.6651670843704476},{"column":"birth_date","similarity":0.6195817101038591},{"column":"hire_date","similarity":0.604926374835591}],"employee_training":[{"column":"status","similarity":0.6639258100882921},{"column":"completion_date","similarity":0.6483605451444736},{"column":"scheduled_date","similarity":0.6309826728136354}],"employment_history":[{"column":"end_date","similarity":0.6300394640482956},{"column":"reason_for_leaving","similarity":0.5997641082568419},{"column":"employee_id","similarity":0.5844056747410719}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6148178600700598}],"fixed_assets":[{"column":"warranty_expiry","similarity":0.6065954902035513}],"leave_requests":[{"column":"approved_by","similarity":0.6047012182000441},{"column":"employee_id","similarity":0.5848951086127372}],"sales_orders":[{"column":"sales_rep_id","similarity":0.5904629307212104}],"sales_opportunities":[{"column":"owner_id","similarity":0.5886084108060572}],"training_courses":[{"column":"duration_hours","similarity":0.588545509623843}],"vendor_invoices":[{"column":"status","similarity":0.5865666000577741}],"sales_regions":[{"column":"manager_id","similarity":0.5830602727986053}],"timesheets":[{"column":"approved_by","similarity":0.5820241143955824}]},"fused_scores":[{"table":"employee_certifications","fused":0.9333875521265641,"table_sim":0.7706241362613744,"col_score":1.1775326759243487},{"table":"certifications","fused":0.8116565850953599,"table_sim":0.6802005917779511,"col_score":1.008840575071473},{"table":"employee_salaries","fused":0.7722363644831418,"table_sim":0.6285918606598171,"col_score":0.9877031202181288},{"table":"employee_training","fused":0.7719673428890352,"table_sim":0.6440443171141977,"col_score":0.9638518815512913},{"table":"employees","fused":0.7682760307266556,"table_sim":0.6304880915961747,"col_score":0.9749579394223771},{"table":"employment_history","fused":0.7455810761787056,"table_sim":0.6226874481800316,"col_score":0.9299215181767165},{"table":"employee_benefits","fused":0.3941918141351124,"table_sim":0,"col_score":0.985479535337781},{"table":"leave_requests","fused":0.32376580248580084,"table_sim":0,"col_score":0.8094145062145021},{"table":"fixed_assets","fused":0.24263819608142054,"table_sim":0,"col_score":0.6065954902035513},{"table":"training_courses","fused":0.2354182038495372,"table_sim":0,"col_score":0.588545509623843},{"table":"timesheets","fused":0.23280964575823299,"table_sim":0,"col_score":0.5820241143955824},{"table":"sales_territories","fused":0.17214900081961673,"table_sim":0,"col_score":0.4303725020490418},{"table":"sales_orders","fused":0.1653296206019389,"table_sim":0,"col_score":0.41332405150484725},{"table":"sales_opportunities","fused":0.16481035502569602,"table_sim":0,"col_score":0.41202588756424},{"table":"vendor_invoices","fused":0.16423864801617674,"table_sim":0,"col_score":0.41059662004044184}],"fk_expansion_candidates":105,"fk_expansion_added":1,"fk_expansion_blocked_count":102,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":37,"total_retrieval_latency_ms":44,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":2061,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:20:14.184Z","query_id":"39b4bcbd-deac-447a-bbf0-143ebcee78a8","question":"What is the total sales amount by customer for 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_orders","sales_quotes","purchase_orders","customers","sales_regions","sales_territories","vendor_invoices","sales_opportunities","vendor_invoice_lines","goods_receipts","order_lines","receipt_lines"],"tables_from_table_retrieval":7,"tables_from_column_only":11,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_orders","similarity":0.6745457697247657},{"table":"sales_orders","similarity":0.6745457697247657},{"table":"sales_orders","similarity":0.6661782372338159},{"table":"sales_regions","similarity":0.6466539195201415},{"table":"purchase_orders","similarity":0.6425639839861694},{"table":"sales_regions","similarity":0.6391000207245879},{"table":"sales_regions","similarity":0.6391000207245879},{"table":"purchase_orders","similarity":0.6365277038136935},{"table":"purchase_orders","similarity":0.6365277038136935},{"table":"sales_quotes","similarity":0.6362675183217259},{"table":"sales_quotes","similarity":0.6362675183217259},{"table":"sales_quotes","similarity":0.6323684030188},{"table":"customers","similarity":0.6254829877818046},{"table":"goods_receipts","similarity":0.624224700776992},{"table":"sales_territories","similarity":0.6219383160682438}],"column_hits_per_table":{"sales_orders":11,"sales_quotes":8,"purchase_orders":3,"vendor_invoices":4,"sales_regions":2,"sales_opportunities":4,"budgets":1,"vendor_invoice_lines":3,"customers":5,"product_suppliers":2,"sales_territories":1,"inventory_transactions":1,"order_lines":1,"requisition_lines":1,"products":1,"employee_salaries":1,"receipt_lines":1},"top_columns_per_table":{"sales_orders":[{"column":"total","similarity":0.7267615224129526},{"column":"tax_amount","similarity":0.6768860201331778},{"column":"shipping_cost","similarity":0.6629388694517645}],"sales_quotes":[{"column":"total","similarity":0.694353474084059},{"column":"tax_amount","similarity":0.6552565219340181},{"column":"subtotal","similarity":0.6267182822036423}],"purchase_orders":[{"column":"total","similarity":0.6777199928257838},{"column":"tax_amount","similarity":0.6402978983456733},{"column":"shipping_cost","similarity":0.6243812460571962}],"vendor_invoices":[{"column":"total","similarity":0.6757800030933531},{"column":"amount_paid","similarity":0.6255444220000853},{"column":"tax_amount","similarity":0.6227458956839576}],"sales_regions":[{"column":"target_revenue","similarity":0.6672997133789248},{"column":"manager_id","similarity":0.6150592581557652}],"sales_opportunities":[{"column":"amount","similarity":0.6523518870366036},{"column":"actual_close_date","similarity":0.6234759946961155},{"column":"customer_id","similarity":0.6225457539270198}],"budgets":[{"column":"total_amount","similarity":0.6443640871252324}],"vendor_invoice_lines":[{"column":"amount","similarity":0.638640432265749},{"column":"quantity","similarity":0.6225103754226036},{"column":"unit_cost","similarity":0.6144886443515528}],"customers":[{"column":"is_active","similarity":0.6263453821128872},{"column":"payment_terms","similarity":0.6208624248875562},{"column":"customer_number","similarity":0.6199000162473296}],"product_suppliers":[{"column":"unit_cost","similarity":0.6228611719406651},{"column":"lead_time_days","similarity":0.6138713693045325}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6215934251847155}],"inventory_transactions":[{"column":"quantity","similarity":0.6213307623673536}],"order_lines":[{"column":"line_total","similarity":0.6162919437853911}],"requisition_lines":[{"column":"estimated_total","similarity":0.616233844515133}],"products":[{"column":"unit_cost","similarity":0.615179526855141}],"employee_salaries":[{"column":"amount","similarity":0.6128136846323675}],"receipt_lines":[{"column":"quantity_received","similarity":0.6105295012867741}]},"fused_scores":[{"table":"sales_orders","fused":0.8257887553321062,"table_sim":0.6661782372338159,"col_score":1.0652045324795414},{"table":"sales_quotes","fused":0.7882137358317072,"table_sim":0.6323684030188,"col_score":1.021981735051068},{"table":"purchase_orders","fused":0.7810641990876643,"table_sim":0.6365277038136935,"col_score":0.9978689419986204},{"table":"customers","fused":0.7476147658735712,"table_sim":0.6254829877818046,"col_score":0.930812433011221},{"table":"sales_regions","fused":0.7364881939281298,"table_sim":0.6391000207245879,"col_score":0.8825704537334427},{"table":"sales_territories","fused":0.5472091486926666,"table_sim":0.6219383160682438,"col_score":0.43511539762930085},{"table":"vendor_invoices","fused":0.39486118037413276,"table_sim":0,"col_score":0.9871529509353318},{"table":"sales_opportunities","fused":0.38563595375386456,"table_sim":0,"col_score":0.9640898843846614},{"table":"vendor_invoice_lines","fused":0.37995824799082034,"table_sim":0,"col_score":0.9498956199770507},{"table":"goods_receipts","fused":0.3745348204661952,"table_sim":0.624224700776992,"col_score":0},{"table":"product_suppliers","fused":0.37191874263717256,"table_sim":0,"col_score":0.9297968565929313},{"table":"budgets","fused":0.257745634850093,"table_sim":0,"col_score":0.6443640871252324},{"table":"inventory_transactions","fused":0.24853230494694145,"table_sim":0,"col_score":0.6213307623673536},{"table":"order_lines","fused":0.24651677751415646,"table_sim":0,"col_score":0.6162919437853911},{"table":"requisition_lines","fused":0.2464935378060532,"table_sim":0,"col_score":0.616233844515133}],"fk_expansion_candidates":45,"fk_expansion_added":2,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"order_lines","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":36,"total_retrieval_latency_ms":43,"sql_generated":"SELECT c.customer_id, SUM(s.line_total) AS total_sales FROM customers c JOIN sales_orders o ON c.customer_id = o.customer_id JOIN order_lines s ON o.order_id = s.order_id WHERE EXTRACT(YEAR FROM o.created_at) = 2024 GROUP BY c.customer_id;","tables_used_in_sql":[],"total_latency_ms":3776,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:20:17.960Z","query_id":"ce4c82bf-aff2-4f66-8197-43925d4af368","question":"List the top 10 customers by total order value","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_orders","order_lines","purchase_orders","customers","vendor_invoices","product_suppliers","customer_contacts","po_lines","vendor_invoice_lines","vendors","receipt_lines","sales_quotes"],"tables_from_table_retrieval":7,"tables_from_column_only":8,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_orders","similarity":0.6473006572264755},{"table":"order_lines","similarity":0.6399839764362797},{"table":"purchase_orders","similarity":0.6359216236921361},{"table":"sales_orders","similarity":0.6322789685618992},{"table":"sales_orders","similarity":0.6322789685618992},{"table":"order_lines","similarity":0.6313674438881497},{"table":"order_lines","similarity":0.6313674438881497},{"table":"purchase_orders","similarity":0.6225494231887847},{"table":"purchase_orders","similarity":0.6225494231887847},{"table":"customers","similarity":0.6198957604307753},{"table":"customers","similarity":0.603994667800392},{"table":"customers","similarity":0.603994667800392},{"table":"product_suppliers","similarity":0.5995729306104617},{"table":"vendor_invoices","similarity":0.5943908353227434},{"table":"customer_contacts","similarity":0.5842306673122464}],"column_hits_per_table":{"sales_orders":8,"purchase_orders":9,"order_lines":6,"customers":8,"vendor_invoices":3,"po_lines":4,"product_suppliers":1,"vendor_invoice_lines":3,"sales_quotes":1,"reorder_rules":1,"vendors":2,"receipt_lines":1,"customer_contacts":1,"vendor_contacts":1,"quote_lines":1},"top_columns_per_table":{"sales_orders":[{"column":"total","similarity":0.6989783838444601},{"column":"order_number","similarity":0.6685333803732707},{"column":"subtotal","similarity":0.6440170645492649}],"purchase_orders":[{"column":"total","similarity":0.6903262609210554},{"column":"po_number","similarity":0.6415427911377667},{"column":"subtotal","similarity":0.6382251563747767}],"order_lines":[{"column":"line_total","similarity":0.6750587403197648},{"column":"quantity_shipped","similarity":0.6574528419378944},{"column":"unit_price","similarity":0.6493800384208552}],"customers":[{"column":"customer_number","similarity":0.661666062123175},{"column":"phone","similarity":0.6564797570958422},{"column":"website","similarity":0.6340938119327376}],"vendor_invoices":[{"column":"total","similarity":0.6487049636317076},{"column":"subtotal","similarity":0.6036460618653252},{"column":"invoice_number","similarity":0.5951077315424751}],"po_lines":[{"column":"line_total","similarity":0.6415288139191745},{"column":"quantity_received","similarity":0.6378991363936013},{"column":"quantity","similarity":0.6200476984412968}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6409309856247254}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.6293094401462158},{"column":"amount","similarity":0.6217860311141447},{"column":"unit_cost","similarity":0.608519957652656}],"sales_quotes":[{"column":"total","similarity":0.6216495770294906}],"reorder_rules":[{"column":"max_quantity","similarity":0.6160793655093021}],"vendors":[{"column":"phone","similarity":0.6149928390714005},{"column":"vendor_number","similarity":0.5976911850670412}],"receipt_lines":[{"column":"quantity_received","similarity":0.60564498897585}],"customer_contacts":[{"column":"phone","similarity":0.6038535558458017}],"vendor_contacts":[{"column":"phone","similarity":0.5956727487995729}],"quote_lines":[{"column":"line_total","similarity":0.5920335049892667}]},"fused_scores":[{"table":"sales_orders","fused":0.7926654107495777,"table_sim":0.6322789685618992,"col_score":1.0332450740310954},{"table":"order_lines","fused":0.7803345308483746,"table_sim":0.6313674438881497,"col_score":1.0037851612887119},{"table":"purchase_orders","fused":0.7779687165092464,"table_sim":0.6225494231887847,"col_score":1.0110976564899388},{"table":"customers","fused":0.7583591769486737,"table_sim":0.603994667800392,"col_score":0.9899059406710962},{"table":"vendor_invoices","fused":0.7368456990193941,"table_sim":0.5943908353227434,"col_score":0.9505279945643702},{"table":"product_suppliers","fused":0.6161161526161671,"table_sim":0.5995729306104617,"col_score":0.6409309856247254},{"table":"customer_contacts","fused":0.5920798227256685,"table_sim":0.5842306673122464,"col_score":0.6038535558458017},{"table":"po_lines","fused":0.38419135284639006,"table_sim":0,"col_score":0.9604783821159751},{"table":"vendor_invoice_lines","fused":0.3760809822813153,"table_sim":0,"col_score":0.9402024557032882},{"table":"vendors","fused":0.36553537264196845,"table_sim":0,"col_score":0.9138384316049211},{"table":"sales_quotes","fused":0.24865983081179627,"table_sim":0,"col_score":0.6216495770294906},{"table":"reorder_rules","fused":0.24643174620372085,"table_sim":0,"col_score":0.6160793655093021},{"table":"receipt_lines","fused":0.24225799559034,"table_sim":0,"col_score":0.60564498897585},{"table":"vendor_contacts","fused":0.23826909951982916,"table_sim":0,"col_score":0.5956727487995729},{"table":"quote_lines","fused":0.23681340199570666,"table_sim":0,"col_score":0.5920335049892667}],"fk_expansion_candidates":42,"fk_expansion_added":2,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_quotes","reason":"already_selected"},{"table":"sales_quotes","reason":"already_selected"},{"table":"vendor_contacts","reason":"max_tables"},{"table":"vendor_contacts","reason":"max_tables"},{"table":"vendor_contacts","reason":"max_tables"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":29,"total_retrieval_latency_ms":36,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"name","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":1625,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:20:19.585Z","query_id":"7c1d2669-c561-4a11-8ba8-9d90b8352aa2","question":"Show sales opportunities in the Negotiation stage worth over $50,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["sales_opportunities","opportunity_stages","sales_quotes","sales_orders","sales_regions","vendor_invoices","purchase_orders","positions","project_milestones","sales_territories","fixed_assets","vendor_invoice_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_opportunities","similarity":0.7205066192182484},{"table":"sales_opportunities","similarity":0.7205066192182484},{"table":"sales_opportunities","similarity":0.6992078050992712},{"table":"opportunity_stages","similarity":0.6655732816251885},{"table":"opportunity_stages","similarity":0.6634227373711339},{"table":"opportunity_stages","similarity":0.6634227373711339},{"table":"sales_quotes","similarity":0.6041542335555263},{"table":"sales_quotes","similarity":0.6041542335555263},{"table":"sales_quotes","similarity":0.5966843975960908},{"table":"sales_orders","similarity":0.5645767590839142},{"table":"sales_orders","similarity":0.5645767590839142},{"table":"sales_regions","similarity":0.5644307089309575},{"table":"sales_regions","similarity":0.5644307089309575},{"table":"sales_orders","similarity":0.5593486033229518},{"table":"sales_regions","similarity":0.5589767008926408}],"column_hits_per_table":{"sales_opportunities":11,"opportunity_stages":6,"sales_quotes":8,"sales_orders":6,"sales_regions":2,"vendor_invoices":3,"project_milestones":2,"positions":2,"purchase_orders":3,"sales_territories":2,"fixed_assets":1,"vendor_invoice_lines":1,"purchase_requisitions":1,"inventory_levels":1,"products":1},"top_columns_per_table":{"sales_opportunities":[{"column":"amount","similarity":0.7139172496304163},{"column":"stage_id","similarity":0.6952000862360895},{"column":"actual_close_date","similarity":0.6830334219532271}],"opportunity_stages":[{"column":"sequence","similarity":0.6389837993697431},{"column":"probability","similarity":0.6259533584092214},{"column":"is_won","similarity":0.6211680792249179}],"sales_quotes":[{"column":"opportunity_id","similarity":0.6386990954132878},{"column":"total","similarity":0.6088430478546591},{"column":"status","similarity":0.5992888067529821}],"sales_orders":[{"column":"total","similarity":0.6131594865943232},{"column":"subtotal","similarity":0.6030274083374146},{"column":"status","similarity":0.5842354820649266}],"sales_regions":[{"column":"target_revenue","similarity":0.5946091865549964},{"column":"name","similarity":0.5570467585870398}],"vendor_invoices":[{"column":"total","similarity":0.5900128893372721},{"column":"subtotal","similarity":0.579374118244058},{"column":"amount_paid","similarity":0.5561381247624678}],"project_milestones":[{"column":"amount","similarity":0.5756739943176631},{"column":"description","similarity":0.5441090718901616}],"positions":[{"column":"max_salary","similarity":0.5741603665488147},{"column":"min_salary","similarity":0.5538510718211699}],"purchase_orders":[{"column":"total","similarity":0.5739273632713984},{"column":"subtotal","similarity":0.5646712926349372},{"column":"tax_amount","similarity":0.5423612991250856}],"sales_territories":[{"column":"name","similarity":0.5705580376132843},{"column":"territory_id","similarity":0.5472841845831027}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5580674942148667}],"vendor_invoice_lines":[{"column":"amount","similarity":0.5568943563507056}],"purchase_requisitions":[{"column":"status","similarity":0.5555841794582627}],"inventory_levels":[{"column":"quantity_available","similarity":0.5538118214636725}],"products":[{"column":"list_price","similarity":0.5426989166991779}]},"fused_scores":[{"table":"sales_opportunities","fused":0.8416982673023746,"table_sim":0.6992078050992712,"col_score":1.0554339606070298},{"table":"opportunity_stages","fused":0.7788378338524219,"table_sim":0.6634227373711339,"col_score":0.9519604785743538},{"table":"sales_quotes","fused":0.7207301540910609,"table_sim":0.5966843975960908,"col_score":0.9067987888335158},{"table":"sales_orders","fused":0.7014784382989834,"table_sim":0.5593486033229518,"col_score":0.9146731907630306},{"table":"sales_regions","fused":0.6512162413597686,"table_sim":0.5589767008926408,"col_score":0.7895755520604604},{"table":"vendor_invoices","fused":0.35187997938372045,"table_sim":0,"col_score":0.8796999484593011},{"table":"purchase_orders","fused":0.34250520383554683,"table_sim":0,"col_score":0.856263009588867},{"table":"positions","fused":0.3404343609837599,"table_sim":0,"col_score":0.8510859024593997},{"table":"project_milestones","fused":0.3064448677916879,"table_sim":0,"col_score":0.7661121694792197},{"table":"sales_territories","fused":0.23637603637335394,"table_sim":0,"col_score":0.5909400909333848},{"table":"fixed_assets","fused":0.22322699768594667,"table_sim":0,"col_score":0.5580674942148667},{"table":"vendor_invoice_lines","fused":0.22275774254028224,"table_sim":0,"col_score":0.5568943563507056},{"table":"inventory_levels","fused":0.221524728585469,"table_sim":0,"col_score":0.5538118214636725},{"table":"products","fused":0.21707956667967118,"table_sim":0,"col_score":0.5426989166991779},{"table":"purchase_requisitions","fused":0.15556357024831355,"table_sim":0,"col_score":0.38890892562078383}],"fk_expansion_candidates":39,"fk_expansion_added":2,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":33,"sql_generated":"SELECT so.* FROM sales_opportunities so JOIN opportunity_stages os ON so.stage_id = os.stage_id WHERE os.name = 'Negotiation' AND so.amount > 50000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":69,"total_latency_ms":815}
{"timestamp":"2026-02-01T22:20:20.401Z","query_id":"5f5d9efe-8c14-45b1-8274-9cc5adec711f","question":"What is the conversion rate from quotes to orders?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["quote_lines","sales_quotes","sales_orders","order_lines","purchase_orders","po_lines","currencies","product_suppliers","units_of_measure","vendor_invoice_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":5,"tables_from_fk_expansion":0,"table_scores":[{"table":"quote_lines","similarity":0.6904269230356019},{"table":"sales_orders","similarity":0.6835641897302034},{"table":"quote_lines","similarity":0.6792514897887778},{"table":"quote_lines","similarity":0.6792514897887778},{"table":"sales_quotes","similarity":0.6684713746648914},{"table":"sales_quotes","similarity":0.6542909932605636},{"table":"sales_quotes","similarity":0.6542909932605636},{"table":"order_lines","similarity":0.6535630831611231},{"table":"sales_orders","similarity":0.6493194652837458},{"table":"sales_orders","similarity":0.6493194652837458},{"table":"order_lines","similarity":0.6325855320371501},{"table":"order_lines","similarity":0.6325855320371501},{"table":"purchase_orders","similarity":0.6306886393929901},{"table":"po_lines","similarity":0.6176945995415711},{"table":"purchase_orders","similarity":0.611822309215676}],"column_hits_per_table":{"quote_lines":7,"sales_orders":8,"sales_quotes":11,"order_lines":6,"purchase_orders":8,"currencies":1,"product_suppliers":1,"po_lines":5,"units_of_measure":1,"vendor_invoice_lines":1,"goods_receipts":1},"top_columns_per_table":{"quote_lines":[{"column":"discount_percent","similarity":0.7182593829036943},{"column":"unit_price","similarity":0.7042313198565835},{"column":"line_total","similarity":0.6835145369839556}],"sales_orders":[{"column":"quote_id","similarity":0.7162590921292421},{"column":"total","similarity":0.6708820094443375},{"column":"order_number","similarity":0.6584546291944807}],"sales_quotes":[{"column":"total","similarity":0.7028223896965587},{"column":"quote_number","similarity":0.6939392229110496},{"column":"subtotal","similarity":0.6721480194739803}],"order_lines":[{"column":"discount_percent","similarity":0.6900369024388224},{"column":"unit_price","similarity":0.6660264997212797},{"column":"line_total","similarity":0.649395314588063}],"purchase_orders":[{"column":"total","similarity":0.6764211066970435},{"column":"subtotal","similarity":0.6567665860213302},{"column":"shipping_cost","similarity":0.65414342449199}],"currencies":[{"column":"exchange_rate","similarity":0.6392996583071135}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6332497450599537}],"po_lines":[{"column":"unit_cost","similarity":0.6282439661872448},{"column":"quantity_received","similarity":0.6270669349209222},{"column":"line_total","similarity":0.6215823065959345}],"units_of_measure":[{"column":"conversion_factor","similarity":0.6171116889177036}],"vendor_invoice_lines":[{"column":"unit_cost","similarity":0.6160794181570742}],"goods_receipts":[{"column":"po_id","similarity":0.6137867153632621}]},"fused_scores":[{"table":"quote_lines","fused":0.8357009110060611,"table_sim":0.6792514897887778,"col_score":1.070375042831986},{"table":"sales_quotes","fused":0.8124913964171716,"table_sim":0.6542909932605636,"col_score":1.0497920011520836},{"table":"sales_orders","fused":0.7896354087868787,"table_sim":0.6493194652837458,"col_score":1.000109324041578},{"table":"order_lines","fused":0.788771380142075,"table_sim":0.6325855320371501,"col_score":1.0230501522994624},{"table":"purchase_orders","fused":0.769015145412489,"table_sim":0.611822309215676,"col_score":1.0048043997077085},{"table":"po_lines","fused":0.747327733184025,"table_sim":0.6176945995415711,"col_score":0.9417774336477058},{"table":"currencies","fused":0.2557198633228454,"table_sim":0,"col_score":0.6392996583071135},{"table":"product_suppliers","fused":0.2532998980239815,"table_sim":0,"col_score":0.6332497450599537},{"table":"units_of_measure","fused":0.24684467556708145,"table_sim":0,"col_score":0.6171116889177036},{"table":"vendor_invoice_lines","fused":0.2464317672628297,"table_sim":0,"col_score":0.6160794181570742},{"table":"goods_receipts","fused":0.1718602803017134,"table_sim":0,"col_score":0.42965070075428347}],"fk_expansion_candidates":39,"fk_expansion_added":0,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":21,"total_retrieval_latency_ms":28,"sql_generated":"SELECT AVG(sales_orders.total / sales_quotes.subtotal) AS conversion_rate FROM public.sales_orders JOIN public.quote_lines ON sales_orders.order_id = quote_lines.line_id JOIN public.sales_quotes ON quote_lines.quote_id = sales_quotes.quote_id LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"sales_orders","column":"total","resolved_table":"sales_orders","suggested_columns":[]},{"alias":"sales_orders","column":"order_id","resolved_table":"sales_orders","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","rows_returned":1,"total_latency_ms":3670}
{"timestamp":"2026-02-01T22:20:24.071Z","query_id":"2a56fa69-919e-4d36-9382-d8beddee6b41","question":"List sales orders by sales representative with their totals","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_orders","purchase_orders","order_lines","sales_quotes","goods_receipts","sales_territories","po_lines","sales_regions","vendor_invoices","receipt_lines","sales_opportunities","vendor_invoice_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":8,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_orders","similarity":0.758754229471184},{"table":"sales_orders","similarity":0.7556252264934581},{"table":"sales_orders","similarity":0.7556252264934581},{"table":"purchase_orders","similarity":0.6987531686909988},{"table":"purchase_orders","similarity":0.6886720787474853},{"table":"purchase_orders","similarity":0.6886720787474853},{"table":"order_lines","similarity":0.6881373549198537},{"table":"order_lines","similarity":0.6816260009947546},{"table":"order_lines","similarity":0.6816260009947546},{"table":"sales_quotes","similarity":0.6493819389041919},{"table":"sales_quotes","similarity":0.6493819389041919},{"table":"goods_receipts","similarity":0.6456282553665884},{"table":"sales_quotes","similarity":0.6444526679613465},{"table":"sales_territories","similarity":0.6375070500401926},{"table":"sales_territories","similarity":0.6348500168058512}],"column_hits_per_table":{"sales_orders":15,"purchase_orders":12,"sales_quotes":6,"order_lines":5,"sales_regions":1,"vendor_invoices":1,"sales_territories":1,"receipt_lines":1,"vendor_invoice_lines":1,"po_lines":3,"goods_receipts":1,"product_suppliers":1,"sales_opportunities":1,"inventory_transactions":1},"top_columns_per_table":{"sales_orders":[{"column":"total","similarity":0.7984816373428206},{"column":"order_number","similarity":0.7376507065051414},{"column":"tax_amount","similarity":0.7355899521470814}],"purchase_orders":[{"column":"total","similarity":0.734096231715997},{"column":"tax_amount","similarity":0.6843265970253858},{"column":"subtotal","similarity":0.6744270570758721}],"sales_quotes":[{"column":"total","similarity":0.6966422036282015},{"column":"status","similarity":0.6606149717330653},{"column":"tax_amount","similarity":0.6474260599431703}],"order_lines":[{"column":"quantity_shipped","similarity":0.6752744675245054},{"column":"line_total","similarity":0.6719261035704387},{"column":"quantity","similarity":0.6483651230587076}],"sales_regions":[{"column":"target_revenue","similarity":0.6591934074166641}],"vendor_invoices":[{"column":"total","similarity":0.6455669148097609}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6413528025002969}],"receipt_lines":[{"column":"quantity_received","similarity":0.6394945951070348}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.6336019163468033}],"po_lines":[{"column":"line_total","similarity":0.6324408227358158},{"column":"quantity_received","similarity":0.6248640275162665},{"column":"quantity","similarity":0.6172166944597351}],"goods_receipts":[{"column":"po_id","similarity":0.6290574732384728}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6285907746616352}],"sales_opportunities":[{"column":"amount","similarity":0.6191854884462563}],"inventory_transactions":[{"column":"quantity","similarity":0.6191435481021224}]},"fused_scores":[{"table":"sales_orders","fused":0.9202979321342314,"table_sim":0.7556252264934581,"col_score":1.1673069905953914},{"table":"purchase_orders","fused":0.8437070593399671,"table_sim":0.6886720787474853,"col_score":1.07625953022869},{"table":"order_lines","fused":0.8134706083207426,"table_sim":0.6816260009947546,"col_score":1.0112375193097247},{"table":"sales_quotes","fused":0.7948136942167225,"table_sim":0.6444526679613465,"col_score":1.0203552335997865},{"table":"goods_receipts","fused":0.5635130457267254,"table_sim":0.6456282553665884,"col_score":0.44034023126693095},{"table":"sales_territories","fused":0.5604887947835939,"table_sim":0.6348500168058512,"col_score":0.4489469617502078},{"table":"po_lines","fused":0.3779491345975796,"table_sim":0,"col_score":0.944872836493949},{"table":"sales_regions","fused":0.26367736296666566,"table_sim":0,"col_score":0.6591934074166641},{"table":"vendor_invoices","fused":0.25822676592390437,"table_sim":0,"col_score":0.6455669148097609},{"table":"receipt_lines","fused":0.2557978380428139,"table_sim":0,"col_score":0.6394945951070348},{"table":"vendor_invoice_lines","fused":0.25344076653872133,"table_sim":0,"col_score":0.6336019163468033},{"table":"product_suppliers","fused":0.2514363098646541,"table_sim":0,"col_score":0.6285907746616352},{"table":"sales_opportunities","fused":0.24767419537850255,"table_sim":0,"col_score":0.6191854884462563},{"table":"inventory_transactions","fused":0.24765741924084894,"table_sim":0,"col_score":0.6191435481021224}],"fk_expansion_candidates":36,"fk_expansion_added":2,"fk_expansion_blocked_count":30,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":26,"total_retrieval_latency_ms":33,"sql_generated":"SELECT srt.sales_rep_id, SUM(so.total) AS total_sales FROM public.sales_orders so JOIN public.sales_representatives sr ON so.sales_rep_id = sr.employee_id GROUP BY srt.sales_rep_id;","tables_used_in_sql":[],"total_latency_ms":2877,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:20:26.948Z","query_id":"338c18d4-a406-49e2-bc46-d58fe1da7f6b","question":"Which products have inventory below their reorder point?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["inventory_levels","reorder_rules","order_lines","sales_orders","inventory_transactions","purchase_orders","products","inventory_adjustments","purchase_requisitions","po_lines","product_suppliers","warehouse_locations"],"tables_from_table_retrieval":7,"tables_from_column_only":9,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_levels","similarity":0.7070801714571546},{"table":"reorder_rules","similarity":0.6993615141081165},{"table":"inventory_levels","similarity":0.6953472951150648},{"table":"inventory_levels","similarity":0.6953472951150648},{"table":"reorder_rules","similarity":0.6944993157914898},{"table":"reorder_rules","similarity":0.6944993157914898},{"table":"order_lines","similarity":0.6642088827606001},{"table":"order_lines","similarity":0.6572535778016314},{"table":"order_lines","similarity":0.6572535778016314},{"table":"purchase_orders","similarity":0.6443483426703897},{"table":"inventory_transactions","similarity":0.6416382343377212},{"table":"purchase_orders","similarity":0.633710828585256},{"table":"purchase_orders","similarity":0.633710828585256},{"table":"products","similarity":0.6294483845877934},{"table":"sales_orders","similarity":0.6263982770622627}],"column_hits_per_table":{"reorder_rules":6,"inventory_levels":7,"order_lines":4,"sales_orders":6,"po_lines":2,"inventory_adjustments":4,"purchase_orders":5,"product_suppliers":1,"inventory_transactions":6,"requisition_lines":1,"warehouse_locations":1,"purchase_requisitions":2,"products":2,"goods_receipts":1,"product_categories":1,"fixed_assets":1},"top_columns_per_table":{"reorder_rules":[{"column":"product_id","similarity":0.6848016931751442},{"column":"reorder_quantity","similarity":0.6637797302393366},{"column":"min_quantity","similarity":0.6574207762819531}],"inventory_levels":[{"column":"last_count_date","similarity":0.6817961261538734},{"column":"quantity_on_hand","similarity":0.6695351192378397},{"column":"product_id","similarity":0.6682884756083407}],"order_lines":[{"column":"product_id","similarity":0.6691954780163692},{"column":"quantity_shipped","similarity":0.637679790857748},{"column":"quantity","similarity":0.6321627156566018}],"sales_orders":[{"column":"order_number","similarity":0.6627704470010616},{"column":"status","similarity":0.6471660709577013},{"column":"order_date","similarity":0.6389517822162246}],"po_lines":[{"column":"product_id","similarity":0.6504268752720367},{"column":"po_id","similarity":0.6077693680985435}],"inventory_adjustments":[{"column":"status","similarity":0.6479602296650583},{"column":"reason","similarity":0.6457522392027785},{"column":"adjustment_number","similarity":0.6378457218522001}],"purchase_orders":[{"column":"po_number","similarity":0.6474162126096339},{"column":"status","similarity":0.6402955005707206},{"column":"expected_date","similarity":0.6228851654803191}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.641385053356931}],"inventory_transactions":[{"column":"quantity","similarity":0.6375918434746354},{"column":"product_id","similarity":0.637542414223907},{"column":"location_id","similarity":0.6341790276928759}],"requisition_lines":[{"column":"product_id","similarity":0.6314296366225383}],"warehouse_locations":[{"column":"aisle","similarity":0.6303878312508351}],"purchase_requisitions":[{"column":"requisition_number","similarity":0.6234744184832554},{"column":"status","similarity":0.6170438229673241}],"products":[{"column":"list_price","similarity":0.6178030633511985},{"column":"category_id","similarity":0.6099738535155036}],"goods_receipts":[{"column":"po_id","similarity":0.6089214662001797}],"product_categories":[{"column":"is_active","similarity":0.6087500213588084}],"fixed_assets":[{"column":"po_id","similarity":0.6068785699474105}]},"fused_scores":[{"table":"inventory_levels","fused":0.8238338513781562,"table_sim":0.6953472951150648,"col_score":1.0165636857727933},{"table":"reorder_rules","fused":0.8136956368270192,"table_sim":0.6944993157914898,"col_score":0.9924901183803131},{"table":"order_lines","fused":0.7758566061553984,"table_sim":0.6572535778016314,"col_score":0.9537611486860489},{"table":"sales_orders","fused":0.7687375014810272,"table_sim":0.6263982770622627,"col_score":0.9822463381091739},{"table":"inventory_transactions","fused":0.7651306372843636,"table_sim":0.6416382343377212,"col_score":0.9503692417043273},{"table":"purchase_orders","fused":0.7637700152910709,"table_sim":0.633710828585256,"col_score":0.9588587953497935},{"table":"products","fused":0.7101865955853259,"table_sim":0.6294483845877934,"col_score":0.8312939120816247},{"table":"inventory_adjustments","fused":0.3858700400515514,"table_sim":0,"col_score":0.9646751001288785},{"table":"purchase_requisitions","fused":0.33577590260872753,"table_sim":0,"col_score":0.8394397565218188},{"table":"po_lines","fused":0.26720723660996637,"table_sim":0,"col_score":0.6680180915249159},{"table":"product_suppliers","fused":0.2565540213427724,"table_sim":0,"col_score":0.641385053356931},{"table":"warehouse_locations","fused":0.25215513250033406,"table_sim":0,"col_score":0.6303878312508351},{"table":"requisition_lines","fused":0.1768002982543107,"table_sim":0,"col_score":0.44200074563577674},{"table":"goods_receipts","fused":0.17049801053605032,"table_sim":0,"col_score":0.4262450263401258},{"table":"product_categories","fused":0.17045000598046633,"table_sim":0,"col_score":0.42612501495116584}],"fk_expansion_candidates":60,"fk_expansion_added":2,"fk_expansion_blocked_count":54,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"product_suppliers","reason":"already_selected"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":27,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"il","column":"product_id","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"rr","column":"product_id","resolved_table":"reorder_rules","suggested_columns":[]},{"alias":"il","column":"quantity_on_hand","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"il","column":"quantity_reserved","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"rr","column":"min_quantity","resolved_table":"reorder_rules","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":4350,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:20:31.299Z","query_id":"20b29963-8cd8-4afc-97f9-d6685513207e","question":"Show total inventory value by warehouse","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["inventory_levels","warehouse_locations","inventory_transactions","warehouses","inventory_adjustments","goods_receipts","sales_orders","depreciation_entries","products","stock_transfers","purchase_orders","fixed_assets"],"tables_from_table_retrieval":6,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_levels","similarity":0.7104203582862987},{"table":"inventory_levels","similarity":0.7062958755605335},{"table":"inventory_levels","similarity":0.7062958755605335},{"table":"inventory_transactions","similarity":0.680757846413893},{"table":"inventory_transactions","similarity":0.6765591263871731},{"table":"inventory_transactions","similarity":0.6765591263871731},{"table":"warehouse_locations","similarity":0.6696147841460903},{"table":"warehouse_locations","similarity":0.6696147841460903},{"table":"warehouse_locations","similarity":0.6688272683283106},{"table":"inventory_adjustments","similarity":0.6606002830367331},{"table":"warehouses","similarity":0.6556396900395098},{"table":"warehouses","similarity":0.6549847651325709},{"table":"warehouses","similarity":0.6549847651325709},{"table":"goods_receipts","similarity":0.6485940357294664},{"table":"inventory_adjustments","similarity":0.6481714490174519}],"column_hits_per_table":{"inventory_levels":8,"inventory_transactions":7,"goods_receipts":1,"inventory_adjustments":2,"warehouse_locations":7,"warehouses":6,"sales_orders":4,"stock_transfers":2,"vendor_invoices":1,"purchase_orders":1,"budgets":1,"sales_quotes":1,"receipt_lines":1,"product_suppliers":1,"departments":1,"depreciation_entries":2,"reorder_rules":1,"products":2,"fixed_assets":1},"top_columns_per_table":{"inventory_levels":[{"column":"warehouse_id","similarity":0.708722514782743},{"column":"quantity_available","similarity":0.6604112553081857},{"column":"location_id","similarity":0.6602421519261215}],"inventory_transactions":[{"column":"warehouse_id","similarity":0.6993416090005563},{"column":"quantity","similarity":0.689333383144765},{"column":"location_id","similarity":0.660944351084026}],"goods_receipts":[{"column":"warehouse_id","similarity":0.688838466629484}],"inventory_adjustments":[{"column":"warehouse_id","similarity":0.6887282990877287},{"column":"adjusted_by","similarity":0.5981689946700227}],"warehouse_locations":[{"column":"capacity","similarity":0.6827158501951326},{"column":"warehouse_id","similarity":0.662666484484188},{"column":"aisle","similarity":0.6432371700626858}],"warehouses":[{"column":"warehouse_id","similarity":0.6820022612136065},{"column":"code","similarity":0.6539272965859065},{"column":"manager_id","similarity":0.6485538115680078}],"sales_orders":[{"column":"total","similarity":0.6722495952714556},{"column":"shipping_cost","similarity":0.60704061712735},{"column":"tax_amount","similarity":0.6052565462982356}],"stock_transfers":[{"column":"to_warehouse_id","similarity":0.6688782877276971},{"column":"from_warehouse_id","similarity":0.6625944072749643}],"vendor_invoices":[{"column":"total","similarity":0.6650649265799957}],"purchase_orders":[{"column":"total","similarity":0.6529876873319977}],"budgets":[{"column":"total_amount","similarity":0.6288992519439089}],"sales_quotes":[{"column":"total","similarity":0.6183165548964591}],"receipt_lines":[{"column":"location_id","similarity":0.6178862177295927}],"product_suppliers":[{"column":"unit_cost","similarity":0.6136774418242915}],"departments":[{"column":"budget","similarity":0.6126737864581466}],"depreciation_entries":[{"column":"book_value","similarity":0.6106026426926224},{"column":"amount","similarity":0.6023684484447284}],"reorder_rules":[{"column":"warehouse_id","similarity":0.6057139616644429}],"products":[{"column":"unit_cost","similarity":0.6047858628133291},{"column":"list_price","similarity":0.599736955772572}],"fixed_assets":[{"column":"disposal_amount","similarity":0.6025646944840113}]},"fused_scores":[{"table":"inventory_levels","fused":0.819440334599304,"table_sim":0.7062958755605335,"col_score":0.9891570231574598},{"table":"warehouse_locations","fused":0.8030301350875766,"table_sim":0.6688272683283106,"col_score":1.0043344352264754},{"table":"inventory_transactions","fused":0.7795766543502878,"table_sim":0.6765591263871731,"col_score":0.9341029462949597},{"table":"warehouses","fused":0.7500420942838101,"table_sim":0.6549847651325709,"col_score":0.8926280880106688},{"table":"inventory_adjustments","fused":0.7245924291507623,"table_sim":0.6481714490174519,"col_score":0.8392238993507277},{"table":"goods_receipts","fused":0.5820311920939354,"table_sim":0.6485940357294664,"col_score":0.4821869266406388},{"table":"sales_orders","fused":0.3903079615340523,"table_sim":0,"col_score":0.9757699038351306},{"table":"depreciation_entries","fused":0.3647147467659947,"table_sim":0,"col_score":0.9117868669149867},{"table":"products","fused":0.3618617362798461,"table_sim":0,"col_score":0.9046543406996151},{"table":"stock_transfers","fused":0.2800491375822502,"table_sim":0,"col_score":0.7001228439556254},{"table":"vendor_invoices","fused":0.2660259706319983,"table_sim":0,"col_score":0.6650649265799957},{"table":"purchase_orders","fused":0.2611950749327991,"table_sim":0,"col_score":0.6529876873319977},{"table":"budgets","fused":0.25155970077756357,"table_sim":0,"col_score":0.6288992519439089},{"table":"sales_quotes","fused":0.24732662195858365,"table_sim":0,"col_score":0.6183165548964591},{"table":"product_suppliers","fused":0.24547097672971663,"table_sim":0,"col_score":0.6136774418242915}],"fk_expansion_candidates":57,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"purchase_orders","reason":"already_selected"},{"table":"journal_entries","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"purchase_orders","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"fixed_assets","reason":"already_selected"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":44,"total_retrieval_latency_ms":52,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"w","column":"warehouse_id","resolved_table":"warehouses","suggested_columns":[]},{"alias":"i","column":"quantity","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"purchase_cost","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"location_id","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"w","column":"warehouse_id","resolved_table":"warehouses","suggested_columns":[]},{"alias":"w","column":"warehouse_id","resolved_table":"warehouses","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":2138,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:20:33.437Z","query_id":"b8f3f81b-a01a-49be-84ea-5a13551d3ed8","question":"List products that had stock transfers in the last 30 days","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["stock_transfers","asset_transfers","product_suppliers","transfer_lines","products","goods_receipts","sales_orders","sales_opportunities","purchase_orders","bank_transactions","inventory_transactions","inventory_levels"],"tables_from_table_retrieval":6,"tables_from_column_only":12,"tables_from_fk_expansion":2,"table_scores":[{"table":"stock_transfers","similarity":0.7091850354041176},{"table":"stock_transfers","similarity":0.7011965090595027},{"table":"stock_transfers","similarity":0.7011965090595027},{"table":"transfer_lines","similarity":0.6496835362341594},{"table":"transfer_lines","similarity":0.6496835362341594},{"table":"transfer_lines","similarity":0.646870577681612},{"table":"asset_transfers","similarity":0.5968754380180706},{"table":"asset_transfers","similarity":0.5968754380180706},{"table":"asset_transfers","similarity":0.59288750153646},{"table":"product_suppliers","similarity":0.5817884382151997},{"table":"product_suppliers","similarity":0.5745779979943767},{"table":"product_suppliers","similarity":0.5745779979943767},{"table":"goods_receipts","similarity":0.5680812156740983},{"table":"products","similarity":0.5634067444500328},{"table":"goods_receipts","similarity":0.5627684399196974}],"column_hits_per_table":{"stock_transfers":9,"asset_transfers":4,"fixed_assets":1,"product_suppliers":2,"products":5,"goods_receipts":2,"sales_orders":4,"transfer_lines":3,"sales_opportunities":2,"purchase_orders":3,"bank_transactions":2,"inventory_adjustments":1,"inventory_transactions":3,"asset_maintenance":1,"purchase_requisitions":3,"sales_quotes":3,"inventory_levels":1,"vendor_invoices":1},"top_columns_per_table":{"stock_transfers":[{"column":"transfer_date","similarity":0.7499168921470162},{"column":"requested_date","similarity":0.7345265492490073},{"column":"status","similarity":0.7330447738209374}],"asset_transfers":[{"column":"transfer_date","similarity":0.6805213481174137},{"column":"reason","similarity":0.6364549306171452},{"column":"transferred_by","similarity":0.5760045825951514}],"fixed_assets":[{"column":"purchase_date","similarity":0.6273418627780806}],"product_suppliers":[{"column":"lead_time_days","similarity":0.6226272716760114},{"column":"vendor_sku","similarity":0.5886978994384543}],"products":[{"column":"sku","similarity":0.6116137990281642},{"column":"weight","similarity":0.6100903093863776},{"column":"name","similarity":0.6058188658015616}],"goods_receipts":[{"column":"receipt_date","similarity":0.6110182471068999},{"column":"notes","similarity":0.5904748926703712}],"sales_orders":[{"column":"ship_date","similarity":0.6099316067185375},{"column":"order_date","similarity":0.5959651780199162},{"column":"status","similarity":0.5956583941840918}],"transfer_lines":[{"column":"transfer_id","similarity":0.6075867978368561},{"column":"product_id","similarity":0.5992251210020744},{"column":"quantity_transferred","similarity":0.5858026631707312}],"sales_opportunities":[{"column":"actual_close_date","similarity":0.6030406652697254},{"column":"expected_close_date","similarity":0.5875094961690548}],"purchase_orders":[{"column":"status","similarity":0.5975839583778322},{"column":"order_date","similarity":0.5938817441678782},{"column":"expected_date","similarity":0.589876682073089}],"bank_transactions":[{"column":"transaction_date","similarity":0.5964828803092368},{"column":"reconciled","similarity":0.5699506323088029}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5938851055262241}],"inventory_transactions":[{"column":"transaction_date","similarity":0.5868513506524482},{"column":"transaction_type","similarity":0.5727879607007047},{"column":"reference_type","similarity":0.5713153140670767}],"asset_maintenance":[{"column":"completed_date","similarity":0.5867606193386766}],"purchase_requisitions":[{"column":"status","similarity":0.5827865883224072},{"column":"approved_date","similarity":0.5710456887653464},{"column":"notes","similarity":0.5705665600863868}],"sales_quotes":[{"column":"status","similarity":0.5826553998030811},{"column":"valid_until","similarity":0.5817087714931044},{"column":"quote_date","similarity":0.5733265296465615}],"inventory_levels":[{"column":"last_count_date","similarity":0.5783828724054709}],"vendor_invoices":[{"column":"status","similarity":0.5680190001288683}]},"fused_scores":[{"table":"stock_transfers","fused":0.8675899721443094,"table_sim":0.7011965090595027,"col_score":1.1171801667715198},{"table":"asset_transfers","fused":0.7552320262922705,"table_sim":0.59288750153646,"col_score":0.9987488134259863},{"table":"product_suppliers","fused":0.7115372873547214,"table_sim":0.5745779979943767,"col_score":0.9169762213952386},{"table":"transfer_lines","fused":0.7075055635744195,"table_sim":0.646870577681612,"col_score":0.7984580424136307},{"table":"products","fused":0.7047076281585609,"table_sim":0.5634067444500328,"col_score":0.916658953721353},{"table":"goods_receipts","fused":0.6647348477684304,"table_sim":0.5627684399196974,"col_score":0.8176844595415298},{"table":"sales_orders","fused":0.3631656782913983,"table_sim":0,"col_score":0.9079141957284956},{"table":"sales_opportunities","fused":0.35871816534170115,"table_sim":0,"col_score":0.8967954133542528},{"table":"purchase_orders","fused":0.3555280340817691,"table_sim":0,"col_score":0.8888200852044227},{"table":"bank_transactions","fused":0.35258327858545535,"table_sim":0,"col_score":0.8814581964636383},{"table":"inventory_transactions","fused":0.34929813240112023,"table_sim":0,"col_score":0.8732453310028006},{"table":"sales_quotes","fused":0.3473488145265541,"table_sim":0,"col_score":0.8683720363163852},{"table":"purchase_requisitions","fused":0.3100083978712756,"table_sim":0,"col_score":0.775020994678189},{"table":"fixed_assets","fused":0.25093674511123226,"table_sim":0,"col_score":0.6273418627780806},{"table":"inventory_adjustments","fused":0.23755404221048965,"table_sim":0,"col_score":0.5938851055262241}],"fk_expansion_candidates":69,"fk_expansion_added":2,"fk_expansion_blocked_count":54,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"customers","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"max_tables"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"bank_accounts","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"sales_quotes","reason":"max_tables"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_levels","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":38,"total_retrieval_latency_ms":45,"sql_generated":"SELECT p.* FROM products p INNER JOIN transfer_lines tl ON p.product_id = tl.product_id INNER JOIN stock_transfers st ON tl.transfer_id = st.transfer_id WHERE st.transfer_date >= CURRENT_DATE - INTERVAL '30 days';","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":1098}
{"timestamp":"2026-02-01T22:20:34.535Z","query_id":"504fb12c-7cec-467a-a475-5d29f3e1069e","question":"What is the total spend by vendor this year?","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["vendor_invoices","purchase_orders","vendors","project_expenses","product_suppliers","vendor_invoice_lines","project_budgets","sales_orders","sales_quotes","fixed_assets","vendor_contacts","products"],"tables_from_table_retrieval":6,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"vendor_invoices","similarity":0.6440970715159303},{"table":"vendor_invoices","similarity":0.6440970715159303},{"table":"vendor_invoices","similarity":0.639424435349415},{"table":"vendors","similarity":0.6244918790926227},{"table":"purchase_orders","similarity":0.6205493350711797},{"table":"purchase_orders","similarity":0.6205493350711797},{"table":"vendors","similarity":0.6183112819198846},{"table":"vendors","similarity":0.6183112819198846},{"table":"purchase_orders","similarity":0.6177456671712362},{"table":"product_suppliers","similarity":0.598703660216106},{"table":"fiscal_years","similarity":0.5958886040093712},{"table":"project_expenses","similarity":0.5917559199865416},{"table":"project_expenses","similarity":0.5906949409227156},{"table":"project_expenses","similarity":0.5906949409227156},{"table":"product_suppliers","similarity":0.5892637416806026}],"column_hits_per_table":{"vendor_invoices":10,"budgets":1,"purchase_orders":6,"vendor_invoice_lines":3,"project_expenses":2,"vendors":8,"sales_orders":2,"project_budgets":2,"product_suppliers":2,"sales_quotes":2,"projects":1,"fixed_assets":3,"products":1,"budget_lines":1,"purchase_requisitions":3,"depreciation_schedules":1,"asset_maintenance":1,"vendor_contacts":1},"top_columns_per_table":{"vendor_invoices":[{"column":"total","similarity":0.7062529607669469},{"column":"tax_amount","similarity":0.6569420170620686},{"column":"amount_paid","similarity":0.6525110251426526}],"budgets":[{"column":"total_amount","similarity":0.6533596429158817}],"purchase_orders":[{"column":"total","similarity":0.6425370855623833},{"column":"tax_amount","similarity":0.6174757294901109},{"column":"vendor_id","similarity":0.5942535542023611}],"vendor_invoice_lines":[{"column":"amount","similarity":0.6414203627446952},{"column":"unit_cost","similarity":0.6384854706402397},{"column":"quantity","similarity":0.6008819172893124}],"project_expenses":[{"column":"expense_date","similarity":0.6302596278500101},{"column":"amount","similarity":0.6115972025931361}],"vendors":[{"column":"payment_terms","similarity":0.6287317824441854},{"column":"vendor_number","similarity":0.616273209887938},{"column":"phone","similarity":0.6119598101701121}],"sales_orders":[{"column":"total","similarity":0.6273962434957814},{"column":"tax_amount","similarity":0.5927580498428531}],"project_budgets":[{"column":"actual_amount","similarity":0.6245219111397344},{"column":"planned_amount","similarity":0.6076385195194554}],"product_suppliers":[{"column":"unit_cost","similarity":0.6202704837989403},{"column":"vendor_id","similarity":0.5815547843350841}],"sales_quotes":[{"column":"total","similarity":0.6161006991687307},{"column":"tax_amount","similarity":0.587895729360088}],"projects":[{"column":"budget","similarity":0.6100628879936848}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5986646089942808},{"column":"purchase_date","similarity":0.5961819068723165},{"column":"vendor_id","similarity":0.5938842221789269}],"products":[{"column":"unit_cost","similarity":0.5940432927972419}],"budget_lines":[{"column":"amount","similarity":0.5917264745538887}],"purchase_requisitions":[{"column":"approved_date","similarity":0.5905370205856212},{"column":"request_date","similarity":0.5860336743159205},{"column":"required_date","similarity":0.5847709356931721}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.5876422769577351}],"asset_maintenance":[{"column":"vendor_id","similarity":0.5863680456887999}],"vendor_contacts":[{"column":"phone","similarity":0.5837764500936985}]},"fused_scores":[{"table":"vendor_invoices","fused":0.7975442489288413,"table_sim":0.639424435349415,"col_score":1.034723969297981},{"table":"purchase_orders","fused":0.7511573804257172,"table_sim":0.6177456671712362,"col_score":0.9512749503074387},{"table":"vendors","fused":0.7457341241071925,"table_sim":0.6183112819198846,"col_score":0.9368683873881544},{"table":"project_expenses","fused":0.7288402562122607,"table_sim":0.5906949409227156,"col_score":0.9360582291465782},{"table":"product_suppliers","fused":0.6830841083348494,"table_sim":0.5892637416806026,"col_score":0.8238146583162198},{"table":"vendor_invoice_lines","fused":0.38426523922592604,"table_sim":0,"col_score":0.960663098064815},{"table":"project_budgets","fused":0.37133646835978484,"table_sim":0,"col_score":0.9283411708994621},{"table":"sales_orders","fused":0.36951010736688317,"table_sim":0,"col_score":0.9237752684172079},{"table":"sales_quotes","fused":0.36401942553950994,"table_sim":0,"col_score":0.9100485638487747},{"table":"fixed_assets","fused":0.35870222497217563,"table_sim":0,"col_score":0.8967555624304391},{"table":"fiscal_years","fused":0.35753316240562266,"table_sim":0.5958886040093712,"col_score":0},{"table":"purchase_requisitions","fused":0.35342154309743257,"table_sim":0,"col_score":0.8835538577435814},{"table":"budgets","fused":0.26134385716635267,"table_sim":0,"col_score":0.6533596429158817},{"table":"projects","fused":0.24402515519747392,"table_sim":0,"col_score":0.6100628879936848},{"table":"products","fused":0.23761731711889678,"table_sim":0,"col_score":0.5940432927972419}],"fk_expansion_candidates":60,"fk_expansion_added":2,"fk_expansion_blocked_count":45,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"projects","reason":"max_tables"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"max_tables"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"products","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"vendor_contacts","reason":"already_selected"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"vendor_contacts","reason":"already_selected"},{"table":"employees","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"max_tables"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"max_tables"},{"table":"depreciation_schedules","reason":"max_tables"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"projects","reason":"max_tables"},{"table":"purchase_requisitions","reason":"max_tables"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"max_tables"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":18,"total_retrieval_latency_ms":26,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":2632,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:20:37.167Z","query_id":"4037fc9f-0658-4ab7-94e5-be7c2ccd124b","question":"List purchase orders that are overdue (expected date passed but not received)","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["purchase_orders","sales_orders","purchase_requisitions","goods_receipts","order_lines","vendor_invoices","performance_reviews","sales_quotes","po_lines","timesheets","fixed_assets","sales_opportunities"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"purchase_orders","similarity":0.6892780734130105},{"table":"purchase_orders","similarity":0.6877847923105723},{"table":"purchase_orders","similarity":0.6877847923105723},{"table":"sales_orders","similarity":0.6436897773327827},{"table":"goods_receipts","similarity":0.6352418457409176},{"table":"sales_orders","similarity":0.6345390772398959},{"table":"sales_orders","similarity":0.6345390772398959},{"table":"purchase_requisitions","similarity":0.6320653594363884},{"table":"purchase_requisitions","similarity":0.6281214571607268},{"table":"purchase_requisitions","similarity":0.6281214571607268},{"table":"order_lines","similarity":0.6266578306760409},{"table":"order_lines","similarity":0.6173850449941319},{"table":"order_lines","similarity":0.6173850449941319},{"table":"goods_receipts","similarity":0.6145302746290987},{"table":"goods_receipts","similarity":0.6145302746290987}],"column_hits_per_table":{"purchase_orders":15,"sales_orders":8,"purchase_requisitions":6,"vendor_invoices":3,"fixed_assets":1,"performance_reviews":3,"stock_transfers":1,"goods_receipts":2,"sales_opportunities":1,"po_lines":2,"order_lines":1,"sales_quotes":3,"timesheets":2,"inventory_transactions":1,"employee_certifications":1},"top_columns_per_table":{"purchase_orders":[{"column":"expected_date","similarity":0.7914963653938238},{"column":"order_date","similarity":0.7635502937685905},{"column":"status","similarity":0.747639644500421}],"sales_orders":[{"column":"order_date","similarity":0.7235546305466264},{"column":"required_date","similarity":0.7185386655573599},{"column":"ship_date","similarity":0.7100060695804065}],"purchase_requisitions":[{"column":"request_date","similarity":0.6846871495702603},{"column":"approved_date","similarity":0.6846235647380197},{"column":"required_date","similarity":0.6803613753458558}],"vendor_invoices":[{"column":"due_date","similarity":0.6486808836793426},{"column":"invoice_date","similarity":0.633314911035975},{"column":"status","similarity":0.6320046740385495}],"fixed_assets":[{"column":"purchase_date","similarity":0.6483597718886084}],"performance_reviews":[{"column":"review_date","similarity":0.6402500237578782},{"column":"review_period_end","similarity":0.6181137197537518},{"column":"review_period_start","similarity":0.6090541573304037}],"stock_transfers":[{"column":"requested_date","similarity":0.6397536436713247}],"goods_receipts":[{"column":"receipt_date","similarity":0.6320711731665748},{"column":"po_id","similarity":0.6150599127133874}],"sales_opportunities":[{"column":"expected_close_date","similarity":0.627425520789371}],"po_lines":[{"column":"po_id","similarity":0.621403776034774},{"column":"quantity_received","similarity":0.6133005378966102}],"order_lines":[{"column":"quantity_shipped","similarity":0.6213051311566832}],"sales_quotes":[{"column":"status","similarity":0.6196764702539621},{"column":"valid_until","similarity":0.6117760233170634},{"column":"quote_date","similarity":0.6084274483307646}],"timesheets":[{"column":"approved_date","similarity":0.6125536693705684},{"column":"status","similarity":0.6090778000186181}],"inventory_transactions":[{"column":"transaction_date","similarity":0.610775225230928}],"employee_certifications":[{"column":"obtained_date","similarity":0.6043033574871731}]},"fused_scores":[{"table":"purchase_orders","fused":0.8819794802975911,"table_sim":0.6877847923105723,"col_score":1.1732715122781192},{"table":"sales_orders","fused":0.81385303167406,"table_sim":0.6345390772398959,"col_score":1.0828239633253063},{"table":"purchase_requisitions","fused":0.7876724470721441,"table_sim":0.6281214571607268,"col_score":1.02699893193927},{"table":"goods_receipts","fused":0.7076550218239634,"table_sim":0.6145302746290987,"col_score":0.8473421426162604},{"table":"order_lines","fused":0.6189530794591525,"table_sim":0.6173850449941319,"col_score":0.6213051311566832},{"table":"vendor_invoices","fused":0.3861353356789321,"table_sim":0,"col_score":0.9653383391973301},{"table":"performance_reviews","fused":0.37972275345390166,"table_sim":0,"col_score":0.9493068836347541},{"table":"sales_quotes","fused":0.3663958989929783,"table_sim":0,"col_score":0.9159897474824457},{"table":"po_lines","fused":0.33231674380351245,"table_sim":0,"col_score":0.8307918595087811},{"table":"timesheets","fused":0.33029235975083393,"table_sim":0,"col_score":0.8257308993770848},{"table":"fixed_assets","fused":0.2593439087554434,"table_sim":0,"col_score":0.6483597718886084},{"table":"stock_transfers","fused":0.2559014574685299,"table_sim":0,"col_score":0.6397536436713247},{"table":"sales_opportunities","fused":0.2509702083157484,"table_sim":0,"col_score":0.627425520789371},{"table":"inventory_transactions","fused":0.2443100900923712,"table_sim":0,"col_score":0.610775225230928},{"table":"employee_certifications","fused":0.24172134299486925,"table_sim":0,"col_score":0.6043033574871731}],"fk_expansion_candidates":42,"fk_expansion_added":2,"fk_expansion_blocked_count":36,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"sales_opportunities","reason":"already_selected"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":38,"total_retrieval_latency_ms":44,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"po","column":"order_id","resolved_table":"purchase_orders","suggested_columns":["po_id","po_number","vendor_id"]},{"alias":"so","column":"sales_order_id","resolved_table":"sales_opportunities","suggested_columns":["opportunity_id","name","customer_id"]},{"alias":"po","column":"received_at","resolved_table":"purchase_orders","suggested_columns":["po_id","po_number","vendor_id"]}],"unresolved_aliases":[]},"total_latency_ms":4243,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:20:41.410Z","query_id":"072a27f5-05fd-4a85-95cc-9925062b8394","question":"Show the approval rate for purchase requisitions","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["purchase_requisitions","purchase_orders","requisition_lines","performance_reviews","sales_orders","vendor_invoices","fixed_assets","timesheets","product_suppliers","inventory_adjustments","order_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":11,"tables_from_fk_expansion":1,"table_scores":[{"table":"purchase_requisitions","similarity":0.7226292162446724},{"table":"purchase_requisitions","similarity":0.7226292162446724},{"table":"purchase_requisitions","similarity":0.7144537875190509},{"table":"purchase_orders","similarity":0.6838035609323098},{"table":"purchase_orders","similarity":0.6838035609323098},{"table":"purchase_orders","similarity":0.6754585362390629},{"table":"requisition_lines","similarity":0.6574096478940754},{"table":"requisition_lines","similarity":0.6574096478940754},{"table":"requisition_lines","similarity":0.6526067337493826},{"table":"performance_reviews","similarity":0.5761025171829891},{"table":"sales_orders","similarity":0.5687655577174364},{"table":"sales_orders","similarity":0.5687655577174364},{"table":"vendor_invoices","similarity":0.5649116344007853},{"table":"vendor_invoices","similarity":0.5649116344007853},{"table":"performance_reviews","similarity":0.5638451623641205}],"column_hits_per_table":{"purchase_requisitions":11,"purchase_orders":11,"requisition_lines":5,"performance_reviews":3,"inventory_adjustments":1,"fixed_assets":2,"order_lines":1,"budgets":1,"timesheets":2,"sales_orders":5,"employee_salaries":1,"project_expenses":1,"quote_lines":1,"tax_rates":1,"vendor_invoices":1,"product_suppliers":2,"project_resources":1},"top_columns_per_table":{"purchase_requisitions":[{"column":"approved_date","similarity":0.7766675210993076},{"column":"approved_by","similarity":0.7199034718995457},{"column":"status","similarity":0.7073786073810431}],"purchase_orders":[{"column":"approved_by","similarity":0.6705580315294349},{"column":"requisition_id","similarity":0.6613289750833529},{"column":"total","similarity":0.6594363248888107}],"requisition_lines":[{"column":"requisition_id","similarity":0.6370319480171334},{"column":"estimated_total","similarity":0.6269887433093003},{"column":"estimated_unit_cost","similarity":0.625934325952803}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.6195475886627112},{"column":"rating","similarity":0.5921179439607568},{"column":"review_date","similarity":0.5730063449640999}],"inventory_adjustments":[{"column":"approved_by","similarity":0.6149213210803182}],"fixed_assets":[{"column":"purchase_cost","similarity":0.6114883686057044},{"column":"purchase_date","similarity":0.5785038067743914}],"order_lines":[{"column":"discount_percent","similarity":0.6106530783790173}],"budgets":[{"column":"approved_by","similarity":0.602834670385188}],"timesheets":[{"column":"approved_date","similarity":0.5978626810289969},{"column":"approved_by","similarity":0.5903213401616674}],"sales_orders":[{"column":"total","similarity":0.5972436821987498},{"column":"status","similarity":0.5843282149659323},{"column":"tax_amount","similarity":0.5804608469563398}],"employee_salaries":[{"column":"approved_by","similarity":0.593883247254701}],"project_expenses":[{"column":"approved_by","similarity":0.5842337880872422}],"quote_lines":[{"column":"discount_percent","similarity":0.5811124096463001}],"tax_rates":[{"column":"rate","similarity":0.5763708905847392}],"vendor_invoices":[{"column":"total","similarity":0.5756181171303799}],"product_suppliers":[{"column":"is_preferred","similarity":0.5726740078455087},{"column":"minimum_order_qty","similarity":0.5720268431578629}],"project_resources":[{"column":"hourly_rate","similarity":0.5723431863834083}]},"fused_scores":[{"table":"purchase_requisitions","fused":0.8833199753310628,"table_sim":0.7144537875190509,"col_score":1.1366192570490805},{"table":"purchase_orders","fused":0.8053855993329739,"table_sim":0.6754585362390629,"col_score":1.0002761939738403},{"table":"requisition_lines","fused":0.7675464027639103,"table_sim":0.6526067337493826,"col_score":0.9399559062857018},{"table":"performance_reviews","fused":0.7045497216757082,"table_sim":0.5638451623641205,"col_score":0.9156065606430897},{"table":"sales_orders","fused":0.6962489769012297,"table_sim":0.5687655577174364,"col_score":0.8874741056769198},{"table":"vendor_invoices","fused":0.5691942274926232,"table_sim":0.5649116344007853,"col_score":0.5756181171303799},{"table":"fixed_assets","fused":0.36029610879716006,"table_sim":0,"col_score":0.9007402719929001},{"table":"timesheets","fused":0.35720934044393227,"table_sim":0,"col_score":0.8930233511098306},{"table":"product_suppliers","fused":0.3434749717697761,"table_sim":0,"col_score":0.8586874294244402},{"table":"inventory_adjustments","fused":0.24596852843212727,"table_sim":0,"col_score":0.6149213210803182},{"table":"order_lines","fused":0.24426123135160693,"table_sim":0,"col_score":0.6106530783790173},{"table":"budgets","fused":0.24113386815407523,"table_sim":0,"col_score":0.602834670385188},{"table":"employee_salaries","fused":0.2375532989018804,"table_sim":0,"col_score":0.593883247254701},{"table":"project_expenses","fused":0.2336935152348969,"table_sim":0,"col_score":0.5842337880872422},{"table":"quote_lines","fused":0.23244496385852004,"table_sim":0,"col_score":0.5811124096463001}],"fk_expansion_candidates":60,"fk_expansion_added":1,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"order_lines","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":42,"total_retrieval_latency_ms":48,"sql_generated":"SELECT COUNT(purchase_requisitions.id) AS total_reqs, COUNT(CASE WHEN procurement.status = 'Approved' THEN 1 END) AS approved_reqs FROM purchase_requisitions JOIN procurement ON purchase_requisitions.po_id = procurement.po_id;","tables_used_in_sql":[],"total_latency_ms":2547,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:20:43.958Z","query_id":"cc118c3c-7085-4206-b145-abf0debc6140","question":"What is the total debit and credit for each account in the current period?","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["bank_accounts","depreciation_entries","depreciation_schedules","bank_transactions","chart_of_accounts","fiscal_periods","customers","project_budgets","project_expenses","budgets","journal_lines","sales_orders"],"tables_from_table_retrieval":7,"tables_from_column_only":20,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_accounts","similarity":0.6774767745272873},{"table":"bank_accounts","similarity":0.6637119412946053},{"table":"bank_accounts","similarity":0.6637119412946053},{"table":"depreciation_schedules","similarity":0.6498181514395631},{"table":"depreciation_schedules","similarity":0.6498181514395631},{"table":"depreciation_entries","similarity":0.648921875856853},{"table":"depreciation_entries","similarity":0.648921875856853},{"table":"depreciation_entries","similarity":0.6479655202571633},{"table":"depreciation_schedules","similarity":0.6391071490249879},{"table":"bank_transactions","similarity":0.6215432609525777},{"table":"bank_transactions","similarity":0.6186829982985472},{"table":"bank_transactions","similarity":0.6186829982985472},{"table":"fiscal_periods","similarity":0.6118740658020915},{"table":"chart_of_accounts","similarity":0.6113283904518393},{"table":"customers","similarity":0.6110220975215452}],"column_hits_per_table":{"bank_accounts":7,"depreciation_entries":8,"depreciation_schedules":7,"budgets":2,"purchase_orders":1,"bank_transactions":2,"vendor_invoices":1,"asset_categories":1,"timesheets":1,"sales_orders":1,"project_budgets":2,"po_lines":1,"requisition_lines":1,"order_lines":1,"chart_of_accounts":1,"quote_lines":1,"journal_lines":1,"departments":1,"sales_quotes":1,"fiscal_periods":1,"project_milestones":1,"account_types":1,"customers":1,"fixed_assets":1,"projects":1,"project_expenses":2,"inventory_levels":1},"top_columns_per_table":{"bank_accounts":[{"column":"current_balance","similarity":0.7091841928818097},{"column":"account_number","similarity":0.6419731099305319},{"column":"is_active","similarity":0.6295019659358201}],"depreciation_entries":[{"column":"amount","similarity":0.6872612675445888},{"column":"accumulated_depreciation","similarity":0.6792929796251425},{"column":"period_id","similarity":0.6616962014495356}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.6798083658343647},{"column":"monthly_amount","similarity":0.6722756292621933},{"column":"start_date","similarity":0.6548042836876464}],"budgets":[{"column":"total_amount","similarity":0.66266591023344},{"column":"status","similarity":0.6029088724565239}],"purchase_orders":[{"column":"total","similarity":0.6385670460750342}],"bank_transactions":[{"column":"amount","similarity":0.628826289554302},{"column":"transaction_date","similarity":0.5968086476507635}],"vendor_invoices":[{"column":"total","similarity":0.6243636979717804}],"asset_categories":[{"column":"depreciation_method","similarity":0.6240014992246529}],"timesheets":[{"column":"total_hours","similarity":0.6227337420930529}],"sales_orders":[{"column":"total","similarity":0.6223028921864684}],"project_budgets":[{"column":"actual_amount","similarity":0.617506824130773},{"column":"planned_amount","similarity":0.5941166158449659}],"po_lines":[{"column":"line_total","similarity":0.616731755167915}],"requisition_lines":[{"column":"estimated_total","similarity":0.6162717841911394}],"order_lines":[{"column":"line_total","similarity":0.6136225013161591}],"chart_of_accounts":[{"column":"account_number","similarity":0.6134827144686594}],"quote_lines":[{"column":"line_total","similarity":0.6119848744133741}],"journal_lines":[{"column":"debit","similarity":0.6106943672167331}],"departments":[{"column":"budget","similarity":0.6102538819136373}],"sales_quotes":[{"column":"total","similarity":0.6078976656380447}],"fiscal_periods":[{"column":"period_number","similarity":0.6051498655202864}],"project_milestones":[{"column":"amount","similarity":0.6026750191107226}],"account_types":[{"column":"normal_balance","similarity":0.6021368217241928}],"customers":[{"column":"credit_limit","similarity":0.6016687157986615}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5989518390574556}],"projects":[{"column":"budget","similarity":0.5989453113679677}],"project_expenses":[{"column":"amount","similarity":0.5956749512175924},{"column":"expense_date","similarity":0.5939500617562942}],"inventory_levels":[{"column":"last_count_date","similarity":0.5932624381452135}]},"fused_scores":[{"table":"bank_accounts","fused":0.8102954639155935,"table_sim":0.6637119412946053,"col_score":1.0301707478470756},{"table":"depreciation_entries","fused":0.799542415097162,"table_sim":0.6479655202571633,"col_score":1.0269077573571601},{"table":"depreciation_schedules","fused":0.7898427616011772,"table_sim":0.6391071490249879,"col_score":1.0159461804654613},{"table":"bank_transactions","fused":0.7421020443310018,"table_sim":0.6186829982985472,"col_score":0.9272306133796837},{"table":"chart_of_accounts","fused":0.6121901200585673,"table_sim":0.6113283904518393,"col_score":0.6134827144686594},{"table":"fiscal_periods","fused":0.6091843856893695,"table_sim":0.6118740658020915,"col_score":0.6051498655202864},{"table":"customers","fused":0.6072807448323918,"table_sim":0.6110220975215452,"col_score":0.6016687157986615},{"table":"project_budgets","fused":0.3658260528213024,"table_sim":0,"col_score":0.914565132053256},{"table":"project_expenses","fused":0.3570599928382958,"table_sim":0,"col_score":0.8926499820957394},{"table":"budgets","fused":0.3494736062372894,"table_sim":0,"col_score":0.8736840155932234},{"table":"purchase_orders","fused":0.2554268184300137,"table_sim":0,"col_score":0.6385670460750342},{"table":"vendor_invoices","fused":0.24974547918871215,"table_sim":0,"col_score":0.6243636979717804},{"table":"asset_categories","fused":0.24960059968986115,"table_sim":0,"col_score":0.6240014992246529},{"table":"timesheets","fused":0.24909349683722115,"table_sim":0,"col_score":0.6227337420930529},{"table":"sales_orders","fused":0.24892115687458738,"table_sim":0,"col_score":0.6223028921864684}],"fk_expansion_candidates":48,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"account_types","reason":"no_evidence"},{"table":"account_types","reason":"no_evidence"},{"table":"account_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"customer_contacts","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_lines","reason":"already_selected"},{"table":"journal_lines","reason":"already_selected"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_orders","reason":"already_selected"},{"table":"sales_orders","reason":"already_selected"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":26,"total_retrieval_latency_ms":34,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":3573,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:20:47.532Z","query_id":"dbd08bb9-a2df-467b-a5c3-3b0145a0c6ed","question":"List all posted journal entries for the current month","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["journal_entries","journal_lines","depreciation_entries","timesheet_entries","depreciation_schedules","goods_receipts","performance_reviews","timesheets","purchase_orders","sales_orders","fiscal_periods"],"tables_from_table_retrieval":6,"tables_from_column_only":11,"tables_from_fk_expansion":1,"table_scores":[{"table":"journal_entries","similarity":0.7371200347881697},{"table":"journal_entries","similarity":0.7337575383913534},{"table":"journal_entries","similarity":0.7337575383913534},{"table":"depreciation_entries","similarity":0.6388628310824237},{"table":"journal_lines","similarity":0.6381042717949331},{"table":"journal_lines","similarity":0.6375228213542982},{"table":"journal_lines","similarity":0.6375228213542982},{"table":"depreciation_entries","similarity":0.620321548516075},{"table":"depreciation_entries","similarity":0.620321548516075},{"table":"timesheet_entries","similarity":0.591409348833156},{"table":"timesheet_entries","similarity":0.5779744014930662},{"table":"timesheet_entries","similarity":0.5779744014930662},{"table":"goods_receipts","similarity":0.5514372844287214},{"table":"goods_receipts","similarity":0.5514372844287214},{"table":"depreciation_schedules","similarity":0.5496411130563262}],"column_hits_per_table":{"journal_entries":9,"depreciation_entries":5,"journal_lines":7,"timesheet_entries":6,"timesheets":3,"goods_receipts":2,"performance_reviews":3,"purchase_orders":2,"project_budgets":1,"depreciation_schedules":3,"sales_orders":2,"inventory_adjustments":1,"project_milestones":2,"project_expenses":1,"asset_maintenance":1,"inventory_levels":1,"fiscal_periods":1},"top_columns_per_table":{"journal_entries":[{"column":"entry_date","similarity":0.7655855491601273},{"column":"status","similarity":0.7275626775552384},{"column":"description","similarity":0.6934262774097697}],"depreciation_entries":[{"column":"entry_date","similarity":0.6527378197389673},{"column":"journal_entry_id","similarity":0.6264997627243734},{"column":"period_id","similarity":0.5784124082329226}],"journal_lines":[{"column":"debit","similarity":0.6462162662227552},{"column":"entry_id","similarity":0.63445493384167},{"column":"credit","similarity":0.6302297921040358}],"timesheet_entries":[{"column":"entry_date","similarity":0.643149580648736},{"column":"description","similarity":0.5784471414475906},{"column":"is_billable","similarity":0.5646044939625099}],"timesheets":[{"column":"submitted_date","similarity":0.6071227188529923},{"column":"approved_date","similarity":0.558240470220022},{"column":"status","similarity":0.5546176605609148}],"goods_receipts":[{"column":"receipt_date","similarity":0.6069794047492042},{"column":"notes","similarity":0.5874873259337253}],"performance_reviews":[{"column":"review_date","similarity":0.5950094300516277},{"column":"review_period_start","similarity":0.5831041324802553},{"column":"review_period_end","similarity":0.5815085145824492}],"purchase_orders":[{"column":"expected_date","similarity":0.5699322697921354},{"column":"order_date","similarity":0.5626891014743185}],"project_budgets":[{"column":"notes","similarity":0.5673321472292275}],"depreciation_schedules":[{"column":"start_date","similarity":0.5658993130104887},{"column":"end_date","similarity":0.5657267369208648},{"column":"useful_life_months","similarity":0.55595733939211}],"sales_orders":[{"column":"order_date","similarity":0.5624106989815346},{"column":"ship_date","similarity":0.5530449744222993}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5603354872689613}],"project_milestones":[{"column":"due_date","similarity":0.5592106844491532},{"column":"completed_date","similarity":0.5526238895701121}],"project_expenses":[{"column":"expense_date","similarity":0.5579679430250829}],"asset_maintenance":[{"column":"completed_date","similarity":0.5568546149961348}],"inventory_levels":[{"column":"last_count_date","similarity":0.5485679778292861}],"fiscal_periods":[{"column":"start_date","similarity":0.5482872222538088}]},"fused_scores":[{"table":"journal_entries","fused":0.8831407330933849,"table_sim":0.7337575383913534,"col_score":1.1072155251464324},{"table":"journal_lines","fused":0.7670461577224882,"table_sim":0.6375228213542982,"col_score":0.9613311622747731},{"table":"depreciation_entries","fused":0.7482943452989723,"table_sim":0.620321548516075,"col_score":0.9402535404733183},{"table":"timesheet_entries","fused":0.7169653719478362,"table_sim":0.5779744014930662,"col_score":0.9254518276299909},{"table":"depreciation_schedules","fused":0.6692897404221642,"table_sim":0.5496411130563262,"col_score":0.848762681470921},{"table":"goods_receipts","fused":0.6559023581876361,"table_sim":0.5514372844287214,"col_score":0.812599968826008},{"table":"performance_reviews","fused":0.35462459851670214,"table_sim":0,"col_score":0.8865614962917553},{"table":"timesheets","fused":0.3544971815852013,"table_sim":0,"col_score":0.8862429539630032},{"table":"purchase_orders","fused":0.3405107282117179,"table_sim":0,"col_score":0.8512768205292947},{"table":"sales_orders","fused":0.33557327447707375,"table_sim":0,"col_score":0.8389331861926843},{"table":"project_milestones","fused":0.33420905169368376,"table_sim":0,"col_score":0.8355226292342093},{"table":"inventory_adjustments","fused":0.22413419490758454,"table_sim":0,"col_score":0.5603354872689613},{"table":"project_expenses","fused":0.22318717721003317,"table_sim":0,"col_score":0.5579679430250829},{"table":"asset_maintenance","fused":0.22274184599845392,"table_sim":0,"col_score":0.5568546149961348},{"table":"inventory_levels","fused":0.21942719113171447,"table_sim":0,"col_score":0.5485679778292861}],"fk_expansion_candidates":51,"fk_expansion_added":1,"fk_expansion_blocked_count":48,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"already_selected"},{"table":"fiscal_periods","reason":"already_selected"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":32,"sql_generated":"SELECT j.* FROM public.journal_entries AS j JOIN fiscal_periods AS fp ON j.period_id = fp.period_id WHERE EXTRACT(MONTH FROM fp.start_date) = EXTRACT(MONTH FROM CURRENT_DATE);","tables_used_in_sql":[],"total_latency_ms":3307,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:20:50.839Z","query_id":"051f5f66-4c10-4449-bcaf-d066b3459a98","question":"Show budget vs actual spending by department","attempt_count":3,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["budgets","project_budgets","departments","project_expenses","budget_lines","cost_centers","fiscal_periods","projects","fixed_assets","fiscal_years"],"tables_from_table_retrieval":6,"tables_from_column_only":9,"tables_from_fk_expansion":0,"table_scores":[{"table":"budgets","similarity":0.6743467953278661},{"table":"budgets","similarity":0.6696787142109972},{"table":"budgets","similarity":0.6696787142109972},{"table":"project_budgets","similarity":0.6399342167994372},{"table":"project_budgets","similarity":0.625479815809335},{"table":"project_budgets","similarity":0.625479815809335},{"table":"budget_lines","similarity":0.6120027063639643},{"table":"departments","similarity":0.6078621456074449},{"table":"budget_lines","similarity":0.5989246191783324},{"table":"budget_lines","similarity":0.5989246191783324},{"table":"cost_centers","similarity":0.5976264909955187},{"table":"project_expenses","similarity":0.5925480261881607},{"table":"departments","similarity":0.5844440352873819},{"table":"departments","similarity":0.5844440352873819},{"table":"cost_centers","similarity":0.5713648686111387}],"column_hits_per_table":{"departments":5,"budgets":8,"project_budgets":6,"projects":1,"cost_centers":4,"budget_lines":5,"project_expenses":10,"purchase_requisitions":1,"fiscal_periods":4,"employees":1,"fixed_assets":1,"positions":1,"journal_lines":1,"fiscal_years":1,"requisition_lines":1},"top_columns_per_table":{"departments":[{"column":"budget","similarity":0.7495917239034583},{"column":"name","similarity":0.5755650515829921},{"column":"parent_department_id","similarity":0.5706427726662122}],"budgets":[{"column":"department_id","similarity":0.6950775126936677},{"column":"total_amount","similarity":0.667786554654465},{"column":"status","similarity":0.6456108671424535}],"project_budgets":[{"column":"actual_amount","similarity":0.6672453210209517},{"column":"category","similarity":0.6364564423512089},{"column":"planned_amount","similarity":0.6313162099542824}],"projects":[{"column":"budget","similarity":0.6339398871894302}],"cost_centers":[{"column":"department_id","similarity":0.6309159447379118},{"column":"is_active","similarity":0.5725191475396931},{"column":"name","similarity":0.5342580632651498}],"budget_lines":[{"column":"amount","similarity":0.6270291557125669},{"column":"budget_id","similarity":0.6119783533872745},{"column":"period_id","similarity":0.5916602644004139}],"project_expenses":[{"column":"category","similarity":0.6091416233792963},{"column":"amount","similarity":0.608230851250711},{"column":"is_billable","similarity":0.6010086163947923}],"purchase_requisitions":[{"column":"department_id","similarity":0.5868126293907591}],"fiscal_periods":[{"column":"period_number","similarity":0.5573405580706999},{"column":"is_closed","similarity":0.5486176225532576},{"column":"fiscal_year_id","similarity":0.542120776396656}],"employees":[{"column":"department_id","similarity":0.549593783899725}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5426840706112633}],"positions":[{"column":"department_id","similarity":0.5422206846512622}],"journal_lines":[{"column":"cost_center_id","similarity":0.5404923386923173}],"fiscal_years":[{"column":"year","similarity":0.5379300104521342}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.5310951239241254}]},"fused_scores":[{"table":"budgets","fused":0.7927672704314797,"table_sim":0.6696787142109972,"col_score":0.9774001047622032},{"table":"project_budgets","fused":0.7694773063642235,"table_sim":0.625479815809335,"col_score":0.9854735421965561},{"table":"departments","fused":0.7310822179554313,"table_sim":0.5844440352873819,"col_score":0.9510394919575055},{"table":"project_expenses","fused":0.7208316353147572,"table_sim":0.5925480261881607,"col_score":0.9132570490046519},{"table":"budget_lines","fused":0.6958434032662446,"table_sim":0.5989246191783324,"col_score":0.8412215793981129},{"table":"cost_centers","fused":0.6440128307218487,"table_sim":0.5713648686111387,"col_score":0.7529847738879138},{"table":"fiscal_periods","fused":0.33265974773893153,"table_sim":0,"col_score":0.8316493693473288},{"table":"projects","fused":0.25357595487577206,"table_sim":0,"col_score":0.6339398871894302},{"table":"fixed_assets","fused":0.21707362824450535,"table_sim":0,"col_score":0.5426840706112633},{"table":"fiscal_years","fused":0.2151720041808537,"table_sim":0,"col_score":0.5379300104521342},{"table":"requisition_lines","fused":0.21243804956965018,"table_sim":0,"col_score":0.5310951239241254},{"table":"purchase_requisitions","fused":0.16430753622941252,"table_sim":0,"col_score":0.4107688405735313},{"table":"employees","fused":0.15388625949192303,"table_sim":0,"col_score":0.3847156487298075},{"table":"positions","fused":0.1518217917023534,"table_sim":0,"col_score":0.3795544792558835},{"table":"journal_lines","fused":0.15133785483384884,"table_sim":0,"col_score":0.37834463708462207}],"fk_expansion_candidates":57,"fk_expansion_added":0,"fk_expansion_blocked_count":57,"fk_expansion_blocked":[{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"journal_lines","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":20,"total_retrieval_latency_ms":26,"sql_generated":"SELECT d.name AS department_name, SUM(b.total_amount) AS total_budget, SUM(p.amount) FROM departments d JOIN budgets b ON d.department_id = b.department_id JOIN project_expenses p ON d.department_id = p.project_id GROUP BY department_name LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]},{"alias":"p","column":"actual_amount","resolved_table":"project_expenses","suggested_columns":["expense_id","project_id","employee_id"]},{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"success","sqlstate":"42703","error_message":"column p.actual_amount does not exist","autocorrect_attempted":true,"autocorrect_success":true,"autocorrect_correction":"Replaced 'actual_amount' with 'amount' (suffix, score: 0.80)","autocorrect_candidates":1,"rows_returned":23,"total_latency_ms":3703}
{"timestamp":"2026-02-01T22:20:54.542Z","query_id":"aa342729-61be-4659-9c13-b7f63d3ff924","question":"What is the total expense amount per project?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["project_expenses","project_budgets","projects","project_resources","project_milestones","requisition_lines","vendor_invoices","project_tasks","purchase_orders","depreciation_schedules","products","vendor_invoice_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":19,"tables_from_fk_expansion":2,"table_scores":[{"table":"project_expenses","similarity":0.7579256306198433},{"table":"project_expenses","similarity":0.7579256306198433},{"table":"project_expenses","similarity":0.7357232557396823},{"table":"project_budgets","similarity":0.7265263943390426},{"table":"project_budgets","similarity":0.7265263943390426},{"table":"project_budgets","similarity":0.7124927404351951},{"table":"project_milestones","similarity":0.6341783562502439},{"table":"project_milestones","similarity":0.6327617739785869},{"table":"project_milestones","similarity":0.6327617739785869},{"table":"projects","similarity":0.621762698662178},{"table":"projects","similarity":0.621762698662178},{"table":"project_resources","similarity":0.6179077692716867},{"table":"project_resources","similarity":0.6179077692716867},{"table":"project_resources","similarity":0.6177078775243305},{"table":"projects","similarity":0.6089962100611707}],"column_hits_per_table":{"project_expenses":10,"project_budgets":6,"budgets":1,"projects":2,"project_milestones":3,"budget_lines":1,"project_resources":3,"vendor_invoices":3,"requisition_lines":2,"project_tasks":2,"asset_maintenance":1,"purchase_orders":2,"product_suppliers":1,"maintenance_types":1,"products":1,"depreciation_schedules":2,"sales_orders":1,"departments":1,"depreciation_entries":1,"employee_salaries":1,"fixed_assets":1,"vendor_invoice_lines":2,"cost_centers":1,"bank_transactions":1},"top_columns_per_table":{"project_expenses":[{"column":"amount","similarity":0.7981720469231877},{"column":"project_id","similarity":0.6993700351285576},{"column":"expense_date","similarity":0.6976862753776708}],"project_budgets":[{"column":"actual_amount","similarity":0.7544693731428739},{"column":"planned_amount","similarity":0.7475286878234714},{"column":"notes","similarity":0.6743372266880852}],"budgets":[{"column":"total_amount","similarity":0.7244402768016153}],"projects":[{"column":"budget","similarity":0.7063289030461566},{"column":"project_number","similarity":0.6281879793284453}],"project_milestones":[{"column":"amount","similarity":0.6973822743170455},{"column":"project_id","similarity":0.6134928683540164},{"column":"description","similarity":0.5964450815919577}],"budget_lines":[{"column":"amount","similarity":0.6474203598538232}],"project_resources":[{"column":"allocation_percent","similarity":0.6462989167237004},{"column":"hourly_rate","similarity":0.6385625515015617},{"column":"project_id","similarity":0.6168915789933885}],"vendor_invoices":[{"column":"total","similarity":0.6401126688839376},{"column":"tax_amount","similarity":0.6065038506039637},{"column":"amount_paid","similarity":0.6026309455729351}],"requisition_lines":[{"column":"estimated_total","similarity":0.6310334497515143},{"column":"estimated_unit_cost","similarity":0.6268164964734461}],"project_tasks":[{"column":"estimated_hours","similarity":0.6305074503163082},{"column":"actual_hours","similarity":0.6251982989877009}],"asset_maintenance":[{"column":"cost","similarity":0.6261574066715916}],"purchase_orders":[{"column":"total","similarity":0.6208795786058339},{"column":"tax_amount","similarity":0.6034316104821902}],"product_suppliers":[{"column":"unit_cost","similarity":0.6203195070815227}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6200443707585799}],"products":[{"column":"unit_cost","similarity":0.6147011653596138}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.614550945299665},{"column":"monthly_amount","similarity":0.6065005360138125}],"sales_orders":[{"column":"total","similarity":0.6137682710613002}],"departments":[{"column":"budget","similarity":0.6129728617339807}],"depreciation_entries":[{"column":"amount","similarity":0.6104740649740648}],"employee_salaries":[{"column":"amount","similarity":0.6103603528626569}],"fixed_assets":[{"column":"purchase_cost","similarity":0.6026468504879459}],"vendor_invoice_lines":[{"column":"amount","similarity":0.6003959822481075},{"column":"unit_cost","similarity":0.5981934490405764}],"cost_centers":[{"column":"department_id","similarity":0.6003827939727152}],"bank_transactions":[{"column":"amount","similarity":0.5987202435335099}]},"fused_scores":[{"table":"project_expenses","fused":0.9002400272886186,"table_sim":0.7357232557396823,"col_score":1.1470151846120231},{"table":"project_budgets","fused":0.8787891310829609,"table_sim":0.7124927404351951,"col_score":1.1282337170546095},{"table":"projects","fused":0.7735668831208542,"table_sim":0.6089962100611707,"col_score":1.0204228927103793},{"table":"project_resources","fused":0.7568568035043909,"table_sim":0.6177078775243305,"col_score":0.9655801924744813},{"table":"project_milestones","fused":0.7444989756835327,"table_sim":0.6327617739785869,"col_score":0.9121047782409513},{"table":"requisition_lines","fused":0.37777667919529495,"table_sim":0,"col_score":0.9444416979882373},{"table":"vendor_invoices","fused":0.3773458376743678,"table_sim":0,"col_score":0.9433645941859194},{"table":"project_tasks","fused":0.3772426399240635,"table_sim":0,"col_score":0.9431065998101587},{"table":"purchase_orders","fused":0.3690381535387716,"table_sim":0,"col_score":0.922595383846929},{"table":"depreciation_schedules","fused":0.36712048532262853,"table_sim":0,"col_score":0.9178012133065713},{"table":"vendor_invoice_lines","fused":0.35979708270735833,"table_sim":0,"col_score":0.8994927067683958},{"table":"budgets","fused":0.28977611072064613,"table_sim":0,"col_score":0.7244402768016153},{"table":"budget_lines","fused":0.2589681439415293,"table_sim":0,"col_score":0.6474203598538232},{"table":"asset_maintenance","fused":0.25046296266863666,"table_sim":0,"col_score":0.6261574066715916},{"table":"product_suppliers","fused":0.2481278028326091,"table_sim":0,"col_score":0.6203195070815227}],"fk_expansion_candidates":39,"fk_expansion_added":2,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"already_selected"},{"table":"products","reason":"already_selected"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendor_invoice_lines","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":27,"total_retrieval_latency_ms":33,"sql_generated":"SELECT p.project_id, SUM(pe.amount) AS total_expenses FROM projects p JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":100,"total_latency_ms":739}
{"timestamp":"2026-02-01T22:20:55.281Z","query_id":"bfcd7407-4432-4daa-a5ea-34c9c4409061","question":"List projects that are over budget","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_budgets","project_expenses","projects","budgets","project_milestones","project_resources","project_tasks","budget_lines","departments"],"tables_from_table_retrieval":6,"tables_from_column_only":3,"tables_from_fk_expansion":0,"table_scores":[{"table":"project_budgets","similarity":0.722964742520668},{"table":"project_budgets","similarity":0.7149382810327576},{"table":"project_budgets","similarity":0.7149382810327576},{"table":"project_expenses","similarity":0.6616137568759273},{"table":"project_expenses","similarity":0.6616137568759273},{"table":"project_expenses","similarity":0.6612139885640923},{"table":"project_milestones","similarity":0.6086742516860566},{"table":"projects","similarity":0.6032117409064212},{"table":"projects","similarity":0.6032117409064212},{"table":"projects","similarity":0.603119867291799},{"table":"project_resources","similarity":0.597322584800267},{"table":"project_milestones","similarity":0.5963753466104804},{"table":"project_milestones","similarity":0.5963753466104804},{"table":"budgets","similarity":0.5962983646598873},{"table":"budgets","similarity":0.5962983646598873}],"column_hits_per_table":{"projects":10,"project_budgets":6,"project_expenses":9,"budgets":6,"budget_lines":3,"project_milestones":4,"project_tasks":8,"project_resources":3,"departments":1},"top_columns_per_table":{"projects":[{"column":"budget","similarity":0.7040586919716509},{"column":"planned_end_date","similarity":0.6178230121937325},{"column":"project_number","similarity":0.6141630378138243}],"project_budgets":[{"column":"notes","similarity":0.6952498482759191},{"column":"category","similarity":0.684511328503381},{"column":"planned_amount","similarity":0.6722268345754978}],"project_expenses":[{"column":"is_billable","similarity":0.6461941542288852},{"column":"category","similarity":0.6420132273918641},{"column":"expense_date","similarity":0.63434637160428}],"budgets":[{"column":"total_amount","similarity":0.614370809503817},{"column":"status","similarity":0.6108205553547363},{"column":"budget_id","similarity":0.5929594782171785}],"budget_lines":[{"column":"budget_id","similarity":0.6079961535935847},{"column":"amount","similarity":0.6077961190977996},{"column":"line_id","similarity":0.5893204834240592}],"project_milestones":[{"column":"is_billable","similarity":0.6071449572441574},{"column":"amount","similarity":0.588199497133572},{"column":"due_date","similarity":0.5812913433040277}],"project_tasks":[{"column":"estimated_hours","similarity":0.5963088711841054},{"column":"due_date","similarity":0.5950349513196225},{"column":"actual_hours","similarity":0.5923374564661072}],"project_resources":[{"column":"allocation_percent","similarity":0.5884306445284694},{"column":"project_id","similarity":0.584485395721684},{"column":"end_date","similarity":0.5723455956479002}],"departments":[{"column":"budget","similarity":0.5759799767407416}]},"fused_scores":[{"table":"project_budgets","fused":0.8372128669361065,"table_sim":0.7149382810327576,"col_score":1.02062474579113},{"table":"project_expenses","fused":0.7836087003083823,"table_sim":0.6612139885640923,"col_score":0.9672007679248171},{"table":"projects","fused":0.7670599996024863,"table_sim":0.603119867291799,"col_score":1.0129701980685173},{"table":"budgets","fused":0.7209543495760293,"table_sim":0.5962983646598873,"col_score":0.9079383269502421},{"table":"project_milestones","fused":0.7183230902906657,"table_sim":0.5963753466104804,"col_score":0.9012447058109434},{"table":"project_resources","fused":0.708234927821128,"table_sim":0.597322584800267,"col_score":0.8746034423524195},{"table":"project_tasks","fused":0.3575305387375667,"table_sim":0,"col_score":0.8938263468439166},{"table":"budget_lines","fused":0.32823790914222173,"table_sim":0,"col_score":0.8205947728555543},{"table":"departments","fused":0.23039199069629668,"table_sim":0,"col_score":0.5759799767407416}],"fk_expansion_candidates":33,"fk_expansion_added":0,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":16,"total_retrieval_latency_ms":22,"sql_generated":"SELECT p.project_id, p.name AS project_name, b.total_amount AS planned_budget, SUM(e.actual_amount) AS actual_spending FROM projects p JOIN budgets b ON p.project_id = b.project_id LEFT JOIN project_expenses e ON p.project_id = e.project_id GROUP BY p.project_id, p.name, b.total_amount HAVING SUM(e.actual_amount) > b.total_amount LIMIT 100;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"b","column":"total_amount","resolved_table":"budgets","suggested_columns":[]},{"alias":"e","column":"actual_amount","resolved_table":"project_expenses","suggested_columns":["expense_id","project_id","employee_id"]},{"alias":"b","column":"project_id","resolved_table":"budgets","suggested_columns":[]},{"alias":"b","column":"total_amount","resolved_table":"budgets","suggested_columns":[]},{"alias":"e","column":"actual_amount","resolved_table":"project_expenses","suggested_columns":["expense_id","project_id","employee_id"]},{"alias":"b","column":"total_amount","resolved_table":"budgets","suggested_columns":[]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column b.project_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":3,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":5061,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column b.project_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:21:00.342Z","query_id":"d6b6e187-1bf4-4999-995b-3bfb49724306","question":"Show project resources and their allocation percentages","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_resources","project_budgets","projects","project_expenses","project_milestones","project_tasks","task_assignments","project_phases","asset_categories","order_lines"],"tables_from_table_retrieval":7,"tables_from_column_only":8,"tables_from_fk_expansion":0,"table_scores":[{"table":"project_resources","similarity":0.7742133717857291},{"table":"project_resources","similarity":0.7726017161069211},{"table":"project_resources","similarity":0.7726017161069211},{"table":"project_budgets","similarity":0.65507694472865},{"table":"project_budgets","similarity":0.6455070367212973},{"table":"project_budgets","similarity":0.6455070367212973},{"table":"project_expenses","similarity":0.6350034671876015},{"table":"projects","similarity":0.6288717870995568},{"table":"project_expenses","similarity":0.6218657368982583},{"table":"project_expenses","similarity":0.6218657368982583},{"table":"task_assignments","similarity":0.6137701156863598},{"table":"project_tasks","similarity":0.6095803048417692},{"table":"project_milestones","similarity":0.6065393117891723},{"table":"projects","similarity":0.6043704297265652},{"table":"projects","similarity":0.6043704297265652}],"column_hits_per_table":{"project_resources":8,"project_budgets":6,"projects":10,"asset_categories":1,"project_milestones":4,"project_expenses":7,"project_tasks":5,"order_lines":1,"quote_lines":1,"performance_reviews":1,"budgets":1,"project_phases":3,"currencies":1,"tax_rates":1},"top_columns_per_table":{"project_resources":[{"column":"allocation_percent","similarity":0.8633059160366073},{"column":"hourly_rate","similarity":0.7567099176701401},{"column":"role","similarity":0.6958791512171763}],"project_budgets":[{"column":"actual_amount","similarity":0.6563642230002711},{"column":"planned_amount","similarity":0.6553043653436582},{"column":"category","similarity":0.6379137974118141}],"projects":[{"column":"priority","similarity":0.6469555758830943},{"column":"budget","similarity":0.6427722399625124},{"column":"project_number","similarity":0.6401181954274701}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.6435021784071759}],"project_milestones":[{"column":"amount","similarity":0.6398826628819255},{"column":"due_date","similarity":0.6049153702959417},{"column":"description","similarity":0.5917008678550857}],"project_expenses":[{"column":"amount","similarity":0.6242586475384743},{"column":"category","similarity":0.6142015362068918},{"column":"description","similarity":0.6079819074448459}],"project_tasks":[{"column":"priority","similarity":0.6242534548890795},{"column":"actual_hours","similarity":0.6180862719180372},{"column":"due_date","similarity":0.6052605786793172}],"order_lines":[{"column":"discount_percent","similarity":0.5942047522544827}],"quote_lines":[{"column":"discount_percent","similarity":0.5937287046720631}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.5894147308873736}],"budgets":[{"column":"total_amount","similarity":0.5872817125068575}],"project_phases":[{"column":"project_id","similarity":0.5861825792508847},{"column":"sequence","similarity":0.5827342342492163},{"column":"description","similarity":0.5826479776722895}],"currencies":[{"column":"exchange_rate","similarity":0.5799546058797589}],"tax_rates":[{"column":"rate","similarity":0.5799367806129271}]},"fused_scores":[{"table":"project_resources","fused":0.9602253796128235,"table_sim":0.7726017161069211,"col_score":1.2416608748716773},{"table":"project_budgets","fused":0.7809107843016184,"table_sim":0.6455070367212973,"col_score":0.9840164056721001},{"table":"projects","fused":0.7499589361816793,"table_sim":0.6043704297265652,"col_score":0.9683416958643505},{"table":"project_expenses","fused":0.7456632083957231,"table_sim":0.6218657368982583,"col_score":0.9313594156419202},{"table":"project_milestones","fused":0.7408597262854619,"table_sim":0.6065393117891723,"col_score":0.9423403480298964},{"table":"project_tasks","fused":0.7390668192443008,"table_sim":0.6095803048417692,"col_score":0.9332965908480981},{"table":"task_assignments","fused":0.36826206941181583,"table_sim":0.6137701156863598,"col_score":0},{"table":"project_phases","fused":0.3151592547948104,"table_sim":0,"col_score":0.7878981369870259},{"table":"asset_categories","fused":0.2574008713628704,"table_sim":0,"col_score":0.6435021784071759},{"table":"order_lines","fused":0.2376819009017931,"table_sim":0,"col_score":0.5942047522544827},{"table":"quote_lines","fused":0.23749148186882524,"table_sim":0,"col_score":0.5937287046720631},{"table":"performance_reviews","fused":0.23576589235494946,"table_sim":0,"col_score":0.5894147308873736},{"table":"budgets","fused":0.23491268500274298,"table_sim":0,"col_score":0.5872817125068575},{"table":"currencies","fused":0.23198184235190356,"table_sim":0,"col_score":0.5799546058797589},{"table":"tax_rates","fused":0.23197471224517086,"table_sim":0,"col_score":0.5799367806129271}],"fk_expansion_candidates":18,"fk_expansion_added":0,"fk_expansion_blocked_count":18,"fk_expansion_blocked":[{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":29,"total_retrieval_latency_ms":35,"sql_generated":"SELECT pr.project_id, pr.role, pr.allocation_percent FROM enterprise_erp.project_resources AS pr JOIN enterprise_erp.projects AS p ON pr.project_id = p.project_id LIMIT 1000;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"relation \"enterprise_erp.project_resources\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Unknown table or alias 'enterprise_erp.project_resources'. Available tables: project_resources, project_budgets, projects, project_expenses, project_milestones, project_tasks, task_assignments, project_phases, asset_categories, order_lines","total_latency_ms":2535,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: relation \"enterprise_erp.project_resources\" does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:21:02.878Z","query_id":"af6e81b4-ddf3-4162-b329-7c85488a4c88","question":"List fixed assets by category with their total purchase cost","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["fixed_assets","asset_categories","asset_maintenance","products","depreciation_schedules","purchase_orders","depreciation_entries","asset_transfers","purchase_requisitions","project_expenses","departments","maintenance_types"],"tables_from_table_retrieval":5,"tables_from_column_only":12,"tables_from_fk_expansion":2,"table_scores":[{"table":"fixed_assets","similarity":0.7671508108800839},{"table":"fixed_assets","similarity":0.7671508108800839},{"table":"fixed_assets","similarity":0.7654083493676195},{"table":"asset_categories","similarity":0.7259858085236982},{"table":"asset_categories","similarity":0.72092108607088},{"table":"asset_categories","similarity":0.72092108607088},{"table":"asset_maintenance","similarity":0.6539211907012796},{"table":"asset_maintenance","similarity":0.6348030204988977},{"table":"asset_maintenance","similarity":0.6348030204988977},{"table":"products","similarity":0.6262946781709159},{"table":"products","similarity":0.6262946781709159},{"table":"depreciation_schedules","similarity":0.6168004716425273},{"table":"depreciation_schedules","similarity":0.6168004716425273},{"table":"products","similarity":0.614929355062545},{"table":"depreciation_schedules","similarity":0.6121354509873786}],"column_hits_per_table":{"fixed_assets":17,"asset_maintenance":5,"asset_categories":5,"purchase_orders":5,"asset_transfers":2,"depreciation_entries":2,"project_expenses":1,"products":2,"depreciation_schedules":1,"project_budgets":1,"maintenance_types":1,"purchase_requisitions":3,"sales_orders":1,"budgets":1,"departments":1,"product_categories":1,"product_suppliers":1},"top_columns_per_table":{"fixed_assets":[{"column":"purchase_cost","similarity":0.8198772015639547},{"column":"purchase_date","similarity":0.7467731747895039},{"column":"category_id","similarity":0.7278001390498363}],"asset_maintenance":[{"column":"cost","similarity":0.6959112135520997},{"column":"asset_id","similarity":0.6605498780552402},{"column":"status","similarity":0.6365694723201099}],"asset_categories":[{"column":"depreciation_method","similarity":0.6914816579489624},{"column":"salvage_value_percent","similarity":0.6861491499470286},{"column":"name","similarity":0.680679494396876}],"purchase_orders":[{"column":"total","similarity":0.670586118670476},{"column":"shipping_cost","similarity":0.640379738676011},{"column":"subtotal","similarity":0.637971799251016}],"asset_transfers":[{"column":"asset_id","similarity":0.6625737391840324},{"column":"reason","similarity":0.6105152608091542}],"depreciation_entries":[{"column":"asset_id","similarity":0.661025419881134},{"column":"accumulated_depreciation","similarity":0.6155524514035258}],"project_expenses":[{"column":"category","similarity":0.6464899039427223}],"products":[{"column":"unit_cost","similarity":0.642832807024477},{"column":"list_price","similarity":0.6321686201995896}],"depreciation_schedules":[{"column":"asset_id","similarity":0.6414080766024978}],"project_budgets":[{"column":"category","similarity":0.6328605061405524}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6315283480937153}],"purchase_requisitions":[{"column":"status","similarity":0.62811109700508},{"column":"requisition_number","similarity":0.6166193497762641},{"column":"notes","similarity":0.6141499806901694}],"sales_orders":[{"column":"total","similarity":0.6248918377251549}],"budgets":[{"column":"total_amount","similarity":0.6163584124223674}],"departments":[{"column":"budget","similarity":0.615804850011434}],"product_categories":[{"column":"description","similarity":0.6126142026531948}],"product_suppliers":[{"column":"unit_cost","similarity":0.611791518325227}]},"fused_scores":[{"table":"fixed_assets","fused":0.9365505252040545,"table_sim":0.7654083493676195,"col_score":1.1932637889587068},{"table":"asset_categories","fused":0.8463751448115187,"table_sim":0.72092108607088,"col_score":1.0345562329224767},{"table":"asset_maintenance","fused":0.7831805519609546,"table_sim":0.6348030204988977,"col_score":1.00574684915404},{"table":"products","fused":0.7525244598872358,"table_sim":0.614929355062545,"col_score":0.9589171171242719},{"table":"depreciation_schedules","fused":0.5468755320411265,"table_sim":0.6121354509873786,"col_score":0.4489856536217484},{"table":"purchase_orders","fused":0.3963103952033926,"table_sim":0,"col_score":0.9907759880084814},{"table":"depreciation_entries","fused":0.3387645393447691,"table_sim":0,"col_score":0.8469113483619226},{"table":"asset_transfers","fused":0.3369664278094262,"table_sim":0,"col_score":0.8424160695235655},{"table":"purchase_requisitions","fused":0.33458329349121685,"table_sim":0,"col_score":0.8364582337280421},{"table":"project_expenses","fused":0.2585959615770889,"table_sim":0,"col_score":0.6464899039427223},{"table":"project_budgets","fused":0.253144202456221,"table_sim":0,"col_score":0.6328605061405524},{"table":"maintenance_types","fused":0.25261133923748613,"table_sim":0,"col_score":0.6315283480937153},{"table":"sales_orders","fused":0.24995673509006197,"table_sim":0,"col_score":0.6248918377251549},{"table":"budgets","fused":0.246543364968947,"table_sim":0,"col_score":0.6163584124223674},{"table":"departments","fused":0.24632194000457364,"table_sim":0,"col_score":0.615804850011434}],"fk_expansion_candidates":72,"fk_expansion_added":2,"fk_expansion_blocked_count":63,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"departments","reason":"already_selected"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"departments","reason":"already_selected"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"maintenance_types","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_levels","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":35,"total_retrieval_latency_ms":42,"sql_generated":"SELECT af.category_id, af.name, SUM(af.purchase_cost) AS total_purchase_cost FROM fixed_assets af INNER JOIN asset_categories ac ON af.asset_id = ac.asset_id GROUP BY af.category_id, af.name;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"ac","column":"asset_id","resolved_table":"asset_categories","suggested_columns":["category_id","name","depreciation_method"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column ac.asset_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":3,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2987,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column ac.asset_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:21:05.865Z","query_id":"660d4d6e-3bda-44d9-a044-ae50ff0997c2","question":"List assets due for maintenance in the next 30 days","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["asset_maintenance","fixed_assets","depreciation_schedules","asset_transfers","maintenance_types","depreciation_entries","project_expenses","inventory_adjustments","project_tasks","employee_benefits","asset_categories"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":1,"table_scores":[{"table":"asset_maintenance","similarity":0.7135403855722379},{"table":"asset_maintenance","similarity":0.7135403855722379},{"table":"asset_maintenance","similarity":0.6994637000895678},{"table":"fixed_assets","similarity":0.6764596229184475},{"table":"fixed_assets","similarity":0.6733613177336575},{"table":"fixed_assets","similarity":0.6733613177336575},{"table":"depreciation_schedules","similarity":0.6273221911861584},{"table":"depreciation_schedules","similarity":0.6165498794694232},{"table":"depreciation_schedules","similarity":0.6165498794694232},{"table":"maintenance_types","similarity":0.5989446217445276},{"table":"maintenance_types","similarity":0.5989446217445276},{"table":"asset_transfers","similarity":0.5971719320807494},{"table":"maintenance_types","similarity":0.5961062154680403},{"table":"asset_transfers","similarity":0.5960224713409419},{"table":"asset_transfers","similarity":0.5960224713409419}],"column_hits_per_table":{"asset_maintenance":10,"fixed_assets":17,"depreciation_schedules":4,"asset_transfers":3,"project_expenses":2,"maintenance_types":2,"depreciation_entries":3,"inventory_adjustments":2,"project_tasks":1,"employee_benefits":1,"purchase_requisitions":1,"project_milestones":1,"asset_locations":1,"asset_categories":1,"budgets":1},"top_columns_per_table":{"asset_maintenance":[{"column":"scheduled_date","similarity":0.739898742205908},{"column":"completed_date","similarity":0.7284483792345208},{"column":"status","similarity":0.7101114444407461}],"fixed_assets":[{"column":"disposal_date","similarity":0.6888298809769268},{"column":"purchase_date","similarity":0.6863275066336678},{"column":"warranty_expiry","similarity":0.6767168006008178}],"depreciation_schedules":[{"column":"asset_id","similarity":0.6382143138838896},{"column":"end_date","similarity":0.6022449069977498},{"column":"start_date","similarity":0.5877836267018011}],"asset_transfers":[{"column":"transfer_date","similarity":0.629042679787289},{"column":"asset_id","similarity":0.6153656526379016},{"column":"reason","similarity":0.581820393022087}],"project_expenses":[{"column":"expense_date","similarity":0.6101532216190212},{"column":"status","similarity":0.5810411591332079}],"maintenance_types":[{"column":"estimated_cost","similarity":0.6075361589401804},{"column":"frequency_months","similarity":0.5655954128168349}],"depreciation_entries":[{"column":"asset_id","similarity":0.6069641044175335},{"column":"entry_date","similarity":0.5764830727802217},{"column":"accumulated_depreciation","similarity":0.5729541876728412}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5914927180055287},{"column":"status","similarity":0.5710920004037154}],"project_tasks":[{"column":"due_date","similarity":0.572177501074105}],"employee_benefits":[{"column":"end_date","similarity":0.5674256643532543}],"purchase_requisitions":[{"column":"required_date","similarity":0.5649724847275831}],"project_milestones":[{"column":"due_date","similarity":0.5629639209729828}],"asset_locations":[{"column":"description","similarity":0.5623171240430319}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.5602795069744737}],"budgets":[{"column":"status","similarity":0.5600489740464554}]},"fused_scores":[{"table":"asset_maintenance","fused":0.8613273927830081,"table_sim":0.6994637000895678,"col_score":1.1041229318231685},{"table":"fixed_assets","fused":0.8168142443576987,"table_sim":0.6733613177336575,"col_score":1.0319936342937606},{"table":"depreciation_schedules","fused":0.728384615821114,"table_sim":0.6165498794694232,"col_score":0.8961367203486503},{"table":"asset_transfers","fused":0.7255946333238981,"table_sim":0.5960224713409419,"col_score":0.9199528762983324},{"table":"maintenance_types","fused":0.7137972754202634,"table_sim":0.5961062154680403,"col_score":0.8903338653485979},{"table":"depreciation_entries","fused":0.34518406664665696,"table_sim":0,"col_score":0.8629601666166423},{"table":"project_expenses","fused":0.3254070509262576,"table_sim":0,"col_score":0.8135176273156439},{"table":"inventory_adjustments","fused":0.3165499672587317,"table_sim":0,"col_score":0.7913749181468291},{"table":"project_tasks","fused":0.22887100042964204,"table_sim":0,"col_score":0.572177501074105},{"table":"employee_benefits","fused":0.22697026574130172,"table_sim":0,"col_score":0.5674256643532543},{"table":"purchase_requisitions","fused":0.22598899389103325,"table_sim":0,"col_score":0.5649724847275831},{"table":"project_milestones","fused":0.22518556838919312,"table_sim":0,"col_score":0.5629639209729828},{"table":"asset_categories","fused":0.22411180278978948,"table_sim":0,"col_score":0.5602795069744737},{"table":"asset_locations","fused":0.15744879473204895,"table_sim":0,"col_score":0.39362198683012234},{"table":"budgets","fused":0.1568137127330075,"table_sim":0,"col_score":0.39203428183251876}],"fk_expansion_candidates":42,"fk_expansion_added":1,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"asset_categories","reason":"already_selected"},{"table":"asset_categories","reason":"already_selected"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":37,"total_retrieval_latency_ms":44,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":5568,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:21:11.433Z","query_id":"8233e4eb-eeb3-43e2-9489-1acaa2446772","question":"How many documents are attached to each entity type?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["document_attachments","asset_categories","account_types","certifications","maintenance_types","benefit_types","inventory_transactions","inventory_levels","employee_certifications","asset_maintenance","chart_of_accounts"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":1,"table_scores":[{"table":"document_attachments","similarity":0.7393040203593138},{"table":"document_attachments","similarity":0.7393040203593138},{"table":"document_attachments","similarity":0.7352812742665428},{"table":"account_types","similarity":0.5981352749242909},{"table":"account_types","similarity":0.5981352749242909},{"table":"maintenance_types","similarity":0.5897465403330582},{"table":"maintenance_types","similarity":0.5897465403330582},{"table":"benefit_types","similarity":0.5853557438584527},{"table":"benefit_types","similarity":0.5853557438584527},{"table":"asset_categories","similarity":0.5755840603854031},{"table":"asset_categories","similarity":0.5755840603854031},{"table":"asset_categories","similarity":0.5753411818367143},{"table":"certifications","similarity":0.5748402961818171},{"table":"certifications","similarity":0.5748402961818171},{"table":"account_types","similarity":0.5738443826637069}],"column_hits_per_table":{"document_attachments":9,"inventory_transactions":3,"maintenance_types":3,"account_types":3,"employee_certifications":3,"asset_maintenance":2,"asset_categories":4,"benefit_types":3,"certifications":2,"chart_of_accounts":2,"employee_benefits":1,"departments":3,"warehouses":1,"sales_regions":1,"business_units":1,"product_categories":3,"asset_locations":1,"inventory_levels":2,"leave_types":1,"audit_log":1,"asset_transfers":1},"top_columns_per_table":{"document_attachments":[{"column":"entity_type","similarity":0.7979734617201061},{"column":"entity_id","similarity":0.7507212541180398},{"column":"attachment_id","similarity":0.6499131194867761}],"inventory_transactions":[{"column":"reference_type","similarity":0.5907758006474604},{"column":"transaction_type","similarity":0.5740359961697677},{"column":"created_by","similarity":0.5409655490497369}],"maintenance_types":[{"column":"description","similarity":0.5849404241337369},{"column":"type_id","similarity":0.5687464182699},{"column":"name","similarity":0.5466111937708543}],"account_types":[{"column":"category","similarity":0.5795842717697016},{"column":"type_id","similarity":0.572204772617412},{"column":"name","similarity":0.54522230629148}],"employee_certifications":[{"column":"certificate_number","similarity":0.570344611110217},{"column":"cert_id","similarity":0.5516333538250004},{"column":"employee_id","similarity":0.5450123538269055}],"asset_maintenance":[{"column":"maintenance_type_id","similarity":0.5695302816995195},{"column":"notes","similarity":0.5345241852289304}],"asset_categories":[{"column":"category_id","similarity":0.5686260353611468},{"column":"depreciation_method","similarity":0.5475874755164923},{"column":"name","similarity":0.5455049147965266}],"benefit_types":[{"column":"description","similarity":0.5684622522725375},{"column":"benefit_type_id","similarity":0.554474960208018},{"column":"name","similarity":0.5413044190115788}],"certifications":[{"column":"description","similarity":0.5628134265182438},{"column":"issuing_body","similarity":0.5519765334559635}],"chart_of_accounts":[{"column":"account_type_id","similarity":0.5590662505285231},{"column":"description","similarity":0.535907997292557}],"employee_benefits":[{"column":"benefit_type_id","similarity":0.5588809609991403}],"departments":[{"column":"manager_id","similarity":0.5524511044152465},{"column":"department_id","similarity":0.5490358819561373},{"column":"parent_department_id","similarity":0.5456710356874805}],"warehouses":[{"column":"manager_id","similarity":0.5486508621983892}],"sales_regions":[{"column":"manager_id","similarity":0.5473931431415607}],"business_units":[{"column":"manager_id","similarity":0.5472492280812445}],"product_categories":[{"column":"description","similarity":0.5469667414543651},{"column":"category_id","similarity":0.5469560360203749},{"column":"parent_category_id","similarity":0.5356836644445996}],"asset_locations":[{"column":"description","similarity":0.5460071186556418}],"inventory_levels":[{"column":"quantity_available","similarity":0.5401083097075305},{"column":"quantity_on_hand","similarity":0.5359471229919481}],"leave_types":[{"column":"leave_type_id","similarity":0.5379614368742229}],"audit_log":[{"column":"table_name","similarity":0.5362126705338817}],"asset_transfers":[{"column":"transfer_id","similarity":0.533307845538454}]},"fused_scores":[{"table":"document_attachments","fused":0.8890806280125436,"table_sim":0.7352812742665428,"col_score":1.1197796586315447},{"table":"asset_categories","fused":0.6714887456297062,"table_sim":0.5753411818367143,"col_score":0.8157100913191939},{"table":"account_types","fused":0.6562490064725425,"table_sim":0.5738443826637069,"col_score":0.7798559421857958},{"table":"certifications","fused":0.6444886708040298,"table_sim":0.5748402961818171,"col_score":0.7489612327373489},{"table":"maintenance_types","fused":0.5972557415150672,"table_sim":0.5897465403330582,"col_score":0.6085195432880808},{"table":"benefit_types","fused":0.5880093713805046,"table_sim":0.5853557438584527,"col_score":0.5919898126635825},{"table":"inventory_transactions","fused":0.35111751949293774,"table_sim":0,"col_score":0.8777937987323443},{"table":"inventory_levels","fused":0.3232327484814019,"table_sim":0,"col_score":0.8080818712035046},{"table":"employee_certifications","fused":0.30536651397958686,"table_sim":0,"col_score":0.7634162849489671},{"table":"asset_maintenance","fused":0.2343018648079157,"table_sim":0,"col_score":0.5857546620197892},{"table":"chart_of_accounts","fused":0.23156566976894444,"table_sim":0,"col_score":0.578914174422361},{"table":"departments","fused":0.23155133271012823,"table_sim":0,"col_score":0.5788783317753206},{"table":"product_categories","fused":0.22972453265007473,"table_sim":0,"col_score":0.5743113316251868},{"table":"employee_benefits","fused":0.15648666907975928,"table_sim":0,"col_score":0.3912166726993982},{"table":"warehouses","fused":0.15362224141554898,"table_sim":0,"col_score":0.3840556035388724}],"fk_expansion_candidates":24,"fk_expansion_added":1,"fk_expansion_blocked_count":21,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"already_selected"},{"table":"chart_of_accounts","reason":"already_selected"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":18,"total_retrieval_latency_ms":25,"sql_generated":"SELECT ac.type AS entity_type, COUNT(da.*) AS num_documents FROM asset_categories ac LEFT JOIN document_attachments da ON ac.entity_id = da.entity_id GROUP BY ac.type;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"ac","column":"type","resolved_table":"asset_categories","suggested_columns":["category_id","name","depreciation_method"]},{"alias":"ac","column":"entity_id","resolved_table":"asset_categories","suggested_columns":["category_id","name","depreciation_method"]},{"alias":"ac","column":"type","resolved_table":"asset_categories","suggested_columns":["category_id","name","depreciation_method"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column ac.entity_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":1,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2230,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column ac.entity_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:21:13.663Z","query_id":"2751e6b2-0fb0-4bcf-91a0-009fad8ae487","question":"Calculate employee turnover rate by department for 2024","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employees","employee_salaries","departments","sales_regions","budgets","sales_territories","positions","employee_training","inventory_adjustments","asset_transfers","employee_certifications","employment_history"],"tables_from_table_retrieval":7,"tables_from_column_only":16,"tables_from_fk_expansion":2,"table_scores":[{"table":"employees","similarity":0.6359658673732379},{"table":"employees","similarity":0.6283128721980845},{"table":"employees","similarity":0.6283128721980845},{"table":"employee_salaries","similarity":0.6154920185256858},{"table":"employee_salaries","similarity":0.6154920185256858},{"table":"employee_salaries","similarity":0.6137332929756416},{"table":"departments","similarity":0.6101103038853555},{"table":"positions","similarity":0.5999463882310814},{"table":"positions","similarity":0.599093570754041},{"table":"positions","similarity":0.599093570754041},{"table":"sales_territories","similarity":0.5983156084770043},{"table":"departments","similarity":0.5980265380974776},{"table":"departments","similarity":0.5980265380974776},{"table":"sales_regions","similarity":0.5955253694234874},{"table":"budgets","similarity":0.5922652556433196}],"column_hits_per_table":{"departments":4,"sales_territories":1,"employees":7,"employee_salaries":7,"positions":1,"employee_training":4,"asset_maintenance":1,"goods_receipts":1,"sales_orders":1,"performance_reviews":2,"sales_regions":2,"asset_transfers":3,"budgets":2,"employee_certifications":2,"employee_benefits":2,"cost_centers":1,"inventory_adjustments":2,"purchase_requisitions":1,"currencies":1,"employment_history":2,"sales_opportunities":1,"business_units":1,"timesheets":1},"top_columns_per_table":{"departments":[{"column":"budget","similarity":0.6171215338559899},{"column":"manager_id","similarity":0.5961383943023354},{"column":"created_at","similarity":0.5650467732880422}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.613735339271099}],"employees":[{"column":"department_id","similarity":0.6128547771691438},{"column":"salary","similarity":0.601752847347806},{"column":"termination_date","similarity":0.5966071793770903}],"employee_salaries":[{"column":"end_date","similarity":0.6066714954048358},{"column":"amount","similarity":0.593388338491163},{"column":"effective_date","similarity":0.5928836468348673}],"positions":[{"column":"department_id","similarity":0.601081477446699}],"employee_training":[{"column":"score","similarity":0.5928527070079839},{"column":"scheduled_date","similarity":0.5735550391908764},{"column":"employee_id","similarity":0.5706780616174596}],"asset_maintenance":[{"column":"performed_by","similarity":0.5871347008280439}],"goods_receipts":[{"column":"received_by","similarity":0.5868493099400296}],"sales_orders":[{"column":"sales_rep_id","similarity":0.5843091252583017}],"performance_reviews":[{"column":"employee_id","similarity":0.5837580109083931},{"column":"reviewer_id","similarity":0.5714175766121258}],"sales_regions":[{"column":"manager_id","similarity":0.5798833108533066},{"column":"target_revenue","similarity":0.5574040652402492}],"asset_transfers":[{"column":"transferred_by","similarity":0.5794683807030565},{"column":"to_employee_id","similarity":0.5716790888698292},{"column":"from_employee_id","similarity":0.5709346468764337}],"budgets":[{"column":"department_id","similarity":0.5771392831310456},{"column":"approved_by","similarity":0.5582712309076955}],"employee_certifications":[{"column":"employee_id","similarity":0.5746489952027047},{"column":"expiry_date","similarity":0.5686582077330544}],"employee_benefits":[{"column":"end_date","similarity":0.5727875043304892},{"column":"employee_id","similarity":0.5623488537687561}],"cost_centers":[{"column":"department_id","similarity":0.5719328818068407}],"inventory_adjustments":[{"column":"adjusted_by","similarity":0.5712410647201211},{"column":"approved_by","similarity":0.5645446751844594}],"purchase_requisitions":[{"column":"department_id","similarity":0.5675362306468967}],"currencies":[{"column":"exchange_rate","similarity":0.566384286000632}],"employment_history":[{"column":"employee_id","similarity":0.5633517132005502},{"column":"reason_for_leaving","similarity":0.5587429277691088}],"sales_opportunities":[{"column":"owner_id","similarity":0.5617897810640338}],"business_units":[{"column":"manager_id","similarity":0.5600356791366401}],"timesheets":[{"column":"employee_id","similarity":0.5600062923329793}]},"fused_scores":[{"table":"employees","fused":0.7370102981333913,"table_sim":0.6283128721980845,"col_score":0.9000564370363511},{"table":"employee_salaries","fused":0.7295862416455519,"table_sim":0.6137332929756416,"col_score":0.9033656646504173},{"table":"departments","fused":0.6891239116032095,"table_sim":0.5980265380974776,"col_score":0.8257699718618072},{"table":"sales_regions","fused":0.661460511269655,"table_sim":0.5955253694234874,"col_score":0.7603632240389064},{"table":"budgets","fused":0.6594671453874164,"table_sim":0.5922652556433196,"col_score":0.7602699800035614},{"table":"sales_territories","fused":0.5308352600821102,"table_sim":0.5983156084770043,"col_score":0.4296147374897693},{"table":"positions","fused":0.5277589561375002,"table_sim":0.599093570754041,"col_score":0.4207570342126893},{"table":"employee_training","fused":0.35185209064136885,"table_sim":0,"col_score":0.879630226603422},{"table":"inventory_adjustments","fused":0.34140536092494034,"table_sim":0,"col_score":0.8535134023123508},{"table":"asset_transfers","fused":0.3118224247229987,"table_sim":0,"col_score":0.7795560618074967},{"table":"employee_certifications","fused":0.3079141424216005,"table_sim":0,"col_score":0.7697853560540011},{"table":"employee_benefits","fused":0.30784384125982156,"table_sim":0,"col_score":0.7696096031495538},{"table":"employment_history","fused":0.3023664109557206,"table_sim":0,"col_score":0.7559160273893014},{"table":"performance_reviews","fused":0.24345070378004766,"table_sim":0,"col_score":0.6086267594501191},{"table":"asset_maintenance","fused":0.23485388033121757,"table_sim":0,"col_score":0.5871347008280439}],"fk_expansion_candidates":96,"fk_expansion_added":2,"fk_expansion_blocked_count":78,"fk_expansion_blocked":[{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"already_selected"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"already_selected"},{"table":"performance_reviews","reason":"max_tables"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_certifications","reason":"already_selected"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"goods_receipts","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"max_tables"},{"table":"cost_centers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"performance_reviews","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"already_selected"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":18,"total_retrieval_latency_ms":25,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"department_id","resolved_table":"departments","suggested_columns":[]},{"alias":"d","column":"name","resolved_table":"departments","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":4359,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:21:18.023Z","query_id":"c8f21fe0-274f-42d2-b326-0ac4d83e5632","question":"Find the salary percentile ranking for each employee within their department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_salaries","employees","positions","departments","performance_reviews","sales_regions","project_resources","sales_orders","vendor_invoices","employee_benefits","budgets","employee_training"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":2,"table_scores":[{"table":"employee_salaries","similarity":0.7150971626527787},{"table":"employee_salaries","similarity":0.7150971626527787},{"table":"employee_salaries","similarity":0.708947353388894},{"table":"positions","similarity":0.673242751719371},{"table":"positions","similarity":0.6565261063268311},{"table":"positions","similarity":0.6565261063268311},{"table":"employees","similarity":0.6495295179488771},{"table":"departments","similarity":0.64741802797087},{"table":"employees","similarity":0.633369499345302},{"table":"employees","similarity":0.633369499345302},{"table":"departments","similarity":0.6328181923670926},{"table":"departments","similarity":0.6328181923670926},{"table":"sales_regions","similarity":0.6247633430026287},{"table":"performance_reviews","similarity":0.6201770986480979},{"table":"performance_reviews","similarity":0.6063045966524395}],"column_hits_per_table":{"employees":8,"employee_salaries":7,"departments":4,"positions":3,"employee_training":1,"project_resources":2,"sales_orders":4,"performance_reviews":4,"employee_benefits":2,"order_lines":1,"sales_territories":1,"employee_certifications":2,"currencies":1,"tax_rates":1,"sales_regions":1,"vendor_invoices":3,"asset_categories":1,"purchase_orders":1,"budgets":1,"quote_lines":1,"product_suppliers":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.7516999267912566},{"column":"employee_number","similarity":0.6475222105411707},{"column":"phone","similarity":0.6335347761920442}],"employee_salaries":[{"column":"amount","similarity":0.7335170013770521},{"column":"approved_by","similarity":0.6822708118932407},{"column":"effective_date","similarity":0.6739318834802893}],"departments":[{"column":"budget","similarity":0.677998212273291},{"column":"manager_id","similarity":0.6351459248984429},{"column":"parent_department_id","similarity":0.623290651523152}],"positions":[{"column":"min_salary","similarity":0.6744645855381992},{"column":"max_salary","similarity":0.6663214050707933},{"column":"department_id","similarity":0.6424140802376155}],"employee_training":[{"column":"score","similarity":0.6565621289067415}],"project_resources":[{"column":"hourly_rate","similarity":0.6430540971391342},{"column":"allocation_percent","similarity":0.621737392517516}],"sales_orders":[{"column":"total","similarity":0.6323044264651041},{"column":"subtotal","similarity":0.6231063815552383},{"column":"sales_rep_id","similarity":0.603951442295968}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.6309951342900396},{"column":"reviewer_id","similarity":0.6296156415374472},{"column":"employee_id","similarity":0.6270036415776163}],"employee_benefits":[{"column":"coverage_level","similarity":0.6291373504427914},{"column":"employee_id","similarity":0.608538154628989}],"order_lines":[{"column":"discount_percent","similarity":0.6288230405331483}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.626169512850208}],"employee_certifications":[{"column":"certificate_number","similarity":0.6179354657069774},{"column":"employee_id","similarity":0.6116376107330588}],"currencies":[{"column":"exchange_rate","similarity":0.6151317939764944}],"tax_rates":[{"column":"rate","similarity":0.6140263720536819}],"sales_regions":[{"column":"manager_id","similarity":0.6125537057406677}],"vendor_invoices":[{"column":"total","similarity":0.6094602269991619},{"column":"subtotal","similarity":0.604766812781768},{"column":"amount_paid","similarity":0.6027268036015034}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.6075033191187711}],"purchase_orders":[{"column":"total","similarity":0.6070169426521217}],"budgets":[{"column":"approved_by","similarity":0.6061548136762259}],"quote_lines":[{"column":"discount_percent","similarity":0.6047639324071958}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6034202600276743}]},"fused_scores":[{"table":"employee_salaries","fused":0.8552293749628055,"table_sim":0.708947353388894,"col_score":1.0746524073236725},{"table":"employees","fused":0.810206112431918,"table_sim":0.633369499345302,"col_score":1.0754610320618418},{"table":"positions","fused":0.7969657790255369,"table_sim":0.6565261063268311,"col_score":1.0076252880735959},{"table":"departments","fused":0.739810629815354,"table_sim":0.6328181923670926,"col_score":0.9002992859877461},{"table":"performance_reviews","fused":0.7380201350757962,"table_sim":0.6063045966524395,"col_score":0.9355934427108312},{"table":"sales_regions","fused":0.5463730434089642,"table_sim":0.6247633430026287,"col_score":0.4287875940184674},{"table":"project_resources","fused":0.3815691173591569,"table_sim":0,"col_score":0.9539227933978922},{"table":"sales_orders","fused":0.37754304689708934,"table_sim":0,"col_score":0.9438576172427233},{"table":"vendor_invoices","fused":0.36473745335601837,"table_sim":0,"col_score":0.9118436333900459},{"table":"employee_benefits","fused":0.33685028182517507,"table_sim":0,"col_score":0.8421257045629376},{"table":"employee_certifications","fused":0.33280345178541926,"table_sim":0,"col_score":0.832008629463548},{"table":"employee_training","fused":0.2626248515626966,"table_sim":0,"col_score":0.6565621289067415},{"table":"order_lines","fused":0.25152921621325935,"table_sim":0,"col_score":0.6288230405331483},{"table":"currencies","fused":0.24605271759059777,"table_sim":0,"col_score":0.6151317939764944},{"table":"tax_rates","fused":0.2456105488214728,"table_sim":0,"col_score":0.6140263720536819}],"fk_expansion_candidates":99,"fk_expansion_added":2,"fk_expansion_blocked_count":84,"fk_expansion_blocked":[{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"employee_certifications","reason":"max_tables"},{"table":"employment_history","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"max_tables"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employee_training","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"employment_history","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"benefit_types","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"order_lines","reason":"max_tables"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"max_tables"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"max_tables"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"employee_training","reason":"already_selected"},{"table":"employee_certifications","reason":"max_tables"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"order_lines","reason":"max_tables"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"order_lines","reason":"max_tables"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_orders","reason":"max_tables"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":16,"total_retrieval_latency_ms":23,"sql_generated":"SELECT e.employee_id, CONCAT(e.first_name, ' ', e.last_name) AS full_name, p.position_title, es.salary, pr.percentile_rank FROM employees e JOIN positions p ON e.department_id = p.department_id AND e.position_id = p.position_id LEFT JOIN (SELECT department_id, position_id, NTILE(10) OVER (PARTITION BY department_id ORDER BY salary) AS percentile_rank FROM employees WHERE effective_date <= CURRENT_DATE LIMIT 1000) pr ON e.department_id = pr.department_id AND e.position_id = pr.position_id JOIN employee_salaries es ON e.employee_id = es.employee_id;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"p","column":"position_title","resolved_table":"positions","suggested_columns":["position_id","title","min_salary"]},{"alias":"es","column":"salary","resolved_table":"employee_salaries","suggested_columns":["salary_id","employee_id","amount"]}],"unresolved_aliases":["pr"]},"explain_result":"fail","sqlstate":"42703","error_message":"column \"effective_date\" does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":1,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":8614,"failure_type":"column_miss","failure_details":"Undefined column: effective_date","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:21:26.637Z","query_id":"113f770f-0968-49df-b4c9-3a2f98be68ec","question":"Identify employees who have not completed mandatory training","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_training","training_courses","employee_certifications","employees","employee_salaries","leave_requests","employee_benefits","asset_maintenance","fixed_assets","task_assignments"],"tables_from_table_retrieval":6,"tables_from_column_only":12,"tables_from_fk_expansion":0,"table_scores":[{"table":"employee_training","similarity":0.704722872966379},{"table":"employee_training","similarity":0.704722872966379},{"table":"employee_training","similarity":0.6889099730779654},{"table":"training_courses","similarity":0.6502538829600134},{"table":"training_courses","similarity":0.6479414954111261},{"table":"training_courses","similarity":0.6479414954111261},{"table":"employee_certifications","similarity":0.6250915878473813},{"table":"employee_certifications","similarity":0.6250915878473813},{"table":"employee_certifications","similarity":0.622622468299915},{"table":"employees","similarity":0.5917832723264214},{"table":"employees","similarity":0.5917832723264214},{"table":"employees","similarity":0.5856498095746774},{"table":"leave_requests","similarity":0.562719264388909},{"table":"employee_salaries","similarity":0.5602939159575271},{"table":"employee_salaries","similarity":0.5602939159575271}],"column_hits_per_table":{"employee_training":7,"training_courses":7,"employees":13,"employee_certifications":6,"employee_salaries":2,"task_assignments":1,"leave_requests":2,"leave_types":1,"certifications":1,"sales_territories":1,"warehouses":1,"business_units":1,"departments":1,"asset_maintenance":1,"emergency_contacts":1,"fixed_assets":1,"employee_benefits":2,"sales_regions":1},"top_columns_per_table":{"employee_training":[{"column":"completion_date","similarity":0.7097029109110412},{"column":"status","similarity":0.6976372257898822},{"column":"scheduled_date","similarity":0.6929640745659373}],"training_courses":[{"column":"is_mandatory","similarity":0.7012303940272651},{"column":"is_active","similarity":0.6332101562224836},{"column":"duration_hours","similarity":0.6052562024596296}],"employees":[{"column":"is_active","similarity":0.6199746938033394},{"column":"employee_id","similarity":0.5826338967861492},{"column":"hire_date","similarity":0.5802768513083864}],"employee_certifications":[{"column":"obtained_date","similarity":0.6093546957662352},{"column":"employee_id","similarity":0.6062132886742129},{"column":"expiry_date","similarity":0.5973898422628211}],"employee_salaries":[{"column":"effective_date","similarity":0.5735579062029842},{"column":"end_date","similarity":0.5734035938209808}],"task_assignments":[{"column":"employee_id","similarity":0.5697426551622571}],"leave_requests":[{"column":"employee_id","similarity":0.5660077016574807},{"column":"approved_by","similarity":0.5639076344538145}],"leave_types":[{"column":"is_paid","similarity":0.5643874982938306}],"certifications":[{"column":"description","similarity":0.5613971013724545}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.5601484599678442}],"warehouses":[{"column":"manager_id","similarity":0.559427574061162}],"business_units":[{"column":"manager_id","similarity":0.5583488075095108}],"departments":[{"column":"manager_id","similarity":0.5561382857923995}],"asset_maintenance":[{"column":"performed_by","similarity":0.5557857799870751}],"emergency_contacts":[{"column":"employee_id","similarity":0.5555155902473405}],"fixed_assets":[{"column":"assigned_to","similarity":0.5550951258692207}],"employee_benefits":[{"column":"start_date","similarity":0.5541815032041719},{"column":"end_date","similarity":0.5539179805848201}],"sales_regions":[{"column":"manager_id","similarity":0.5490780636724084}]},"fused_scores":[{"table":"employee_training","fused":0.8358199631243832,"table_sim":0.6889099730779654,"col_score":1.05618494819401},{"table":"training_courses","fused":0.7903082953495078,"table_sim":0.6479414954111261,"col_score":1.00385849525708},{"table":"employee_certifications","fused":0.7367933277390073,"table_sim":0.622622468299915,"col_score":0.9080496168976457},{"table":"employees","fused":0.6993894779630755,"table_sim":0.5856498095746774,"col_score":0.8699989805456727},{"table":"employee_salaries","fused":0.6802802308199061,"table_sim":0.5602939159575271,"col_score":0.8602597031134747},{"table":"leave_requests","fused":0.6424356906469184,"table_sim":0.562719264388909,"col_score":0.7620103300339327},{"table":"employee_benefits","fused":0.33245619739863286,"table_sim":0,"col_score":0.831140493496582},{"table":"asset_maintenance","fused":0.22231431199483007,"table_sim":0,"col_score":0.5557857799870751},{"table":"fixed_assets","fused":0.2220380503476883,"table_sim":0,"col_score":0.5550951258692207},{"table":"task_assignments","fused":0.15952794344543197,"table_sim":0,"col_score":0.39881985861357994},{"table":"leave_types","fused":0.15802849952227258,"table_sim":0,"col_score":0.3950712488056814},{"table":"certifications","fused":0.15719118838428725,"table_sim":0,"col_score":0.3929779709607181},{"table":"sales_territories","fused":0.1568415687909964,"table_sim":0,"col_score":0.39210392197749094},{"table":"warehouses","fused":0.15663972073712534,"table_sim":0,"col_score":0.39159930184281333},{"table":"business_units","fused":0.156337666102663,"table_sim":0,"col_score":0.3908441652566575}],"fk_expansion_candidates":111,"fk_expansion_added":0,"fk_expansion_blocked_count":111,"fk_expansion_blocked":[{"table":"certifications","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"certifications","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"project_expenses","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"leave_types","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":41,"total_retrieval_latency_ms":49,"sql_generated":"SELECT e.* FROM employees e LEFT JOIN employee_training et ON e.employee_id = et.employee_id WHERE et.status = 'completed' AND et.is_mandatory = TRUE;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"et","column":"is_mandatory","resolved_table":"employee_training","suggested_columns":["training_id","employee_id","course_id"]}],"unresolved_aliases":[]},"explain_result":"fail","sqlstate":"42703","error_message":"column et.is_mandatory does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":0,"autocorrect_failure_reason":"No candidates found for column 'is_mandatory'","total_latency_ms":2356,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column et.is_mandatory does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:21:28.994Z","query_id":"1cac2ff0-0e20-4c34-a450-8efe5dd0fb39","question":"Calculate month-over-month sales growth rate for the past 12 months","attempt_count":1,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_opportunities","sales_orders","sales_quotes","project_milestones","performance_reviews","purchase_orders","sales_regions","depreciation_schedules","maintenance_types","product_suppliers","fixed_assets","goods_receipts"],"tables_from_table_retrieval":7,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_opportunities","similarity":0.6157116926794552},{"table":"sales_opportunities","similarity":0.6070846065624028},{"table":"sales_opportunities","similarity":0.6070846065624028},{"table":"sales_orders","similarity":0.6006459034551404},{"table":"sales_orders","similarity":0.5887441533450763},{"table":"sales_orders","similarity":0.5887441533450763},{"table":"sales_regions","similarity":0.5852419849044662},{"table":"sales_quotes","similarity":0.5842211564145057},{"table":"sales_regions","similarity":0.5757547372230886},{"table":"sales_regions","similarity":0.5757547372230886},{"table":"project_milestones","similarity":0.570290032024122},{"table":"sales_quotes","similarity":0.5681300155177891},{"table":"sales_quotes","similarity":0.5681300155177891},{"table":"purchase_orders","similarity":0.5671901529888976},{"table":"performance_reviews","similarity":0.5664270760489215}],"column_hits_per_table":{"sales_opportunities":8,"sales_regions":2,"sales_orders":9,"maintenance_types":1,"sales_quotes":7,"performance_reviews":4,"purchase_orders":3,"project_milestones":3,"product_suppliers":1,"depreciation_schedules":2,"sales_territories":1,"inventory_adjustments":1,"fixed_assets":1,"goods_receipts":1,"inventory_levels":1,"employee_salaries":1,"project_resources":1,"employee_benefits":1,"fiscal_years":1,"fiscal_periods":1},"top_columns_per_table":{"sales_opportunities":[{"column":"expected_close_date","similarity":0.6363002878299652},{"column":"actual_close_date","similarity":0.6293430551643405},{"column":"probability","similarity":0.6090506488590046}],"sales_regions":[{"column":"target_revenue","similarity":0.6231668309815453},{"column":"name","similarity":0.585191877724474}],"sales_orders":[{"column":"order_date","similarity":0.608157039227958},{"column":"ship_date","similarity":0.5938744066184168},{"column":"total","similarity":0.5899520680113397}],"maintenance_types":[{"column":"frequency_months","similarity":0.6034947907940172}],"sales_quotes":[{"column":"quote_date","similarity":0.6017792039675379},{"column":"status","similarity":0.5902208864403699},{"column":"valid_until","similarity":0.5831203611386355}],"performance_reviews":[{"column":"goals_met_percent","similarity":0.5909294294176741},{"column":"review_period_start","similarity":0.5615927806546327},{"column":"review_date","similarity":0.5576939251570936}],"purchase_orders":[{"column":"expected_date","similarity":0.583020378163897},{"column":"order_date","similarity":0.5622198964497076},{"column":"total","similarity":0.5529608978561139}],"project_milestones":[{"column":"amount","similarity":0.5816574903010769},{"column":"completed_date","similarity":0.5747741736862505},{"column":"due_date","similarity":0.5699308185216523}],"product_suppliers":[{"column":"lead_time_days","similarity":0.5803736956944617}],"depreciation_schedules":[{"column":"useful_life_months","similarity":0.579285680033414},{"column":"monthly_amount","similarity":0.574824063929058}],"sales_territories":[{"column":"name","similarity":0.5781934127104026}],"inventory_adjustments":[{"column":"adjustment_date","similarity":0.5725144040106267}],"fixed_assets":[{"column":"purchase_date","similarity":0.5697887482679104}],"goods_receipts":[{"column":"receipt_date","similarity":0.5676283184863925}],"inventory_levels":[{"column":"last_count_date","similarity":0.5634798348449386}],"employee_salaries":[{"column":"effective_date","similarity":0.5606593500435769}],"project_resources":[{"column":"hourly_rate","similarity":0.5590398909892947}],"employee_benefits":[{"column":"start_date","similarity":0.5585024004457627}],"fiscal_years":[{"column":"year","similarity":0.5573744243801744}],"fiscal_periods":[{"column":"period_number","similarity":0.5554732589241962}]},"fused_scores":[{"table":"sales_opportunities","fused":0.7446394901022959,"table_sim":0.6070846065624028,"col_score":0.9509718154121354},{"table":"sales_orders","fused":0.7152841890219124,"table_sim":0.5887441533450763,"col_score":0.9050942425371664},{"table":"sales_quotes","fused":0.6982137631254157,"table_sim":0.5681300155177891,"col_score":0.8933393845368557},{"table":"project_milestones","fused":0.689791850072154,"table_sim":0.570290032024122,"col_score":0.8690445771442021},{"table":"performance_reviews","fused":0.688546573527349,"table_sim":0.5664270760489215,"col_score":0.8717258197449904},{"table":"purchase_orders","fused":0.6859662223488389,"table_sim":0.5671901529888976,"col_score":0.8641303263887508},{"table":"sales_regions","fused":0.6766464376078977,"table_sim":0.5757547372230886,"col_score":0.8279839881851112},{"table":"depreciation_schedules","fused":0.3466790847991772,"table_sim":0,"col_score":0.866697711997943},{"table":"maintenance_types","fused":0.2413979163176069,"table_sim":0,"col_score":0.6034947907940172},{"table":"product_suppliers","fused":0.2321494782777847,"table_sim":0,"col_score":0.5803736956944617},{"table":"inventory_adjustments","fused":0.22900576160425068,"table_sim":0,"col_score":0.5725144040106267},{"table":"fixed_assets","fused":0.22791549930716415,"table_sim":0,"col_score":0.5697887482679104},{"table":"goods_receipts","fused":0.22705132739455702,"table_sim":0,"col_score":0.5676283184863925},{"table":"inventory_levels","fused":0.22539193393797544,"table_sim":0,"col_score":0.5634798348449386},{"table":"employee_salaries","fused":0.22426374001743077,"table_sim":0,"col_score":0.5606593500435769}],"fk_expansion_candidates":48,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"goods_receipts","reason":"already_selected"},{"table":"goods_receipts","reason":"already_selected"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"opportunity_stages","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendor_invoices","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":24,"total_retrieval_latency_ms":31,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":2047,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:21:31.041Z","query_id":"d7731590-13fd-43cc-a5e5-2e39ae8c05d0","question":"Find the average order value and order frequency for each customer segment based on credit limit","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["customers","order_lines","sales_orders","purchase_orders","po_lines","reorder_rules","vendor_invoice_lines","inventory_levels","quote_lines","product_suppliers","customer_contacts","receipt_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"customers","similarity":0.6806365809432632},{"table":"customers","similarity":0.6617339783713272},{"table":"customers","similarity":0.6617339783713272},{"table":"order_lines","similarity":0.6612582093852053},{"table":"sales_orders","similarity":0.6503570787641184},{"table":"order_lines","similarity":0.6440009106463637},{"table":"order_lines","similarity":0.6440009106463637},{"table":"sales_orders","similarity":0.6376795436737537},{"table":"sales_orders","similarity":0.6376795436737537},{"table":"purchase_orders","similarity":0.6350119894518774},{"table":"purchase_orders","similarity":0.626466775910568},{"table":"purchase_orders","similarity":0.626466775910568},{"table":"po_lines","similarity":0.6239700790357152},{"table":"po_lines","similarity":0.609465351537268},{"table":"po_lines","similarity":0.609465351537268}],"column_hits_per_table":{"customers":5,"order_lines":8,"purchase_orders":8,"sales_orders":7,"po_lines":5,"reorder_rules":3,"product_suppliers":1,"vendor_invoice_lines":3,"inventory_levels":3,"vendor_invoices":1,"customer_contacts":1,"quote_lines":2,"requisition_lines":1,"bank_transactions":1,"receipt_lines":1},"top_columns_per_table":{"customers":[{"column":"credit_limit","similarity":0.7562213296764043},{"column":"customer_number","similarity":0.6521520293534339},{"column":"payment_terms","similarity":0.6492525283356417}],"order_lines":[{"column":"line_total","similarity":0.6913816625333152},{"column":"unit_price","similarity":0.6750525139519165},{"column":"discount_percent","similarity":0.6707705169056545}],"purchase_orders":[{"column":"total","similarity":0.679308087050387},{"column":"po_number","similarity":0.65047868884927},{"column":"shipping_cost","similarity":0.6476903653884583}],"sales_orders":[{"column":"total","similarity":0.676144027149082},{"column":"order_number","similarity":0.6628715408716754},{"column":"shipping_cost","similarity":0.6417700268316578}],"po_lines":[{"column":"line_total","similarity":0.6567240233932621},{"column":"quantity","similarity":0.6366461345850174},{"column":"quantity_received","similarity":0.6338507022822304}],"reorder_rules":[{"column":"max_quantity","similarity":0.6445353762194392},{"column":"min_quantity","similarity":0.6258826394823849},{"column":"reorder_quantity","similarity":0.6145566972207888}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6397191137681456}],"vendor_invoice_lines":[{"column":"amount","similarity":0.6344433381575307},{"column":"quantity","similarity":0.6232178113301293},{"column":"unit_cost","similarity":0.6211589188193147}],"inventory_levels":[{"column":"quantity_reserved","similarity":0.6238969286133056},{"column":"last_count_date","similarity":0.6121516191920202},{"column":"quantity_on_hand","similarity":0.6120873561780505}],"vendor_invoices":[{"column":"total","similarity":0.6173072545374575}],"customer_contacts":[{"column":"phone","similarity":0.615865684240799}],"quote_lines":[{"column":"line_total","similarity":0.6146477438819443},{"column":"unit_price","similarity":0.6079234006312217}],"requisition_lines":[{"column":"estimated_total","similarity":0.6125923514934559}],"bank_transactions":[{"column":"amount","similarity":0.6096968542896204}],"receipt_lines":[{"column":"quantity_received","similarity":0.6070953158065068}]},"fused_scores":[{"table":"customers","fused":0.8299593247640449,"table_sim":0.6617339783713272,"col_score":1.0822973443531212},{"table":"order_lines","fused":0.7979637141915276,"table_sim":0.6440009106463637,"col_score":1.0289079195092734},{"table":"sales_orders","fused":0.7856396452382202,"table_sim":0.6376795436737537,"col_score":1.0075797975849197},{"table":"purchase_orders","fused":0.7776990381363496,"table_sim":0.626466775910568,"col_score":1.004547431475022},{"table":"po_lines","fused":0.7556980471966691,"table_sim":0.609465351537268,"col_score":0.9750470906857708},{"table":"reorder_rules","fused":0.3829906783842527,"table_sim":0,"col_score":0.9574766959606317},{"table":"vendor_invoice_lines","fused":0.3784208975290382,"table_sim":0,"col_score":0.9460522438225953},{"table":"inventory_levels","fused":0.3719890952837263,"table_sim":0,"col_score":0.9299727382093157},{"table":"quote_lines","fused":0.3674437776790221,"table_sim":0,"col_score":0.9186094441975552},{"table":"product_suppliers","fused":0.25588764550725823,"table_sim":0,"col_score":0.6397191137681456},{"table":"vendor_invoices","fused":0.246922901814983,"table_sim":0,"col_score":0.6173072545374575},{"table":"customer_contacts","fused":0.24634627369631962,"table_sim":0,"col_score":0.615865684240799},{"table":"requisition_lines","fused":0.24503694059738237,"table_sim":0,"col_score":0.6125923514934559},{"table":"bank_transactions","fused":0.24387874171584817,"table_sim":0,"col_score":0.6096968542896204},{"table":"receipt_lines","fused":0.2428381263226027,"table_sim":0,"col_score":0.6070953158065068}],"fk_expansion_candidates":51,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"customer_contacts","reason":"already_selected"},{"table":"customer_contacts","reason":"already_selected"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendor_invoices","reason":"max_tables"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":47,"total_retrieval_latency_ms":54,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"c","column":"segment","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"customer_id","resolved_table":"customers","suggested_columns":[]},{"alias":"c","column":"segment","resolved_table":"customers","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":3443,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:21:34.485Z","query_id":"dfba14a1-daa9-434a-8545-39b500571ade","question":"What is the sales pipeline weighted value by stage and expected close month?","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["sales_opportunities","sales_orders","vendor_invoices","purchase_orders","vendor_invoice_lines","opportunity_stages","sales_quotes","project_phases","inventory_levels","products","order_lines","projects"],"tables_from_table_retrieval":7,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"sales_opportunities","similarity":0.6054695442586654},{"table":"sales_opportunities","similarity":0.5991342441914193},{"table":"sales_opportunities","similarity":0.5991342441914193},{"table":"opportunity_stages","similarity":0.5878194026125775},{"table":"purchase_orders","similarity":0.569620040129231},{"table":"opportunity_stages","similarity":0.5683265438173515},{"table":"opportunity_stages","similarity":0.5683265438173515},{"table":"sales_orders","similarity":0.5672773314428301},{"table":"vendor_invoices","similarity":0.5653986063661894},{"table":"sales_orders","similarity":0.5581057438001689},{"table":"sales_orders","similarity":0.5581057438001689},{"table":"vendor_invoices","similarity":0.5555915054629954},{"table":"vendor_invoices","similarity":0.5555915054629954},{"table":"vendor_invoice_lines","similarity":0.5524555005656138},{"table":"sales_quotes","similarity":0.550409683101325}],"column_hits_per_table":{"sales_opportunities":6,"sales_quotes":7,"vendor_invoice_lines":3,"sales_orders":8,"vendor_invoices":7,"products":1,"purchase_orders":4,"project_phases":3,"opportunity_stages":2,"sales_regions":1,"product_suppliers":1,"depreciation_schedules":1,"inventory_levels":2,"project_milestones":1,"performance_reviews":1,"projects":1,"order_lines":1},"top_columns_per_table":{"sales_opportunities":[{"column":"expected_close_date","similarity":0.668690771832423},{"column":"actual_close_date","similarity":0.6339245575123714},{"column":"probability","similarity":0.5692602631371995}],"sales_quotes":[{"column":"status","similarity":0.5921986529170727},{"column":"total","similarity":0.5752162059761756},{"column":"quote_date","similarity":0.5738522658738787}],"vendor_invoice_lines":[{"column":"amount","similarity":0.5845362816918436},{"column":"quantity","similarity":0.5763391839401236},{"column":"unit_cost","similarity":0.5761415252217038}],"sales_orders":[{"column":"subtotal","similarity":0.5845302560552877},{"column":"total","similarity":0.5825451432204839},{"column":"shipping_cost","similarity":0.5774331860294376}],"vendor_invoices":[{"column":"subtotal","similarity":0.5822705703803419},{"column":"total","similarity":0.582041980504164},{"column":"status","similarity":0.5656992120499805}],"products":[{"column":"weight","similarity":0.5815009424843107}],"purchase_orders":[{"column":"expected_date","similarity":0.5741026972061223},{"column":"total","similarity":0.5488581395929076},{"column":"subtotal","similarity":0.5484437995629727}],"project_phases":[{"column":"end_date","similarity":0.5687826504010404},{"column":"start_date","similarity":0.543726006663315},{"column":"status","similarity":0.542017684104051}],"opportunity_stages":[{"column":"is_closed","similarity":0.5678148186760426},{"column":"probability","similarity":0.5543864927330566}],"sales_regions":[{"column":"target_revenue","similarity":0.5654854838224989}],"product_suppliers":[{"column":"lead_time_days","similarity":0.5615731578476576}],"depreciation_schedules":[{"column":"monthly_amount","similarity":0.558713615169843}],"inventory_levels":[{"column":"last_count_date","similarity":0.5575421295633526},{"column":"quantity_on_hand","similarity":0.5419613068262183}],"project_milestones":[{"column":"amount","similarity":0.5518840450887265}],"performance_reviews":[{"column":"review_period_end","similarity":0.5513220446834107}],"projects":[{"column":"planned_end_date","similarity":0.5476762261808827}],"order_lines":[{"column":"discount_percent","similarity":0.545524369079207}]},"fused_scores":[{"table":"sales_opportunities","fused":0.753741766750295,"table_sim":0.5991342441914193,"col_score":0.9856530505886087},{"table":"sales_orders","fused":0.6851845773463132,"table_sim":0.5581057438001689,"col_score":0.8758028276655296},{"table":"vendor_invoices","fused":0.6826715275307668,"table_sim":0.5555915054629954,"col_score":0.8732915606324239},{"table":"purchase_orders","fused":0.681184730878569,"table_sim":0.569620040129231,"col_score":0.848531767002576},{"table":"vendor_invoice_lines","fused":0.6805556498041303,"table_sim":0.5524555005656138,"col_score":0.8727058736619053},{"table":"opportunity_stages","fused":0.6789991523074392,"table_sim":0.5683265438173515,"col_score":0.8450080650425709},{"table":"sales_quotes","fused":0.675102745426041,"table_sim":0.550409683101325,"col_score":0.862142338913115},{"table":"project_phases","fused":0.33625826149307914,"table_sim":0,"col_score":0.8406456537326978},{"table":"inventory_levels","fused":0.33140911319058475,"table_sim":0,"col_score":0.8285227829764618},{"table":"products","fused":0.2326003769937243,"table_sim":0,"col_score":0.5815009424843107},{"table":"sales_regions","fused":0.22619419352899955,"table_sim":0,"col_score":0.5654854838224989},{"table":"product_suppliers","fused":0.22462926313906306,"table_sim":0,"col_score":0.5615731578476576},{"table":"depreciation_schedules","fused":0.2234854460679372,"table_sim":0,"col_score":0.558713615169843},{"table":"project_milestones","fused":0.2207536180354906,"table_sim":0,"col_score":0.5518840450887265},{"table":"performance_reviews","fused":0.2205288178733643,"table_sim":0,"col_score":0.5513220446834107}],"fk_expansion_candidates":72,"fk_expansion_added":2,"fk_expansion_blocked_count":63,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_tasks","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"quote_lines","reason":"no_evidence"},{"table":"product_suppliers","reason":"max_tables"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"product_suppliers","reason":"max_tables"},{"table":"project_tasks","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":15,"total_retrieval_latency_ms":22,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":4670,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:21:39.155Z","query_id":"5f4c5f35-ca8f-4066-b8f8-2b31be04a0ab","question":"Calculate inventory turnover ratio by product category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"retriever_version":"V2","tables_retrieved":["inventory_levels","inventory_transactions","asset_categories","products","product_categories","sales_orders","reorder_rules","inventory_adjustments","product_suppliers","depreciation_entries","order_lines","receipt_lines"],"tables_from_table_retrieval":5,"tables_from_column_only":10,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_levels","similarity":0.6747561713408694},{"table":"inventory_levels","similarity":0.6691204463835779},{"table":"inventory_levels","similarity":0.6691204463835779},{"table":"products","similarity":0.6673866757064916},{"table":"asset_categories","similarity":0.6658822163690923},{"table":"inventory_transactions","similarity":0.6584332771076702},{"table":"products","similarity":0.6538676672378335},{"table":"products","similarity":0.6538676672378335},{"table":"product_categories","similarity":0.6501703787798785},{"table":"asset_categories","similarity":0.6498613946467077},{"table":"asset_categories","similarity":0.6498613946467077},{"table":"inventory_transactions","similarity":0.6496833625181302},{"table":"inventory_transactions","similarity":0.6496833625181302},{"table":"product_categories","similarity":0.6492322259777316},{"table":"product_categories","similarity":0.6492322259777316}],"column_hits_per_table":{"inventory_transactions":7,"inventory_levels":6,"asset_categories":4,"product_categories":5,"products":7,"sales_orders":4,"fixed_assets":1,"reorder_rules":3,"product_suppliers":2,"inventory_adjustments":4,"receipt_lines":2,"sales_regions":1,"depreciation_entries":2,"goods_receipts":1,"order_lines":1},"top_columns_per_table":{"inventory_transactions":[{"column":"quantity","similarity":0.6807888987316983},{"column":"transaction_type","similarity":0.6515365120278798},{"column":"reference_type","similarity":0.637828790421886}],"inventory_levels":[{"column":"quantity_reserved","similarity":0.671007230009608},{"column":"quantity_available","similarity":0.6650873994044184},{"column":"quantity_on_hand","similarity":0.6516421570126745}],"asset_categories":[{"column":"salvage_value_percent","similarity":0.6641371665838605},{"column":"depreciation_method","similarity":0.6354419036675771},{"column":"useful_life_years","similarity":0.621287819824621}],"product_categories":[{"column":"description","similarity":0.6507497169789198},{"column":"is_active","similarity":0.649502344633669},{"column":"category_id","similarity":0.6475053642784276}],"products":[{"column":"category_id","similarity":0.6427715834682924},{"column":"weight","similarity":0.6295802003912835},{"column":"unit_cost","similarity":0.6162112154039736}],"sales_orders":[{"column":"total","similarity":0.6200420126879076},{"column":"subtotal","similarity":0.6007588555599288},{"column":"tax_amount","similarity":0.5987801944503532}],"fixed_assets":[{"column":"category_id","similarity":0.6184944064206663}],"reorder_rules":[{"column":"reorder_quantity","similarity":0.6154008693245504},{"column":"product_id","similarity":0.6044803841321819},{"column":"min_quantity","similarity":0.603522150399881}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6130859746943957},{"column":"unit_cost","similarity":0.5933645257338089}],"inventory_adjustments":[{"column":"adjustment_number","similarity":0.6089434793102139},{"column":"adjusted_by","similarity":0.6069731015030922},{"column":"status","similarity":0.6019433143183657}],"receipt_lines":[{"column":"quantity_received","similarity":0.6032347735819231},{"column":"product_id","similarity":0.6026462248777215}],"sales_regions":[{"column":"target_revenue","similarity":0.6030920394288763}],"depreciation_entries":[{"column":"accumulated_depreciation","similarity":0.6025970339514821},{"column":"book_value","similarity":0.5960312123863106}],"goods_receipts":[{"column":"receipt_number","similarity":0.5957984012288485}],"order_lines":[{"column":"quantity_shipped","similarity":0.5947556552108059}]},"fused_scores":[{"table":"inventory_levels","fused":0.8028926397148737,"table_sim":0.6691204463835779,"col_score":1.0035509297118173},{"table":"inventory_transactions","fused":0.7924328794091334,"table_sim":0.6496833625181302,"col_score":1.0065571547456382},{"table":"asset_categories","fused":0.7826600841550841,"table_sim":0.6498613946467077,"col_score":0.981858118417649},{"table":"products","fused":0.7673949235800083,"table_sim":0.6538676672378335,"col_score":0.9376858080932703},{"table":"product_categories","fused":0.6626795845894502,"table_sim":0.6492322259777316,"col_score":0.682850622507028},{"table":"sales_orders","fused":0.3681685761871488,"table_sim":0,"col_score":0.920421440467872},{"table":"reorder_rules","fused":0.3668647778097964,"table_sim":0,"col_score":0.917161944524491},{"table":"inventory_adjustments","fused":0.36497201202470403,"table_sim":0,"col_score":0.91243003006176},{"table":"product_suppliers","fused":0.3639072950245201,"table_sim":0,"col_score":0.9097682375613002},{"table":"depreciation_entries","fused":0.360245056057855,"table_sim":0,"col_score":0.9006126401446375},{"table":"receipt_lines","fused":0.3256643809156503,"table_sim":0,"col_score":0.8141609522891257},{"table":"sales_regions","fused":0.24123681577155054,"table_sim":0,"col_score":0.6030920394288763},{"table":"goods_receipts","fused":0.23831936049153943,"table_sim":0,"col_score":0.5957984012288485},{"table":"order_lines","fused":0.23790226208432236,"table_sim":0,"col_score":0.5947556552108059},{"table":"fixed_assets","fused":0.17317843379778658,"table_sim":0,"col_score":0.4329460844944664}],"fk_expansion_candidates":54,"fk_expansion_added":2,"fk_expansion_blocked_count":48,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"order_lines","reason":"already_selected"},{"table":"order_lines","reason":"already_selected"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"receipt_lines","reason":"already_selected"},{"table":"receipt_lines","reason":"already_selected"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":27,"total_retrieval_latency_ms":33,"sql_generated":"SELECT pc.name AS product_category, SUM(it.quantity)/AVG(p.unit_cost) AS inventory_turnover_ratio FROM products p JOIN inventory_transactions it ON p.product_id = it.product_id JOIN product_categories pc ON p.category_id = pc.category_id GROUP BY pc.name;","tables_used_in_sql":[],"explain_result":"success","rows_returned":30,"total_latency_ms":1120}
{"timestamp":"2026-02-01T22:21:40.275Z","query_id":"07cfa7c7-7ed6-4d30-9fc4-87e8d7f885fc","question":"Identify products with significant inventory discrepancies (adjustment > 10% of stock)","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["inventory_adjustments","adjustment_lines","inventory_transactions","inventory_levels","products","fixed_assets","stock_transfers","asset_categories","sales_orders","product_suppliers","asset_locations","warehouse_locations"],"tables_from_table_retrieval":7,"tables_from_column_only":13,"tables_from_fk_expansion":2,"table_scores":[{"table":"inventory_adjustments","similarity":0.6958975386244389},{"table":"inventory_adjustments","similarity":0.6915197337369523},{"table":"inventory_adjustments","similarity":0.6915197337369523},{"table":"adjustment_lines","similarity":0.6522288043937092},{"table":"adjustment_lines","similarity":0.6522288043937092},{"table":"adjustment_lines","similarity":0.651007722195867},{"table":"fixed_assets","similarity":0.5955860146307721},{"table":"inventory_levels","similarity":0.5926011478403523},{"table":"inventory_levels","similarity":0.5835973247906563},{"table":"inventory_levels","similarity":0.5835973247906563},{"table":"products","similarity":0.578715845938642},{"table":"stock_transfers","similarity":0.5760981592349576},{"table":"inventory_transactions","similarity":0.5750206157907899},{"table":"fixed_assets","similarity":0.5651757713023685},{"table":"fixed_assets","similarity":0.5651757713023685}],"column_hits_per_table":{"inventory_adjustments":8,"adjustment_lines":5,"inventory_transactions":4,"products":6,"inventory_levels":5,"stock_transfers":2,"sales_orders":2,"fixed_assets":4,"product_suppliers":1,"asset_categories":3,"product_categories":1,"project_expenses":1,"warehouse_locations":1,"goods_receipts":1,"sales_opportunities":1,"purchase_orders":1,"asset_maintenance":1,"purchase_requisitions":1,"asset_locations":1,"vendor_invoices":1},"top_columns_per_table":{"inventory_adjustments":[{"column":"adjustment_number","similarity":0.7341965834229129},{"column":"reason","similarity":0.7286392066545573},{"column":"status","similarity":0.7138688590653707}],"adjustment_lines":[{"column":"quantity_change","similarity":0.6392157712019857},{"column":"quantity_before","similarity":0.634171940504201},{"column":"quantity_after","similarity":0.6332989804641287}],"inventory_transactions":[{"column":"reference_type","similarity":0.6271412703735331},{"column":"transaction_type","similarity":0.6257663977952485},{"column":"quantity","similarity":0.6079063742265192}],"products":[{"column":"sku","similarity":0.6164491394343341},{"column":"name","similarity":0.6034174012104574},{"column":"weight","similarity":0.5959940766492622}],"inventory_levels":[{"column":"quantity_on_hand","similarity":0.608866183311948},{"column":"quantity_available","similarity":0.6051195357195316},{"column":"quantity_reserved","similarity":0.6037194678286041}],"stock_transfers":[{"column":"status","similarity":0.6079256845371828},{"column":"transfer_number","similarity":0.6034595992854049}],"sales_orders":[{"column":"order_number","similarity":0.6005608184497583},{"column":"status","similarity":0.5891804513517737}],"fixed_assets":[{"column":"serial_number","similarity":0.5959181419986975},{"column":"status","similarity":0.5830638318759733},{"column":"asset_tag","similarity":0.5821282768349391}],"product_suppliers":[{"column":"vendor_sku","similarity":0.5933274478553298}],"asset_categories":[{"column":"depreciation_method","similarity":0.5909825633152775},{"column":"salvage_value_percent","similarity":0.5765146715808612},{"column":"name","similarity":0.5610883455413478}],"product_categories":[{"column":"name","similarity":0.5904071610230438}],"project_expenses":[{"column":"category","similarity":0.5810751474323431}],"warehouse_locations":[{"column":"aisle","similarity":0.5786356735369311}],"goods_receipts":[{"column":"receipt_number","similarity":0.5779296040347197}],"sales_opportunities":[{"column":"source","similarity":0.5765090582142506}],"purchase_orders":[{"column":"status","similarity":0.5729152190846236}],"asset_maintenance":[{"column":"status","similarity":0.5721672810617285}],"purchase_requisitions":[{"column":"requisition_number","similarity":0.5665364323660178}],"asset_locations":[{"column":"floor","similarity":0.5662760777195117}],"vendor_invoices":[{"column":"invoice_number","similarity":0.560424242944695}]},"fused_scores":[{"table":"inventory_adjustments","fused":0.854318314942248,"table_sim":0.6915197337369523,"col_score":1.0985161867501916},{"table":"adjustment_lines","fused":0.7731253298991547,"table_sim":0.651007722195867,"col_score":0.9563017414540862},{"table":"inventory_transactions","fused":0.7210221571829369,"table_sim":0.5750206157907899,"col_score":0.9400244692711572},{"table":"inventory_levels","fused":0.7147287753430793,"table_sim":0.5835973247906563,"col_score":0.9114259511717138},{"table":"products","fused":0.7130079786667713,"table_sim":0.578715845938642,"col_score":0.9144461777589652},{"table":"fixed_assets","fused":0.693898374947888,"table_sim":0.5651757713023685,"col_score":0.8869822804161671},{"table":"stock_transfers","fused":0.6721523310903421,"table_sim":0.5760981592349576,"col_score":0.8162335888734189},{"table":"asset_categories","fused":0.3516959596422833,"table_sim":0,"col_score":0.8792398991057082},{"table":"sales_orders","fused":0.32270959056915166,"table_sim":0,"col_score":0.8067739764228791},{"table":"product_suppliers","fused":0.23733097914213191,"table_sim":0,"col_score":0.5933274478553298},{"table":"project_expenses","fused":0.23243005897293725,"table_sim":0,"col_score":0.5810751474323431},{"table":"warehouse_locations","fused":0.23145426941477246,"table_sim":0,"col_score":0.5786356735369311},{"table":"goods_receipts","fused":0.2311718416138879,"table_sim":0,"col_score":0.5779296040347197},{"table":"sales_opportunities","fused":0.23060362328570025,"table_sim":0,"col_score":0.5765090582142506},{"table":"purchase_requisitions","fused":0.22661457294640713,"table_sim":0,"col_score":0.5665364323660178}],"fk_expansion_candidates":66,"fk_expansion_added":2,"fk_expansion_blocked_count":60,"fk_expansion_blocked":[{"table":"employees","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_locations","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"already_selected"},{"table":"order_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"quote_lines","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"asset_maintenance","reason":"no_evidence"},{"table":"product_categories","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"warehouse_locations","reason":"already_selected"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"reorder_rules","reason":"no_evidence"},{"table":"receipt_lines","reason":"no_evidence"},{"table":"units_of_measure","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":24,"total_retrieval_latency_ms":31,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"i","column":"quantity_on_hand","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"quantity_reserved","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"quantity_available","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"a","column":"adjustment_number","resolved_table":"inventory_adjustments","suggested_columns":[]},{"alias":"a","column":"reason","resolved_table":"inventory_adjustments","suggested_columns":[]},{"alias":"i","column":"product_id","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"a","column":"product_id","resolved_table":"inventory_adjustments","suggested_columns":[]},{"alias":"i","column":"quantity_on_hand","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"i","column":"quantity_reserved","resolved_table":"inventory_levels","suggested_columns":[]},{"alias":"a","column":"quantity_change","resolved_table":"inventory_adjustments","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":2455,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:21:42.731Z","query_id":"e5adb583-750a-48ae-9474-cb4bb2e57241","question":"Calculate vendor performance score based on on-time delivery and invoice accuracy","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["vendor_invoices","performance_reviews","vendor_invoice_lines","vendors","product_suppliers","purchase_orders","vendor_contacts","sales_orders","fixed_assets","asset_maintenance"],"tables_from_table_retrieval":6,"tables_from_column_only":4,"tables_from_fk_expansion":0,"table_scores":[{"table":"vendor_invoices","similarity":0.6955551654807471},{"table":"vendor_invoices","similarity":0.6877693444044282},{"table":"vendor_invoices","similarity":0.6877693444044282},{"table":"performance_reviews","similarity":0.6709085810677549},{"table":"performance_reviews","similarity":0.6616195213650082},{"table":"performance_reviews","similarity":0.6616195213650082},{"table":"purchase_orders","similarity":0.6347301134279532},{"table":"vendors","similarity":0.630909375510322},{"table":"purchase_orders","similarity":0.6231004988578854},{"table":"purchase_orders","similarity":0.6231004988578854},{"table":"vendor_invoice_lines","similarity":0.6204253750668519},{"table":"vendor_invoice_lines","similarity":0.6204253750668519},{"table":"product_suppliers","similarity":0.6192498236848171},{"table":"vendors","similarity":0.6155248174915915},{"table":"vendors","similarity":0.6155248174915915}],"column_hits_per_table":{"vendor_invoices":12,"vendor_invoice_lines":6,"performance_reviews":9,"vendors":9,"vendor_contacts":4,"purchase_orders":2,"product_suppliers":4,"fixed_assets":1,"sales_orders":2,"asset_maintenance":1},"top_columns_per_table":{"vendor_invoices":[{"column":"invoice_date","similarity":0.6765580061331256},{"column":"total","similarity":0.6764019740002268},{"column":"invoice_number","similarity":0.6636094388195389}],"vendor_invoice_lines":[{"column":"quantity","similarity":0.6434932528090191},{"column":"amount","similarity":0.6366634169908185},{"column":"unit_cost","similarity":0.622904924682905}],"performance_reviews":[{"column":"review_date","similarity":0.6381782068433183},{"column":"goals_met_percent","similarity":0.6328139994418308},{"column":"review_period_start","similarity":0.6179144234098587}],"vendors":[{"column":"vendor_number","similarity":0.6328044268147751},{"column":"phone","similarity":0.6308043133506924},{"column":"website","similarity":0.6136264685506736}],"vendor_contacts":[{"column":"phone","similarity":0.6099312252856707},{"column":"email","similarity":0.5929107702232568},{"column":"title","similarity":0.5908148084239192}],"purchase_orders":[{"column":"vendor_id","similarity":0.6033254664913035},{"column":"expected_date","similarity":0.5718044755694628}],"product_suppliers":[{"column":"minimum_order_qty","similarity":0.6007097500202866},{"column":"lead_time_days","similarity":0.6002656091547952},{"column":"vendor_id","similarity":0.5929190374101849}],"fixed_assets":[{"column":"vendor_id","similarity":0.5790519907978402}],"sales_orders":[{"column":"order_date","similarity":0.5770519982365088},{"column":"shipping_cost","similarity":0.5731083814243623}],"asset_maintenance":[{"column":"vendor_id","similarity":0.5763399733911833}]},"fused_scores":[{"table":"vendor_invoices","fused":0.8185652038959526,"table_sim":0.6877693444044282,"col_score":1.014758993133239},{"table":"performance_reviews","fused":0.7788057954446985,"table_sim":0.6616195213650082,"col_score":0.9545852065642337},{"table":"vendor_invoice_lines","fused":0.7569852095618825,"table_sim":0.6204253750668519,"col_score":0.9618249613044284},{"table":"vendors","fused":0.7485975238910034,"table_sim":0.6155248174915915,"col_score":0.9482065834901213},{"table":"product_suppliers","fused":0.7318869160499639,"table_sim":0.6192498236848171,"col_score":0.9008425545976841},{"table":"purchase_orders","fused":0.6870476548512989,"table_sim":0.6231004988578854,"col_score":0.782968388841419},{"table":"vendor_contacts","fused":0.36255464415891964,"table_sim":0,"col_score":0.9063866103972991},{"table":"sales_orders","fused":0.345442475579476,"table_sim":0,"col_score":0.8636061889486899},{"table":"fixed_assets","fused":0.16213455742339525,"table_sim":0,"col_score":0.4053363935584881},{"table":"asset_maintenance","fused":0.1613751925495313,"table_sim":0,"col_score":0.40343798137382825}],"fk_expansion_candidates":51,"fk_expansion_added":0,"fk_expansion_blocked_count":51,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"depreciation_schedules","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":26,"total_retrieval_latency_ms":33,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":5038,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:21:47.769Z","query_id":"d2802b8b-b5d7-4051-9932-7a71ee6fd806","question":"Generate a trial balance for the current period showing debits and credits by account category","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["bank_accounts","depreciation_entries","depreciation_schedules","account_types","asset_categories","bank_transactions","journal_lines","fiscal_periods","purchase_orders","timesheets","fixed_assets","vendor_invoices"],"tables_from_table_retrieval":6,"tables_from_column_only":17,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_accounts","similarity":0.6367900839880641},{"table":"asset_categories","similarity":0.6346535809758647},{"table":"bank_accounts","similarity":0.6340482364220554},{"table":"bank_accounts","similarity":0.6340482364220554},{"table":"depreciation_schedules","similarity":0.6304903160077374},{"table":"depreciation_schedules","similarity":0.6304903160077374},{"table":"depreciation_entries","similarity":0.6297144045903278},{"table":"depreciation_entries","similarity":0.6297144045903278},{"table":"account_types","similarity":0.6272285653729832},{"table":"depreciation_entries","similarity":0.6225511215159643},{"table":"account_types","similarity":0.6193803416295194},{"table":"account_types","similarity":0.6193803416295194},{"table":"depreciation_schedules","similarity":0.6165057393727287},{"table":"bank_transactions","similarity":0.6150962404412702},{"table":"asset_categories","similarity":0.6102645047904957}],"column_hits_per_table":{"bank_accounts":4,"account_types":2,"depreciation_schedules":7,"depreciation_entries":6,"asset_categories":2,"project_budgets":1,"journal_lines":2,"benefit_types":1,"fiscal_periods":5,"project_expenses":1,"bank_transactions":4,"timesheets":2,"budgets":2,"departments":1,"projects":1,"asset_maintenance":1,"customers":1,"chart_of_accounts":1,"purchase_orders":2,"budget_lines":1,"vendor_invoices":1,"fixed_assets":1,"employee_benefits":1},"top_columns_per_table":{"bank_accounts":[{"column":"current_balance","similarity":0.6856207008937131},{"column":"account_name","similarity":0.6085119078521903},{"column":"bank_name","similarity":0.6052810360125528}],"account_types":[{"column":"normal_balance","similarity":0.6471004935426607},{"column":"category","similarity":0.6220382371057719}],"depreciation_schedules":[{"column":"monthly_amount","similarity":0.6453000273773885},{"column":"annual_amount","similarity":0.6430843573005959},{"column":"depreciation_method","similarity":0.6209191877039439}],"depreciation_entries":[{"column":"amount","similarity":0.6447408121789926},{"column":"period_id","similarity":0.643559649092342},{"column":"accumulated_depreciation","similarity":0.6397138442937423}],"asset_categories":[{"column":"depreciation_method","similarity":0.640600565078528},{"column":"salvage_value_percent","similarity":0.5872709992162598}],"project_budgets":[{"column":"category","similarity":0.6169569178206936}],"journal_lines":[{"column":"debit","similarity":0.615233183208468},{"column":"credit","similarity":0.5881297887352918}],"benefit_types":[{"column":"annual_cost","similarity":0.6144825624279615}],"fiscal_periods":[{"column":"name","similarity":0.6139653006720002},{"column":"start_date","similarity":0.5940557583983144},{"column":"period_id","similarity":0.593789594476675}],"project_expenses":[{"column":"category","similarity":0.6108512270852675}],"bank_transactions":[{"column":"amount","similarity":0.6009151929141651},{"column":"reference","similarity":0.5946297202608782},{"column":"transaction_type","similarity":0.5925000251285931}],"timesheets":[{"column":"total_hours","similarity":0.5953084784593494},{"column":"status","similarity":0.5824555063940192}],"budgets":[{"column":"status","similarity":0.5947490104323017},{"column":"total_amount","similarity":0.5858262812102382}],"departments":[{"column":"budget","similarity":0.5935516329426287}],"projects":[{"column":"budget","similarity":0.5933004396512298}],"asset_maintenance":[{"column":"cost","similarity":0.5920636317252489}],"customers":[{"column":"credit_limit","similarity":0.5881966845767086}],"chart_of_accounts":[{"column":"description","similarity":0.5871916379697032}],"purchase_orders":[{"column":"total","similarity":0.5864519649300926},{"column":"subtotal","similarity":0.5855426910442382}],"budget_lines":[{"column":"period_id","similarity":0.585414728590752}],"vendor_invoices":[{"column":"subtotal","similarity":0.5854109351756007}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5847057269059956}],"employee_benefits":[{"column":"coverage_level","similarity":0.5835880291391402}]},"fused_scores":[{"table":"bank_accounts","fused":0.7756396663227276,"table_sim":0.6340482364220554,"col_score":0.9880268111737361},{"table":"depreciation_entries","fused":0.7593697666399241,"table_sim":0.6225511215159643,"col_score":0.9645977343258638},{"table":"depreciation_schedules","fused":0.7566403260347119,"table_sim":0.6165057393727287,"col_score":0.9668422060276864},{"table":"account_types","fused":0.7548760498159303,"table_sim":0.6193803416295194,"col_score":0.9581196120955466},{"table":"asset_categories","fused":0.7398531287489605,"table_sim":0.6102645047904957,"col_score":0.9342360646866579},{"table":"bank_transactions","fused":0.7283497654826038,"table_sim":0.6150962404412702,"col_score":0.8982300530446041},{"table":"journal_lines","fused":0.36371923103044557,"table_sim":0,"col_score":0.9092980775761139},{"table":"fiscal_periods","fused":0.355317154334716,"table_sim":0,"col_score":0.8882928858367899},{"table":"purchase_orders","fused":0.35168932418088467,"table_sim":0,"col_score":0.8792233104522116},{"table":"timesheets","fused":0.31966716227890246,"table_sim":0,"col_score":0.7991679056972562},{"table":"budgets","fused":0.31759537394461756,"table_sim":0,"col_score":0.7939884348615438},{"table":"project_budgets","fused":0.24678276712827746,"table_sim":0,"col_score":0.6169569178206936},{"table":"benefit_types","fused":0.2457930249711846,"table_sim":0,"col_score":0.6144825624279615},{"table":"project_expenses","fused":0.24434049083410703,"table_sim":0,"col_score":0.6108512270852675},{"table":"departments","fused":0.2374206531770515,"table_sim":0,"col_score":0.5935516329426287}],"fk_expansion_candidates":45,"fk_expansion_added":2,"fk_expansion_blocked_count":39,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"currencies","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"po_lines","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"vendor_invoices","reason":"already_selected"},{"table":"vendor_invoices","reason":"already_selected"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":40,"total_retrieval_latency_ms":47,"sql_generated":"SELECT ac.name AS account_category, SUM(bac.current_balance) AS total_debits, 0 AS total_credits FROM fixed_assets fa JOIN asset_categories ac ON fa.asset_id = ac.asset_id AND fa.status = 'active' AND fa.disposal_date IS NULL GROUP BY ac.name LIMIT 1000;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"ac","column":"asset_id","resolved_table":"asset_categories","suggested_columns":["category_id","name","depreciation_method"]}],"unresolved_aliases":["bac"]},"explain_result":"fail","sqlstate":"42703","error_message":"column ac.asset_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":4,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":3433,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column ac.asset_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:21:51.202Z","query_id":"f8f97404-f1a3-4465-8dd4-96f2dac74711","question":"Calculate cash flow from bank transactions grouped by transaction type and month","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["bank_transactions","bank_accounts","inventory_transactions","account_types","depreciation_entries","project_budgets","depreciation_schedules","asset_transfers","benefit_types","sales_orders","currencies","projects"],"tables_from_table_retrieval":6,"tables_from_column_only":16,"tables_from_fk_expansion":2,"table_scores":[{"table":"bank_transactions","similarity":0.7232703691525166},{"table":"bank_transactions","similarity":0.7144733407570569},{"table":"bank_transactions","similarity":0.7144733407570569},{"table":"bank_accounts","similarity":0.6412885484513536},{"table":"bank_accounts","similarity":0.6330427898995664},{"table":"bank_accounts","similarity":0.6330427898995664},{"table":"inventory_transactions","similarity":0.6130368701918206},{"table":"inventory_transactions","similarity":0.5906232287127622},{"table":"inventory_transactions","similarity":0.5906232287127622},{"table":"account_types","similarity":0.5890479368554123},{"table":"account_types","similarity":0.5890479368554123},{"table":"account_types","similarity":0.5746397921552414},{"table":"depreciation_entries","similarity":0.5640374269123315},{"table":"depreciation_entries","similarity":0.5640374269123315},{"table":"project_budgets","similarity":0.563995673637428}],"column_hits_per_table":{"bank_transactions":9,"inventory_transactions":5,"bank_accounts":8,"depreciation_schedules":2,"account_types":2,"depreciation_entries":4,"asset_transfers":4,"benefit_types":1,"sales_orders":1,"departments":1,"vendor_invoices":1,"asset_categories":1,"project_budgets":2,"customers":1,"chart_of_accounts":1,"vendors":1,"maintenance_types":1,"projects":1,"currencies":1,"stock_transfers":1,"project_expenses":1,"purchase_orders":1},"top_columns_per_table":{"bank_transactions":[{"column":"transaction_type","similarity":0.7300639775150025},{"column":"transaction_date","similarity":0.7100635579167792},{"column":"amount","similarity":0.6854638850683717}],"inventory_transactions":[{"column":"transaction_type","similarity":0.6356058298235756},{"column":"reference_type","similarity":0.5936573308025523},{"column":"transaction_date","similarity":0.5927457550817244}],"bank_accounts":[{"column":"bank_name","similarity":0.6149721846522818},{"column":"currency_id","similarity":0.6078267071474764},{"column":"account_name","similarity":0.6020854555355626}],"depreciation_schedules":[{"column":"monthly_amount","similarity":0.590534089672661},{"column":"annual_amount","similarity":0.556973315206173}],"account_types":[{"column":"category","similarity":0.5726836627158123},{"column":"normal_balance","similarity":0.5553730449724036}],"depreciation_entries":[{"column":"entry_date","similarity":0.5724732006538439},{"column":"amount","similarity":0.5657822173033439},{"column":"period_id","similarity":0.5574773293779076}],"asset_transfers":[{"column":"reason","similarity":0.5702229734035696},{"column":"transfer_date","similarity":0.5701831755618614},{"column":"transferred_by","similarity":0.5584118665702265}],"benefit_types":[{"column":"annual_cost","similarity":0.570209215995342}],"sales_orders":[{"column":"subtotal","similarity":0.5666578377274356}],"departments":[{"column":"budget","similarity":0.562686445646288}],"vendor_invoices":[{"column":"subtotal","similarity":0.5611108207005183}],"asset_categories":[{"column":"depreciation_method","similarity":0.5610490636648584}],"project_budgets":[{"column":"category","similarity":0.5583505425484427},{"column":"notes","similarity":0.556499900200207}],"customers":[{"column":"currency_id","similarity":0.5559130206307922}],"chart_of_accounts":[{"column":"account_type_id","similarity":0.554936668356843}],"vendors":[{"column":"currency_id","similarity":0.5537994023819492}],"maintenance_types":[{"column":"frequency_months","similarity":0.553500950186699}],"projects":[{"column":"budget","similarity":0.5534871574363848}],"currencies":[{"column":"symbol","similarity":0.5533906348014246}],"stock_transfers":[{"column":"status","similarity":0.5531469664212183}],"project_expenses":[{"column":"category","similarity":0.5508824364902253}],"purchase_orders":[{"column":"subtotal","similarity":0.5494862539767775}]},"fused_scores":[{"table":"bank_transactions","fused":0.862722307043591,"table_sim":0.7144733407570569,"col_score":1.085095756473392},{"table":"bank_accounts","fused":0.7362206212200488,"table_sim":0.6330427898995664,"col_score":0.8909873682007723},{"table":"inventory_transactions","fused":0.7273477353175981,"table_sim":0.5906232287127622,"col_score":0.9324344952248518},{"table":"account_types","fused":0.6849319493739505,"table_sim":0.5746397921552414,"col_score":0.850370185202014},{"table":"depreciation_entries","fused":0.6805681798696053,"table_sim":0.5640374269123315,"col_score":0.8553643093055159},{"table":"project_budgets","fused":0.6396476072298629,"table_sim":0.563995673637428,"col_score":0.7531255076185152},{"table":"depreciation_schedules","fused":0.347608298910299,"table_sim":0,"col_score":0.8690207472757474},{"table":"asset_transfers","fused":0.34212582447380013,"table_sim":0,"col_score":0.8553145611845003},{"table":"benefit_types","fused":0.2280836863981368,"table_sim":0,"col_score":0.570209215995342},{"table":"sales_orders","fused":0.22666313509097424,"table_sim":0,"col_score":0.5666578377274356},{"table":"departments","fused":0.2250745782585152,"table_sim":0,"col_score":0.562686445646288},{"table":"vendor_invoices","fused":0.22444432828020733,"table_sim":0,"col_score":0.5611108207005183},{"table":"asset_categories","fused":0.22441962546594338,"table_sim":0,"col_score":0.5610490636648584},{"table":"maintenance_types","fused":0.2214003800746796,"table_sim":0,"col_score":0.553500950186699},{"table":"projects","fused":0.2213948629745539,"table_sim":0,"col_score":0.5534871574363848}],"fk_expansion_candidates":48,"fk_expansion_added":2,"fk_expansion_blocked_count":42,"fk_expansion_blocked":[{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"currencies","reason":"already_selected"},{"table":"currencies","reason":"already_selected"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"order_lines","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"projects","reason":"already_selected"},{"table":"projects","reason":"already_selected"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":38,"total_retrieval_latency_ms":44,"sql_generated":"SELECT EXTRACT(MONTH FROM bt.transaction_date) AS month, at.name, SUM(bt.amount * CASE WHEN at.normal_balance = 'DEBIT' THEN -1 ELSE 1 END) AS cash_flow\nFROM bank_accounts ba JOIN bank_transactions bt ON ba.bank_account_id = bt.bank_account_id JOIN account_types at ON ba.account_type_id = at.type_id\nGROUP BY month, at.name;","tables_used_in_sql":[],"total_latency_ms":4635,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:21:55.837Z","query_id":"9c22d5dc-e71c-490a-8f8b-ebb05e3ca1ca","question":"Calculate project profitability comparing budget vs actual expenses","attempt_count":2,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_budgets","project_expenses","budgets","project_resources","budget_lines","projects","project_milestones","project_tasks","depreciation_schedules","departments","fixed_assets"],"tables_from_table_retrieval":5,"tables_from_column_only":13,"tables_from_fk_expansion":1,"table_scores":[{"table":"project_budgets","similarity":0.6969020680342091},{"table":"project_budgets","similarity":0.6957582349451407},{"table":"project_budgets","similarity":0.6957582349451407},{"table":"project_expenses","similarity":0.6915216956418679},{"table":"project_expenses","similarity":0.6915216956418679},{"table":"project_expenses","similarity":0.6901643358621746},{"table":"budgets","similarity":0.612258488134445},{"table":"budgets","similarity":0.612258488134445},{"table":"budgets","similarity":0.6054710146643664},{"table":"project_resources","similarity":0.5884392614999969},{"table":"project_resources","similarity":0.5805503579785858},{"table":"project_resources","similarity":0.5805503579785858},{"table":"budget_lines","similarity":0.5713392587016516},{"table":"budget_lines","similarity":0.5686398725889051},{"table":"budget_lines","similarity":0.5686398725889051}],"column_hits_per_table":{"project_budgets":6,"project_expenses":10,"projects":4,"budgets":8,"departments":1,"budget_lines":3,"project_resources":3,"project_tasks":3,"project_milestones":2,"product_suppliers":1,"fixed_assets":1,"products":1,"requisition_lines":1,"cost_centers":1,"asset_maintenance":1,"depreciation_schedules":2,"benefit_types":1,"maintenance_types":1},"top_columns_per_table":{"project_budgets":[{"column":"actual_amount","similarity":0.7262554064624759},{"column":"planned_amount","similarity":0.7004924793564835},{"column":"category","similarity":0.6694662055461488}],"project_expenses":[{"column":"amount","similarity":0.7114601809657055},{"column":"is_billable","similarity":0.6966630240889287},{"column":"status","similarity":0.6836007020930082}],"projects":[{"column":"budget","similarity":0.6970008685557271},{"column":"status","similarity":0.5629230171908491},{"column":"project_number","similarity":0.5622062989180432}],"budgets":[{"column":"total_amount","similarity":0.6493408476253937},{"column":"status","similarity":0.6263032542399831},{"column":"name","similarity":0.5916349551000758}],"departments":[{"column":"budget","similarity":0.6220086035822576}],"budget_lines":[{"column":"amount","similarity":0.6088101737210796},{"column":"budget_id","similarity":0.5755343306843482},{"column":"period_id","similarity":0.5433751751705854}],"project_resources":[{"column":"hourly_rate","similarity":0.6029252229063784},{"column":"allocation_percent","similarity":0.5808610647776508},{"column":"project_id","similarity":0.5585123041056318}],"project_tasks":[{"column":"actual_hours","similarity":0.5942018563156196},{"column":"estimated_hours","similarity":0.5835819683987098},{"column":"status","similarity":0.5534727998732568}],"project_milestones":[{"column":"is_billable","similarity":0.5918713032194266},{"column":"amount","similarity":0.5907992216686975}],"product_suppliers":[{"column":"unit_cost","similarity":0.5623878668953419}],"fixed_assets":[{"column":"purchase_cost","similarity":0.5566543017155177}],"products":[{"column":"unit_cost","similarity":0.553864201344991}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.5527788351319599}],"cost_centers":[{"column":"is_active","similarity":0.5513344669503466}],"asset_maintenance":[{"column":"cost","similarity":0.5501460559859814}],"depreciation_schedules":[{"column":"annual_amount","similarity":0.5496518172593629},{"column":"monthly_amount","similarity":0.5452582264469823}],"benefit_types":[{"column":"annual_cost","similarity":0.5430813519625031}],"maintenance_types":[{"column":"estimated_cost","similarity":0.540145737002778}]},"fused_scores":[{"table":"project_budgets","fused":0.8480555994233716,"table_sim":0.6957582349451407,"col_score":1.0765016461407177},{"table":"project_expenses","fused":0.8380152787213727,"table_sim":0.6901643358621746,"col_score":1.0597916930101698},{"table":"budgets","fused":0.7376052777790789,"table_sim":0.6054710146643664,"col_score":0.9358066724511477},{"table":"project_resources","fused":0.705672516905233,"table_sim":0.5805503579785858,"col_score":0.8933557552952038},{"table":"budget_lines","fused":0.6652827993375837,"table_sim":0.5686398725889051,"col_score":0.8102471894606015},{"table":"projects","fused":0.3912416072058995,"table_sim":0,"col_score":0.9781040180147487},{"table":"project_milestones","fused":0.3549083656215102,"table_sim":0,"col_score":0.8872709140537753},{"table":"project_tasks","fused":0.35439713620598984,"table_sim":0,"col_score":0.8859928405149745},{"table":"depreciation_schedules","fused":0.3289123721931416,"table_sim":0,"col_score":0.822280930482854},{"table":"departments","fused":0.24880344143290306,"table_sim":0,"col_score":0.6220086035822576},{"table":"product_suppliers","fused":0.22495514675813677,"table_sim":0,"col_score":0.5623878668953419},{"table":"fixed_assets","fused":0.22266172068620707,"table_sim":0,"col_score":0.5566543017155177},{"table":"products","fused":0.22154568053799642,"table_sim":0,"col_score":0.553864201344991},{"table":"requisition_lines","fused":0.22111153405278397,"table_sim":0,"col_score":0.5527788351319599},{"table":"asset_maintenance","fused":0.22005842239439258,"table_sim":0,"col_score":0.5501460559859814}],"fk_expansion_candidates":36,"fk_expansion_added":1,"fk_expansion_blocked_count":33,"fk_expansion_blocked":[{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"chart_of_accounts","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"employees","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_periods","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"fixed_assets","reason":"already_selected"},{"table":"fixed_assets","reason":"already_selected"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":16,"total_retrieval_latency_ms":22,"sql_generated":"","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"pb","column":"project_id","resolved_table":"projects","suggested_columns":[]},{"alias":"pb","column":"name","resolved_table":"projects","suggested_columns":[]},{"alias":"pb","column":"planned_amount","resolved_table":"projects","suggested_columns":[]},{"alias":"pe","column":"actual_amount","resolved_table":"project_expenses","suggested_columns":["expense_id","project_id","employee_id"]},{"alias":"pb","column":"planned_amount","resolved_table":"projects","suggested_columns":[]},{"alias":"pe","column":"actual_amount","resolved_table":"project_expenses","suggested_columns":["expense_id","project_id","employee_id"]},{"alias":"pb","column":"project_id","resolved_table":"projects","suggested_columns":[]},{"alias":"pb","column":"project_id","resolved_table":"projects","suggested_columns":[]},{"alias":"pb","column":"name","resolved_table":"projects","suggested_columns":[]}],"unresolved_aliases":[]},"total_latency_ms":4487,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:22:00.324Z","query_id":"f33369a1-c8d4-4982-807a-cbe7a64e811f","question":"Find resource allocation by employee across all active projects","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["project_resources","projects","project_expenses","employees","employee_salaries","task_assignments","project_tasks","inventory_adjustments","purchase_requisitions","asset_transfers","budgets","timesheets"],"tables_from_table_retrieval":6,"tables_from_column_only":15,"tables_from_fk_expansion":2,"table_scores":[{"table":"project_resources","similarity":0.7731177943741443},{"table":"project_resources","similarity":0.7614596035707293},{"table":"project_resources","similarity":0.7614596035707293},{"table":"task_assignments","similarity":0.6903320131383612},{"table":"project_expenses","similarity":0.6860669651962393},{"table":"task_assignments","similarity":0.6782316484776133},{"table":"task_assignments","similarity":0.6782316484776133},{"table":"projects","similarity":0.6699593096880756},{"table":"projects","similarity":0.6633532658939397},{"table":"projects","similarity":0.6633532658939397},{"table":"project_expenses","similarity":0.6627460444190597},{"table":"project_expenses","similarity":0.6627460444190597},{"table":"employee_salaries","similarity":0.6405071946271549},{"table":"employees","similarity":0.6339025803715616},{"table":"employee_salaries","similarity":0.6310176470805876}],"column_hits_per_table":{"project_resources":7,"projects":5,"project_expenses":3,"task_assignments":1,"asset_maintenance":1,"fixed_assets":1,"asset_transfers":3,"project_tasks":4,"budgets":1,"leave_requests":2,"sales_territories":1,"employees":8,"inventory_adjustments":2,"employee_salaries":1,"purchase_requisitions":2,"employee_benefits":2,"timesheets":2,"departments":1,"performance_reviews":1,"inventory_transactions":1,"sales_regions":1},"top_columns_per_table":{"project_resources":[{"column":"allocation_percent","similarity":0.728757432780467},{"column":"employee_id","similarity":0.7255842747784741},{"column":"role","similarity":0.6783516003676235}],"projects":[{"column":"project_manager_id","similarity":0.6839282490004714},{"column":"priority","similarity":0.6427573172941073},{"column":"project_number","similarity":0.6341632426692734}],"project_expenses":[{"column":"approved_by","similarity":0.6823442671200762},{"column":"employee_id","similarity":0.67150172783302},{"column":"status","similarity":0.6242036195337299}],"task_assignments":[{"column":"employee_id","similarity":0.6605806631335326}],"asset_maintenance":[{"column":"performed_by","similarity":0.657596774025439}],"fixed_assets":[{"column":"assigned_to","similarity":0.6547948182113684}],"asset_transfers":[{"column":"transferred_by","similarity":0.6477089129448399},{"column":"to_employee_id","similarity":0.6397881646168211},{"column":"from_employee_id","similarity":0.632962477097971}],"project_tasks":[{"column":"actual_hours","similarity":0.6402444434475},{"column":"estimated_hours","similarity":0.6283389400715463},{"column":"priority","similarity":0.6271077493801277}],"budgets":[{"column":"approved_by","similarity":0.6395498605286063}],"leave_requests":[{"column":"approved_by","similarity":0.6361902211226609},{"column":"employee_id","similarity":0.6137651256012868}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6322095184817824}],"employees":[{"column":"employee_number","similarity":0.6295903417489341},{"column":"manager_id","similarity":0.6247850569740808},{"column":"position_id","similarity":0.6238476921771267}],"inventory_adjustments":[{"column":"approved_by","similarity":0.6261133068410986},{"column":"adjusted_by","similarity":0.6181901122068721}],"employee_salaries":[{"column":"approved_by","similarity":0.6259053995932096}],"purchase_requisitions":[{"column":"approved_by","similarity":0.6204631562858176},{"column":"requested_by","similarity":0.6143387196019348}],"employee_benefits":[{"column":"employee_id","similarity":0.6197903020961568},{"column":"coverage_level","similarity":0.6109362115850033}],"timesheets":[{"column":"approved_by","similarity":0.6175242206652112},{"column":"employee_id","similarity":0.6147088479677592}],"departments":[{"column":"manager_id","similarity":0.616788142923364}],"performance_reviews":[{"column":"employee_id","similarity":0.6128993747418323}],"inventory_transactions":[{"column":"created_by","similarity":0.6125536347226702}],"sales_regions":[{"column":"manager_id","similarity":0.6111362570848077}]},"fused_scores":[{"table":"project_resources","fused":0.884049055328149,"table_sim":0.7614596035707293,"col_score":1.0679332329642788},{"table":"projects","fused":0.7819475349878615,"table_sim":0.6633532658939397,"col_score":0.959838938628744},{"table":"project_expenses","fused":0.7645955753960891,"table_sim":0.6627460444190597,"col_score":0.9173698718616332},{"table":"employees","fused":0.7560292383950562,"table_sim":0.6339025803715616,"col_score":0.9392192254302982},{"table":"employee_salaries","fused":0.6289727480856364,"table_sim":0.6310176470805876,"col_score":0.6259053995932096},{"table":"task_assignments","fused":0.5919015747639571,"table_sim":0.6782316484776133,"col_score":0.46240646419347275},{"table":"project_tasks","fused":0.3817655653933093,"table_sim":0,"col_score":0.9544139134832732},{"table":"inventory_adjustments","fused":0.3740833451778139,"table_sim":0,"col_score":0.9352083629445347},{"table":"purchase_requisitions","fused":0.371053006434714,"table_sim":0,"col_score":0.927632516086785},{"table":"asset_transfers","fused":0.34865390822429093,"table_sim":0,"col_score":0.8716347705607272},{"table":"leave_requests","fused":0.3404032060332445,"table_sim":0,"col_score":0.8510080150831112},{"table":"timesheets","fused":0.33306892698157076,"table_sim":0,"col_score":0.8326723174539269},{"table":"employee_benefits","fused":0.3311451269274633,"table_sim":0,"col_score":0.8278628173186582},{"table":"asset_maintenance","fused":0.2630387096101756,"table_sim":0,"col_score":0.657596774025439},{"table":"fixed_assets","fused":0.2619179272845474,"table_sim":0,"col_score":0.6547948182113684}],"fk_expansion_candidates":105,"fk_expansion_added":2,"fk_expansion_blocked_count":87,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"asset_locations","reason":"no_evidence"},{"table":"project_milestones","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"leave_requests","reason":"max_tables"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"timesheet_entries","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"budgets","reason":"already_selected"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"project_budgets","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"customers","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"employee_benefits","reason":"max_tables"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"leave_requests","reason":"max_tables"},{"table":"sales_orders","reason":"no_evidence"},{"table":"fixed_assets","reason":"max_tables"},{"table":"employee_benefits","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_requests","reason":"max_tables"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"requisition_lines","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"employee_benefits","reason":"max_tables"},{"table":"fixed_assets","reason":"max_tables"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"project_phases","reason":"no_evidence"},{"table":"adjustment_lines","reason":"no_evidence"},{"table":"timesheets","reason":"already_selected"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":44,"total_retrieval_latency_ms":51,"sql_generated":"SELECT pr.*, tr.role, tr.allocation_percent, tr.start_date, tr.end_date FROM project_resources AS pr JOIN employees AS e ON pr.employee_id = e.employee_id WHERE EXISTS (SELECT 1 FROM projects p WHERE p.project_id = pr.project_id AND p.status = 'active') LIMIT 50;","tables_used_in_sql":[],"pre_exec_column_validation":{"valid":false,"missing_columns":[{"alias":"p","column":"project_id","resolved_table":"projects","suggested_columns":[]},{"alias":"p","column":"status","resolved_table":"projects","suggested_columns":[]}],"unresolved_aliases":["tr"]},"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"tr\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Alias 'tr' not defined. Possible table: task_assignments. Define alias in FROM/JOIN clause.","total_latency_ms":3783,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"tr\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:22:04.108Z","query_id":"0e70ab6d-903e-4be1-8699-d34dab09c99a","question":"List all fixed assets with their assigned employees and current locations","attempt_count":2,"retry_succeeded":true,"execution_success":true,"retriever_version":"V2","tables_retrieved":["fixed_assets","asset_locations","asset_maintenance","asset_transfers","employees","sales_territories","project_expenses","depreciation_schedules","stock_transfers","adjustment_lines"],"tables_from_table_retrieval":6,"tables_from_column_only":5,"tables_from_fk_expansion":0,"table_scores":[{"table":"fixed_assets","similarity":0.7199454700518836},{"table":"fixed_assets","similarity":0.7148515452309757},{"table":"fixed_assets","similarity":0.7148515452309757},{"table":"asset_locations","similarity":0.7140253439243075},{"table":"asset_locations","similarity":0.7140253439243075},{"table":"asset_locations","similarity":0.6993840670281728},{"table":"asset_transfers","similarity":0.6681876163750934},{"table":"asset_maintenance","similarity":0.6662441365446851},{"table":"asset_transfers","similarity":0.6646799369428842},{"table":"asset_transfers","similarity":0.6646799369428842},{"table":"asset_maintenance","similarity":0.6520664008414063},{"table":"asset_maintenance","similarity":0.6520664008414063},{"table":"sales_territories","similarity":0.6138568966711586},{"table":"employees","similarity":0.6041748893811374},{"table":"sales_territories","similarity":0.6032467851960226}],"column_hits_per_table":{"fixed_assets":17,"asset_locations":6,"asset_maintenance":8,"asset_transfers":7,"employees":6,"sales_territories":1,"depreciation_schedules":1,"project_expenses":1,"stock_transfers":1,"adjustment_lines":1,"employee_training":1},"top_columns_per_table":{"fixed_assets":[{"column":"assigned_to","similarity":0.7309660903600991},{"column":"status","similarity":0.7290998988380747},{"column":"location_id","similarity":0.727307286621006}],"asset_locations":[{"column":"building","similarity":0.7055757855424262},{"column":"floor","similarity":0.6952344209513786},{"column":"room","similarity":0.6866855307465951}],"asset_maintenance":[{"column":"status","similarity":0.6627607281665651},{"column":"performed_by","similarity":0.655208869514037},{"column":"asset_id","similarity":0.650844110389269}],"asset_transfers":[{"column":"to_location_id","similarity":0.6598091379381406},{"column":"asset_id","similarity":0.648915686961598},{"column":"from_location_id","similarity":0.6453059808359782}],"employees":[{"column":"email","similarity":0.6222128415310486},{"column":"is_active","similarity":0.6099795955898375},{"column":"created_at","similarity":0.6087545437137886}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6151626798031035}],"depreciation_schedules":[{"column":"asset_id","similarity":0.609072695972689}],"project_expenses":[{"column":"approved_by","similarity":0.5891477196810594}],"stock_transfers":[{"column":"created_by","similarity":0.5885257652007055}],"adjustment_lines":[{"column":"location_id","similarity":0.5880278471168174}],"employee_training":[{"column":"status","similarity":0.5864804082369928}]},"fused_scores":[{"table":"fixed_assets","fused":0.8604937201613337,"table_sim":0.7148515452309757,"col_score":1.0789569825568708},{"table":"asset_locations","fused":0.8409076386241499,"table_sim":0.6993840670281728,"col_score":1.0531929960181154},{"table":"asset_maintenance","fused":0.7790907068878921,"table_sim":0.6520664008414063,"col_score":0.9696271659576206},{"table":"asset_transfers","fused":0.7712951274831453,"table_sim":0.6646799369428842,"col_score":0.931217913293537},{"table":"employees","fused":0.7306585636601679,"table_sim":0.6041748893811374,"col_score":0.9203840750787138},{"table":"sales_territories","fused":0.5341936214624825,"table_sim":0.6032467851960226,"col_score":0.4306138758621724},{"table":"project_expenses","fused":0.23565908787242376,"table_sim":0,"col_score":0.5891477196810594},{"table":"depreciation_schedules","fused":0.17054035487235292,"table_sim":0,"col_score":0.42635088718088227},{"table":"stock_transfers","fused":0.16478721425619755,"table_sim":0,"col_score":0.41196803564049383},{"table":"adjustment_lines","fused":0.1646477971927089,"table_sim":0,"col_score":0.4116194929817722},{"table":"employee_training","fused":0.16421451430635797,"table_sim":0,"col_score":0.4105362857658949}],"fk_expansion_candidates":108,"fk_expansion_added":0,"fk_expansion_blocked_count":108,"fk_expansion_blocked":[{"table":"departments","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"project_resources","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"goods_receipts","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"depreciation_entries","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"budgets","reason":"no_evidence"},{"table":"employee_training","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"asset_categories","reason":"no_evidence"},{"table":"departments","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"positions","reason":"no_evidence"},{"table":"products","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"transfer_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"warehouse_locations","reason":"no_evidence"},{"table":"employee_benefits","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"maintenance_types","reason":"no_evidence"},{"table":"employee_salaries","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":36,"total_retrieval_latency_ms":43,"sql_generated":"SELECT fa.*, e.employee_number AS employee_id, CONCAT(e.first_name, ' ', e.last_name) AS employee_name, al.name AS location_name FROM fixed_assets fa JOIN employees e ON fa.assigned_to = e.employee_id JOIN asset_locations al ON fa.location_id = al.location_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":2565}
{"timestamp":"2026-02-01T22:22:06.673Z","query_id":"ed5735d7-c6bb-4f30-92c8-1644d3ba8c6b","question":"Create a comprehensive employee cost report including salary and benefits by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"retriever_version":"V2","tables_retrieved":["employee_salaries","employee_benefits","employees","project_expenses","budgets","departments","vendor_invoices","project_budgets","project_resources","employee_training","positions","benefit_types"],"tables_from_table_retrieval":6,"tables_from_column_only":18,"tables_from_fk_expansion":2,"table_scores":[{"table":"employee_salaries","similarity":0.722375473943176},{"table":"employee_salaries","similarity":0.722375473943176},{"table":"employee_benefits","similarity":0.705595592348026},{"table":"employee_benefits","similarity":0.705595592348026},{"table":"employee_benefits","similarity":0.7033203083522601},{"table":"employee_salaries","similarity":0.7004330807404299},{"table":"project_expenses","similarity":0.6709016284087207},{"table":"project_expenses","similarity":0.6668157727165617},{"table":"project_expenses","similarity":0.6668157727165617},{"table":"employees","similarity":0.6665648484199336},{"table":"employees","similarity":0.6665648484199336},{"table":"employees","similarity":0.6573833023433696},{"table":"budgets","similarity":0.647440451476846},{"table":"budgets","similarity":0.647440451476846},{"table":"departments","similarity":0.6467717005028588}],"column_hits_per_table":{"employees":4,"employee_salaries":7,"employee_benefits":6,"departments":2,"benefit_types":1,"project_expenses":4,"project_resources":2,"cost_centers":1,"budgets":3,"goods_receipts":1,"sales_territories":1,"asset_maintenance":1,"performance_reviews":1,"employment_history":1,"sales_regions":1,"positions":1,"vendor_invoices":4,"product_suppliers":1,"project_budgets":2,"requisition_lines":1,"employee_certifications":1,"employee_training":2,"vendor_invoice_lines":1,"products":1},"top_columns_per_table":{"employees":[{"column":"salary","similarity":0.7361416760164768},{"column":"department_id","similarity":0.643475236115711},{"column":"employee_number","similarity":0.6268915453560163}],"employee_salaries":[{"column":"amount","similarity":0.7283991668176124},{"column":"effective_date","similarity":0.6740447561967371},{"column":"employee_id","similarity":0.6634321666385734}],"employee_benefits":[{"column":"coverage_level","similarity":0.6930697298081193},{"column":"employee_id","similarity":0.6823515721494041},{"column":"benefit_id","similarity":0.6763225886423792}],"departments":[{"column":"budget","similarity":0.6828503188805319},{"column":"manager_id","similarity":0.6345520008976717}],"benefit_types":[{"column":"annual_cost","similarity":0.6699186739305134}],"project_expenses":[{"column":"employee_id","similarity":0.6672105776168827},{"column":"approved_by","similarity":0.657595738784029},{"column":"amount","similarity":0.64664507348676}],"project_resources":[{"column":"hourly_rate","similarity":0.6397016874167624},{"column":"employee_id","similarity":0.6182816053207806}],"cost_centers":[{"column":"department_id","similarity":0.6391395639861553}],"budgets":[{"column":"approved_by","similarity":0.6383618398519554},{"column":"total_amount","similarity":0.6226660734244392},{"column":"department_id","similarity":0.6205743891433299}],"goods_receipts":[{"column":"received_by","similarity":0.6322934653710801}],"sales_territories":[{"column":"assigned_rep_id","similarity":0.6291100859650857}],"asset_maintenance":[{"column":"cost","similarity":0.6284459886126739}],"performance_reviews":[{"column":"employee_id","similarity":0.62586180623406}],"employment_history":[{"column":"employee_id","similarity":0.6257662452515415}],"sales_regions":[{"column":"manager_id","similarity":0.6249326800266781}],"positions":[{"column":"min_salary","similarity":0.6243487687260623}],"vendor_invoices":[{"column":"subtotal","similarity":0.6229204399409228},{"column":"amount_paid","similarity":0.6225701829476908},{"column":"total","similarity":0.6212865306083739}],"product_suppliers":[{"column":"unit_cost","similarity":0.6215630296727815}],"project_budgets":[{"column":"actual_amount","similarity":0.6210869451422038},{"column":"planned_amount","similarity":0.6161072096529497}],"requisition_lines":[{"column":"estimated_unit_cost","similarity":0.6201015589432831}],"employee_certifications":[{"column":"employee_id","similarity":0.6199040218225059}],"employee_training":[{"column":"score","similarity":0.6191389283848391},{"column":"status","similarity":0.6156063942576597}],"vendor_invoice_lines":[{"column":"unit_cost","similarity":0.6184622029186051}],"products":[{"column":"unit_cost","similarity":0.6160894325566642}]},"fused_scores":[{"table":"employee_salaries","fused":0.8464284664106503,"table_sim":0.7004330807404299,"col_score":1.065421544915981},{"table":"employee_benefits","fused":0.8314440780203399,"table_sim":0.7033203083522601,"col_score":1.0236297325224597},{"table":"employees","fused":0.8142649608838157,"table_sim":0.6573833023433696,"col_score":1.049587448694485},{"table":"project_expenses","fused":0.7924567738409006,"table_sim":0.6668157727165617,"col_score":0.9809182755274091},{"table":"budgets","fused":0.7683422215117777,"table_sim":0.647440451476846,"col_score":0.9496948765641751},{"table":"departments","fused":0.7500404279796021,"table_sim":0.6467717005028588,"col_score":0.904943519194717},{"table":"vendor_invoices","fused":0.37342548209804394,"table_sim":0,"col_score":0.9335637052451098},{"table":"project_budgets","fused":0.3716562199874715,"table_sim":0,"col_score":0.9291405499686787},{"table":"project_resources","fused":0.3424400997116142,"table_sim":0,"col_score":0.8561002492790355},{"table":"employee_training","fused":0.333840466550008,"table_sim":0,"col_score":0.8346011663750199},{"table":"benefit_types","fused":0.26796746957220535,"table_sim":0,"col_score":0.6699186739305134},{"table":"goods_receipts","fused":0.25291738614843207,"table_sim":0,"col_score":0.6322934653710801},{"table":"asset_maintenance","fused":0.25137839544506957,"table_sim":0,"col_score":0.6284459886126739},{"table":"positions","fused":0.24973950749042492,"table_sim":0,"col_score":0.6243487687260623},{"table":"product_suppliers","fused":0.24862521186911263,"table_sim":0,"col_score":0.6215630296727815}],"fk_expansion_candidates":105,"fk_expansion_added":2,"fk_expansion_blocked_count":90,"fk_expansion_blocked":[{"table":"employee_certifications","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"sales_regions","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"max_tables"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"sales_territories","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"inventory_transactions","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"positions","reason":"already_selected"},{"table":"sales_regions","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"budget_lines","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"training_courses","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"journal_entries","reason":"no_evidence"},{"table":"employee_certifications","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"sales_orders","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"goods_receipts","reason":"max_tables"},{"table":"sales_territories","reason":"no_evidence"},{"table":"benefit_types","reason":"already_selected"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"sales_regions","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"fiscal_years","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"cost_centers","reason":"no_evidence"},{"table":"asset_transfers","reason":"no_evidence"},{"table":"leave_requests","reason":"no_evidence"},{"table":"positions","reason":"already_selected"},{"table":"purchase_orders","reason":"no_evidence"},{"table":"warehouses","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"performance_reviews","reason":"no_evidence"},{"table":"inventory_adjustments","reason":"no_evidence"},{"table":"asset_maintenance","reason":"max_tables"},{"table":"projects","reason":"no_evidence"},{"table":"fixed_assets","reason":"no_evidence"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"max_tables"},{"table":"sales_opportunities","reason":"no_evidence"},{"table":"emergency_contacts","reason":"no_evidence"},{"table":"vendors","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"projects","reason":"no_evidence"},{"table":"task_assignments","reason":"no_evidence"},{"table":"vendor_invoice_lines","reason":"max_tables"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"sales_quotes","reason":"no_evidence"},{"table":"addresses","reason":"no_evidence"},{"table":"document_attachments","reason":"no_evidence"},{"table":"stock_transfers","reason":"no_evidence"},{"table":"business_units","reason":"no_evidence"},{"table":"timesheets","reason":"no_evidence"},{"table":"benefit_types","reason":"already_selected"},{"table":"sales_orders","reason":"no_evidence"},{"table":"purchase_requisitions","reason":"no_evidence"},{"table":"employment_history","reason":"no_evidence"}],"config":{"table_threshold":0.2,"column_threshold":0.18,"table_weight":0.6,"column_weight":0.4},"embedding_latency_ms":25,"total_retrieval_latency_ms":32,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":4282,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:27:46.084Z","query_id":"92bc6345-92b2-4b81-8919-262abe2e7a84","question":"List all employees in the Sales department","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT e.* FROM employees e JOIN departments d ON e.department_id = d.department_id WHERE d.name = 'Sales';","tables_used_in_sql":[],"explain_result":"success","rows_returned":63,"total_latency_ms":2825}
{"timestamp":"2026-02-01T22:27:48.910Z","query_id":"30478e09-3964-45a7-881a-d934eea0a591","question":"How many employees were hired in 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT COUNT(*) FROM employees WHERE EXTRACT(YEAR FROM hire_date) = 2024;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42883","error_message":"function year(date) does not exist","total_latency_ms":1312,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:27:50.223Z","query_id":"d5526e75-56e0-4c16-a4a5-ce44c09e0b54","question":"What is the average salary by department?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT d.name AS department_name, AVG(e.salary) AS avg_salary FROM departments d LEFT JOIN employees e ON d.department_id = e.department_id GROUP BY d.name;","tables_used_in_sql":[],"explain_result":"success","rows_returned":25,"total_latency_ms":894}
{"timestamp":"2026-02-01T22:27:51.117Z","query_id":"b3a2bd56-a772-48a8-8ca9-8c890f18c392","question":"List all customers with credit limit over $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT c.* FROM customers c WHERE c.credit_limit > 100000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":206,"total_latency_ms":535}
{"timestamp":"2026-02-01T22:27:51.652Z","query_id":"98d1cabe-2474-429b-90d7-ce19219d43ed","question":"How many sales orders are in pending status?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(*) FROM (SELECT * FROM sales_orders WHERE status = 'pending') AS pending_sales_orders;","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":692}
{"timestamp":"2026-02-01T22:27:52.345Z","query_id":"6aed1c57-bab3-41be-90b6-2bf5d8b6a2f2","question":"List all products in the Electronics category","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.* FROM products AS p JOIN product_categories AS pc ON p.category_id = pc.category_id WHERE pc.name = 'Electronics';","tables_used_in_sql":[],"explain_result":"success","rows_returned":62,"total_latency_ms":681}
{"timestamp":"2026-02-01T22:27:53.026Z","query_id":"d98f0ac1-4720-4e8f-b365-9c4eb7564f4d","question":"What are the names of all warehouses?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT w.name FROM warehouses w;","tables_used_in_sql":[],"explain_result":"success","rows_returned":5,"total_latency_ms":359}
{"timestamp":"2026-02-01T22:27:53.385Z","query_id":"1a611f89-99fd-4c95-aff9-0537d5538cc8","question":"List all active vendors","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT v.* FROM vendors v WHERE v.is_active = TRUE;","tables_used_in_sql":[],"explain_result":"success","rows_returned":200,"total_latency_ms":490}
{"timestamp":"2026-02-01T22:27:53.875Z","query_id":"14d4b4e1-bba2-42a0-8749-78dfd9c0414e","question":"What are the different account types in the chart of accounts?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT DISTINCT a.name FROM account_types a;","tables_used_in_sql":[],"explain_result":"success","rows_returned":25,"total_latency_ms":413}
{"timestamp":"2026-02-01T22:27:54.288Z","query_id":"4417b29e-d87a-4614-845b-84e2e5d8dc7a","question":"List all bank accounts and their current balances","attempt_count":2,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT b.bank_name, b.current_balance FROM bank_accounts b;","tables_used_in_sql":[],"explain_result":"success","rows_returned":5,"total_latency_ms":1150}
{"timestamp":"2026-02-01T22:27:55.438Z","query_id":"7d3433f5-8b7a-449c-916b-ac8e7104bb9d","question":"How many projects are currently active?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(*) FROM projects WHERE status = 'active';","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":371}
{"timestamp":"2026-02-01T22:27:55.809Z","query_id":"2d51971c-143e-4a50-9b7e-691bb47d64e5","question":"List all fixed assets with their purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT fa.* FROM fixed_assets AS fa;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":413}
{"timestamp":"2026-02-01T22:27:56.223Z","query_id":"12058e6c-d2c3-4748-ad0f-2f7f21487027","question":"What are all the available leave types?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT lt.name FROM leave_types lt;","tables_used_in_sql":[],"explain_result":"success","rows_returned":8,"total_latency_ms":351}
{"timestamp":"2026-02-01T22:27:56.574Z","query_id":"fe246ff9-6369-4284-9de8-b4b6bfd40882","question":"List all training courses that are mandatory","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT tc.* FROM employee_training et JOIN training_courses tc ON et.course_id = tc.course_id WHERE tc.is_mandatory = TRUE;","tables_used_in_sql":[],"explain_result":"success","rows_returned":408,"total_latency_ms":665}
{"timestamp":"2026-02-01T22:27:57.240Z","query_id":"c8c22052-fdc1-4719-974c-37db94f41875","question":"What are the different opportunity stages?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT DISTINCT stage_id, name FROM sales_opportunities;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":435}
{"timestamp":"2026-02-01T22:27:57.676Z","query_id":"d9c51093-3127-4d1a-b39e-73812cf0cba6","question":"List all countries in the system","attempt_count":2,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT c.name FROM countries AS c;","tables_used_in_sql":[],"explain_result":"success","rows_returned":10,"total_latency_ms":480}
{"timestamp":"2026-02-01T22:27:58.156Z","query_id":"043a356b-a0b0-477d-a67d-7413c1a22735","question":"How many departments are there?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(*) FROM departments;","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":334}
{"timestamp":"2026-02-01T22:27:58.490Z","query_id":"92e73777-bfc4-4955-bb0c-8c239298bf44","question":"List all units of measure","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT uom.* FROM units_of_measure AS uom;","tables_used_in_sql":[],"explain_result":"success","rows_returned":11,"total_latency_ms":382}
{"timestamp":"2026-02-01T22:27:58.872Z","query_id":"c230be1c-34e4-4600-a348-f7bc86971c6a","question":"What fiscal years exist in the system?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT fy.year FROM fiscal_years fy;","tables_used_in_sql":[],"explain_result":"success","rows_returned":4,"total_latency_ms":417}
{"timestamp":"2026-02-01T22:27:59.289Z","query_id":"2c2969ef-f48f-4215-9c39-1d0fc7fba283","question":"What are the different asset categories?","attempt_count":3,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT DISTINCT ac.name FROM asset_categories AS ac JOIN fixed_assets AS fa ON ac.category_id = fa.category_id LIMIT 1000;","tables_used_in_sql":[],"explain_result":"success","sqlstate":"42703","error_message":"column fa.asset_category_id does not exist","autocorrect_attempted":true,"autocorrect_success":true,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","autocorrect_correction":"Replaced 'asset_category_id' with 'category_id' (suffix, score: 0.80)","rows_returned":7,"total_latency_ms":1854}
{"timestamp":"2026-02-01T22:28:01.143Z","query_id":"91f08bf4-1fb9-4289-9625-d666004e1104","question":"Find employees who have been with the company for more than 5 years and earn above $100,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT e.* FROM employees e JOIN employee_salaries s ON e.employee_id = s.employee_id WHERE e.hire_date <= CURRENT_DATE - INTERVAL '5 year' AND s.amount > 100000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":247,"total_latency_ms":1030}
{"timestamp":"2026-02-01T22:28:02.173Z","query_id":"db0609c9-3ac2-4a1e-a6d7-4f1673850008","question":"List employees and their managers' names","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT e.employee_id AS employee_id, e.first_name || ' ' || e.last_name AS employee_name, m.first_name || ' ' || m.last_name AS manager_name FROM employees e JOIN employees m ON e.manager_id = m.employee_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":499,"total_latency_ms":1075}
{"timestamp":"2026-02-01T22:28:03.249Z","query_id":"af2631be-84fe-4d22-b756-fd97105a2dc4","question":"Which employees have pending leave requests?","attempt_count":2,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT DISTINCT e.employee_id, e.first_name, e.last_name FROM employees e JOIN leave_requests lr ON e.employee_id = lr.employee_id WHERE lr.status = 'pending';","tables_used_in_sql":[],"explain_result":"success","rows_returned":194,"total_latency_ms":1102}
{"timestamp":"2026-02-01T22:28:04.351Z","query_id":"aed0183f-7020-4f7f-bf18-2b1bd946c7d0","question":"Show the number of employees per position title","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.title AS PositionTitle, COUNT(e.employee_id) AS NumberOfEmployees FROM positions p JOIN employees e ON p.position_id = e.position_id GROUP BY p.title;","tables_used_in_sql":[],"explain_result":"success","rows_returned":40,"total_latency_ms":793}
{"timestamp":"2026-02-01T22:28:05.144Z","query_id":"bb4139e6-6d73-48a6-a3b5-dba56fdcaf46","question":"Find employees with expiring certifications in the next 6 months","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT e.* FROM employee_certifications ec JOIN employees e ON ec.employee_id = e.employee_id WHERE ec.expiry_date BETWEEN CURRENT_DATE AND (CURRENT_DATE + INTERVAL '6 months') AND ec.status = 'active';","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column ec.status does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":3,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2647,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column ec.status does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:28:07.791Z","query_id":"ab56da49-0b63-4190-be2c-df380943b718","question":"What is the total sales amount by customer for 2024?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT c.customer_id AS customer_id, SUM(sales_orders.subtotal) AS total_sales FROM sales_orders JOIN customers ON sales_orders.customer_id = customers.customer_id WHERE EXTRACT(YEAR FROM sales_orders.order_date) = 2024 GROUP BY c.customer_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42883","error_message":"function year(date) does not exist","total_latency_ms":3153,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:28:10.944Z","query_id":"147d952d-8247-47e5-b6a3-c9ac24938afa","question":"List the top 10 customers by total order value","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT c.customer_id, CONCAT(c.first_name, ' ', c.last_name) AS customer_name, SUM(p.subtotal) AS total_order_value FROM customers c JOIN sales_orders so ON c.customer_id = so.customer_id JOIN order_lines ol ON so.order_id = ol.order_id JOIN purchase_orders p ON so.po_number = p.po_number GROUP BY c.customer_id, customer_name ORDER BY total_order_value DESC LIMIT 1;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column so.po_number does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":4874,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column so.po_number does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:28:15.818Z","query_id":"867dc992-ff12-4951-baf7-2895b9c50662","question":"Show sales opportunities in the Negotiation stage worth over $50,000","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT so.* FROM sales_opportunities so JOIN opportunity_stages os ON so.stage_id = os.stage_id WHERE os.name = 'Negotiation' AND so.amount > 50000;","tables_used_in_sql":[],"explain_result":"success","rows_returned":69,"total_latency_ms":938}
{"timestamp":"2026-02-01T22:28:16.756Z","query_id":"79f2cd23-1af6-45a0-81d3-1e5bfe40c6d0","question":"What is the conversion rate from quotes to orders?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT s.order_id AS \"Order ID\", COUNT(q.quote_id) AS \"Quote Count\", (COUNT(q.quote_id)/SUM(s.quantity)) * 100 AS \"Conversion Rate\" FROM sales_orders s JOIN quote_lines q ON s.order_id = q.order_id GROUP BY s.order_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column q.order_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":3720,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column q.order_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:28:20.476Z","query_id":"04637f83-73ab-4f6e-94df-0810a6c06fab","question":"List sales orders by sales representative with their totals","attempt_count":2,"retry_succeeded":true,"execution_success":true,"sql_generated":"SELECT s.sales_rep_id AS rep_id, COUNT(s.order_id) AS total_orders FROM sales_orders s GROUP BY s.sales_rep_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":100,"total_latency_ms":1650}
{"timestamp":"2026-02-01T22:28:22.126Z","query_id":"e293a3bf-8023-4459-be9d-beef4c274b62","question":"Which products have inventory below their reorder point?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT p.product_id, p.name FROM products p INNER JOIN reorder_rules r ON p.product_id = r.product_id INNER JOIN inventory_levels i ON p.product_id = i.product_id WHERE i.quantity < r.min_quantity;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column i.quantity does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2842,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column i.quantity does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:28:24.968Z","query_id":"5d2fa032-19db-4a21-a751-ce48d713c9ac","question":"Show total inventory value by warehouse","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT w.warehouse_id, SUM(i.quantity * i.quantity_on_hand) AS total_inventory_value FROM inventory_levels i JOIN warehouses w ON i.warehouse_id = w.warehouse_id GROUP BY w.warehouse_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column i.quantity does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2819,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column i.quantity does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:28:27.787Z","query_id":"39dd0e39-f2ab-4025-9673-6c87b2bf1b15","question":"List products that had stock transfers in the last 30 days","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT p.* FROM products p INNER JOIN stock_transfers st ON p.product_id = st.product_id WHERE st.transfer_date >= CURRENT_DATE - INTERVAL '30 days';","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column st.product_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":2180,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column st.product_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:28:29.967Z","query_id":"f5ada93e-a705-4c9e-8624-101a55afd991","question":"What is the total spend by vendor this year?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT v.vendor_id, SUM(vi.amount) AS total_spend FROM vendor_invoices vi JOIN vendors v ON vi.vendor_id = v.vendor_id WHERE EXTRACT(YEAR FROM fiscal_years.start_date) = EXTRACT(YEAR FROM CURRENT_DATE) GROUP BY v.vendor_id;","tables_used_in_sql":[],"total_latency_ms":3693,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:28:33.660Z","query_id":"1c993802-2fa2-4877-bcca-26825d166844","question":"List purchase orders that are overdue (expected date passed but not received)","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT po.* FROM purchase_orders AS po JOIN goods_receipts AS gr ON po.po_id = gr.receipt_id WHERE po.status = 'pending' AND gr.receipt_date < po.expected_date;","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":1027}
{"timestamp":"2026-02-01T22:28:34.687Z","query_id":"de2e8c41-f71b-43d2-9127-e7eb61b9977b","question":"Show the approval rate for purchase requisitions","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT COUNT(requisition_id) AS total_requisitions, SUM(CASE WHEN status = 'Approved' THEN 1 ELSE 0 END) AS approved_requisitions FROM purchase_requisitions;","tables_used_in_sql":[],"explain_result":"success","rows_returned":1,"total_latency_ms":925}
{"timestamp":"2026-02-01T22:28:35.612Z","query_id":"8d1c004a-3f8f-4fbf-9cf8-3729c88af56f","question":"What is the total debit and credit for each account in the current period?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT ca.account_number AS account_no, SUM(bt.amount) AS total_debit, SUM(ca.current_balance) AS total_credit FROM bank_accounts ca JOIN bank_transactions bt ON ca.bank_account_id = bt.bank_account_id WHERE bt.transaction_date BETWEEN (SELECT start_date FROM fiscal_periods WHERE period_number = 1) AND (SELECT end_date FROM fiscal_periods WHERE period_number = 1) GROUP BY ca.account_number;","tables_used_in_sql":[],"explain_result":"success","total_latency_ms":4092,"failure_type":"execution_error","failure_details":"Database error: more than one row returned by a subquery used as an expression","error_class":"unknown"}
{"timestamp":"2026-02-01T22:28:39.704Z","query_id":"489ac4e8-bb6e-4c26-b26a-f8288dde0421","question":"List all posted journal entries for the current month","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT j.entry_id, j.entry_number, j.entry_date, j.description, j.status FROM journal_entries AS j WHERE EXTRACT(MONTH FROM j.entry_date) = EXTRACT(MONTH FROM CURRENT_DATE) AND EXTRACT(YEAR FROM j.entry_date) = EXTRACT(YEAR FROM CURRENT_DATE);","tables_used_in_sql":[],"total_latency_ms":3238,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:28:42.942Z","query_id":"9a333a27-6b61-465d-9d80-ea6843338792","question":"Show budget vs actual spending by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT d.name AS department_name, SUM(b.total_amount) AS total_budget, SUM(p.actual_amount) AS total_spent FROM departments d LEFT JOIN budgets b ON d.department_id = b.department_id AND b.status = 'approved' LEFT JOIN project_expenses p ON d.department_id = p.employee_id GROUP BY d.name;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column p.actual_amount does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":3855,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column p.actual_amount does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:28:46.798Z","query_id":"e44f5e16-a6bd-42a6-9782-525aab89604f","question":"What is the total expense amount per project?","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.project_id, SUM(pe.amount) AS total_expenses FROM projects p JOIN project_expenses pe ON p.project_id = pe.project_id GROUP BY p.project_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":100,"total_latency_ms":820}
{"timestamp":"2026-02-01T22:28:47.618Z","query_id":"ed08b914-1383-43dc-827a-42c81836f981","question":"List projects that are over budget","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT p.* FROM projects p INNER JOIN budgets b ON p.project_id = b.budget_id WHERE p.status = 'over_budget';","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":687}
{"timestamp":"2026-02-01T22:28:48.305Z","query_id":"91b4b8da-cff3-4104-8c1b-e541a29cf96c","question":"Show project resources and their allocation percentages","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT r.role AS role_assigned, p.project_id, p.name AS project_name, r.allocation_percent, r.hourly_rate FROM project_resources r JOIN projects p ON r.project_id = p.project_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":300,"total_latency_ms":948}
{"timestamp":"2026-02-01T22:28:49.253Z","query_id":"9d9cb42c-0480-4d8f-92cf-a167c5a39c5f","question":"List fixed assets by category with their total purchase cost","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT f.name AS asset_category, SUM(f.purchase_cost) AS total_purchase_cost FROM fixed_assets f GROUP BY f.name;","tables_used_in_sql":[],"explain_result":"success","rows_returned":500,"total_latency_ms":747}
{"timestamp":"2026-02-01T22:28:50.000Z","query_id":"25f95b38-c101-4c0a-bab4-bbcd30cabe1c","question":"List assets due for maintenance in the next 30 days","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT f.asset_id, a.name, am.maintenance_type_id, am.scheduled_date, am.completed_date, am.cost, am.notes, d.depreciation_method, d.useful_life_months, d.start_date, d.end_date, d.monthly_amount, d.annual_amount FROM fixed_assets f JOIN asset_maintenance am ON f.asset_id = am.asset_id AND am.status = 'completed' LEFT JOIN depreciation_schedules d ON f.asset_id = d.asset_id WHERE am.completed_date BETWEEN CURRENT_DATE AND (CURRENT_DATE + INTERVAL '30 days') ORDER BY completed_date;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"a\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_failure_reason":"Alias 'a' not defined. Possible table: asset_maintenance. Define alias in FROM/JOIN clause.","total_latency_ms":4859,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"a\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:28:54.859Z","query_id":"d47a9cda-86f6-4b3f-99e1-46f18c5cc137","question":"How many documents are attached to each entity type?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT entity_type, COUNT(*) FROM document_attachments d1 JOIN entities e ON d1.entity_id = e.id GROUP BY entity_type;","tables_used_in_sql":[],"total_latency_ms":1644,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:28:56.504Z","query_id":"e7ec8ab3-8190-42f2-846e-b16f5735342b","question":"Calculate employee turnover rate by department for 2024","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT d.name AS department_name, (CAST(COUNT(e.employee_id) FILTER (WHERE e.termination_date IS NOT NULL AND YEAR(e.termination_date) = 2024) AS FLOAT) / COUNT(e.employee_id)) * 100 AS turnover_rate FROM employees e JOIN departments d ON e.department_id = d.department_id GROUP BY d.name;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42883","error_message":"function year(date) does not exist","total_latency_ms":4198,"failure_type":"llm_reasoning","failure_details":"SQL error 42883: Database error after 3 attempts: function year(date) does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:29:00.702Z","query_id":"5f91039b-c8c5-4cfc-9477-ac811b78178e","question":"Find the salary percentile ranking for each employee within their department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column d.region_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":3,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":6796,"failure_type":"execution_error","failure_details":"Model did not generate SELECT statement"}
{"timestamp":"2026-02-01T22:29:07.499Z","query_id":"63c43149-ce3b-4be1-ba07-612466f10684","question":"Identify employees who have not completed mandatory training","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT e.employee_id, e.first_name, e.last_name FROM employees e LEFT JOIN employee_training et ON e.employee_id = et.employee_id WHERE et.course_id IS NULL AND et.is_active = FALSE;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column et.is_active does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":1703,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column et.is_active does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:29:09.202Z","query_id":"9c4b6c23-5514-45c3-a1ad-39239488a330","question":"Calculate month-over-month sales growth rate for the past 12 months","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"","tables_used_in_sql":[],"total_latency_ms":2201,"failure_type":"execution_error","failure_details":"Model generated invalid output (gibberish detected)"}
{"timestamp":"2026-02-01T22:29:11.403Z","query_id":"af9b778f-f76e-41e8-9353-6c974c46835a","question":"Find the average order value and order frequency for each customer segment based on credit limit","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT c.segment, AVG(s.total) AS avg_order_value, COUNT(*) / 365.0 AS order_frequency FROM customers c JOIN sales_orders s ON c.customer_id = s.customer_id GROUP BY c.segment;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column c.segment does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":0,"autocorrect_failure_reason":"No candidates found for column 'segment'","total_latency_ms":2770,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column c.segment does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:29:14.173Z","query_id":"2c780efe-37d4-40ff-bd20-8624429e2203","question":"What is the sales pipeline weighted value by stage and expected close month?","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT opportunity_stages.name AS stage, EXTRACT(MONTH FROM opportunity_stages.expected_close_date) AS expected_close_month, SUM(sales_opportunities.amount * (1 - sales_opportunities.probability / 100)) OVER (PARTITION BY opportunity_stages.name ORDER BY opportunity_stages.sequence) AS weighted_value FROM sales_opportunities INNER JOIN opportunity_stages ON sales_opportunities.stage_id = opportunity_stages.id GROUP BY stage, expected_close_month;","tables_used_in_sql":[],"total_latency_ms":5639,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:29:19.813Z","query_id":"2ffcd357-37f7-42ee-9d8a-9238d38bfa21","question":"Calculate inventory turnover ratio by product category","attempt_count":1,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT pc.name AS product_category, SUM(il.quantity_on_hand) / AVG(il.last_count_date::DATE - il.last_count_date::INTERVAL * 365) AS inventory_turnover_ratio FROM inventory_levels il JOIN products p ON il.product_id = p.product_id JOIN product_categories pc ON p.category_id = pc.category_id GROUP BY pc.name;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42846","error_message":"cannot cast type date to interval","total_latency_ms":1506,"failure_type":"llm_reasoning","failure_details":"SQL error 42846: Database error after 1 attempts: cannot cast type date to interval","error_class":"unknown"}
{"timestamp":"2026-02-01T22:29:21.319Z","query_id":"09cb318a-0ef2-4b93-ad0c-c14430a2ec99","question":"Identify products with significant inventory discrepancies (adjustment > 10% of stock)","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT p.product_id, p.name, i.quantity_on_hand, i.quantity_available, a.quantity_change, ((i.quantity_on_hand + i.quantity_available - (p.unit_cost * 10)) / (p.unit_cost * 10)) AS discrepyancy_percentage\nFROM products p\nJOIN inventory_levels i ON p.product_id = i.product_id AND i.location_id = a.warehouse_id\nLEFT JOIN adjustment_lines a ON p.product_id = a.product_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42P01","error_message":"missing FROM-clause entry for table \"a\"","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Alias 'a' not defined. Possible table: adjustment_lines. Define alias in FROM/JOIN clause.","total_latency_ms":6542,"failure_type":"join_path_miss","failure_details":"Database error after 3 attempts: missing FROM-clause entry for table \"a\"","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:29:27.861Z","query_id":"52009d7d-602d-4cb8-a3e3-baaac44e448f","question":"Calculate vendor performance score based on on-time delivery and invoice accuracy","attempt_count":1,"retry_succeeded":false,"execution_success":true,"sql_generated":"SELECT v.vendor_id, AVG(CASE WHEN iv.due_date >= iv.invoice_date THEN 100 ELSE 0 END) AS on_time_delivery_score, AVG(CASE WHEN iv.amount_paid = iv.total THEN 100 ELSE 0 END) AS invoice_accuracy_score FROM vendors v JOIN vendor_invoices iv ON v.vendor_id = iv.vendor_id GROUP BY v.vendor_id;","tables_used_in_sql":[],"explain_result":"success","rows_returned":0,"total_latency_ms":1741}
{"timestamp":"2026-02-01T22:29:29.602Z","query_id":"cf122b28-5ba7-4a4f-bf72-66cd2c6a5b4e","question":"Generate a trial balance for the current period showing debits and credits by account category","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT ac.category AS category, SUM(CASE WHEN bt.type = 'debit' THEN bt.amount ELSE 0 END) AS total_debits, SUM(CASE WHEN bt.type = 'credit' THEN bt.amount ELSE 0 END) AS total_credits FROM bank_transactions bt INNER JOIN bank_accounts ba ON bt.bank_account_id = ba.bank_account_id INNER JOIN asset_categories ac ON ba.gl_account_id = ac.asset_id GROUP BY ac.category LIMIT 1000;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column ac.asset_id does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_correction":"Replaced 'account_id' with 'bank_account_id' (suffix, score: 0.80)","autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":3855,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column ac.asset_id does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:29:33.458Z","query_id":"b423342f-8a4c-4b51-a33c-6b13f25634b6","question":"Calculate cash flow from bank transactions grouped by transaction type and month","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT transaction_type, EXTRACT(MONTH FROM transaction_date) AS month, SUM(amount * (1 - is_reconciled)) OVER (PARTITION BY transaction_type, EXTRACT(MONTH FROM transaction_date)) as cash_flow \nFROM bank_transactions \nJOIN bank_accounts ON bank_transactions.bank_account_id = bank_accounts.bank_account_id \nGROUP BY transaction_type, month;","tables_used_in_sql":[],"total_latency_ms":4670,"failure_type":"llm_reasoning","failure_details":"Failed to generate valid SQL after 3 attempts"}
{"timestamp":"2026-02-01T22:29:38.129Z","query_id":"0441ce05-87ed-42ec-ba90-db0be5973938","question":"Calculate project profitability comparing budget vs actual expenses","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT pb.project_id, SUM(pb.planned_amount) AS planned_total, SUM(pe.actual_amount) AS actual_total, (SUM(pb.planned_amount) - SUM(pe.actual_amount)) AS profitability FROM project_budgets pb INNER JOIN project_expenses pe ON pb.project_id = pe.project_id GROUP BY pb.project_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column pe.actual_amount does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":3696,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column pe.actual_amount does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:29:41.825Z","query_id":"5cd7715a-f312-4c44-8cbd-bf63c1ce6e46","question":"Find resource allocation by employee across all active projects","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT e.employee_id AS EmployeeID, SUM(pr.hours) AS TotalHoursAllocated FROM project_resources pr JOIN employees e ON pr.employee_id = e.employee_id JOIN projects p ON pr.project_id = p.project_id WHERE p.status = 'active' GROUP BY e.employee_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column pr.hours does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":3,"autocorrect_failure_reason":"Best candidate 'task_assignments.estimated_hours' has score 0.65 < threshold 0.7","total_latency_ms":3567,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column pr.hours does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:29:45.392Z","query_id":"d8e60518-0e0e-4a4d-9234-e19960d45e9d","question":"List all fixed assets with their assigned employees and current locations","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT fa.asset_id AS AssetID, fa.name AS FixedAssetName, al1.location_id AS LocationID, e.employee_number AS EmployeeNumber FROM fixed_assets fa JOIN asset_locations al1 ON fa.location_id = al1.location_id JOIN employees e ON al1.assigned_to = e.employee_id;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column al1.assigned_to does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":3,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":3396,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column al1.assigned_to does not exist","error_class":"sql_error"}
{"timestamp":"2026-02-01T22:29:48.788Z","query_id":"c66bcde5-4657-4c6d-875f-f840c612c586","question":"Create a comprehensive employee cost report including salary and benefits by department","attempt_count":3,"retry_succeeded":false,"execution_success":false,"sql_generated":"SELECT d.name AS department_name, SUM(b.amount) + COALESCE(SUM(s.salary), 0) AS total_cost FROM departments d LEFT JOIN employees e ON d.department_id = e.department_id LEFT JOIN employee_salaries s ON e.employee_id = s.employee_id LEFT JOIN employee_benefits b ON e.employee_id = b.employee_id GROUP BY d.name;","tables_used_in_sql":[],"explain_result":"fail","sqlstate":"42703","error_message":"column b.amount does not exist","autocorrect_attempted":true,"autocorrect_success":false,"autocorrect_candidates":5,"autocorrect_failure_reason":"Replacement pattern not found in SQL","total_latency_ms":4358,"failure_type":"column_miss","failure_details":"Undefined column: Database error after 3 attempts: column b.amount does not exist","error_class":"sql_error"}
